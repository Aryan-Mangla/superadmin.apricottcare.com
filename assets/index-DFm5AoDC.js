function TM(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function zi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ag={exports:{}},Jd={},Cg={exports:{}},Ct={};var sN;function PM(){if(sN)return Ct;sN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function g(ae){return ae===null||typeof ae!="object"?null:(ae=h&&ae[h]||ae["@@iterator"],typeof ae=="function"?ae:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function b(ae,C,B){this.props=ae,this.context=C,this.refs=y,this.updater=B||x}b.prototype.isReactComponent={},b.prototype.setState=function(ae,C){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,C,"setState")},b.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function N(){}N.prototype=b.prototype;function _(ae,C,B){this.props=ae,this.context=C,this.refs=y,this.updater=B||x}var k=_.prototype=new N;k.constructor=_,w(k,b.prototype),k.isPureReactComponent=!0;var A=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function D(ae,C,B){var H,K={},te=null,ye=null;if(C!=null)for(H in C.ref!==void 0&&(ye=C.ref),C.key!==void 0&&(te=""+C.key),C)T.call(C,H)&&!O.hasOwnProperty(H)&&(K[H]=C[H]);var Se=arguments.length-2;if(Se===1)K.children=B;else if(1<Se){for(var L=Array(Se),G=0;G<Se;G++)L[G]=arguments[G+2];K.children=L}if(ae&&ae.defaultProps)for(H in Se=ae.defaultProps,Se)K[H]===void 0&&(K[H]=Se[H]);return{$$typeof:e,type:ae,key:te,ref:ye,props:K,_owner:I.current}}function P(ae,C){return{$$typeof:e,type:ae.type,key:C,ref:ae.ref,props:ae.props,_owner:ae._owner}}function M(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===e}function V(ae){var C={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(B){return C[B]})}var U=/\/+/g;function J(ae,C){return typeof ae=="object"&&ae!==null&&ae.key!=null?V(""+ae.key):C.toString(36)}function W(ae,C,B,H,K){var te=typeof ae;(te==="undefined"||te==="boolean")&&(ae=null);var ye=!1;if(ae===null)ye=!0;else switch(te){case"string":case"number":ye=!0;break;case"object":switch(ae.$$typeof){case e:case t:ye=!0}}if(ye)return ye=ae,K=K(ye),ae=H===""?"."+J(ye,0):H,A(K)?(B="",ae!=null&&(B=ae.replace(U,"$&/")+"/"),W(K,C,B,"",function(G){return G})):K!=null&&(M(K)&&(K=P(K,B+(!K.key||ye&&ye.key===K.key?"":(""+K.key).replace(U,"$&/")+"/")+ae)),C.push(K)),1;if(ye=0,H=H===""?".":H+":",A(ae))for(var Se=0;Se<ae.length;Se++){te=ae[Se];var L=H+J(te,Se);ye+=W(te,C,B,L,K)}else if(L=g(ae),typeof L=="function")for(ae=L.call(ae),Se=0;!(te=ae.next()).done;)te=te.value,L=H+J(te,Se++),ye+=W(te,C,B,L,K);else if(te==="object")throw C=String(ae),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return ye}function he(ae,C,B){if(ae==null)return ae;var H=[],K=0;return W(ae,H,"","",function(te){return C.call(B,te,K++)}),H}function X(ae){if(ae._status===-1){var C=ae._result;C=C(),C.then(function(B){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=B)},function(B){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=B)}),ae._status===-1&&(ae._status=0,ae._result=C)}if(ae._status===1)return ae._result.default;throw ae._result}var be={current:null},ne={transition:null},ve={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ne,ReactCurrentOwner:I};function me(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:he,forEach:function(ae,C,B){he(ae,function(){C.apply(this,arguments)},B)},count:function(ae){var C=0;return he(ae,function(){C++}),C},toArray:function(ae){return he(ae,function(C){return C})||[]},only:function(ae){if(!M(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},Ct.Component=b,Ct.Fragment=r,Ct.Profiler=s,Ct.PureComponent=_,Ct.StrictMode=a,Ct.Suspense=u,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Ct.act=me,Ct.cloneElement=function(ae,C,B){if(ae==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ae+".");var H=w({},ae.props),K=ae.key,te=ae.ref,ye=ae._owner;if(C!=null){if(C.ref!==void 0&&(te=C.ref,ye=I.current),C.key!==void 0&&(K=""+C.key),ae.type&&ae.type.defaultProps)var Se=ae.type.defaultProps;for(L in C)T.call(C,L)&&!O.hasOwnProperty(L)&&(H[L]=C[L]===void 0&&Se!==void 0?Se[L]:C[L])}var L=arguments.length-2;if(L===1)H.children=B;else if(1<L){Se=Array(L);for(var G=0;G<L;G++)Se[G]=arguments[G+2];H.children=Se}return{$$typeof:e,type:ae.type,key:K,ref:te,props:H,_owner:ye}},Ct.createContext=function(ae){return ae={$$typeof:o,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ae.Provider={$$typeof:i,_context:ae},ae.Consumer=ae},Ct.createElement=D,Ct.createFactory=function(ae){var C=D.bind(null,ae);return C.type=ae,C},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(ae){return{$$typeof:c,render:ae}},Ct.isValidElement=M,Ct.lazy=function(ae){return{$$typeof:f,_payload:{_status:-1,_result:ae},_init:X}},Ct.memo=function(ae,C){return{$$typeof:m,type:ae,compare:C===void 0?null:C}},Ct.startTransition=function(ae){var C=ne.transition;ne.transition={};try{ae()}finally{ne.transition=C}},Ct.unstable_act=me,Ct.useCallback=function(ae,C){return be.current.useCallback(ae,C)},Ct.useContext=function(ae){return be.current.useContext(ae)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(ae){return be.current.useDeferredValue(ae)},Ct.useEffect=function(ae,C){return be.current.useEffect(ae,C)},Ct.useId=function(){return be.current.useId()},Ct.useImperativeHandle=function(ae,C,B){return be.current.useImperativeHandle(ae,C,B)},Ct.useInsertionEffect=function(ae,C){return be.current.useInsertionEffect(ae,C)},Ct.useLayoutEffect=function(ae,C){return be.current.useLayoutEffect(ae,C)},Ct.useMemo=function(ae,C){return be.current.useMemo(ae,C)},Ct.useReducer=function(ae,C,B){return be.current.useReducer(ae,C,B)},Ct.useRef=function(ae){return be.current.useRef(ae)},Ct.useState=function(ae){return be.current.useState(ae)},Ct.useSyncExternalStore=function(ae,C,B){return be.current.useSyncExternalStore(ae,C,B)},Ct.useTransition=function(){return be.current.useTransition()},Ct.version="18.3.1",Ct}var iN;function Vc(){return iN||(iN=1,Cg.exports=PM()),Cg.exports}var oN;function OM(){if(oN)return Jd;oN=1;var e=Vc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,m){var f,h={},g=null,x=null;m!==void 0&&(g=""+m),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)a.call(u,f)&&!i.hasOwnProperty(f)&&(h[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:t,type:c,key:g,ref:x,props:h,_owner:s.current}}return Jd.Fragment=r,Jd.jsx=o,Jd.jsxs=o,Jd}var lN;function IM(){return lN||(lN=1,Ag.exports=OM()),Ag.exports}var n=IM(),v=Vc();const Zr=zi(v),DM=TM({__proto__:null,default:Zr},[v]);var Dm={},Tg={exports:{}},fa={},Pg={exports:{}},Og={};var cN;function MM(){return cN||(cN=1,(function(e){function t(ne,ve){var me=ne.length;ne.push(ve);e:for(;0<me;){var ae=me-1>>>1,C=ne[ae];if(0<s(C,ve))ne[ae]=ve,ne[me]=C,me=ae;else break e}}function r(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var ve=ne[0],me=ne.pop();if(me!==ve){ne[0]=me;e:for(var ae=0,C=ne.length,B=C>>>1;ae<B;){var H=2*(ae+1)-1,K=ne[H],te=H+1,ye=ne[te];if(0>s(K,me))te<C&&0>s(ye,K)?(ne[ae]=ye,ne[te]=me,ae=te):(ne[ae]=K,ne[H]=me,ae=H);else if(te<C&&0>s(ye,me))ne[ae]=ye,ne[te]=me,ae=te;else break e}}return ve}function s(ne,ve){var me=ne.sortIndex-ve.sortIndex;return me!==0?me:ne.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],m=[],f=1,h=null,g=3,x=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ne){for(var ve=r(m);ve!==null;){if(ve.callback===null)a(m);else if(ve.startTime<=ne)a(m),ve.sortIndex=ve.expirationTime,t(u,ve);else break;ve=r(m)}}function A(ne){if(y=!1,k(ne),!w)if(r(u)!==null)w=!0,X(T);else{var ve=r(m);ve!==null&&be(A,ve.startTime-ne)}}function T(ne,ve){w=!1,y&&(y=!1,N(D),D=-1),x=!0;var me=g;try{for(k(ve),h=r(u);h!==null&&(!(h.expirationTime>ve)||ne&&!V());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,g=h.priorityLevel;var C=ae(h.expirationTime<=ve);ve=e.unstable_now(),typeof C=="function"?h.callback=C:h===r(u)&&a(u),k(ve)}else a(u);h=r(u)}if(h!==null)var B=!0;else{var H=r(m);H!==null&&be(A,H.startTime-ve),B=!1}return B}finally{h=null,g=me,x=!1}}var I=!1,O=null,D=-1,P=5,M=-1;function V(){return!(e.unstable_now()-M<P)}function U(){if(O!==null){var ne=e.unstable_now();M=ne;var ve=!0;try{ve=O(!0,ne)}finally{ve?J():(I=!1,O=null)}}else I=!1}var J;if(typeof _=="function")J=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,he=W.port2;W.port1.onmessage=U,J=function(){he.postMessage(null)}}else J=function(){b(U,0)};function X(ne){O=ne,I||(I=!0,J())}function be(ne,ve){D=b(function(){ne(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,X(T))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var ve=3;break;default:ve=g}var me=g;g=ve;try{return ne()}finally{g=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ve){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=g;g=ne;try{return ve()}finally{g=me}},e.unstable_scheduleCallback=function(ne,ve,me){var ae=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ae+me:ae):me=ae,ne){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=me+C,ne={id:f++,callback:ve,priorityLevel:ne,startTime:me,expirationTime:C,sortIndex:-1},me>ae?(ne.sortIndex=me,t(m,ne),r(u)===null&&ne===r(m)&&(y?(N(D),D=-1):y=!0,be(A,me-ae))):(ne.sortIndex=C,t(u,ne),w||x||(w=!0,X(T))),ne},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(ne){var ve=g;return function(){var me=g;g=ve;try{return ne.apply(this,arguments)}finally{g=me}}}})(Og)),Og}var dN;function FM(){return dN||(dN=1,Pg.exports=MM()),Pg.exports}var uN;function LM(){if(uN)return fa;uN=1;var e=Vc(),t=FM();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(s[l]=d,l=0;l<d.length;l++)a.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(l){return u.call(h,l)?!0:u.call(f,l)?!1:m.test(l)?h[l]=!0:(f[l]=!0,!1)}function x(l,d,p,j){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,d,p,j){if(d===null||typeof d>"u"||x(l,d,p,j))return!0;if(j)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(l,d,p,j,S,E,F){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=l,this.type=d,this.sanitizeURL=E,this.removeEmptyString=F}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];b[d]=new y(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function _(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(N,_);b[d]=new y(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(N,_);b[d]=new y(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(N,_);b[d]=new y(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,d,p,j){var S=b.hasOwnProperty(d)?b[d]:null;(S!==null?S.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,p,S,j)&&(p=null),j||S===null?g(d)&&(p===null?l.removeAttribute(d):l.setAttribute(d,""+p)):S.mustUseProperty?l[S.propertyName]=p===null?S.type===3?!1:"":p:(d=S.attributeName,j=S.attributeNamespace,p===null?l.removeAttribute(d):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,j?l.setAttributeNS(j,d,p):l.setAttribute(d,p))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ve(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var me=Object.assign,ae;function C(l){if(ae===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);ae=d&&d[1]||""}return`
`+ae+l}var B=!1;function H(l,d){if(!l||B)return"";B=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ee){var j=Ee}Reflect.construct(l,[],d)}else{try{d.call()}catch(Ee){j=Ee}l.call(d.prototype)}else{try{throw Error()}catch(Ee){j=Ee}l()}}catch(Ee){if(Ee&&j&&typeof Ee.stack=="string"){for(var S=Ee.stack.split(`
`),E=j.stack.split(`
`),F=S.length-1,ie=E.length-1;1<=F&&0<=ie&&S[F]!==E[ie];)ie--;for(;1<=F&&0<=ie;F--,ie--)if(S[F]!==E[ie]){if(F!==1||ie!==1)do if(F--,ie--,0>ie||S[F]!==E[ie]){var fe=`
`+S[F].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=F&&0<=ie);break}}}finally{B=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?C(l):""}function K(l){switch(l.tag){case 5:return C(l.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return l=H(l.type,!1),l;case 11:return l=H(l.type.render,!1),l;case 1:return l=H(l.type,!0),l;default:return""}}function te(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case I:return"Portal";case P:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case W:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case V:return(l.displayName||"Context")+".Consumer";case M:return(l._context.displayName||"Context")+".Provider";case U:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case he:return d=l.displayName||null,d!==null?d:te(l.type)||"Memo";case X:d=l._payload,l=l._init;try{return te(l(d))}catch{}}return null}function ye(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(d);case 8:return d===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Se(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function L(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function G(l){var d=L(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),j=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,E=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return S.call(this)},set:function(F){j=""+F,E.call(this,F)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return j},setValue:function(F){j=""+F},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ge(l){l._valueTracker||(l._valueTracker=G(l))}function le(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),j="";return l&&(j=L(l)?l.checked?"true":"false":l.value),l=j,l!==p?(d.setValue(l),!0):!1}function Re(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function De(l,d){var p=d.checked;return me({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function Ce(l,d){var p=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;p=Se(d.value!=null?d.value:p),l._wrapperState={initialChecked:j,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ae(l,d){d=d.checked,d!=null&&k(l,"checked",d,!1)}function je(l,d){Ae(l,d);var p=Se(d.value),j=d.type;if(p!=null)j==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(j==="submit"||j==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Xe(l,d.type,p):d.hasOwnProperty("defaultValue")&&Xe(l,d.type,Se(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function it(l,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,p||d===l.value||(l.value=d),l.defaultValue=d}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function Xe(l,d,p){(d!=="number"||Re(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var gt=Array.isArray;function at(l,d,p,j){if(l=l.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=d.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&j&&(l[p].defaultSelected=!0)}else{for(p=""+Se(p),d=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,j&&(l[S].defaultSelected=!0);return}d!==null||l[S].disabled||(d=l[S])}d!==null&&(d.selected=!0)}}function vt(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function St(l,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(r(92));if(gt(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),p=d}l._wrapperState={initialValue:Se(p)}}function yt(l,d){var p=Se(d.value),j=Se(d.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),d.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),j!=null&&(l.defaultValue=""+j)}function wr(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function wt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?wt(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Y,Te=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,j,S){MSApp.execUnsafeLocalFunction(function(){return l(d,p,j,S)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Y=Y||document.createElement("div"),Y.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Y.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Ie(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(l){Et.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),mt[d]=mt[l]})});function Ye(l,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||mt.hasOwnProperty(l)&&mt[l]?(""+d).trim():d+"px"}function Cr(l,d){l=l.style;for(var p in d)if(d.hasOwnProperty(p)){var j=p.indexOf("--")===0,S=Ye(p,d[p],j);p==="float"&&(p="cssFloat"),j?l.setProperty(p,S):l[p]=S}}var Lr=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(l,d){if(d){if(Lr[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function wa(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function _a(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Hn=null,ue=null,Ve=null;function ft(l){if(l=Fd(l)){if(typeof Hn!="function")throw Error(r(280));var d=l.stateNode;d&&(d=Xf(d),Hn(l.stateNode,l.type,d))}}function ur(l){ue?Ve?Ve.push(l):Ve=[l]:ue=l}function It(){if(ue){var l=ue,d=Ve;if(Ve=ue=null,ft(l),d)for(l=0;l<d.length;l++)ft(d[l])}}function Vr(l,d){return l(d)}function Pn(){}var sa=!1;function Kn(l,d,p){if(sa)return l(d,p);sa=!0;try{return Vr(l,d,p)}finally{sa=!1,(ue!==null||Ve!==null)&&(Pn(),It())}}function On(l,d){var p=l.stateNode;if(p===null)return null;var j=Xf(p);if(j===null)return null;p=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(l=l.type,j=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!j;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var ds=!1;if(c)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){ds=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{ds=!1}function Uo(l,d,p,j,S,E,F,ie,fe){var Ee=Array.prototype.slice.call(arguments,3);try{d.apply(p,Ee)}catch(Le){this.onError(Le)}}var As=!1,Cs=null,z=!1,Q=null,q={onError:function(l){As=!0,Cs=l}};function Z(l,d,p,j,S,E,F,ie,fe){As=!1,Cs=null,Uo.apply(q,arguments)}function ee(l,d,p,j,S,E,F,ie,fe){if(Z.apply(this,arguments),As){if(As){var Ee=Cs;As=!1,Cs=null}else throw Error(r(198));z||(z=!0,Q=Ee)}}function re(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function R(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function ce(l){if(re(l)!==l)throw Error(r(188))}function oe(l){var d=l.alternate;if(!d){if(d=re(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,j=d;;){var S=p.return;if(S===null)break;var E=S.alternate;if(E===null){if(j=S.return,j!==null){p=j;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===p)return ce(S),l;if(E===j)return ce(S),d;E=E.sibling}throw Error(r(188))}if(p.return!==j.return)p=S,j=E;else{for(var F=!1,ie=S.child;ie;){if(ie===p){F=!0,p=S,j=E;break}if(ie===j){F=!0,j=S,p=E;break}ie=ie.sibling}if(!F){for(ie=E.child;ie;){if(ie===p){F=!0,p=E,j=S;break}if(ie===j){F=!0,j=E,p=S;break}ie=ie.sibling}if(!F)throw Error(r(189))}}if(p.alternate!==j)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function de(l){return l=oe(l),l!==null?xe(l):null}function xe(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=xe(l);if(d!==null)return d;l=l.sibling}return null}var Pe=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,Qe=t.unstable_shouldYield,He=t.unstable_requestPaint,We=t.unstable_now,jt=t.unstable_getCurrentPriorityLevel,Zt=t.unstable_ImmediatePriority,tr=t.unstable_UserBlockingPriority,Tr=t.unstable_NormalPriority,Wo=t.unstable_LowPriority,Yi=t.unstable_IdlePriority,Ts=null,an=null;function gd(l){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ts,l,void 0,(l.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:GI,VI=Math.log,qI=Math.LN2;function GI(l){return l>>>=0,l===0?32:31-(VI(l)/qI|0)|0}var Pf=64,Of=4194304;function vd(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function If(l,d){var p=l.pendingLanes;if(p===0)return 0;var j=0,S=l.suspendedLanes,E=l.pingedLanes,F=p&268435455;if(F!==0){var ie=F&~S;ie!==0?j=vd(ie):(E&=F,E!==0&&(j=vd(E)))}else F=p&~S,F!==0?j=vd(F):E!==0&&(j=vd(E));if(j===0)return 0;if(d!==0&&d!==j&&(d&S)===0&&(S=j&-j,E=d&-d,S>=E||S===16&&(E&4194240)!==0))return d;if((j&4)!==0&&(j|=p&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=j;0<d;)p=31-Pr(d),S=1<<p,j|=l[p],d&=~S;return j}function XI(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YI(l,d){for(var p=l.suspendedLanes,j=l.pingedLanes,S=l.expirationTimes,E=l.pendingLanes;0<E;){var F=31-Pr(E),ie=1<<F,fe=S[F];fe===-1?((ie&p)===0||(ie&j)!==0)&&(S[F]=XI(ie,d)):fe<=d&&(l.expiredLanes|=ie),E&=~ie}}function Xp(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Fj(){var l=Pf;return Pf<<=1,(Pf&4194240)===0&&(Pf=64),l}function Yp(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function yd(l,d,p){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Pr(d),l[d]=p}function JI(l,d){var p=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var j=l.eventTimes;for(l=l.expirationTimes;0<p;){var S=31-Pr(p),E=1<<S;d[S]=0,j[S]=-1,l[S]=-1,p&=~E}}function Jp(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var j=31-Pr(p),S=1<<j;S&d|l[j]&d&&(l[j]|=d),p&=~S}}var Ut=0;function Lj(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Rj,Zp,$j,zj,Bj,Qp=!1,Df=[],Ji=null,Zi=null,Qi=null,bd=new Map,wd=new Map,eo=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uj(l,d){switch(l){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":bd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(d.pointerId)}}function jd(l,d,p,j,S,E){return l===null||l.nativeEvent!==E?(l={blockedOn:d,domEventName:p,eventSystemFlags:j,nativeEvent:E,targetContainers:[S]},d!==null&&(d=Fd(d),d!==null&&Zp(d)),l):(l.eventSystemFlags|=j,d=l.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),l)}function QI(l,d,p,j,S){switch(d){case"focusin":return Ji=jd(Ji,l,d,p,j,S),!0;case"dragenter":return Zi=jd(Zi,l,d,p,j,S),!0;case"mouseover":return Qi=jd(Qi,l,d,p,j,S),!0;case"pointerover":var E=S.pointerId;return bd.set(E,jd(bd.get(E)||null,l,d,p,j,S)),!0;case"gotpointercapture":return E=S.pointerId,wd.set(E,jd(wd.get(E)||null,l,d,p,j,S)),!0}return!1}function Wj(l){var d=Ho(l.target);if(d!==null){var p=re(d);if(p!==null){if(d=p.tag,d===13){if(d=R(p),d!==null){l.blockedOn=d,Bj(l.priority,function(){$j(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Mf(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=tx(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var j=new p.constructor(p.type,p);ja=j,p.target.dispatchEvent(j),ja=null}else return d=Fd(p),d!==null&&Zp(d),l.blockedOn=p,!1;d.shift()}return!0}function Hj(l,d,p){Mf(l)&&p.delete(d)}function eD(){Qp=!1,Ji!==null&&Mf(Ji)&&(Ji=null),Zi!==null&&Mf(Zi)&&(Zi=null),Qi!==null&&Mf(Qi)&&(Qi=null),bd.forEach(Hj),wd.forEach(Hj)}function _d(l,d){l.blockedOn===d&&(l.blockedOn=null,Qp||(Qp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eD)))}function Nd(l){function d(S){return _d(S,l)}if(0<Df.length){_d(Df[0],l);for(var p=1;p<Df.length;p++){var j=Df[p];j.blockedOn===l&&(j.blockedOn=null)}}for(Ji!==null&&_d(Ji,l),Zi!==null&&_d(Zi,l),Qi!==null&&_d(Qi,l),bd.forEach(d),wd.forEach(d),p=0;p<eo.length;p++)j=eo[p],j.blockedOn===l&&(j.blockedOn=null);for(;0<eo.length&&(p=eo[0],p.blockedOn===null);)Wj(p),p.blockedOn===null&&eo.shift()}var zl=A.ReactCurrentBatchConfig,Ff=!0;function tD(l,d,p,j){var S=Ut,E=zl.transition;zl.transition=null;try{Ut=1,ex(l,d,p,j)}finally{Ut=S,zl.transition=E}}function rD(l,d,p,j){var S=Ut,E=zl.transition;zl.transition=null;try{Ut=4,ex(l,d,p,j)}finally{Ut=S,zl.transition=E}}function ex(l,d,p,j){if(Ff){var S=tx(l,d,p,j);if(S===null)vx(l,d,j,Lf,p),Uj(l,j);else if(QI(S,l,d,p,j))j.stopPropagation();else if(Uj(l,j),d&4&&-1<ZI.indexOf(l)){for(;S!==null;){var E=Fd(S);if(E!==null&&Rj(E),E=tx(l,d,p,j),E===null&&vx(l,d,j,Lf,p),E===S)break;S=E}S!==null&&j.stopPropagation()}else vx(l,d,j,null,p)}}var Lf=null;function tx(l,d,p,j){if(Lf=null,l=_a(j),l=Ho(l),l!==null)if(d=re(l),d===null)l=null;else if(p=d.tag,p===13){if(l=R(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Lf=l,null}function Kj(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jt()){case Zt:return 1;case tr:return 4;case Tr:case Wo:return 16;case Yi:return 536870912;default:return 16}default:return 16}}var to=null,rx=null,Rf=null;function Vj(){if(Rf)return Rf;var l,d=rx,p=d.length,j,S="value"in to?to.value:to.textContent,E=S.length;for(l=0;l<p&&d[l]===S[l];l++);var F=p-l;for(j=1;j<=F&&d[p-j]===S[E-j];j++);return Rf=S.slice(l,1<j?1-j:void 0)}function $f(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function zf(){return!0}function qj(){return!1}function Na(l){function d(p,j,S,E,F){this._reactName=p,this._targetInst=S,this.type=j,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(p=l[ie],this[ie]=p?p(E):E[ie]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?zf:qj,this.isPropagationStopped=qj,this}return me(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),d}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nx=Na(Bl),Sd=me({},Bl,{view:0,detail:0}),nD=Na(Sd),ax,sx,kd,Bf=me({},Sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ox,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==kd&&(kd&&l.type==="mousemove"?(ax=l.screenX-kd.screenX,sx=l.screenY-kd.screenY):sx=ax=0,kd=l),ax)},movementY:function(l){return"movementY"in l?l.movementY:sx}}),Gj=Na(Bf),aD=me({},Bf,{dataTransfer:0}),sD=Na(aD),iD=me({},Sd,{relatedTarget:0}),ix=Na(iD),oD=me({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),lD=Na(oD),cD=me({},Bl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),dD=Na(cD),uD=me({},Bl,{data:0}),Xj=Na(uD),fD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pD(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=hD[l])?!!d[l]:!1}function ox(){return pD}var xD=me({},Sd,{key:function(l){if(l.key){var d=fD[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=$f(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?mD[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ox,charCode:function(l){return l.type==="keypress"?$f(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?$f(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),gD=Na(xD),vD=me({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yj=Na(vD),yD=me({},Sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ox}),bD=Na(yD),wD=me({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),jD=Na(wD),_D=me({},Bf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ND=Na(_D),SD=[9,13,27,32],lx=c&&"CompositionEvent"in window,Ed=null;c&&"documentMode"in document&&(Ed=document.documentMode);var kD=c&&"TextEvent"in window&&!Ed,Jj=c&&(!lx||Ed&&8<Ed&&11>=Ed),Zj=" ",Qj=!1;function e2(l,d){switch(l){case"keyup":return SD.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ul=!1;function ED(l,d){switch(l){case"compositionend":return t2(d);case"keypress":return d.which!==32?null:(Qj=!0,Zj);case"textInput":return l=d.data,l===Zj&&Qj?null:l;default:return null}}function AD(l,d){if(Ul)return l==="compositionend"||!lx&&e2(l,d)?(l=Vj(),Rf=rx=to=null,Ul=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Jj&&d.locale!=="ko"?null:d.data;default:return null}}var CD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!CD[l.type]:d==="textarea"}function n2(l,d,p,j){ur(j),d=Vf(d,"onChange"),0<d.length&&(p=new nx("onChange","change",null,p,j),l.push({event:p,listeners:d}))}var Ad=null,Cd=null;function TD(l){w2(l,0)}function Uf(l){var d=ql(l);if(le(d))return l}function PD(l,d){if(l==="change")return d}var a2=!1;if(c){var cx;if(c){var dx="oninput"in document;if(!dx){var s2=document.createElement("div");s2.setAttribute("oninput","return;"),dx=typeof s2.oninput=="function"}cx=dx}else cx=!1;a2=cx&&(!document.documentMode||9<document.documentMode)}function i2(){Ad&&(Ad.detachEvent("onpropertychange",o2),Cd=Ad=null)}function o2(l){if(l.propertyName==="value"&&Uf(Cd)){var d=[];n2(d,Cd,l,_a(l)),Kn(TD,d)}}function OD(l,d,p){l==="focusin"?(i2(),Ad=d,Cd=p,Ad.attachEvent("onpropertychange",o2)):l==="focusout"&&i2()}function ID(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Uf(Cd)}function DD(l,d){if(l==="click")return Uf(d)}function MD(l,d){if(l==="input"||l==="change")return Uf(d)}function FD(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var us=typeof Object.is=="function"?Object.is:FD;function Td(l,d){if(us(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),j=Object.keys(d);if(p.length!==j.length)return!1;for(j=0;j<p.length;j++){var S=p[j];if(!u.call(d,S)||!us(l[S],d[S]))return!1}return!0}function l2(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function c2(l,d){var p=l2(l);l=0;for(var j;p;){if(p.nodeType===3){if(j=l+p.textContent.length,l<=d&&j>=d)return{node:p,offset:d-l};l=j}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=l2(p)}}function d2(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?d2(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function u2(){for(var l=window,d=Re();d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=Re(l.document)}return d}function ux(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function LD(l){var d=u2(),p=l.focusedElem,j=l.selectionRange;if(d!==p&&p&&p.ownerDocument&&d2(p.ownerDocument.documentElement,p)){if(j!==null&&ux(p)){if(d=j.start,l=j.end,l===void 0&&(l=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(l,p.value.length);else if(l=(d=p.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var S=p.textContent.length,E=Math.min(j.start,S);j=j.end===void 0?E:Math.min(j.end,S),!l.extend&&E>j&&(S=j,j=E,E=S),S=c2(p,E);var F=c2(p,j);S&&F&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==F.node||l.focusOffset!==F.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),l.removeAllRanges(),E>j?(l.addRange(d),l.extend(F.node,F.offset)):(d.setEnd(F.node,F.offset),l.addRange(d)))}}for(d=[],l=p;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)l=d[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var RD=c&&"documentMode"in document&&11>=document.documentMode,Wl=null,fx=null,Pd=null,mx=!1;function f2(l,d,p){var j=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;mx||Wl==null||Wl!==Re(j)||(j=Wl,"selectionStart"in j&&ux(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Pd&&Td(Pd,j)||(Pd=j,j=Vf(fx,"onSelect"),0<j.length&&(d=new nx("onSelect","select",null,d,p),l.push({event:d,listeners:j}),d.target=Wl)))}function Wf(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var Hl={animationend:Wf("Animation","AnimationEnd"),animationiteration:Wf("Animation","AnimationIteration"),animationstart:Wf("Animation","AnimationStart"),transitionend:Wf("Transition","TransitionEnd")},hx={},m2={};c&&(m2=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function Hf(l){if(hx[l])return hx[l];if(!Hl[l])return l;var d=Hl[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in m2)return hx[l]=d[p];return l}var h2=Hf("animationend"),p2=Hf("animationiteration"),x2=Hf("animationstart"),g2=Hf("transitionend"),v2=new Map,y2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(l,d){v2.set(l,d),i(d,[l])}for(var px=0;px<y2.length;px++){var xx=y2[px],$D=xx.toLowerCase(),zD=xx[0].toUpperCase()+xx.slice(1);ro($D,"on"+zD)}ro(h2,"onAnimationEnd"),ro(p2,"onAnimationIteration"),ro(x2,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(g2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Od));function b2(l,d,p){var j=l.type||"unknown-event";l.currentTarget=p,ee(j,d,void 0,l),l.currentTarget=null}function w2(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var j=l[p],S=j.event;j=j.listeners;e:{var E=void 0;if(d)for(var F=j.length-1;0<=F;F--){var ie=j[F],fe=ie.instance,Ee=ie.currentTarget;if(ie=ie.listener,fe!==E&&S.isPropagationStopped())break e;b2(S,ie,Ee),E=fe}else for(F=0;F<j.length;F++){if(ie=j[F],fe=ie.instance,Ee=ie.currentTarget,ie=ie.listener,fe!==E&&S.isPropagationStopped())break e;b2(S,ie,Ee),E=fe}}}if(z)throw l=Q,z=!1,Q=null,l}function ir(l,d){var p=d[Nx];p===void 0&&(p=d[Nx]=new Set);var j=l+"__bubble";p.has(j)||(j2(d,l,2,!1),p.add(j))}function gx(l,d,p){var j=0;d&&(j|=4),j2(p,l,j,d)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Id(l){if(!l[Kf]){l[Kf]=!0,a.forEach(function(p){p!=="selectionchange"&&(BD.has(p)||gx(p,!1,l),gx(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Kf]||(d[Kf]=!0,gx("selectionchange",!1,d))}}function j2(l,d,p,j){switch(Kj(d)){case 1:var S=tD;break;case 4:S=rD;break;default:S=ex}p=S.bind(null,d,p,l),S=void 0,!ds||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),j?S!==void 0?l.addEventListener(d,p,{capture:!0,passive:S}):l.addEventListener(d,p,!0):S!==void 0?l.addEventListener(d,p,{passive:S}):l.addEventListener(d,p,!1)}function vx(l,d,p,j,S){var E=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var F=j.tag;if(F===3||F===4){var ie=j.stateNode.containerInfo;if(ie===S||ie.nodeType===8&&ie.parentNode===S)break;if(F===4)for(F=j.return;F!==null;){var fe=F.tag;if((fe===3||fe===4)&&(fe=F.stateNode.containerInfo,fe===S||fe.nodeType===8&&fe.parentNode===S))return;F=F.return}for(;ie!==null;){if(F=Ho(ie),F===null)return;if(fe=F.tag,fe===5||fe===6){j=E=F;continue e}ie=ie.parentNode}}j=j.return}Kn(function(){var Ee=E,Le=_a(p),ze=[];e:{var Fe=v2.get(l);if(Fe!==void 0){var Ze=nx,ot=l;switch(l){case"keypress":if($f(p)===0)break e;case"keydown":case"keyup":Ze=gD;break;case"focusin":ot="focus",Ze=ix;break;case"focusout":ot="blur",Ze=ix;break;case"beforeblur":case"afterblur":Ze=ix;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Gj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=sD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=bD;break;case h2:case p2:case x2:Ze=lD;break;case g2:Ze=jD;break;case"scroll":Ze=nD;break;case"wheel":Ze=ND;break;case"copy":case"cut":case"paste":Ze=dD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=Yj}var dt=(d&4)!==0,Or=!dt&&l==="scroll",we=dt?Fe!==null?Fe+"Capture":null:Fe;dt=[];for(var pe=Ee,Ne;pe!==null;){Ne=pe;var Ke=Ne.stateNode;if(Ne.tag===5&&Ke!==null&&(Ne=Ke,we!==null&&(Ke=On(pe,we),Ke!=null&&dt.push(Dd(pe,Ke,Ne)))),Or)break;pe=pe.return}0<dt.length&&(Fe=new Ze(Fe,ot,null,p,Le),ze.push({event:Fe,listeners:dt}))}}if((d&7)===0){e:{if(Fe=l==="mouseover"||l==="pointerover",Ze=l==="mouseout"||l==="pointerout",Fe&&p!==ja&&(ot=p.relatedTarget||p.fromElement)&&(Ho(ot)||ot[ri]))break e;if((Ze||Fe)&&(Fe=Le.window===Le?Le:(Fe=Le.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ze?(ot=p.relatedTarget||p.toElement,Ze=Ee,ot=ot?Ho(ot):null,ot!==null&&(Or=re(ot),ot!==Or||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(Ze=null,ot=Ee),Ze!==ot)){if(dt=Gj,Ke="onMouseLeave",we="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(dt=Yj,Ke="onPointerLeave",we="onPointerEnter",pe="pointer"),Or=Ze==null?Fe:ql(Ze),Ne=ot==null?Fe:ql(ot),Fe=new dt(Ke,pe+"leave",Ze,p,Le),Fe.target=Or,Fe.relatedTarget=Ne,Ke=null,Ho(Le)===Ee&&(dt=new dt(we,pe+"enter",ot,p,Le),dt.target=Ne,dt.relatedTarget=Or,Ke=dt),Or=Ke,Ze&&ot)t:{for(dt=Ze,we=ot,pe=0,Ne=dt;Ne;Ne=Kl(Ne))pe++;for(Ne=0,Ke=we;Ke;Ke=Kl(Ke))Ne++;for(;0<pe-Ne;)dt=Kl(dt),pe--;for(;0<Ne-pe;)we=Kl(we),Ne--;for(;pe--;){if(dt===we||we!==null&&dt===we.alternate)break t;dt=Kl(dt),we=Kl(we)}dt=null}else dt=null;Ze!==null&&_2(ze,Fe,Ze,dt,!1),ot!==null&&Or!==null&&_2(ze,Or,ot,dt,!0)}}e:{if(Fe=Ee?ql(Ee):window,Ze=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Fe.type==="file")var ut=PD;else if(r2(Fe))if(a2)ut=MD;else{ut=ID;var ht=OD}else(Ze=Fe.nodeName)&&Ze.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(ut=DD);if(ut&&(ut=ut(l,Ee))){n2(ze,ut,p,Le);break e}ht&&ht(l,Fe,Ee),l==="focusout"&&(ht=Fe._wrapperState)&&ht.controlled&&Fe.type==="number"&&Xe(Fe,"number",Fe.value)}switch(ht=Ee?ql(Ee):window,l){case"focusin":(r2(ht)||ht.contentEditable==="true")&&(Wl=ht,fx=Ee,Pd=null);break;case"focusout":Pd=fx=Wl=null;break;case"mousedown":mx=!0;break;case"contextmenu":case"mouseup":case"dragend":mx=!1,f2(ze,p,Le);break;case"selectionchange":if(RD)break;case"keydown":case"keyup":f2(ze,p,Le)}var pt;if(lx)e:{switch(l){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Ul?e2(l,p)&&(bt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(bt="onCompositionStart");bt&&(Jj&&p.locale!=="ko"&&(Ul||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Ul&&(pt=Vj()):(to=Le,rx="value"in to?to.value:to.textContent,Ul=!0)),ht=Vf(Ee,bt),0<ht.length&&(bt=new Xj(bt,l,null,p,Le),ze.push({event:bt,listeners:ht}),pt?bt.data=pt:(pt=t2(p),pt!==null&&(bt.data=pt)))),(pt=kD?ED(l,p):AD(l,p))&&(Ee=Vf(Ee,"onBeforeInput"),0<Ee.length&&(Le=new Xj("onBeforeInput","beforeinput",null,p,Le),ze.push({event:Le,listeners:Ee}),Le.data=pt))}w2(ze,d)})}function Dd(l,d,p){return{instance:l,listener:d,currentTarget:p}}function Vf(l,d){for(var p=d+"Capture",j=[];l!==null;){var S=l,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=On(l,p),E!=null&&j.unshift(Dd(l,E,S)),E=On(l,d),E!=null&&j.push(Dd(l,E,S))),l=l.return}return j}function Kl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function _2(l,d,p,j,S){for(var E=d._reactName,F=[];p!==null&&p!==j;){var ie=p,fe=ie.alternate,Ee=ie.stateNode;if(fe!==null&&fe===j)break;ie.tag===5&&Ee!==null&&(ie=Ee,S?(fe=On(p,E),fe!=null&&F.unshift(Dd(p,fe,ie))):S||(fe=On(p,E),fe!=null&&F.push(Dd(p,fe,ie)))),p=p.return}F.length!==0&&l.push({event:d,listeners:F})}var UD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function N2(l){return(typeof l=="string"?l:""+l).replace(UD,`
`).replace(WD,"")}function qf(l,d,p){if(d=N2(d),N2(l)!==d&&p)throw Error(r(425))}function Gf(){}var yx=null,bx=null;function wx(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var jx=typeof setTimeout=="function"?setTimeout:void 0,HD=typeof clearTimeout=="function"?clearTimeout:void 0,S2=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof S2<"u"?function(l){return S2.resolve(null).then(l).catch(VD)}:jx;function VD(l){setTimeout(function(){throw l})}function _x(l,d){var p=d,j=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(j===0){l.removeChild(S),Nd(d);return}j--}else p!=="$"&&p!=="$?"&&p!=="$!"||j++;p=S}while(p);Nd(d)}function no(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function k2(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Vl,Md="__reactProps$"+Vl,ri="__reactContainer$"+Vl,Nx="__reactEvents$"+Vl,qD="__reactListeners$"+Vl,GD="__reactHandles$"+Vl;function Ho(l){var d=l[Ps];if(d)return d;for(var p=l.parentNode;p;){if(d=p[ri]||p[Ps]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=k2(l);l!==null;){if(p=l[Ps])return p;l=k2(l)}return d}l=p,p=l.parentNode}return null}function Fd(l){return l=l[Ps]||l[ri],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ql(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Xf(l){return l[Md]||null}var Sx=[],Gl=-1;function ao(l){return{current:l}}function or(l){0>Gl||(l.current=Sx[Gl],Sx[Gl]=null,Gl--)}function rr(l,d){Gl++,Sx[Gl]=l.current,l.current=d}var so={},In=ao(so),oa=ao(!1),Ko=so;function Xl(l,d){var p=l.type.contextTypes;if(!p)return so;var j=l.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in p)S[E]=d[E];return j&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=S),S}function la(l){return l=l.childContextTypes,l!=null}function Yf(){or(oa),or(In)}function E2(l,d,p){if(In.current!==so)throw Error(r(168));rr(In,d),rr(oa,p)}function A2(l,d,p){var j=l.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return p;j=j.getChildContext();for(var S in j)if(!(S in d))throw Error(r(108,ye(l)||"Unknown",S));return me({},p,j)}function Jf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||so,Ko=In.current,rr(In,l),rr(oa,oa.current),!0}function C2(l,d,p){var j=l.stateNode;if(!j)throw Error(r(169));p?(l=A2(l,d,Ko),j.__reactInternalMemoizedMergedChildContext=l,or(oa),or(In),rr(In,l)):or(oa),rr(oa,p)}var ni=null,Zf=!1,kx=!1;function T2(l){ni===null?ni=[l]:ni.push(l)}function XD(l){Zf=!0,T2(l)}function io(){if(!kx&&ni!==null){kx=!0;var l=0,d=Ut;try{var p=ni;for(Ut=1;l<p.length;l++){var j=p[l];do j=j(!0);while(j!==null)}ni=null,Zf=!1}catch(S){throw ni!==null&&(ni=ni.slice(l+1)),Pe(Zt,io),S}finally{Ut=d,kx=!1}}return null}var Yl=[],Jl=0,Qf=null,em=0,Ka=[],Va=0,Vo=null,ai=1,si="";function qo(l,d){Yl[Jl++]=em,Yl[Jl++]=Qf,Qf=l,em=d}function P2(l,d,p){Ka[Va++]=ai,Ka[Va++]=si,Ka[Va++]=Vo,Vo=l;var j=ai;l=si;var S=32-Pr(j)-1;j&=~(1<<S),p+=1;var E=32-Pr(d)+S;if(30<E){var F=S-S%5;E=(j&(1<<F)-1).toString(32),j>>=F,S-=F,ai=1<<32-Pr(d)+S|p<<S|j,si=E+l}else ai=1<<E|p<<S|j,si=l}function Ex(l){l.return!==null&&(qo(l,1),P2(l,1,0))}function Ax(l){for(;l===Qf;)Qf=Yl[--Jl],Yl[Jl]=null,em=Yl[--Jl],Yl[Jl]=null;for(;l===Vo;)Vo=Ka[--Va],Ka[Va]=null,si=Ka[--Va],Ka[Va]=null,ai=Ka[--Va],Ka[Va]=null}var Sa=null,ka=null,fr=!1,fs=null;function O2(l,d){var p=Ya(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=l,d=l.deletions,d===null?(l.deletions=[p],l.flags|=16):d.push(p)}function I2(l,d){switch(l.tag){case 5:var p=l.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Sa=l,ka=no(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Sa=l,ka=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=Vo!==null?{id:ai,overflow:si}:null,l.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=Ya(18,null,null,0),p.stateNode=d,p.return=l,l.child=p,Sa=l,ka=null,!0):!1;default:return!1}}function Cx(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Tx(l){if(fr){var d=ka;if(d){var p=d;if(!I2(l,d)){if(Cx(l))throw Error(r(418));d=no(p.nextSibling);var j=Sa;d&&I2(l,d)?O2(j,p):(l.flags=l.flags&-4097|2,fr=!1,Sa=l)}}else{if(Cx(l))throw Error(r(418));l.flags=l.flags&-4097|2,fr=!1,Sa=l}}}function D2(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Sa=l}function tm(l){if(l!==Sa)return!1;if(!fr)return D2(l),fr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!wx(l.type,l.memoizedProps)),d&&(d=ka)){if(Cx(l))throw M2(),Error(r(418));for(;d;)O2(l,d),d=no(d.nextSibling)}if(D2(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(d===0){ka=no(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}l=l.nextSibling}ka=null}}else ka=Sa?no(l.stateNode.nextSibling):null;return!0}function M2(){for(var l=ka;l;)l=no(l.nextSibling)}function Zl(){ka=Sa=null,fr=!1}function Px(l){fs===null?fs=[l]:fs.push(l)}var YD=A.ReactCurrentBatchConfig;function Ld(l,d,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var j=p.stateNode}if(!j)throw Error(r(147,l));var S=j,E=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===E?d.ref:(d=function(F){var ie=S.refs;F===null?delete ie[E]:ie[E]=F},d._stringRef=E,d)}if(typeof l!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,l))}return l}function rm(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function F2(l){var d=l._init;return d(l._payload)}function L2(l){function d(we,pe){if(l){var Ne=we.deletions;Ne===null?(we.deletions=[pe],we.flags|=16):Ne.push(pe)}}function p(we,pe){if(!l)return null;for(;pe!==null;)d(we,pe),pe=pe.sibling;return null}function j(we,pe){for(we=new Map;pe!==null;)pe.key!==null?we.set(pe.key,pe):we.set(pe.index,pe),pe=pe.sibling;return we}function S(we,pe){return we=po(we,pe),we.index=0,we.sibling=null,we}function E(we,pe,Ne){return we.index=Ne,l?(Ne=we.alternate,Ne!==null?(Ne=Ne.index,Ne<pe?(we.flags|=2,pe):Ne):(we.flags|=2,pe)):(we.flags|=1048576,pe)}function F(we){return l&&we.alternate===null&&(we.flags|=2),we}function ie(we,pe,Ne,Ke){return pe===null||pe.tag!==6?(pe=jg(Ne,we.mode,Ke),pe.return=we,pe):(pe=S(pe,Ne),pe.return=we,pe)}function fe(we,pe,Ne,Ke){var ut=Ne.type;return ut===O?Le(we,pe,Ne.props.children,Ke,Ne.key):pe!==null&&(pe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&F2(ut)===pe.type)?(Ke=S(pe,Ne.props),Ke.ref=Ld(we,pe,Ne),Ke.return=we,Ke):(Ke=km(Ne.type,Ne.key,Ne.props,null,we.mode,Ke),Ke.ref=Ld(we,pe,Ne),Ke.return=we,Ke)}function Ee(we,pe,Ne,Ke){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ne.containerInfo||pe.stateNode.implementation!==Ne.implementation?(pe=_g(Ne,we.mode,Ke),pe.return=we,pe):(pe=S(pe,Ne.children||[]),pe.return=we,pe)}function Le(we,pe,Ne,Ke,ut){return pe===null||pe.tag!==7?(pe=tl(Ne,we.mode,Ke,ut),pe.return=we,pe):(pe=S(pe,Ne),pe.return=we,pe)}function ze(we,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=jg(""+pe,we.mode,Ne),pe.return=we,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return Ne=km(pe.type,pe.key,pe.props,null,we.mode,Ne),Ne.ref=Ld(we,null,pe),Ne.return=we,Ne;case I:return pe=_g(pe,we.mode,Ne),pe.return=we,pe;case X:var Ke=pe._init;return ze(we,Ke(pe._payload),Ne)}if(gt(pe)||ve(pe))return pe=tl(pe,we.mode,Ne,null),pe.return=we,pe;rm(we,pe)}return null}function Fe(we,pe,Ne,Ke){var ut=pe!==null?pe.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ut!==null?null:ie(we,pe,""+Ne,Ke);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case T:return Ne.key===ut?fe(we,pe,Ne,Ke):null;case I:return Ne.key===ut?Ee(we,pe,Ne,Ke):null;case X:return ut=Ne._init,Fe(we,pe,ut(Ne._payload),Ke)}if(gt(Ne)||ve(Ne))return ut!==null?null:Le(we,pe,Ne,Ke,null);rm(we,Ne)}return null}function Ze(we,pe,Ne,Ke,ut){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return we=we.get(Ne)||null,ie(pe,we,""+Ke,ut);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case T:return we=we.get(Ke.key===null?Ne:Ke.key)||null,fe(pe,we,Ke,ut);case I:return we=we.get(Ke.key===null?Ne:Ke.key)||null,Ee(pe,we,Ke,ut);case X:var ht=Ke._init;return Ze(we,pe,Ne,ht(Ke._payload),ut)}if(gt(Ke)||ve(Ke))return we=we.get(Ne)||null,Le(pe,we,Ke,ut,null);rm(pe,Ke)}return null}function ot(we,pe,Ne,Ke){for(var ut=null,ht=null,pt=pe,bt=pe=0,ln=null;pt!==null&&bt<Ne.length;bt++){pt.index>bt?(ln=pt,pt=null):ln=pt.sibling;var Dt=Fe(we,pt,Ne[bt],Ke);if(Dt===null){pt===null&&(pt=ln);break}l&&pt&&Dt.alternate===null&&d(we,pt),pe=E(Dt,pe,bt),ht===null?ut=Dt:ht.sibling=Dt,ht=Dt,pt=ln}if(bt===Ne.length)return p(we,pt),fr&&qo(we,bt),ut;if(pt===null){for(;bt<Ne.length;bt++)pt=ze(we,Ne[bt],Ke),pt!==null&&(pe=E(pt,pe,bt),ht===null?ut=pt:ht.sibling=pt,ht=pt);return fr&&qo(we,bt),ut}for(pt=j(we,pt);bt<Ne.length;bt++)ln=Ze(pt,we,bt,Ne[bt],Ke),ln!==null&&(l&&ln.alternate!==null&&pt.delete(ln.key===null?bt:ln.key),pe=E(ln,pe,bt),ht===null?ut=ln:ht.sibling=ln,ht=ln);return l&&pt.forEach(function(xo){return d(we,xo)}),fr&&qo(we,bt),ut}function dt(we,pe,Ne,Ke){var ut=ve(Ne);if(typeof ut!="function")throw Error(r(150));if(Ne=ut.call(Ne),Ne==null)throw Error(r(151));for(var ht=ut=null,pt=pe,bt=pe=0,ln=null,Dt=Ne.next();pt!==null&&!Dt.done;bt++,Dt=Ne.next()){pt.index>bt?(ln=pt,pt=null):ln=pt.sibling;var xo=Fe(we,pt,Dt.value,Ke);if(xo===null){pt===null&&(pt=ln);break}l&&pt&&xo.alternate===null&&d(we,pt),pe=E(xo,pe,bt),ht===null?ut=xo:ht.sibling=xo,ht=xo,pt=ln}if(Dt.done)return p(we,pt),fr&&qo(we,bt),ut;if(pt===null){for(;!Dt.done;bt++,Dt=Ne.next())Dt=ze(we,Dt.value,Ke),Dt!==null&&(pe=E(Dt,pe,bt),ht===null?ut=Dt:ht.sibling=Dt,ht=Dt);return fr&&qo(we,bt),ut}for(pt=j(we,pt);!Dt.done;bt++,Dt=Ne.next())Dt=Ze(pt,we,bt,Dt.value,Ke),Dt!==null&&(l&&Dt.alternate!==null&&pt.delete(Dt.key===null?bt:Dt.key),pe=E(Dt,pe,bt),ht===null?ut=Dt:ht.sibling=Dt,ht=Dt);return l&&pt.forEach(function(CM){return d(we,CM)}),fr&&qo(we,bt),ut}function Or(we,pe,Ne,Ke){if(typeof Ne=="object"&&Ne!==null&&Ne.type===O&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case T:e:{for(var ut=Ne.key,ht=pe;ht!==null;){if(ht.key===ut){if(ut=Ne.type,ut===O){if(ht.tag===7){p(we,ht.sibling),pe=S(ht,Ne.props.children),pe.return=we,we=pe;break e}}else if(ht.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&F2(ut)===ht.type){p(we,ht.sibling),pe=S(ht,Ne.props),pe.ref=Ld(we,ht,Ne),pe.return=we,we=pe;break e}p(we,ht);break}else d(we,ht);ht=ht.sibling}Ne.type===O?(pe=tl(Ne.props.children,we.mode,Ke,Ne.key),pe.return=we,we=pe):(Ke=km(Ne.type,Ne.key,Ne.props,null,we.mode,Ke),Ke.ref=Ld(we,pe,Ne),Ke.return=we,we=Ke)}return F(we);case I:e:{for(ht=Ne.key;pe!==null;){if(pe.key===ht)if(pe.tag===4&&pe.stateNode.containerInfo===Ne.containerInfo&&pe.stateNode.implementation===Ne.implementation){p(we,pe.sibling),pe=S(pe,Ne.children||[]),pe.return=we,we=pe;break e}else{p(we,pe);break}else d(we,pe);pe=pe.sibling}pe=_g(Ne,we.mode,Ke),pe.return=we,we=pe}return F(we);case X:return ht=Ne._init,Or(we,pe,ht(Ne._payload),Ke)}if(gt(Ne))return ot(we,pe,Ne,Ke);if(ve(Ne))return dt(we,pe,Ne,Ke);rm(we,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,pe!==null&&pe.tag===6?(p(we,pe.sibling),pe=S(pe,Ne),pe.return=we,we=pe):(p(we,pe),pe=jg(Ne,we.mode,Ke),pe.return=we,we=pe),F(we)):p(we,pe)}return Or}var Ql=L2(!0),R2=L2(!1),nm=ao(null),am=null,ec=null,Ox=null;function Ix(){Ox=ec=am=null}function Dx(l){var d=nm.current;or(nm),l._currentValue=d}function Mx(l,d,p){for(;l!==null;){var j=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),l===p)break;l=l.return}}function tc(l,d){am=l,Ox=ec=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(ca=!0),l.firstContext=null)}function qa(l){var d=l._currentValue;if(Ox!==l)if(l={context:l,memoizedValue:d,next:null},ec===null){if(am===null)throw Error(r(308));ec=l,am.dependencies={lanes:0,firstContext:l}}else ec=ec.next=l;return d}var Go=null;function Fx(l){Go===null?Go=[l]:Go.push(l)}function $2(l,d,p,j){var S=d.interleaved;return S===null?(p.next=p,Fx(d)):(p.next=S.next,S.next=p),d.interleaved=p,ii(l,j)}function ii(l,d){l.lanes|=d;var p=l.alternate;for(p!==null&&(p.lanes|=d),p=l,l=l.return;l!==null;)l.childLanes|=d,p=l.alternate,p!==null&&(p.childLanes|=d),p=l,l=l.return;return p.tag===3?p.stateNode:null}var oo=!1;function Lx(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z2(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function oi(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function lo(l,d,p){var j=l.updateQueue;if(j===null)return null;if(j=j.shared,(Ot&2)!==0){var S=j.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),j.pending=d,ii(l,p)}return S=j.interleaved,S===null?(d.next=d,Fx(j)):(d.next=S.next,S.next=d),j.interleaved=d,ii(l,p)}function sm(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var j=d.lanes;j&=l.pendingLanes,p|=j,d.lanes=p,Jp(l,p)}}function B2(l,d){var p=l.updateQueue,j=l.alternate;if(j!==null&&(j=j.updateQueue,p===j)){var S=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var F={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?S=E=F:E=E.next=F,p=p.next}while(p!==null);E===null?S=E=d:E=E.next=d}else S=E=d;p={baseState:j.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:j.shared,effects:j.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}function im(l,d,p,j){var S=l.updateQueue;oo=!1;var E=S.firstBaseUpdate,F=S.lastBaseUpdate,ie=S.shared.pending;if(ie!==null){S.shared.pending=null;var fe=ie,Ee=fe.next;fe.next=null,F===null?E=Ee:F.next=Ee,F=fe;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,ie=Le.lastBaseUpdate,ie!==F&&(ie===null?Le.firstBaseUpdate=Ee:ie.next=Ee,Le.lastBaseUpdate=fe))}if(E!==null){var ze=S.baseState;F=0,Le=Ee=fe=null,ie=E;do{var Fe=ie.lane,Ze=ie.eventTime;if((j&Fe)===Fe){Le!==null&&(Le=Le.next={eventTime:Ze,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var ot=l,dt=ie;switch(Fe=d,Ze=p,dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){ze=ot.call(Ze,ze,Fe);break e}ze=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,Fe=typeof ot=="function"?ot.call(Ze,ze,Fe):ot,Fe==null)break e;ze=me({},ze,Fe);break e;case 2:oo=!0}}ie.callback!==null&&ie.lane!==0&&(l.flags|=64,Fe=S.effects,Fe===null?S.effects=[ie]:Fe.push(ie))}else Ze={eventTime:Ze,lane:Fe,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Le===null?(Ee=Le=Ze,fe=ze):Le=Le.next=Ze,F|=Fe;if(ie=ie.next,ie===null){if(ie=S.shared.pending,ie===null)break;Fe=ie,ie=Fe.next,Fe.next=null,S.lastBaseUpdate=Fe,S.shared.pending=null}}while(!0);if(Le===null&&(fe=ze),S.baseState=fe,S.firstBaseUpdate=Ee,S.lastBaseUpdate=Le,d=S.shared.interleaved,d!==null){S=d;do F|=S.lane,S=S.next;while(S!==d)}else E===null&&(S.shared.lanes=0);Jo|=F,l.lanes=F,l.memoizedState=ze}}function U2(l,d,p){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var j=l[d],S=j.callback;if(S!==null){if(j.callback=null,j=p,typeof S!="function")throw Error(r(191,S));S.call(j)}}}var Rd={},Os=ao(Rd),$d=ao(Rd),zd=ao(Rd);function Xo(l){if(l===Rd)throw Error(r(174));return l}function Rx(l,d){switch(rr(zd,d),rr($d,l),rr(Os,Rd),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:se(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=se(d,l)}or(Os),rr(Os,d)}function rc(){or(Os),or($d),or(zd)}function W2(l){Xo(zd.current);var d=Xo(Os.current),p=se(d,l.type);d!==p&&(rr($d,l),rr(Os,p))}function $x(l){$d.current===l&&(or(Os),or($d))}var vr=ao(0);function om(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var zx=[];function Bx(){for(var l=0;l<zx.length;l++)zx[l]._workInProgressVersionPrimary=null;zx.length=0}var lm=A.ReactCurrentDispatcher,Ux=A.ReactCurrentBatchConfig,Yo=0,yr=null,qr=null,sn=null,cm=!1,Bd=!1,Ud=0,JD=0;function Dn(){throw Error(r(321))}function Wx(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!us(l[p],d[p]))return!1;return!0}function Hx(l,d,p,j,S,E){if(Yo=E,yr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,lm.current=l===null||l.memoizedState===null?tM:rM,l=p(j,S),Bd){E=0;do{if(Bd=!1,Ud=0,25<=E)throw Error(r(301));E+=1,sn=qr=null,d.updateQueue=null,lm.current=nM,l=p(j,S)}while(Bd)}if(lm.current=fm,d=qr!==null&&qr.next!==null,Yo=0,sn=qr=yr=null,cm=!1,d)throw Error(r(300));return l}function Kx(){var l=Ud!==0;return Ud=0,l}function Is(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?yr.memoizedState=sn=l:sn=sn.next=l,sn}function Ga(){if(qr===null){var l=yr.alternate;l=l!==null?l.memoizedState:null}else l=qr.next;var d=sn===null?yr.memoizedState:sn.next;if(d!==null)sn=d,qr=l;else{if(l===null)throw Error(r(310));qr=l,l={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},sn===null?yr.memoizedState=sn=l:sn=sn.next=l}return sn}function Wd(l,d){return typeof d=="function"?d(l):d}function Vx(l){var d=Ga(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var j=qr,S=j.baseQueue,E=p.pending;if(E!==null){if(S!==null){var F=S.next;S.next=E.next,E.next=F}j.baseQueue=S=E,p.pending=null}if(S!==null){E=S.next,j=j.baseState;var ie=F=null,fe=null,Ee=E;do{var Le=Ee.lane;if((Yo&Le)===Le)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),j=Ee.hasEagerState?Ee.eagerState:l(j,Ee.action);else{var ze={lane:Le,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(ie=fe=ze,F=j):fe=fe.next=ze,yr.lanes|=Le,Jo|=Le}Ee=Ee.next}while(Ee!==null&&Ee!==E);fe===null?F=j:fe.next=ie,us(j,d.memoizedState)||(ca=!0),d.memoizedState=j,d.baseState=F,d.baseQueue=fe,p.lastRenderedState=j}if(l=p.interleaved,l!==null){S=l;do E=S.lane,yr.lanes|=E,Jo|=E,S=S.next;while(S!==l)}else S===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function qx(l){var d=Ga(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var j=p.dispatch,S=p.pending,E=d.memoizedState;if(S!==null){p.pending=null;var F=S=S.next;do E=l(E,F.action),F=F.next;while(F!==S);us(E,d.memoizedState)||(ca=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),p.lastRenderedState=E}return[E,j]}function H2(){}function K2(l,d){var p=yr,j=Ga(),S=d(),E=!us(j.memoizedState,S);if(E&&(j.memoizedState=S,ca=!0),j=j.queue,Gx(G2.bind(null,p,j,l),[l]),j.getSnapshot!==d||E||sn!==null&&sn.memoizedState.tag&1){if(p.flags|=2048,Hd(9,q2.bind(null,p,j,S,d),void 0,null),on===null)throw Error(r(349));(Yo&30)!==0||V2(p,d,S)}return S}function V2(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=yr.updateQueue,d===null?(d={lastEffect:null,stores:null},yr.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function q2(l,d,p,j){d.value=p,d.getSnapshot=j,X2(d)&&Y2(l)}function G2(l,d,p){return p(function(){X2(d)&&Y2(l)})}function X2(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!us(l,p)}catch{return!0}}function Y2(l){var d=ii(l,1);d!==null&&xs(d,l,1,-1)}function J2(l){var d=Is();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:l},d.queue=l,l=l.dispatch=eM.bind(null,yr,l),[d.memoizedState,l]}function Hd(l,d,p,j){return l={tag:l,create:d,destroy:p,deps:j,next:null},d=yr.updateQueue,d===null?(d={lastEffect:null,stores:null},yr.updateQueue=d,d.lastEffect=l.next=l):(p=d.lastEffect,p===null?d.lastEffect=l.next=l:(j=p.next,p.next=l,l.next=j,d.lastEffect=l)),l}function Z2(){return Ga().memoizedState}function dm(l,d,p,j){var S=Is();yr.flags|=l,S.memoizedState=Hd(1|d,p,void 0,j===void 0?null:j)}function um(l,d,p,j){var S=Ga();j=j===void 0?null:j;var E=void 0;if(qr!==null){var F=qr.memoizedState;if(E=F.destroy,j!==null&&Wx(j,F.deps)){S.memoizedState=Hd(d,p,E,j);return}}yr.flags|=l,S.memoizedState=Hd(1|d,p,E,j)}function Q2(l,d){return dm(8390656,8,l,d)}function Gx(l,d){return um(2048,8,l,d)}function e_(l,d){return um(4,2,l,d)}function t_(l,d){return um(4,4,l,d)}function r_(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function n_(l,d,p){return p=p!=null?p.concat([l]):null,um(4,4,r_.bind(null,d,l),p)}function Xx(){}function a_(l,d){var p=Ga();d=d===void 0?null:d;var j=p.memoizedState;return j!==null&&d!==null&&Wx(d,j[1])?j[0]:(p.memoizedState=[l,d],l)}function s_(l,d){var p=Ga();d=d===void 0?null:d;var j=p.memoizedState;return j!==null&&d!==null&&Wx(d,j[1])?j[0]:(l=l(),p.memoizedState=[l,d],l)}function i_(l,d,p){return(Yo&21)===0?(l.baseState&&(l.baseState=!1,ca=!0),l.memoizedState=p):(us(p,d)||(p=Fj(),yr.lanes|=p,Jo|=p,l.baseState=!0),d)}function ZD(l,d){var p=Ut;Ut=p!==0&&4>p?p:4,l(!0);var j=Ux.transition;Ux.transition={};try{l(!1),d()}finally{Ut=p,Ux.transition=j}}function o_(){return Ga().memoizedState}function QD(l,d,p){var j=mo(l);if(p={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null},l_(l))c_(d,p);else if(p=$2(l,d,p,j),p!==null){var S=qn();xs(p,l,j,S),d_(p,d,j)}}function eM(l,d,p){var j=mo(l),S={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null};if(l_(l))c_(d,S);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var F=d.lastRenderedState,ie=E(F,p);if(S.hasEagerState=!0,S.eagerState=ie,us(ie,F)){var fe=d.interleaved;fe===null?(S.next=S,Fx(d)):(S.next=fe.next,fe.next=S),d.interleaved=S;return}}catch{}p=$2(l,d,S,j),p!==null&&(S=qn(),xs(p,l,j,S),d_(p,d,j))}}function l_(l){var d=l.alternate;return l===yr||d!==null&&d===yr}function c_(l,d){Bd=cm=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function d_(l,d,p){if((p&4194240)!==0){var j=d.lanes;j&=l.pendingLanes,p|=j,d.lanes=p,Jp(l,p)}}var fm={readContext:qa,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},tM={readContext:qa,useCallback:function(l,d){return Is().memoizedState=[l,d===void 0?null:d],l},useContext:qa,useEffect:Q2,useImperativeHandle:function(l,d,p){return p=p!=null?p.concat([l]):null,dm(4194308,4,r_.bind(null,d,l),p)},useLayoutEffect:function(l,d){return dm(4194308,4,l,d)},useInsertionEffect:function(l,d){return dm(4,2,l,d)},useMemo:function(l,d){var p=Is();return d=d===void 0?null:d,l=l(),p.memoizedState=[l,d],l},useReducer:function(l,d,p){var j=Is();return d=p!==void 0?p(d):d,j.memoizedState=j.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},j.queue=l,l=l.dispatch=QD.bind(null,yr,l),[j.memoizedState,l]},useRef:function(l){var d=Is();return l={current:l},d.memoizedState=l},useState:J2,useDebugValue:Xx,useDeferredValue:function(l){return Is().memoizedState=l},useTransition:function(){var l=J2(!1),d=l[0];return l=ZD.bind(null,l[1]),Is().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,p){var j=yr,S=Is();if(fr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),on===null)throw Error(r(349));(Yo&30)!==0||V2(j,d,p)}S.memoizedState=p;var E={value:p,getSnapshot:d};return S.queue=E,Q2(G2.bind(null,j,E,l),[l]),j.flags|=2048,Hd(9,q2.bind(null,j,E,p,d),void 0,null),p},useId:function(){var l=Is(),d=on.identifierPrefix;if(fr){var p=si,j=ai;p=(j&~(1<<32-Pr(j)-1)).toString(32)+p,d=":"+d+"R"+p,p=Ud++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=JD++,d=":"+d+"r"+p.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},rM={readContext:qa,useCallback:a_,useContext:qa,useEffect:Gx,useImperativeHandle:n_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:Vx,useRef:Z2,useState:function(){return Vx(Wd)},useDebugValue:Xx,useDeferredValue:function(l){var d=Ga();return i_(d,qr.memoizedState,l)},useTransition:function(){var l=Vx(Wd)[0],d=Ga().memoizedState;return[l,d]},useMutableSource:H2,useSyncExternalStore:K2,useId:o_,unstable_isNewReconciler:!1},nM={readContext:qa,useCallback:a_,useContext:qa,useEffect:Gx,useImperativeHandle:n_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:qx,useRef:Z2,useState:function(){return qx(Wd)},useDebugValue:Xx,useDeferredValue:function(l){var d=Ga();return qr===null?d.memoizedState=l:i_(d,qr.memoizedState,l)},useTransition:function(){var l=qx(Wd)[0],d=Ga().memoizedState;return[l,d]},useMutableSource:H2,useSyncExternalStore:K2,useId:o_,unstable_isNewReconciler:!1};function ms(l,d){if(l&&l.defaultProps){d=me({},d),l=l.defaultProps;for(var p in l)d[p]===void 0&&(d[p]=l[p]);return d}return d}function Yx(l,d,p,j){d=l.memoizedState,p=p(j,d),p=p==null?d:me({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var mm={isMounted:function(l){return(l=l._reactInternals)?re(l)===l:!1},enqueueSetState:function(l,d,p){l=l._reactInternals;var j=qn(),S=mo(l),E=oi(j,S);E.payload=d,p!=null&&(E.callback=p),d=lo(l,E,S),d!==null&&(xs(d,l,S,j),sm(d,l,S))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var j=qn(),S=mo(l),E=oi(j,S);E.tag=1,E.payload=d,p!=null&&(E.callback=p),d=lo(l,E,S),d!==null&&(xs(d,l,S,j),sm(d,l,S))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=qn(),j=mo(l),S=oi(p,j);S.tag=2,d!=null&&(S.callback=d),d=lo(l,S,j),d!==null&&(xs(d,l,j,p),sm(d,l,j))}};function u_(l,d,p,j,S,E,F){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(j,E,F):d.prototype&&d.prototype.isPureReactComponent?!Td(p,j)||!Td(S,E):!0}function f_(l,d,p){var j=!1,S=so,E=d.contextType;return typeof E=="object"&&E!==null?E=qa(E):(S=la(d)?Ko:In.current,j=d.contextTypes,E=(j=j!=null)?Xl(l,S):so),d=new d(p,E),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=mm,l.stateNode=d,d._reactInternals=l,j&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=E),d}function m_(l,d,p,j){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,j),d.state!==l&&mm.enqueueReplaceState(d,d.state,null)}function Jx(l,d,p,j){var S=l.stateNode;S.props=p,S.state=l.memoizedState,S.refs={},Lx(l);var E=d.contextType;typeof E=="object"&&E!==null?S.context=qa(E):(E=la(d)?Ko:In.current,S.context=Xl(l,E)),S.state=l.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&(Yx(l,d,E,p),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&mm.enqueueReplaceState(S,S.state,null),im(l,p,S,j),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function nc(l,d){try{var p="",j=d;do p+=K(j),j=j.return;while(j);var S=p}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:l,source:d,stack:S,digest:null}}function Zx(l,d,p){return{value:l,source:null,stack:p??null,digest:d??null}}function Qx(l,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var aM=typeof WeakMap=="function"?WeakMap:Map;function h_(l,d,p){p=oi(-1,p),p.tag=3,p.payload={element:null};var j=d.value;return p.callback=function(){bm||(bm=!0,hg=j),Qx(l,d)},p}function p_(l,d,p){p=oi(-1,p),p.tag=3;var j=l.type.getDerivedStateFromError;if(typeof j=="function"){var S=d.value;p.payload=function(){return j(S)},p.callback=function(){Qx(l,d)}}var E=l.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){Qx(l,d),typeof j!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})}),p}function x_(l,d,p){var j=l.pingCache;if(j===null){j=l.pingCache=new aM;var S=new Set;j.set(d,S)}else S=j.get(d),S===void 0&&(S=new Set,j.set(d,S));S.has(p)||(S.add(p),l=vM.bind(null,l,d,p),d.then(l,l))}function g_(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function v_(l,d,p,j,S){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=oi(-1,1),d.tag=2,lo(p,d,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var sM=A.ReactCurrentOwner,ca=!1;function Vn(l,d,p,j){d.child=l===null?R2(d,null,p,j):Ql(d,l.child,p,j)}function y_(l,d,p,j,S){p=p.render;var E=d.ref;return tc(d,S),j=Hx(l,d,p,j,E,S),p=Kx(),l!==null&&!ca?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~S,li(l,d,S)):(fr&&p&&Ex(d),d.flags|=1,Vn(l,d,j,S),d.child)}function b_(l,d,p,j,S){if(l===null){var E=p.type;return typeof E=="function"&&!wg(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=E,w_(l,d,E,j,S)):(l=km(p.type,null,j,d,d.mode,S),l.ref=d.ref,l.return=d,d.child=l)}if(E=l.child,(l.lanes&S)===0){var F=E.memoizedProps;if(p=p.compare,p=p!==null?p:Td,p(F,j)&&l.ref===d.ref)return li(l,d,S)}return d.flags|=1,l=po(E,j),l.ref=d.ref,l.return=d,d.child=l}function w_(l,d,p,j,S){if(l!==null){var E=l.memoizedProps;if(Td(E,j)&&l.ref===d.ref)if(ca=!1,d.pendingProps=j=E,(l.lanes&S)!==0)(l.flags&131072)!==0&&(ca=!0);else return d.lanes=l.lanes,li(l,d,S)}return eg(l,d,p,j,S)}function j_(l,d,p){var j=d.pendingProps,S=j.children,E=l!==null?l.memoizedState:null;if(j.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(sc,Ea),Ea|=p;else{if((p&1073741824)===0)return l=E!==null?E.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,rr(sc,Ea),Ea|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=E!==null?E.baseLanes:p,rr(sc,Ea),Ea|=j}else E!==null?(j=E.baseLanes|p,d.memoizedState=null):j=p,rr(sc,Ea),Ea|=j;return Vn(l,d,S,p),d.child}function __(l,d){var p=d.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function eg(l,d,p,j,S){var E=la(p)?Ko:In.current;return E=Xl(d,E),tc(d,S),p=Hx(l,d,p,j,E,S),j=Kx(),l!==null&&!ca?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~S,li(l,d,S)):(fr&&j&&Ex(d),d.flags|=1,Vn(l,d,p,S),d.child)}function N_(l,d,p,j,S){if(la(p)){var E=!0;Jf(d)}else E=!1;if(tc(d,S),d.stateNode===null)pm(l,d),f_(d,p,j),Jx(d,p,j,S),j=!0;else if(l===null){var F=d.stateNode,ie=d.memoizedProps;F.props=ie;var fe=F.context,Ee=p.contextType;typeof Ee=="object"&&Ee!==null?Ee=qa(Ee):(Ee=la(p)?Ko:In.current,Ee=Xl(d,Ee));var Le=p.getDerivedStateFromProps,ze=typeof Le=="function"||typeof F.getSnapshotBeforeUpdate=="function";ze||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==j||fe!==Ee)&&m_(d,F,j,Ee),oo=!1;var Fe=d.memoizedState;F.state=Fe,im(d,j,F,S),fe=d.memoizedState,ie!==j||Fe!==fe||oa.current||oo?(typeof Le=="function"&&(Yx(d,p,Le,j),fe=d.memoizedState),(ie=oo||u_(d,p,ie,j,Fe,fe,Ee))?(ze||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=fe),F.props=j,F.state=fe,F.context=Ee,j=ie):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{F=d.stateNode,z2(l,d),ie=d.memoizedProps,Ee=d.type===d.elementType?ie:ms(d.type,ie),F.props=Ee,ze=d.pendingProps,Fe=F.context,fe=p.contextType,typeof fe=="object"&&fe!==null?fe=qa(fe):(fe=la(p)?Ko:In.current,fe=Xl(d,fe));var Ze=p.getDerivedStateFromProps;(Le=typeof Ze=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==ze||Fe!==fe)&&m_(d,F,j,fe),oo=!1,Fe=d.memoizedState,F.state=Fe,im(d,j,F,S);var ot=d.memoizedState;ie!==ze||Fe!==ot||oa.current||oo?(typeof Ze=="function"&&(Yx(d,p,Ze,j),ot=d.memoizedState),(Ee=oo||u_(d,p,Ee,j,Fe,ot,fe)||!1)?(Le||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(j,ot,fe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(j,ot,fe)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||ie===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=ot),F.props=j,F.state=ot,F.context=fe,j=Ee):(typeof F.componentDidUpdate!="function"||ie===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Fe===l.memoizedState||(d.flags|=1024),j=!1)}return tg(l,d,p,j,E,S)}function tg(l,d,p,j,S,E){__(l,d);var F=(d.flags&128)!==0;if(!j&&!F)return S&&C2(d,p,!1),li(l,d,E);j=d.stateNode,sM.current=d;var ie=F&&typeof p.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,l!==null&&F?(d.child=Ql(d,l.child,null,E),d.child=Ql(d,null,ie,E)):Vn(l,d,ie,E),d.memoizedState=j.state,S&&C2(d,p,!0),d.child}function S_(l){var d=l.stateNode;d.pendingContext?E2(l,d.pendingContext,d.pendingContext!==d.context):d.context&&E2(l,d.context,!1),Rx(l,d.containerInfo)}function k_(l,d,p,j,S){return Zl(),Px(S),d.flags|=256,Vn(l,d,p,j),d.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ng(l){return{baseLanes:l,cachePool:null,transitions:null}}function E_(l,d,p){var j=d.pendingProps,S=vr.current,E=!1,F=(d.flags&128)!==0,ie;if((ie=F)||(ie=l!==null&&l.memoizedState===null?!1:(S&2)!==0),ie?(E=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),rr(vr,S&1),l===null)return Tx(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(F=j.children,l=j.fallback,E?(j=d.mode,E=d.child,F={mode:"hidden",children:F},(j&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=F):E=Em(F,j,0,null),l=tl(l,j,p,null),E.return=d,l.return=d,E.sibling=l,d.child=E,d.child.memoizedState=ng(p),d.memoizedState=rg,l):ag(d,F));if(S=l.memoizedState,S!==null&&(ie=S.dehydrated,ie!==null))return iM(l,d,F,j,ie,S,p);if(E){E=j.fallback,F=d.mode,S=l.child,ie=S.sibling;var fe={mode:"hidden",children:j.children};return(F&1)===0&&d.child!==S?(j=d.child,j.childLanes=0,j.pendingProps=fe,d.deletions=null):(j=po(S,fe),j.subtreeFlags=S.subtreeFlags&14680064),ie!==null?E=po(ie,E):(E=tl(E,F,p,null),E.flags|=2),E.return=d,j.return=d,j.sibling=E,d.child=j,j=E,E=d.child,F=l.child.memoizedState,F=F===null?ng(p):{baseLanes:F.baseLanes|p,cachePool:null,transitions:F.transitions},E.memoizedState=F,E.childLanes=l.childLanes&~p,d.memoizedState=rg,j}return E=l.child,l=E.sibling,j=po(E,{mode:"visible",children:j.children}),(d.mode&1)===0&&(j.lanes=p),j.return=d,j.sibling=null,l!==null&&(p=d.deletions,p===null?(d.deletions=[l],d.flags|=16):p.push(l)),d.child=j,d.memoizedState=null,j}function ag(l,d){return d=Em({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function hm(l,d,p,j){return j!==null&&Px(j),Ql(d,l.child,null,p),l=ag(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function iM(l,d,p,j,S,E,F){if(p)return d.flags&256?(d.flags&=-257,j=Zx(Error(r(422))),hm(l,d,F,j)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(E=j.fallback,S=d.mode,j=Em({mode:"visible",children:j.children},S,0,null),E=tl(E,S,F,null),E.flags|=2,j.return=d,E.return=d,j.sibling=E,d.child=j,(d.mode&1)!==0&&Ql(d,l.child,null,F),d.child.memoizedState=ng(F),d.memoizedState=rg,E);if((d.mode&1)===0)return hm(l,d,F,null);if(S.data==="$!"){if(j=S.nextSibling&&S.nextSibling.dataset,j)var ie=j.dgst;return j=ie,E=Error(r(419)),j=Zx(E,j,void 0),hm(l,d,F,j)}if(ie=(F&l.childLanes)!==0,ca||ie){if(j=on,j!==null){switch(F&-F){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(j.suspendedLanes|F))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,ii(l,S),xs(j,l,S,-1))}return bg(),j=Zx(Error(r(421))),hm(l,d,F,j)}return S.data==="$?"?(d.flags|=128,d.child=l.child,d=yM.bind(null,l),S._reactRetry=d,null):(l=E.treeContext,ka=no(S.nextSibling),Sa=d,fr=!0,fs=null,l!==null&&(Ka[Va++]=ai,Ka[Va++]=si,Ka[Va++]=Vo,ai=l.id,si=l.overflow,Vo=d),d=ag(d,j.children),d.flags|=4096,d)}function A_(l,d,p){l.lanes|=d;var j=l.alternate;j!==null&&(j.lanes|=d),Mx(l.return,d,p)}function sg(l,d,p,j,S){var E=l.memoizedState;E===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:p,tailMode:S}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=j,E.tail=p,E.tailMode=S)}function C_(l,d,p){var j=d.pendingProps,S=j.revealOrder,E=j.tail;if(Vn(l,d,j.children,p),j=vr.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&A_(l,p,d);else if(l.tag===19)A_(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}j&=1}if(rr(vr,j),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(p=d.child,S=null;p!==null;)l=p.alternate,l!==null&&om(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),sg(d,!1,S,p,E);break;case"backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(l=S.alternate,l!==null&&om(l)===null){d.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}sg(d,!0,p,null,E);break;case"together":sg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function pm(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function li(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),Jo|=d.lanes,(p&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=po(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=po(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function oM(l,d,p){switch(d.tag){case 3:S_(d),Zl();break;case 5:W2(d);break;case 1:la(d.type)&&Jf(d);break;case 4:Rx(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,S=d.memoizedProps.value;rr(nm,j._currentValue),j._currentValue=S;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(rr(vr,vr.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?E_(l,d,p):(rr(vr,vr.current&1),l=li(l,d,p),l!==null?l.sibling:null);rr(vr,vr.current&1);break;case 19:if(j=(p&d.childLanes)!==0,(l.flags&128)!==0){if(j)return C_(l,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),rr(vr,vr.current),j)break;return null;case 22:case 23:return d.lanes=0,j_(l,d,p)}return li(l,d,p)}var T_,ig,P_,O_;T_=function(l,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},ig=function(){},P_=function(l,d,p,j){var S=l.memoizedProps;if(S!==j){l=d.stateNode,Xo(Os.current);var E=null;switch(p){case"input":S=De(l,S),j=De(l,j),E=[];break;case"select":S=me({},S,{value:void 0}),j=me({},j,{value:void 0}),E=[];break;case"textarea":S=vt(l,S),j=vt(l,j),E=[];break;default:typeof S.onClick!="function"&&typeof j.onClick=="function"&&(l.onclick=Gf)}gr(p,j);var F;p=null;for(Ee in S)if(!j.hasOwnProperty(Ee)&&S.hasOwnProperty(Ee)&&S[Ee]!=null)if(Ee==="style"){var ie=S[Ee];for(F in ie)ie.hasOwnProperty(F)&&(p||(p={}),p[F]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(s.hasOwnProperty(Ee)?E||(E=[]):(E=E||[]).push(Ee,null));for(Ee in j){var fe=j[Ee];if(ie=S?.[Ee],j.hasOwnProperty(Ee)&&fe!==ie&&(fe!=null||ie!=null))if(Ee==="style")if(ie){for(F in ie)!ie.hasOwnProperty(F)||fe&&fe.hasOwnProperty(F)||(p||(p={}),p[F]="");for(F in fe)fe.hasOwnProperty(F)&&ie[F]!==fe[F]&&(p||(p={}),p[F]=fe[F])}else p||(E||(E=[]),E.push(Ee,p)),p=fe;else Ee==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ie=ie?ie.__html:void 0,fe!=null&&ie!==fe&&(E=E||[]).push(Ee,fe)):Ee==="children"?typeof fe!="string"&&typeof fe!="number"||(E=E||[]).push(Ee,""+fe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ee)?(fe!=null&&Ee==="onScroll"&&ir("scroll",l),E||ie===fe||(E=[])):(E=E||[]).push(Ee,fe))}p&&(E=E||[]).push("style",p);var Ee=E;(d.updateQueue=Ee)&&(d.flags|=4)}},O_=function(l,d,p,j){p!==j&&(d.flags|=4)};function Kd(l,d){if(!fr)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var j=null;p!==null;)p.alternate!==null&&(j=p),p=p.sibling;j===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:j.sibling=null}}function Mn(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,j=0;if(d)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,j|=S.subtreeFlags&14680064,j|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,j|=S.subtreeFlags,j|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=j,l.childLanes=p,d}function lM(l,d,p){var j=d.pendingProps;switch(Ax(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(d),null;case 1:return la(d.type)&&Yf(),Mn(d),null;case 3:return j=d.stateNode,rc(),or(oa),or(In),Bx(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(l===null||l.child===null)&&(tm(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,fs!==null&&(gg(fs),fs=null))),ig(l,d),Mn(d),null;case 5:$x(d);var S=Xo(zd.current);if(p=d.type,l!==null&&d.stateNode!=null)P_(l,d,p,j,S),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(r(166));return Mn(d),null}if(l=Xo(Os.current),tm(d)){j=d.stateNode,p=d.type;var E=d.memoizedProps;switch(j[Ps]=d,j[Md]=E,l=(d.mode&1)!==0,p){case"dialog":ir("cancel",j),ir("close",j);break;case"iframe":case"object":case"embed":ir("load",j);break;case"video":case"audio":for(S=0;S<Od.length;S++)ir(Od[S],j);break;case"source":ir("error",j);break;case"img":case"image":case"link":ir("error",j),ir("load",j);break;case"details":ir("toggle",j);break;case"input":Ce(j,E),ir("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!E.multiple},ir("invalid",j);break;case"textarea":St(j,E),ir("invalid",j)}gr(p,E),S=null;for(var F in E)if(E.hasOwnProperty(F)){var ie=E[F];F==="children"?typeof ie=="string"?j.textContent!==ie&&(E.suppressHydrationWarning!==!0&&qf(j.textContent,ie,l),S=["children",ie]):typeof ie=="number"&&j.textContent!==""+ie&&(E.suppressHydrationWarning!==!0&&qf(j.textContent,ie,l),S=["children",""+ie]):s.hasOwnProperty(F)&&ie!=null&&F==="onScroll"&&ir("scroll",j)}switch(p){case"input":ge(j),it(j,E,!0);break;case"textarea":ge(j),wr(j);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(j.onclick=Gf)}j=S,d.updateQueue=j,j!==null&&(d.flags|=4)}else{F=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=wt(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=F.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof j.is=="string"?l=F.createElement(p,{is:j.is}):(l=F.createElement(p),p==="select"&&(F=l,j.multiple?F.multiple=!0:j.size&&(F.size=j.size))):l=F.createElementNS(l,p),l[Ps]=d,l[Md]=j,T_(l,d,!1,!1),d.stateNode=l;e:{switch(F=wa(p,j),p){case"dialog":ir("cancel",l),ir("close",l),S=j;break;case"iframe":case"object":case"embed":ir("load",l),S=j;break;case"video":case"audio":for(S=0;S<Od.length;S++)ir(Od[S],l);S=j;break;case"source":ir("error",l),S=j;break;case"img":case"image":case"link":ir("error",l),ir("load",l),S=j;break;case"details":ir("toggle",l),S=j;break;case"input":Ce(l,j),S=De(l,j),ir("invalid",l);break;case"option":S=j;break;case"select":l._wrapperState={wasMultiple:!!j.multiple},S=me({},j,{value:void 0}),ir("invalid",l);break;case"textarea":St(l,j),S=vt(l,j),ir("invalid",l);break;default:S=j}gr(p,S),ie=S;for(E in ie)if(ie.hasOwnProperty(E)){var fe=ie[E];E==="style"?Cr(l,fe):E==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&Te(l,fe)):E==="children"?typeof fe=="string"?(p!=="textarea"||fe!=="")&&Ie(l,fe):typeof fe=="number"&&Ie(l,""+fe):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?fe!=null&&E==="onScroll"&&ir("scroll",l):fe!=null&&k(l,E,fe,F))}switch(p){case"input":ge(l),it(l,j,!1);break;case"textarea":ge(l),wr(l);break;case"option":j.value!=null&&l.setAttribute("value",""+Se(j.value));break;case"select":l.multiple=!!j.multiple,E=j.value,E!=null?at(l,!!j.multiple,E,!1):j.defaultValue!=null&&at(l,!!j.multiple,j.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Gf)}switch(p){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Mn(d),null;case 6:if(l&&d.stateNode!=null)O_(l,d,l.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(r(166));if(p=Xo(zd.current),Xo(Os.current),tm(d)){if(j=d.stateNode,p=d.memoizedProps,j[Ps]=d,(E=j.nodeValue!==p)&&(l=Sa,l!==null))switch(l.tag){case 3:qf(j.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&qf(j.nodeValue,p,(l.mode&1)!==0)}E&&(d.flags|=4)}else j=(p.nodeType===9?p:p.ownerDocument).createTextNode(j),j[Ps]=d,d.stateNode=j}return Mn(d),null;case 13:if(or(vr),j=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(fr&&ka!==null&&(d.mode&1)!==0&&(d.flags&128)===0)M2(),Zl(),d.flags|=98560,E=!1;else if(E=tm(d),j!==null&&j.dehydrated!==null){if(l===null){if(!E)throw Error(r(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Ps]=d}else Zl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Mn(d),E=!1}else fs!==null&&(gg(fs),fs=null),E=!0;if(!E)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(j=j!==null,j!==(l!==null&&l.memoizedState!==null)&&j&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(vr.current&1)!==0?Gr===0&&(Gr=3):bg())),d.updateQueue!==null&&(d.flags|=4),Mn(d),null);case 4:return rc(),ig(l,d),l===null&&Id(d.stateNode.containerInfo),Mn(d),null;case 10:return Dx(d.type._context),Mn(d),null;case 17:return la(d.type)&&Yf(),Mn(d),null;case 19:if(or(vr),E=d.memoizedState,E===null)return Mn(d),null;if(j=(d.flags&128)!==0,F=E.rendering,F===null)if(j)Kd(E,!1);else{if(Gr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(F=om(l),F!==null){for(d.flags|=128,Kd(E,!1),j=F.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=p,p=d.child;p!==null;)E=p,l=j,E.flags&=14680066,F=E.alternate,F===null?(E.childLanes=0,E.lanes=l,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=F.childLanes,E.lanes=F.lanes,E.child=F.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=F.memoizedProps,E.memoizedState=F.memoizedState,E.updateQueue=F.updateQueue,E.type=F.type,l=F.dependencies,E.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return rr(vr,vr.current&1|2),d.child}l=l.sibling}E.tail!==null&&We()>ic&&(d.flags|=128,j=!0,Kd(E,!1),d.lanes=4194304)}else{if(!j)if(l=om(F),l!==null){if(d.flags|=128,j=!0,p=l.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),Kd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!F.alternate&&!fr)return Mn(d),null}else 2*We()-E.renderingStartTime>ic&&p!==1073741824&&(d.flags|=128,j=!0,Kd(E,!1),d.lanes=4194304);E.isBackwards?(F.sibling=d.child,d.child=F):(p=E.last,p!==null?p.sibling=F:d.child=F,E.last=F)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=We(),d.sibling=null,p=vr.current,rr(vr,j?p&1|2:p&1),d):(Mn(d),null);case 22:case 23:return yg(),j=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==j&&(d.flags|=8192),j&&(d.mode&1)!==0?(Ea&1073741824)!==0&&(Mn(d),d.subtreeFlags&6&&(d.flags|=8192)):Mn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function cM(l,d){switch(Ax(d),d.tag){case 1:return la(d.type)&&Yf(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return rc(),or(oa),or(In),Bx(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return $x(d),null;case 13:if(or(vr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Zl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return or(vr),null;case 4:return rc(),null;case 10:return Dx(d.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var xm=!1,Fn=!1,dM=typeof WeakSet=="function"?WeakSet:Set,rt=null;function ac(l,d){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(j){jr(l,d,j)}else p.current=null}function og(l,d,p){try{p()}catch(j){jr(l,d,j)}}var I_=!1;function uM(l,d){if(yx=Ff,l=u2(),ux(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var j=p.getSelection&&p.getSelection();if(j&&j.rangeCount!==0){p=j.anchorNode;var S=j.anchorOffset,E=j.focusNode;j=j.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var F=0,ie=-1,fe=-1,Ee=0,Le=0,ze=l,Fe=null;t:for(;;){for(var Ze;ze!==p||S!==0&&ze.nodeType!==3||(ie=F+S),ze!==E||j!==0&&ze.nodeType!==3||(fe=F+j),ze.nodeType===3&&(F+=ze.nodeValue.length),(Ze=ze.firstChild)!==null;)Fe=ze,ze=Ze;for(;;){if(ze===l)break t;if(Fe===p&&++Ee===S&&(ie=F),Fe===E&&++Le===j&&(fe=F),(Ze=ze.nextSibling)!==null)break;ze=Fe,Fe=ze.parentNode}ze=Ze}p=ie===-1||fe===-1?null:{start:ie,end:fe}}else p=null}p=p||{start:0,end:0}}else p=null;for(bx={focusedElem:l,selectionRange:p},Ff=!1,rt=d;rt!==null;)if(d=rt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,rt=l;else for(;rt!==null;){d=rt;try{var ot=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var dt=ot.memoizedProps,Or=ot.memoizedState,we=d.stateNode,pe=we.getSnapshotBeforeUpdate(d.elementType===d.type?dt:ms(d.type,dt),Or);we.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var Ne=d.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){jr(d,d.return,Ke)}if(l=d.sibling,l!==null){l.return=d.return,rt=l;break}rt=d.return}return ot=I_,I_=!1,ot}function Vd(l,d,p){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var S=j=j.next;do{if((S.tag&l)===l){var E=S.destroy;S.destroy=void 0,E!==void 0&&og(d,p,E)}S=S.next}while(S!==j)}}function gm(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&l)===l){var j=p.create;p.destroy=j()}p=p.next}while(p!==d)}}function lg(l){var d=l.ref;if(d!==null){var p=l.stateNode;l.tag,l=p,typeof d=="function"?d(l):d.current=l}}function D_(l){var d=l.alternate;d!==null&&(l.alternate=null,D_(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Ps],delete d[Md],delete d[Nx],delete d[qD],delete d[GD])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function M_(l){return l.tag===5||l.tag===3||l.tag===4}function F_(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||M_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function cg(l,d,p){var j=l.tag;if(j===5||j===6)l=l.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(l,d):p.insertBefore(l,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(l,p)):(d=p,d.appendChild(l)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Gf));else if(j!==4&&(l=l.child,l!==null))for(cg(l,d,p),l=l.sibling;l!==null;)cg(l,d,p),l=l.sibling}function dg(l,d,p){var j=l.tag;if(j===5||j===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(j!==4&&(l=l.child,l!==null))for(dg(l,d,p),l=l.sibling;l!==null;)dg(l,d,p),l=l.sibling}var bn=null,hs=!1;function co(l,d,p){for(p=p.child;p!==null;)L_(l,d,p),p=p.sibling}function L_(l,d,p){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ts,p)}catch{}switch(p.tag){case 5:Fn||ac(p,d);case 6:var j=bn,S=hs;bn=null,co(l,d,p),bn=j,hs=S,bn!==null&&(hs?(l=bn,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):bn.removeChild(p.stateNode));break;case 18:bn!==null&&(hs?(l=bn,p=p.stateNode,l.nodeType===8?_x(l.parentNode,p):l.nodeType===1&&_x(l,p),Nd(l)):_x(bn,p.stateNode));break;case 4:j=bn,S=hs,bn=p.stateNode.containerInfo,hs=!0,co(l,d,p),bn=j,hs=S;break;case 0:case 11:case 14:case 15:if(!Fn&&(j=p.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){S=j=j.next;do{var E=S,F=E.destroy;E=E.tag,F!==void 0&&((E&2)!==0||(E&4)!==0)&&og(p,d,F),S=S.next}while(S!==j)}co(l,d,p);break;case 1:if(!Fn&&(ac(p,d),j=p.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=p.memoizedProps,j.state=p.memoizedState,j.componentWillUnmount()}catch(ie){jr(p,d,ie)}co(l,d,p);break;case 21:co(l,d,p);break;case 22:p.mode&1?(Fn=(j=Fn)||p.memoizedState!==null,co(l,d,p),Fn=j):co(l,d,p);break;default:co(l,d,p)}}function R_(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new dM),d.forEach(function(j){var S=bM.bind(null,l,j);p.has(j)||(p.add(j),j.then(S,S))})}}function ps(l,d){var p=d.deletions;if(p!==null)for(var j=0;j<p.length;j++){var S=p[j];try{var E=l,F=d,ie=F;e:for(;ie!==null;){switch(ie.tag){case 5:bn=ie.stateNode,hs=!1;break e;case 3:bn=ie.stateNode.containerInfo,hs=!0;break e;case 4:bn=ie.stateNode.containerInfo,hs=!0;break e}ie=ie.return}if(bn===null)throw Error(r(160));L_(E,F,S),bn=null,hs=!1;var fe=S.alternate;fe!==null&&(fe.return=null),S.return=null}catch(Ee){jr(S,d,Ee)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)$_(d,l),d=d.sibling}function $_(l,d){var p=l.alternate,j=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ps(d,l),Ds(l),j&4){try{Vd(3,l,l.return),gm(3,l)}catch(dt){jr(l,l.return,dt)}try{Vd(5,l,l.return)}catch(dt){jr(l,l.return,dt)}}break;case 1:ps(d,l),Ds(l),j&512&&p!==null&&ac(p,p.return);break;case 5:if(ps(d,l),Ds(l),j&512&&p!==null&&ac(p,p.return),l.flags&32){var S=l.stateNode;try{Ie(S,"")}catch(dt){jr(l,l.return,dt)}}if(j&4&&(S=l.stateNode,S!=null)){var E=l.memoizedProps,F=p!==null?p.memoizedProps:E,ie=l.type,fe=l.updateQueue;if(l.updateQueue=null,fe!==null)try{ie==="input"&&E.type==="radio"&&E.name!=null&&Ae(S,E),wa(ie,F);var Ee=wa(ie,E);for(F=0;F<fe.length;F+=2){var Le=fe[F],ze=fe[F+1];Le==="style"?Cr(S,ze):Le==="dangerouslySetInnerHTML"?Te(S,ze):Le==="children"?Ie(S,ze):k(S,Le,ze,Ee)}switch(ie){case"input":je(S,E);break;case"textarea":yt(S,E);break;case"select":var Fe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var Ze=E.value;Ze!=null?at(S,!!E.multiple,Ze,!1):Fe!==!!E.multiple&&(E.defaultValue!=null?at(S,!!E.multiple,E.defaultValue,!0):at(S,!!E.multiple,E.multiple?[]:"",!1))}S[Md]=E}catch(dt){jr(l,l.return,dt)}}break;case 6:if(ps(d,l),Ds(l),j&4){if(l.stateNode===null)throw Error(r(162));S=l.stateNode,E=l.memoizedProps;try{S.nodeValue=E}catch(dt){jr(l,l.return,dt)}}break;case 3:if(ps(d,l),Ds(l),j&4&&p!==null&&p.memoizedState.isDehydrated)try{Nd(d.containerInfo)}catch(dt){jr(l,l.return,dt)}break;case 4:ps(d,l),Ds(l);break;case 13:ps(d,l),Ds(l),S=l.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(mg=We())),j&4&&R_(l);break;case 22:if(Le=p!==null&&p.memoizedState!==null,l.mode&1?(Fn=(Ee=Fn)||Le,ps(d,l),Fn=Ee):ps(d,l),Ds(l),j&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Le&&(l.mode&1)!==0)for(rt=l,Le=l.child;Le!==null;){for(ze=rt=Le;rt!==null;){switch(Fe=rt,Ze=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Vd(4,Fe,Fe.return);break;case 1:ac(Fe,Fe.return);var ot=Fe.stateNode;if(typeof ot.componentWillUnmount=="function"){j=Fe,p=Fe.return;try{d=j,ot.props=d.memoizedProps,ot.state=d.memoizedState,ot.componentWillUnmount()}catch(dt){jr(j,p,dt)}}break;case 5:ac(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){U_(ze);continue}}Ze!==null?(Ze.return=Fe,rt=Ze):U_(ze)}Le=Le.sibling}e:for(Le=null,ze=l;;){if(ze.tag===5){if(Le===null){Le=ze;try{S=ze.stateNode,Ee?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(ie=ze.stateNode,fe=ze.memoizedProps.style,F=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ie.style.display=Ye("display",F))}catch(dt){jr(l,l.return,dt)}}}else if(ze.tag===6){if(Le===null)try{ze.stateNode.nodeValue=Ee?"":ze.memoizedProps}catch(dt){jr(l,l.return,dt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===l)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===l)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===l)break e;Le===ze&&(Le=null),ze=ze.return}Le===ze&&(Le=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:ps(d,l),Ds(l),j&4&&R_(l);break;case 21:break;default:ps(d,l),Ds(l)}}function Ds(l){var d=l.flags;if(d&2){try{e:{for(var p=l.return;p!==null;){if(M_(p)){var j=p;break e}p=p.return}throw Error(r(160))}switch(j.tag){case 5:var S=j.stateNode;j.flags&32&&(Ie(S,""),j.flags&=-33);var E=F_(l);dg(l,E,S);break;case 3:case 4:var F=j.stateNode.containerInfo,ie=F_(l);cg(l,ie,F);break;default:throw Error(r(161))}}catch(fe){jr(l,l.return,fe)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function fM(l,d,p){rt=l,z_(l)}function z_(l,d,p){for(var j=(l.mode&1)!==0;rt!==null;){var S=rt,E=S.child;if(S.tag===22&&j){var F=S.memoizedState!==null||xm;if(!F){var ie=S.alternate,fe=ie!==null&&ie.memoizedState!==null||Fn;ie=xm;var Ee=Fn;if(xm=F,(Fn=fe)&&!Ee)for(rt=S;rt!==null;)F=rt,fe=F.child,F.tag===22&&F.memoizedState!==null?W_(S):fe!==null?(fe.return=F,rt=fe):W_(S);for(;E!==null;)rt=E,z_(E),E=E.sibling;rt=S,xm=ie,Fn=Ee}B_(l)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,rt=E):B_(l)}}function B_(l){for(;rt!==null;){var d=rt;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Fn||gm(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!Fn)if(p===null)j.componentDidMount();else{var S=d.elementType===d.type?p.memoizedProps:ms(d.type,p.memoizedProps);j.componentDidUpdate(S,p.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var E=d.updateQueue;E!==null&&U2(d,E,j);break;case 3:var F=d.updateQueue;if(F!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}U2(d,F,p)}break;case 5:var ie=d.stateNode;if(p===null&&d.flags&4){p=ie;var fe=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&p.focus();break;case"img":fe.src&&(p.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ee=d.alternate;if(Ee!==null){var Le=Ee.memoizedState;if(Le!==null){var ze=Le.dehydrated;ze!==null&&Nd(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Fn||d.flags&512&&lg(d)}catch(Fe){jr(d,d.return,Fe)}}if(d===l){rt=null;break}if(p=d.sibling,p!==null){p.return=d.return,rt=p;break}rt=d.return}}function U_(l){for(;rt!==null;){var d=rt;if(d===l){rt=null;break}var p=d.sibling;if(p!==null){p.return=d.return,rt=p;break}rt=d.return}}function W_(l){for(;rt!==null;){var d=rt;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{gm(4,d)}catch(fe){jr(d,p,fe)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var S=d.return;try{j.componentDidMount()}catch(fe){jr(d,S,fe)}}var E=d.return;try{lg(d)}catch(fe){jr(d,E,fe)}break;case 5:var F=d.return;try{lg(d)}catch(fe){jr(d,F,fe)}}}catch(fe){jr(d,d.return,fe)}if(d===l){rt=null;break}var ie=d.sibling;if(ie!==null){ie.return=d.return,rt=ie;break}rt=d.return}}var mM=Math.ceil,vm=A.ReactCurrentDispatcher,ug=A.ReactCurrentOwner,Xa=A.ReactCurrentBatchConfig,Ot=0,on=null,Rr=null,wn=0,Ea=0,sc=ao(0),Gr=0,qd=null,Jo=0,ym=0,fg=0,Gd=null,da=null,mg=0,ic=1/0,ci=null,bm=!1,hg=null,uo=null,wm=!1,fo=null,jm=0,Xd=0,pg=null,_m=-1,Nm=0;function qn(){return(Ot&6)!==0?We():_m!==-1?_m:_m=We()}function mo(l){return(l.mode&1)===0?1:(Ot&2)!==0&&wn!==0?wn&-wn:YD.transition!==null?(Nm===0&&(Nm=Fj()),Nm):(l=Ut,l!==0||(l=window.event,l=l===void 0?16:Kj(l.type)),l)}function xs(l,d,p,j){if(50<Xd)throw Xd=0,pg=null,Error(r(185));yd(l,p,j),((Ot&2)===0||l!==on)&&(l===on&&((Ot&2)===0&&(ym|=p),Gr===4&&ho(l,wn)),ua(l,j),p===1&&Ot===0&&(d.mode&1)===0&&(ic=We()+500,Zf&&io()))}function ua(l,d){var p=l.callbackNode;YI(l,d);var j=If(l,l===on?wn:0);if(j===0)p!==null&&$e(p),l.callbackNode=null,l.callbackPriority=0;else if(d=j&-j,l.callbackPriority!==d){if(p!=null&&$e(p),d===1)l.tag===0?XD(K_.bind(null,l)):T2(K_.bind(null,l)),KD(function(){(Ot&6)===0&&io()}),p=null;else{switch(Lj(j)){case 1:p=Zt;break;case 4:p=tr;break;case 16:p=Tr;break;case 536870912:p=Yi;break;default:p=Tr}p=Q_(p,H_.bind(null,l))}l.callbackPriority=d,l.callbackNode=p}}function H_(l,d){if(_m=-1,Nm=0,(Ot&6)!==0)throw Error(r(327));var p=l.callbackNode;if(oc()&&l.callbackNode!==p)return null;var j=If(l,l===on?wn:0);if(j===0)return null;if((j&30)!==0||(j&l.expiredLanes)!==0||d)d=Sm(l,j);else{d=j;var S=Ot;Ot|=2;var E=q_();(on!==l||wn!==d)&&(ci=null,ic=We()+500,Qo(l,d));do try{xM();break}catch(ie){V_(l,ie)}while(!0);Ix(),vm.current=E,Ot=S,Rr!==null?d=0:(on=null,wn=0,d=Gr)}if(d!==0){if(d===2&&(S=Xp(l),S!==0&&(j=S,d=xg(l,S))),d===1)throw p=qd,Qo(l,0),ho(l,j),ua(l,We()),p;if(d===6)ho(l,j);else{if(S=l.current.alternate,(j&30)===0&&!hM(S)&&(d=Sm(l,j),d===2&&(E=Xp(l),E!==0&&(j=E,d=xg(l,E))),d===1))throw p=qd,Qo(l,0),ho(l,j),ua(l,We()),p;switch(l.finishedWork=S,l.finishedLanes=j,d){case 0:case 1:throw Error(r(345));case 2:el(l,da,ci);break;case 3:if(ho(l,j),(j&130023424)===j&&(d=mg+500-We(),10<d)){if(If(l,0)!==0)break;if(S=l.suspendedLanes,(S&j)!==j){qn(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=jx(el.bind(null,l,da,ci),d);break}el(l,da,ci);break;case 4:if(ho(l,j),(j&4194240)===j)break;for(d=l.eventTimes,S=-1;0<j;){var F=31-Pr(j);E=1<<F,F=d[F],F>S&&(S=F),j&=~E}if(j=S,j=We()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mM(j/1960))-j,10<j){l.timeoutHandle=jx(el.bind(null,l,da,ci),j);break}el(l,da,ci);break;case 5:el(l,da,ci);break;default:throw Error(r(329))}}}return ua(l,We()),l.callbackNode===p?H_.bind(null,l):null}function xg(l,d){var p=Gd;return l.current.memoizedState.isDehydrated&&(Qo(l,d).flags|=256),l=Sm(l,d),l!==2&&(d=da,da=p,d!==null&&gg(d)),l}function gg(l){da===null?da=l:da.push.apply(da,l)}function hM(l){for(var d=l;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var j=0;j<p.length;j++){var S=p[j],E=S.getSnapshot;S=S.value;try{if(!us(E(),S))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ho(l,d){for(d&=~fg,d&=~ym,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var p=31-Pr(d),j=1<<p;l[p]=-1,d&=~j}}function K_(l){if((Ot&6)!==0)throw Error(r(327));oc();var d=If(l,0);if((d&1)===0)return ua(l,We()),null;var p=Sm(l,d);if(l.tag!==0&&p===2){var j=Xp(l);j!==0&&(d=j,p=xg(l,j))}if(p===1)throw p=qd,Qo(l,0),ho(l,d),ua(l,We()),p;if(p===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,el(l,da,ci),ua(l,We()),null}function vg(l,d){var p=Ot;Ot|=1;try{return l(d)}finally{Ot=p,Ot===0&&(ic=We()+500,Zf&&io())}}function Zo(l){fo!==null&&fo.tag===0&&(Ot&6)===0&&oc();var d=Ot;Ot|=1;var p=Xa.transition,j=Ut;try{if(Xa.transition=null,Ut=1,l)return l()}finally{Ut=j,Xa.transition=p,Ot=d,(Ot&6)===0&&io()}}function yg(){Ea=sc.current,or(sc)}function Qo(l,d){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,HD(p)),Rr!==null)for(p=Rr.return;p!==null;){var j=p;switch(Ax(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Yf();break;case 3:rc(),or(oa),or(In),Bx();break;case 5:$x(j);break;case 4:rc();break;case 13:or(vr);break;case 19:or(vr);break;case 10:Dx(j.type._context);break;case 22:case 23:yg()}p=p.return}if(on=l,Rr=l=po(l.current,null),wn=Ea=d,Gr=0,qd=null,fg=ym=Jo=0,da=Gd=null,Go!==null){for(d=0;d<Go.length;d++)if(p=Go[d],j=p.interleaved,j!==null){p.interleaved=null;var S=j.next,E=p.pending;if(E!==null){var F=E.next;E.next=S,j.next=F}p.pending=j}Go=null}return l}function V_(l,d){do{var p=Rr;try{if(Ix(),lm.current=fm,cm){for(var j=yr.memoizedState;j!==null;){var S=j.queue;S!==null&&(S.pending=null),j=j.next}cm=!1}if(Yo=0,sn=qr=yr=null,Bd=!1,Ud=0,ug.current=null,p===null||p.return===null){Gr=1,qd=d,Rr=null;break}e:{var E=l,F=p.return,ie=p,fe=d;if(d=wn,ie.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,Le=ie,ze=Le.tag;if((Le.mode&1)===0&&(ze===0||ze===11||ze===15)){var Fe=Le.alternate;Fe?(Le.updateQueue=Fe.updateQueue,Le.memoizedState=Fe.memoizedState,Le.lanes=Fe.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Ze=g_(F);if(Ze!==null){Ze.flags&=-257,v_(Ze,F,ie,E,d),Ze.mode&1&&x_(E,Ee,d),d=Ze,fe=Ee;var ot=d.updateQueue;if(ot===null){var dt=new Set;dt.add(fe),d.updateQueue=dt}else ot.add(fe);break e}else{if((d&1)===0){x_(E,Ee,d),bg();break e}fe=Error(r(426))}}else if(fr&&ie.mode&1){var Or=g_(F);if(Or!==null){(Or.flags&65536)===0&&(Or.flags|=256),v_(Or,F,ie,E,d),Px(nc(fe,ie));break e}}E=fe=nc(fe,ie),Gr!==4&&(Gr=2),Gd===null?Gd=[E]:Gd.push(E),E=F;do{switch(E.tag){case 3:E.flags|=65536,d&=-d,E.lanes|=d;var we=h_(E,fe,d);B2(E,we);break e;case 1:ie=fe;var pe=E.type,Ne=E.stateNode;if((E.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(uo===null||!uo.has(Ne)))){E.flags|=65536,d&=-d,E.lanes|=d;var Ke=p_(E,ie,d);B2(E,Ke);break e}}E=E.return}while(E!==null)}X_(p)}catch(ut){d=ut,Rr===p&&p!==null&&(Rr=p=p.return);continue}break}while(!0)}function q_(){var l=vm.current;return vm.current=fm,l===null?fm:l}function bg(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),on===null||(Jo&268435455)===0&&(ym&268435455)===0||ho(on,wn)}function Sm(l,d){var p=Ot;Ot|=2;var j=q_();(on!==l||wn!==d)&&(ci=null,Qo(l,d));do try{pM();break}catch(S){V_(l,S)}while(!0);if(Ix(),Ot=p,vm.current=j,Rr!==null)throw Error(r(261));return on=null,wn=0,Gr}function pM(){for(;Rr!==null;)G_(Rr)}function xM(){for(;Rr!==null&&!Qe();)G_(Rr)}function G_(l){var d=Z_(l.alternate,l,Ea);l.memoizedProps=l.pendingProps,d===null?X_(l):Rr=d,ug.current=null}function X_(l){var d=l;do{var p=d.alternate;if(l=d.return,(d.flags&32768)===0){if(p=lM(p,d,Ea),p!==null){Rr=p;return}}else{if(p=cM(p,d),p!==null){p.flags&=32767,Rr=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Gr=6,Rr=null;return}}if(d=d.sibling,d!==null){Rr=d;return}Rr=d=l}while(d!==null);Gr===0&&(Gr=5)}function el(l,d,p){var j=Ut,S=Xa.transition;try{Xa.transition=null,Ut=1,gM(l,d,p,j)}finally{Xa.transition=S,Ut=j}return null}function gM(l,d,p,j){do oc();while(fo!==null);if((Ot&6)!==0)throw Error(r(327));p=l.finishedWork;var S=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var E=p.lanes|p.childLanes;if(JI(l,E),l===on&&(Rr=on=null,wn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||wm||(wm=!0,Q_(Tr,function(){return oc(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=Xa.transition,Xa.transition=null;var F=Ut;Ut=1;var ie=Ot;Ot|=4,ug.current=null,uM(l,p),$_(p,l),LD(bx),Ff=!!yx,bx=yx=null,l.current=p,fM(p),He(),Ot=ie,Ut=F,Xa.transition=E}else l.current=p;if(wm&&(wm=!1,fo=l,jm=S),E=l.pendingLanes,E===0&&(uo=null),gd(p.stateNode),ua(l,We()),d!==null)for(j=l.onRecoverableError,p=0;p<d.length;p++)S=d[p],j(S.value,{componentStack:S.stack,digest:S.digest});if(bm)throw bm=!1,l=hg,hg=null,l;return(jm&1)!==0&&l.tag!==0&&oc(),E=l.pendingLanes,(E&1)!==0?l===pg?Xd++:(Xd=0,pg=l):Xd=0,io(),null}function oc(){if(fo!==null){var l=Lj(jm),d=Xa.transition,p=Ut;try{if(Xa.transition=null,Ut=16>l?16:l,fo===null)var j=!1;else{if(l=fo,fo=null,jm=0,(Ot&6)!==0)throw Error(r(331));var S=Ot;for(Ot|=4,rt=l.current;rt!==null;){var E=rt,F=E.child;if((rt.flags&16)!==0){var ie=E.deletions;if(ie!==null){for(var fe=0;fe<ie.length;fe++){var Ee=ie[fe];for(rt=Ee;rt!==null;){var Le=rt;switch(Le.tag){case 0:case 11:case 15:Vd(8,Le,E)}var ze=Le.child;if(ze!==null)ze.return=Le,rt=ze;else for(;rt!==null;){Le=rt;var Fe=Le.sibling,Ze=Le.return;if(D_(Le),Le===Ee){rt=null;break}if(Fe!==null){Fe.return=Ze,rt=Fe;break}rt=Ze}}}var ot=E.alternate;if(ot!==null){var dt=ot.child;if(dt!==null){ot.child=null;do{var Or=dt.sibling;dt.sibling=null,dt=Or}while(dt!==null)}}rt=E}}if((E.subtreeFlags&2064)!==0&&F!==null)F.return=E,rt=F;else e:for(;rt!==null;){if(E=rt,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Vd(9,E,E.return)}var we=E.sibling;if(we!==null){we.return=E.return,rt=we;break e}rt=E.return}}var pe=l.current;for(rt=pe;rt!==null;){F=rt;var Ne=F.child;if((F.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=F,rt=Ne;else e:for(F=pe;rt!==null;){if(ie=rt,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:gm(9,ie)}}catch(ut){jr(ie,ie.return,ut)}if(ie===F){rt=null;break e}var Ke=ie.sibling;if(Ke!==null){Ke.return=ie.return,rt=Ke;break e}rt=ie.return}}if(Ot=S,io(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ts,l)}catch{}j=!0}return j}finally{Ut=p,Xa.transition=d}}return!1}function Y_(l,d,p){d=nc(p,d),d=h_(l,d,1),l=lo(l,d,1),d=qn(),l!==null&&(yd(l,1,d),ua(l,d))}function jr(l,d,p){if(l.tag===3)Y_(l,l,p);else for(;d!==null;){if(d.tag===3){Y_(d,l,p);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(uo===null||!uo.has(j))){l=nc(p,l),l=p_(d,l,1),d=lo(d,l,1),l=qn(),d!==null&&(yd(d,1,l),ua(d,l));break}}d=d.return}}function vM(l,d,p){var j=l.pingCache;j!==null&&j.delete(d),d=qn(),l.pingedLanes|=l.suspendedLanes&p,on===l&&(wn&p)===p&&(Gr===4||Gr===3&&(wn&130023424)===wn&&500>We()-mg?Qo(l,0):fg|=p),ua(l,d)}function J_(l,d){d===0&&((l.mode&1)===0?d=1:(d=Of,Of<<=1,(Of&130023424)===0&&(Of=4194304)));var p=qn();l=ii(l,d),l!==null&&(yd(l,d,p),ua(l,p))}function yM(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),J_(l,p)}function bM(l,d){var p=0;switch(l.tag){case 13:var j=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:j=l.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(d),J_(l,p)}var Z_;Z_=function(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps||oa.current)ca=!0;else{if((l.lanes&p)===0&&(d.flags&128)===0)return ca=!1,oM(l,d,p);ca=(l.flags&131072)!==0}else ca=!1,fr&&(d.flags&1048576)!==0&&P2(d,em,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;pm(l,d),l=d.pendingProps;var S=Xl(d,In.current);tc(d,p),S=Hx(null,d,j,l,S,p);var E=Kx();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,la(j)?(E=!0,Jf(d)):E=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Lx(d),S.updater=mm,d.stateNode=S,S._reactInternals=d,Jx(d,j,l,p),d=tg(null,d,j,!0,E,p)):(d.tag=0,fr&&E&&Ex(d),Vn(null,d,S,p),d=d.child),d;case 16:j=d.elementType;e:{switch(pm(l,d),l=d.pendingProps,S=j._init,j=S(j._payload),d.type=j,S=d.tag=jM(j),l=ms(j,l),S){case 0:d=eg(null,d,j,l,p);break e;case 1:d=N_(null,d,j,l,p);break e;case 11:d=y_(null,d,j,l,p);break e;case 14:d=b_(null,d,j,ms(j.type,l),p);break e}throw Error(r(306,j,""))}return d;case 0:return j=d.type,S=d.pendingProps,S=d.elementType===j?S:ms(j,S),eg(l,d,j,S,p);case 1:return j=d.type,S=d.pendingProps,S=d.elementType===j?S:ms(j,S),N_(l,d,j,S,p);case 3:e:{if(S_(d),l===null)throw Error(r(387));j=d.pendingProps,E=d.memoizedState,S=E.element,z2(l,d),im(d,j,null,p);var F=d.memoizedState;if(j=F.element,E.isDehydrated)if(E={element:j,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){S=nc(Error(r(423)),d),d=k_(l,d,j,p,S);break e}else if(j!==S){S=nc(Error(r(424)),d),d=k_(l,d,j,p,S);break e}else for(ka=no(d.stateNode.containerInfo.firstChild),Sa=d,fr=!0,fs=null,p=R2(d,null,j,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Zl(),j===S){d=li(l,d,p);break e}Vn(l,d,j,p)}d=d.child}return d;case 5:return W2(d),l===null&&Tx(d),j=d.type,S=d.pendingProps,E=l!==null?l.memoizedProps:null,F=S.children,wx(j,S)?F=null:E!==null&&wx(j,E)&&(d.flags|=32),__(l,d),Vn(l,d,F,p),d.child;case 6:return l===null&&Tx(d),null;case 13:return E_(l,d,p);case 4:return Rx(d,d.stateNode.containerInfo),j=d.pendingProps,l===null?d.child=Ql(d,null,j,p):Vn(l,d,j,p),d.child;case 11:return j=d.type,S=d.pendingProps,S=d.elementType===j?S:ms(j,S),y_(l,d,j,S,p);case 7:return Vn(l,d,d.pendingProps,p),d.child;case 8:return Vn(l,d,d.pendingProps.children,p),d.child;case 12:return Vn(l,d,d.pendingProps.children,p),d.child;case 10:e:{if(j=d.type._context,S=d.pendingProps,E=d.memoizedProps,F=S.value,rr(nm,j._currentValue),j._currentValue=F,E!==null)if(us(E.value,F)){if(E.children===S.children&&!oa.current){d=li(l,d,p);break e}}else for(E=d.child,E!==null&&(E.return=d);E!==null;){var ie=E.dependencies;if(ie!==null){F=E.child;for(var fe=ie.firstContext;fe!==null;){if(fe.context===j){if(E.tag===1){fe=oi(-1,p&-p),fe.tag=2;var Ee=E.updateQueue;if(Ee!==null){Ee=Ee.shared;var Le=Ee.pending;Le===null?fe.next=fe:(fe.next=Le.next,Le.next=fe),Ee.pending=fe}}E.lanes|=p,fe=E.alternate,fe!==null&&(fe.lanes|=p),Mx(E.return,p,d),ie.lanes|=p;break}fe=fe.next}}else if(E.tag===10)F=E.type===d.type?null:E.child;else if(E.tag===18){if(F=E.return,F===null)throw Error(r(341));F.lanes|=p,ie=F.alternate,ie!==null&&(ie.lanes|=p),Mx(F,p,d),F=E.sibling}else F=E.child;if(F!==null)F.return=E;else for(F=E;F!==null;){if(F===d){F=null;break}if(E=F.sibling,E!==null){E.return=F.return,F=E;break}F=F.return}E=F}Vn(l,d,S.children,p),d=d.child}return d;case 9:return S=d.type,j=d.pendingProps.children,tc(d,p),S=qa(S),j=j(S),d.flags|=1,Vn(l,d,j,p),d.child;case 14:return j=d.type,S=ms(j,d.pendingProps),S=ms(j.type,S),b_(l,d,j,S,p);case 15:return w_(l,d,d.type,d.pendingProps,p);case 17:return j=d.type,S=d.pendingProps,S=d.elementType===j?S:ms(j,S),pm(l,d),d.tag=1,la(j)?(l=!0,Jf(d)):l=!1,tc(d,p),f_(d,j,S),Jx(d,j,S,p),tg(null,d,j,!0,l,p);case 19:return C_(l,d,p);case 22:return j_(l,d,p)}throw Error(r(156,d.tag))};function Q_(l,d){return Pe(l,d)}function wM(l,d,p,j){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(l,d,p,j){return new wM(l,d,p,j)}function wg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function jM(l){if(typeof l=="function")return wg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===U)return 11;if(l===he)return 14}return 2}function po(l,d){var p=l.alternate;return p===null?(p=Ya(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function km(l,d,p,j,S,E){var F=2;if(j=l,typeof l=="function")wg(l)&&(F=1);else if(typeof l=="string")F=5;else e:switch(l){case O:return tl(p.children,S,E,d);case D:F=8,S|=8;break;case P:return l=Ya(12,p,d,S|2),l.elementType=P,l.lanes=E,l;case J:return l=Ya(13,p,d,S),l.elementType=J,l.lanes=E,l;case W:return l=Ya(19,p,d,S),l.elementType=W,l.lanes=E,l;case be:return Em(p,S,E,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:F=10;break e;case V:F=9;break e;case U:F=11;break e;case he:F=14;break e;case X:F=16,j=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=Ya(F,p,d,S),d.elementType=l,d.type=j,d.lanes=E,d}function tl(l,d,p,j){return l=Ya(7,l,j,d),l.lanes=p,l}function Em(l,d,p,j){return l=Ya(22,l,j,d),l.elementType=be,l.lanes=p,l.stateNode={isHidden:!1},l}function jg(l,d,p){return l=Ya(6,l,null,d),l.lanes=p,l}function _g(l,d,p){return d=Ya(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function _M(l,d,p,j,S){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=j,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Ng(l,d,p,j,S,E,F,ie,fe){return l=new _M(l,d,p,ie,fe),d===1?(d=1,E===!0&&(d|=8)):d=0,E=Ya(3,null,null,d),l.current=E,E.stateNode=l,E.memoizedState={element:j,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(E),l}function NM(l,d,p){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:j==null?null:""+j,children:l,containerInfo:d,implementation:p}}function eN(l){if(!l)return so;l=l._reactInternals;e:{if(re(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(la(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var p=l.type;if(la(p))return A2(l,p,d)}return d}function tN(l,d,p,j,S,E,F,ie,fe){return l=Ng(p,j,!0,l,S,E,F,ie,fe),l.context=eN(null),p=l.current,j=qn(),S=mo(p),E=oi(j,S),E.callback=d??null,lo(p,E,S),l.current.lanes=S,yd(l,S,j),ua(l,j),l}function Am(l,d,p,j){var S=d.current,E=qn(),F=mo(S);return p=eN(p),d.context===null?d.context=p:d.pendingContext=p,d=oi(E,F),d.payload={element:l},j=j===void 0?null:j,j!==null&&(d.callback=j),l=lo(S,d,F),l!==null&&(xs(l,S,F,E),sm(l,S,F)),F}function Cm(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function rN(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function Sg(l,d){rN(l,d),(l=l.alternate)&&rN(l,d)}function SM(){return null}var nN=typeof reportError=="function"?reportError:function(l){console.error(l)};function kg(l){this._internalRoot=l}Tm.prototype.render=kg.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));Am(l,d,null,null)},Tm.prototype.unmount=kg.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Zo(function(){Am(null,l,null,null)}),d[ri]=null}};function Tm(l){this._internalRoot=l}Tm.prototype.unstable_scheduleHydration=function(l){if(l){var d=zj();l={blockedOn:null,target:l,priority:d};for(var p=0;p<eo.length&&d!==0&&d<eo[p].priority;p++);eo.splice(p,0,l),p===0&&Wj(l)}};function Eg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Pm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function aN(){}function kM(l,d,p,j,S){if(S){if(typeof j=="function"){var E=j;j=function(){var Ee=Cm(F);E.call(Ee)}}var F=tN(d,j,l,0,null,!1,!1,"",aN);return l._reactRootContainer=F,l[ri]=F.current,Id(l.nodeType===8?l.parentNode:l),Zo(),F}for(;S=l.lastChild;)l.removeChild(S);if(typeof j=="function"){var ie=j;j=function(){var Ee=Cm(fe);ie.call(Ee)}}var fe=Ng(l,0,!1,null,null,!1,!1,"",aN);return l._reactRootContainer=fe,l[ri]=fe.current,Id(l.nodeType===8?l.parentNode:l),Zo(function(){Am(d,fe,p,j)}),fe}function Om(l,d,p,j,S){var E=p._reactRootContainer;if(E){var F=E;if(typeof S=="function"){var ie=S;S=function(){var fe=Cm(F);ie.call(fe)}}Am(d,F,l,S)}else F=kM(p,d,l,S,j);return Cm(F)}Rj=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var p=vd(d.pendingLanes);p!==0&&(Jp(d,p|1),ua(d,We()),(Ot&6)===0&&(ic=We()+500,io()))}break;case 13:Zo(function(){var j=ii(l,1);if(j!==null){var S=qn();xs(j,l,1,S)}}),Sg(l,1)}},Zp=function(l){if(l.tag===13){var d=ii(l,134217728);if(d!==null){var p=qn();xs(d,l,134217728,p)}Sg(l,134217728)}},$j=function(l){if(l.tag===13){var d=mo(l),p=ii(l,d);if(p!==null){var j=qn();xs(p,l,d,j)}Sg(l,d)}},zj=function(){return Ut},Bj=function(l,d){var p=Ut;try{return Ut=l,d()}finally{Ut=p}},Hn=function(l,d,p){switch(d){case"input":if(je(l,p),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var j=p[d];if(j!==l&&j.form===l.form){var S=Xf(j);if(!S)throw Error(r(90));le(j),je(j,S)}}}break;case"textarea":yt(l,p);break;case"select":d=p.value,d!=null&&at(l,!!p.multiple,d,!1)}},Vr=vg,Pn=Zo;var EM={usingClientEntryPoint:!1,Events:[Fd,ql,Xf,ur,It,vg]},Yd={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AM={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=de(l),l===null?null:l.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||SM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{Ts=Im.inject(AM),an=Im}catch{}}return fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EM,fa.createPortal=function(l,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(d))throw Error(r(200));return NM(l,d,null,p)},fa.createRoot=function(l,d){if(!Eg(l))throw Error(r(299));var p=!1,j="",S=nN;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=Ng(l,1,!1,null,null,p,!1,j,S),l[ri]=d.current,Id(l.nodeType===8?l.parentNode:l),new kg(d)},fa.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=de(d),l=l===null?null:l.stateNode,l},fa.flushSync=function(l){return Zo(l)},fa.hydrate=function(l,d,p){if(!Pm(d))throw Error(r(200));return Om(null,l,d,!0,p)},fa.hydrateRoot=function(l,d,p){if(!Eg(l))throw Error(r(405));var j=p!=null&&p.hydratedSources||null,S=!1,E="",F=nN;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),d=tN(d,null,l,1,p??null,S,!1,E,F),l[ri]=d.current,Id(l),j)for(l=0;l<j.length;l++)p=j[l],S=p._getVersion,S=S(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,S]:d.mutableSourceEagerHydrationData.push(p,S);return new Tm(d)},fa.render=function(l,d,p){if(!Pm(d))throw Error(r(200));return Om(null,l,d,!1,p)},fa.unmountComponentAtNode=function(l){if(!Pm(l))throw Error(r(40));return l._reactRootContainer?(Zo(function(){Om(null,null,l,!1,function(){l._reactRootContainer=null,l[ri]=null})}),!0):!1},fa.unstable_batchedUpdates=vg,fa.unstable_renderSubtreeIntoContainer=function(l,d,p,j){if(!Pm(p))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Om(l,d,p,!1,j)},fa.version="18.3.1-next-f1338f8080-20240426",fa}var fN;function gC(){if(fN)return Tg.exports;fN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tg.exports=LM(),Tg.exports}var mN;function RM(){if(mN)return Dm;mN=1;var e=gC();return Dm.createRoot=e.createRoot,Dm.hydrateRoot=e.hydrateRoot,Dm}var $M=RM();var hN="popstate";function zM(e={}){function t(a,s){let{pathname:i,search:o,hash:c}=a.location;return Fy("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:_u(s)}return UM(t,r,null,e)}function pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function La(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BM(){return Math.random().toString(36).substring(2,10)}function pN(e,t){return{usr:e.state,key:e.key,idx:t}}function Fy(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qc(t):t,state:r,key:t&&t.key||a||BM()}}function _u({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function UM(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,c="POP",u=null,m=f();m==null&&(m=0,o.replaceState({...o.state,idx:m},""));function f(){return(o.state||{idx:null}).idx}function h(){c="POP";let b=f(),N=b==null?null:b-m;m=b,u&&u({action:c,location:y.location,delta:N})}function g(b,N){c="PUSH";let _=Fy(y.location,b,N);m=f()+1;let k=pN(_,m),A=y.createHref(_);try{o.pushState(k,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(A)}i&&u&&u({action:c,location:y.location,delta:1})}function x(b,N){c="REPLACE";let _=Fy(y.location,b,N);m=f();let k=pN(_,m),A=y.createHref(_);o.replaceState(k,"",A),i&&u&&u({action:c,location:y.location,delta:0})}function w(b){return WM(b)}let y={get action(){return c},get location(){return e(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(hN,h),u=b,()=>{s.removeEventListener(hN,h),u=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let N=w(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(b){return o.go(b)}};return y}function WM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pr(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:_u(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function vC(e,t,r="/"){return HM(e,t,r,!1)}function HM(e,t,r,a){let s=typeof t=="string"?qc(t):t,i=Ei(s.pathname||"/",r);if(i==null)return null;let o=yC(e);KM(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let m=rF(i);c=eF(o[u],m,a)}return c}function yC(e,t=[],r=[],a="",s=!1){let i=(o,c,u=s,m)=>{let f={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&u)return;pr(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let h=xi([a,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(pr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),yC(o.children,t,g,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:ZM(h,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let u of bC(o.path))i(o,c,!0,u)}),t}function bC(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=bC(a.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function KM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:QM(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var VM=/^:[\w-]+$/,qM=3,GM=2,XM=1,YM=10,JM=-2,xN=e=>e==="*";function ZM(e,t){let r=e.split("/"),a=r.length;return r.some(xN)&&(a+=JM),t&&(a+=GM),r.filter(s=>!xN(s)).reduce((s,i)=>s+(VM.test(i)?qM:i===""?XM:YM),a)}function QM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function eF(e,t,r=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let c=0;c<a.length;++c){let u=a[c],m=c===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=Nh({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},f),g=u.route;if(!h&&m&&r&&!a[a.length-1].route.index&&(h=Nh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xi([i,h.pathname]),pathnameBase:iF(xi([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=xi([i,h.pathnameBase]))}return o}function Nh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=tF(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((m,{paramName:f,isOptional:h},g)=>{if(f==="*"){let w=c[g]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[g];return h&&!x?m[f]=void 0:m[f]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function tF(e,t=!1,r=!0){La(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function rF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return La(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var wC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nF=e=>wC.test(e);function aF(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?qc(e):e,i;if(r)if(nF(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),La(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=gN(r.substring(1),"/"):i=gN(r,t)}else i=t;return{pathname:i,search:oF(a),hash:lF(s)}}function gN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ig(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function G1(e){let t=sF(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function X1(e,t,r,a=!1){let s;typeof e=="string"?s=qc(e):(s={...e},pr(!s.pathname||!s.pathname.includes("?"),Ig("?","pathname","search",s)),pr(!s.pathname||!s.pathname.includes("#"),Ig("#","pathname","hash",s)),pr(!s.search||!s.search.includes("#"),Ig("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let h=t.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}c=h>=0?t[h]:"/"}let u=aF(s,c),m=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(m||f)&&(u.pathname+="/"),u}var xi=e=>e.join("/").replace(/\/\/+/g,"/"),iF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,cF=class{constructor(e,t,r,a=!1){this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function dF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function uF(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _C(e,t){let r=e;if(typeof r!="string"||!wC.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,s=!1;if(jC)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=Ei(o.pathname,t);o.origin===i.origin&&c!=null?r=c+o.search+o.hash:s=!0}catch{La(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NC=["POST","PUT","PATCH","DELETE"];new Set(NC);var fF=["GET",...NC];new Set(fF);var Gc=v.createContext(null);Gc.displayName="DataRouter";var B0=v.createContext(null);B0.displayName="DataRouterState";var mF=v.createContext(!1),SC=v.createContext({isTransitioning:!1});SC.displayName="ViewTransition";var hF=v.createContext(new Map);hF.displayName="Fetchers";var pF=v.createContext(null);pF.displayName="Await";var Wa=v.createContext(null);Wa.displayName="Navigation";var Yu=v.createContext(null);Yu.displayName="Location";var Js=v.createContext({outlet:null,matches:[],isDataRoute:!1});Js.displayName="Route";var Y1=v.createContext(null);Y1.displayName="RouteError";var kC="REACT_ROUTER_ERROR",xF="REDIRECT",gF="ROUTE_ERROR_RESPONSE";function vF(e){if(e.startsWith(`${kC}:${xF}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function yF(e){if(e.startsWith(`${kC}:${gF}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cF(t.status,t.statusText,t.data)}catch{}}function bF(e,{relative:t}={}){pr(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=v.useContext(Wa),{hash:s,pathname:i,search:o}=Ju(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:xi([r,i])),a.createHref({pathname:c,search:o,hash:s})}function Xc(){return v.useContext(Yu)!=null}function na(){return pr(Xc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Yu).location}var EC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AC(e){v.useContext(Wa).static||v.useLayoutEffect(e)}function va(){let{isDataRoute:e}=v.useContext(Js);return e?IF():wF()}function wF(){pr(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Gc),{basename:t,navigator:r}=v.useContext(Wa),{matches:a}=v.useContext(Js),{pathname:s}=na(),i=JSON.stringify(G1(a)),o=v.useRef(!1);return AC(()=>{o.current=!0}),v.useCallback((u,m={})=>{if(La(o.current,EC),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=X1(u,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xi([t,f.pathname])),(m.replace?r.replace:r.push)(f,m.state,m)},[t,r,i,s,e])}v.createContext(null);function Ju(e,{relative:t}={}){let{matches:r}=v.useContext(Js),{pathname:a}=na(),s=JSON.stringify(G1(r));return v.useMemo(()=>X1(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function jF(e,t){return CC(e,t)}function CC(e,t,r,a,s){pr(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(Wa),{matches:o}=v.useContext(Js),c=o[o.length-1],u=c?c.params:{},m=c?c.pathname:"/",f=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";PC(m,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=na(),x;if(t){let _=typeof t=="string"?qc(t):t;pr(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),x=_}else x=g;let w=x.pathname||"/",y=w;if(f!=="/"){let _=f.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=vC(e,{pathname:y});La(h||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),La(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=EF(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:xi([f,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:xi([f,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,r,a,s);return t&&N?v.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function _F(){let e=OF(),t=dF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,o)}var NF=v.createElement(_F,null),TC=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=yF(e.digest);r&&(e=r)}let t=e!==void 0?v.createElement(Js.Provider,{value:this.props.routeContext},v.createElement(Y1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(SF,{error:e},t):t}};TC.contextType=mF;var Dg=new WeakMap;function SF({children:e,error:t}){let{basename:r}=v.useContext(Wa);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=vF(t.digest);if(a){let s=Dg.get(t);if(s)throw s;let i=_C(a.location,r);if(jC&&!Dg.get(t))if(i.isExternal||a.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:a.replace}));throw Dg.set(t,o),o}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function kF({routeContext:e,match:t,children:r}){let a=v.useContext(Gc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Js.Provider,{value:e},r)}function EF(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);pr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:x}=r,w=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let m=r&&a?(f,h)=>{a(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:uF(r.matches),errorInfo:h})}:void 0;return i.reduceRight((f,h,g)=>{let x,w=!1,y=null,b=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||NF,c&&(u<0&&g===0?(PC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):u===g&&(w=!0,b=h.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,g+1)),_=()=>{let k;return x?k=y:w?k=b:h.route.Component?k=v.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,v.createElement(kF,{match:h,routeContext:{outlet:f,matches:N,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?v.createElement(TC,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):_()},null)}function J1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AF(e){let t=v.useContext(Gc);return pr(t,J1(e)),t}function CF(e){let t=v.useContext(B0);return pr(t,J1(e)),t}function TF(e){let t=v.useContext(Js);return pr(t,J1(e)),t}function Z1(e){let t=TF(e),r=t.matches[t.matches.length-1];return pr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function PF(){return Z1("useRouteId")}function OF(){let e=v.useContext(Y1),t=CF("useRouteError"),r=Z1("useRouteError");return e!==void 0?e:t.errors?.[r]}function IF(){let{router:e}=AF("useNavigate"),t=Z1("useNavigate"),r=v.useRef(!1);return AC(()=>{r.current=!0}),v.useCallback(async(s,i={})=>{La(r.current,EC),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var vN={};function PC(e,t,r){!t&&!vN[e]&&(vN[e]=!0,La(!1,r))}v.memo(DF);function DF({routes:e,future:t,state:r,onError:a}){return CC(e,void 0,r,a,t)}function dl({to:e,replace:t,state:r,relative:a}){pr(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Wa);La(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Js),{pathname:o}=na(),c=va(),u=X1(e,G1(i),o,a==="path"),m=JSON.stringify(u);return v.useEffect(()=>{c(JSON.parse(m),{replace:t,state:r,relative:a})},[c,m,a,t,r]),null}function xt(e){pr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MF({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){pr(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[c,s,i,o]);typeof r=="string"&&(r=qc(r));let{pathname:m="/",search:f="",hash:h="",state:g=null,key:x="default"}=r,w=v.useMemo(()=>{let y=Ei(m,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:x},navigationType:a}},[c,m,f,h,g,x,a]);return La(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(Wa.Provider,{value:u},v.createElement(Yu.Provider,{children:t,value:w}))}function yN({children:e,location:t}){return jF(Ly(e),t)}function Ly(e,t=[]){let r=[];return v.Children.forEach(e,(a,s)=>{if(!v.isValidElement(a))return;let i=[...t,s];if(a.type===v.Fragment){r.push.apply(r,Ly(a.props.children,i));return}pr(a.type===xt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Ly(a.props.children,i)),r.push(o)}),r}var gh="get",vh="application/x-www-form-urlencoded";function U0(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function FF(e){return U0(e)&&e.tagName.toLowerCase()==="button"}function LF(e){return U0(e)&&e.tagName.toLowerCase()==="form"}function RF(e){return U0(e)&&e.tagName.toLowerCase()==="input"}function $F(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zF(e,t){return e.button===0&&(!t||t==="_self")&&!$F(e)}function Ry(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function BF(e,t){let r=Ry(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Mm=null;function UF(){if(Mm===null)try{new FormData(document.createElement("form"),0),Mm=!1}catch{Mm=!0}return Mm}var WF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mg(e){return e!=null&&!WF.has(e)?(La(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):e}function HF(e,t){let r,a,s,i,o;if(LF(e)){let c=e.getAttribute("action");a=c?Ei(c,t):null,r=e.getAttribute("method")||gh,s=Mg(e.getAttribute("enctype"))||vh,i=new FormData(e)}else if(FF(e)||RF(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(a=u?Ei(u,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||gh,s=Mg(e.getAttribute("formenctype"))||Mg(c.getAttribute("enctype"))||vh,i=new FormData(c,e),!UF()){let{name:m,type:f,value:h}=e;if(f==="image"){let g=m?`${m}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else m&&i.append(m,h)}}else{if(U0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=gh,a=null,s=vh,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Q1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KF(e,t,r,a){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:t&&Ei(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function VF(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function GF(e,t,r){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await VF(i,r);return o.links?o.links():[]}return[]}));return ZF(a.flat(1).filter(qF).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bN(e,t,r,a,s,i){let o=(u,m)=>r[m]?u.route.id!==r[m].route.id:!0,c=(u,m)=>r[m].pathname!==u.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,m)=>o(u,m)||c(u,m)):i==="data"?t.filter((u,m)=>{let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,m)||c(u,m))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function XF(e,t,{includeHydrateFallback:r}={}){return YF(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function YF(e){return[...new Set(e)]}function JF(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function ZF(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(JF(s));return r.has(i)||(r.add(i),a.push({key:i,link:s})),a},[])}function OC(){let e=v.useContext(Gc);return Q1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function QF(){let e=v.useContext(B0);return Q1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var eb=v.createContext(void 0);eb.displayName="FrameworkContext";function IC(){let e=v.useContext(eb);return Q1(e,"You must render this element inside a <HydratedRouter> element"),e}function e8(e,t){let r=v.useContext(eb),[a,s]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:m,onMouseLeave:f,onTouchStart:h}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=N=>{N.forEach(_=>{o(_.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[e]),v.useEffect(()=>{if(a){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[a]);let x=()=>{s(!0)},w=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Zd(c,x),onBlur:Zd(u,w),onMouseEnter:Zd(m,x),onMouseLeave:Zd(f,w),onTouchStart:Zd(h,x)}]:[!1,g,{}]}function Zd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function t8({page:e,...t}){let{router:r}=OC(),a=v.useMemo(()=>vC(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?v.createElement(n8,{page:e,matches:a,...t}):null}function r8(e){let{manifest:t,routeModules:r}=IC(),[a,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return GF(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),a}function n8({page:e,matches:t,...r}){let a=na(),{future:s,manifest:i,routeModules:o}=IC(),{basename:c}=OC(),{loaderData:u,matches:m}=QF(),f=v.useMemo(()=>bN(e,t,m,i,a,"data"),[e,t,m,i,a]),h=v.useMemo(()=>bN(e,t,m,i,a,"assets"),[e,t,m,i,a]),g=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,b=!1;if(t.forEach(_=>{let k=i.routes[_.route.id];!k||!k.hasLoader||(!f.some(A=>A.route.id===_.route.id)&&_.route.id in u&&o[_.route.id]?.shouldRevalidate||k.hasClientLoader?b=!0:y.add(_.route.id))}),y.size===0)return[];let N=KF(e,c,s.unstable_trailingSlashAwareDataRequests,"data");return b&&y.size>0&&N.searchParams.set("_routes",t.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[c,s.unstable_trailingSlashAwareDataRequests,u,a,i,f,t,e,o]),x=v.useMemo(()=>XF(h,i),[h,i]),w=r8(h);return v.createElement(v.Fragment,null,g.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),w.map(({key:y,link:b})=>v.createElement("link",{key:y,nonce:r.nonce,...b})))}function a8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var s8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s8&&(window.__reactRouterVersion="7.12.0")}catch{}function i8({basename:e,children:t,unstable_useTransitions:r,window:a}){let s=v.useRef();s.current==null&&(s.current=zM({window:a,v5Compat:!0}));let i=s.current,[o,c]=v.useState({action:i.action,location:i.location}),u=v.useCallback(m=>{r===!1?c(m):v.startTransition(()=>c(m))},[r]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.createElement(MF,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tb=v.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:c,target:u,to:m,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g,...x},w){let{basename:y,unstable_useTransitions:b}=v.useContext(Wa),N=typeof m=="string"&&DC.test(m),_=_C(m,y);m=_.to;let k=bF(m,{relative:s}),[A,T,I]=e8(a,x),O=c8(m,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:b});function D(M){t&&t(M),M.defaultPrevented||O(M)}let P=v.createElement("a",{...x,...I,href:_.absoluteURL||k,onClick:_.isExternal||i?t:D,ref:a8(w,T),target:u,"data-discover":!N&&r==="render"?"true":void 0});return A&&!N?v.createElement(v.Fragment,null,P,v.createElement(t8,{page:k})):P});tb.displayName="Link";var vc=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:c,children:u,...m},f){let h=Ju(o,{relative:m.relative}),g=na(),x=v.useContext(B0),{navigator:w,basename:y}=v.useContext(Wa),b=x!=null&&p8(h)&&c===!0,N=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,_=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(_=_.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&y&&(k=Ei(k,y)||k);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=_===N||!s&&_.startsWith(N)&&_.charAt(A)==="/",I=k!=null&&(k===N||!s&&k.startsWith(N)&&k.charAt(N.length)==="/"),O={isActive:T,isPending:I,isTransitioning:b},D=T?t:void 0,P;typeof a=="function"?P=a(O):P=[a,T?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(O):i;return v.createElement(tb,{...m,"aria-current":D,className:P,ref:f,style:M,to:o,viewTransition:c},typeof u=="function"?u(O):u)});vc.displayName="NavLink";var o8=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:i,method:o=gh,action:c,onSubmit:u,relative:m,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g,...x},w)=>{let{unstable_useTransitions:y}=v.useContext(Wa),b=m8(),N=h8(c,{relative:m}),_=o.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&DC.test(c),A=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let I=T.nativeEvent.submitter,O=I?.getAttribute("formmethod")||o,D=()=>b(I||T.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:s,state:i,relative:m,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g});y&&r!==!1?v.startTransition(()=>D()):D()};return v.createElement("form",{ref:w,method:_,action:N,onSubmit:a?u:A,...x,"data-discover":!k&&e==="render"?"true":void 0})});o8.displayName="Form";function l8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MC(e){let t=v.useContext(Gc);return pr(t,l8(e)),t}function c8(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let m=va(),f=na(),h=Ju(e,{relative:i});return v.useCallback(g=>{if(zF(g,t)){g.preventDefault();let x=r!==void 0?r:_u(f)===_u(h),w=()=>m(e,{replace:x,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});u?v.startTransition(()=>w()):w()}},[f,m,h,r,a,t,e,s,i,o,c,u])}function d8(e){La(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Ry(e)),r=v.useRef(!1),a=na(),s=v.useMemo(()=>BF(a.search,r.current?null:t.current),[a.search]),i=va(),o=v.useCallback((c,u)=>{const m=Ry(typeof c=="function"?c(new URLSearchParams(s)):c);r.current=!0,i("?"+m,u)},[i,s]);return[s,o]}var u8=0,f8=()=>`__${String(++u8)}__`;function m8(){let{router:e}=MC("useSubmit"),{basename:t}=v.useContext(Wa),r=PF(),a=e.fetch,s=e.navigate;return v.useCallback(async(i,o={})=>{let{action:c,method:u,encType:m,formData:f,body:h}=HF(i,t);if(o.navigate===!1){let g=o.fetcherKey||f8();await a(g,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await s(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,s,t,r])}function h8(e,{relative:t}={}){let{basename:r}=v.useContext(Wa),a=v.useContext(Js);pr(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...Ju(e||".",{relative:t})},o=na();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(h=>h).forEach(h=>c.append("index",h));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:xi([r,i.pathname])),_u(i)}function p8(e,{relative:t}={}){let r=v.useContext(SC);pr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=MC("useViewTransitionState"),s=Ju(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ei(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=Ei(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Nh(s.pathname,o)!=null||Nh(s.pathname,i)!=null}var rb=gC();const x8=[{id:"1",name:"Service Provider",email:"manglaaryan05@gmail.com",phone:"9876543210",status:"approved",specialization:["AC Repair","Electrician Services"],rating:4.8,totalJobs:120},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"8765432109",status:"approved",specialization:["Salon at Home","Massage Therapy"],rating:4.9,totalJobs:85},{id:"3",name:"Bob Johnson",email:"bob@example.com",phone:"7654321098",status:"pending",specialization:["Plumbing Services","Home Cleaning"],rating:0,totalJobs:0}],FC=[{id:"1",name:"Regular User",email:"user@KwikMedi.com",role:"user",status:"active",phone:"9876543210",address:"123 Main St, Apt 4B"},{id:"2",name:"Service Provider",email:"provider@KwikMedi.com",role:"provider",status:"active",phone:"8765432109",address:"456 Park Ave, Suite 10"},{id:"3",name:"Admin User",email:"admin@kwikmedi.com",role:"admin",status:"active",phone:"7654321098"}],LC={},ke=LC?.VITE_API_BASE_URL||"https://sonu.mycartly.in/api",nb=LC?.VITE_BACKEND_BASE_URL||"https://sonu.mycartly.in";let lc=FC.filter(e=>e.role==="user"&&e.id).map(e=>({id:e.id,name:e.name||"",email:e.email,phone:e.phone||"",password:e.role==="user"?"Neighshop#user":"Neighshop#admin",role:"user",status:e.status,createdAt:new Date().toISOString()})),rl=x8.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,password:"Neighshop#provider",service:e.specialization[0],pincode:"400001",address:"",documentUrl:"/documents/provider.pdf",role:"provider",status:e.status,createdAt:new Date().toISOString()}));const cc=e=>new Promise(t=>setTimeout(t,e)),nl=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,phone:e.phone}),wN=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),Fg=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),jN=e=>/^\d{10}$/.test(e),Fm={login:async(e,t,r)=>{if(await cc(1e3),!Fg(e))return{success:!1,message:"Invalid email format"};if(r==="admin"){if(e==="admin@kwikmedi.com"&&t==="Neighshop#admin"){const a=FC.find(s=>s.role==="admin");if(a)return{success:!0,message:"Admin login successful",user:a}}return{success:!1,message:"Invalid admin credentials"}}if(r==="user"){const a=lc.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="active"?{success:!1,message:"Your account is inactive"}:{success:!0,message:"Login successful",user:nl(a)}}if(r==="provider"){const a=rl.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="approved"?{success:!1,message:"Your account is pending approval"}:{success:!0,message:"Login successful",user:nl(a)}}return{success:!1,message:"Invalid credentials"}},registerUser:async e=>{if(await cc(1e3),!Fg(e.email))return{success:!1,message:"Invalid email format"};if(!jN(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!wN(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(lc.some(r=>r.email===e.email)||rl.some(r=>r.email===e.email))return{success:!1,message:"Email already registered"};const t={...e,id:(lc.length+1).toString(),role:"user",status:"active",createdAt:new Date().toISOString()};return lc.push(t),{success:!0,message:"Registration successful",user:nl(t)}},registerProvider:async(e,t)=>{if(await cc(1e3),!Fg(e.email))return{success:!1,message:"Invalid email format"};if(!jN(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!wN(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(!e.service)return{success:!1,message:"Service selection is required"};if(!e.pincode||!/^\d{6}$/.test(e.pincode))return{success:!1,message:"Invalid pincode format (6 digits required)"};if(lc.some(i=>i.email===e.email)||rl.some(i=>i.email===e.email))return{success:!1,message:"Email already registered"};if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png"].includes(t.type))return{success:!1,message:"Invalid document format"};if(t.size>5*1024*1024)return{success:!1,message:"Document size should be less than 5MB"};const a=URL.createObjectURL(t),s={...e,id:(rl.length+1).toString(),role:"provider",status:"pending",documentUrl:a,createdAt:new Date().toISOString()};return rl.push(s),{success:!0,message:"Registration submitted for approval. You will be notified once approved.",user:nl(s)}},getRegisteredUsers:async()=>(await cc(500),lc.map(nl)),getRegisteredProviders:async()=>(await cc(500),rl.map(nl)),updateProviderStatus:async(e,t)=>{await cc(500);const r=rl.find(a=>a.id===e);return r?(r.status=t,{success:!0,message:`Provider ${t} successfully`,user:nl(r)}):{success:!1,message:"Provider not found"}},sendOTP:async e=>{const t=await fetch(`${ke}/provider/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Failed to send OTP");return t.json()},verifyOTP:async(e,t)=>{const r=await fetch(`${ke}/provider/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})});if(!r.ok)throw new Error("Failed to verify OTP");return r.json()},getServiceProviderInfo:async e=>{const t=await fetch(`${ke}/create_account_service_provider`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get service provider info");return t.json()},createServiceProviderAccount:async(e,t)=>{const r=new FormData;r.append("name",t.name),r.append("service_type",t.service_type),r.append("phone_number",t.phone_number),r.append("address",t.address),r.append("pincode",t.pincode),r.append("document",t.document),t.referral&&r.append("referral",t.referral);const a=await fetch(`${ke}/create_account_service_provider`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(!a.ok)throw new Error("Failed to create service provider account");return a.json()}},RC=v.createContext(void 0),gn=()=>{const e=v.useContext(RC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},g8=({children:e})=>{const[t,r]=v.useState(null),[a,s]=v.useState(null),[i,o]=v.useState(!0),c=()=>{const b=localStorage.getItem("KwikMedi_user"),N=localStorage.getItem("KwikMedi_token"),_=localStorage.getItem("KwikMedi_role");if(N&&b)try{const k=JSON.parse(b);if(console.log("AuthContext: Restoring user data",{storedRole:_,userData:k}),_==="admin"||_==="helping_staff"||_==="finance_admin"||k.role==="admin"||k.role==="super_admin"||k.role==="helping_staff"||k.role==="helping_staff_admin"||k.role==="finance_admin"){if(N.startsWith("mock_token_")){console.log("AuthContext: Rejecting mock token, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null),o(!1);return}fetch(`${ke}/admin/me`,{headers:{Authorization:`Bearer ${N}`}}).then(A=>{if(A.ok)return A.json();throw new Error("Token validation failed")}).then(A=>{if(A.admin){s(N);let T=A.admin.role;T==="super_admin"?T="admin":T==="helping_staff_admin"&&(T="helping_staff");const I={...A.admin,role:T};console.log("AuthContext: Setting user data after validation",I),r(I),localStorage.setItem("KwikMedi_user",JSON.stringify(I)),localStorage.setItem("KwikMedi_role",T)}else{if((_==="helping_staff"||_==="finance_admin")&&k){console.log(`AuthContext: Using stored ${_} data (admin_me returned no admin)`),s(N);const T={...k,role:_};r(T),localStorage.setItem("KwikMedi_user",JSON.stringify(T)),localStorage.setItem("KwikMedi_role",_),o(!1);return}throw new Error("Invalid response")}}).catch(()=>{console.log("AuthContext: Token validation failed, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null)}).finally(()=>{o(!1)})}else _==="provider"||k.role==="provider"?(s(N),r(k),o(!1)):fetch(`${ke}/user/profile`,{headers:{Authorization:`Bearer ${N}`}}).then(A=>{A.ok?(s(N),r(k)):(localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null))}).catch(()=>{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null)}).finally(()=>{o(!1)})}catch{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null),o(!1)}else o(!1)};v.useEffect(()=>{c();const b=_=>{(_.key==="KwikMedi_token"||_.key==="KwikMedi_user"||_.key==="KwikMedi_role")&&c()},N=()=>{c()};return window.addEventListener("storage",b),window.addEventListener("authUpdate",N),()=>{window.removeEventListener("storage",b),window.removeEventListener("authUpdate",N)}},[]);const y={user:t,isAuthenticated:!!a,isLoading:i,token:a,sendOTP:async b=>{try{await Fm.sendOTP(b)}catch(N){throw console.error("Failed to send OTP:",N),N}},verifyOTP:async(b,N)=>{try{const _=await Fm.verifyOTP(b,N);if(_.is_existing&&_.token&&_.provider){s(_.token),localStorage.setItem("KwikMedi_token",_.token);const k={id:_.provider.id.toString(),email:_.provider.email,role:"provider",status:_.provider.status||"pending",name:_.provider.name||"",phone:_.provider.phone||""};return r(k),localStorage.setItem("KwikMedi_user",JSON.stringify(k)),localStorage.setItem("KwikMedi_role","provider"),{token:_.token,user:k,isNewUser:!1}}else return{token:null,user:null,isNewUser:!0}}catch(_){throw console.error("OTP verification failed:",_),_}},createServiceProviderAccount:async b=>{if(!a)throw new Error("No authentication token found");try{await Fm.createServiceProviderAccount(a,b);const _={email:(await Fm.getServiceProviderInfo(a)).email,role:"provider",name:b.name,phone:b.phone_number,status:"pending"};r(_),localStorage.setItem("KwikMedi_user",JSON.stringify(_))}catch(N){throw console.error("Failed to create service provider account:",N),N}},adminLogin:async(b,N)=>{try{const _=`${ke}/admin/login`;console.log("Admin login URL:",_);const k=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:N})});console.log("Admin login response status:",k.status,k.statusText,k.url);let A;try{A=await k.json()}catch{const I=await k.text();throw console.error("Non-JSON response:",I),new Error(`Server error: ${k.status} ${k.statusText}. ${I.substring(0,100)}`)}if(!k.ok){const T=A.message||A.error?.message||`Login failed: ${k.status} ${k.statusText}`;throw new Error(T)}if(A.token){s(A.token);const T=A.admin.role==="super_admin"?"admin":A.admin.role,I={...A.admin,role:T};r(I),localStorage.setItem("KwikMedi_token",A.token),localStorage.setItem("KwikMedi_user",JSON.stringify(I)),localStorage.setItem("KwikMedi_role","admin")}else throw new Error("No token received")}catch(_){throw console.error("Admin login failed:",_),_}},login:async(b,N,_="user")=>{try{const k=await fetch(`${ke}/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:N})}),A=await k.json();if(!k.ok)throw new Error(A.message||"Login failed");if(A.token&&A.user){s(A.token);const T={id:A.user.id,email:A.user.email,role:_,status:A.user.status||"active",name:A.user.name||"",phone:A.user.phone||""};r(T),localStorage.setItem("KwikMedi_token",A.token),localStorage.setItem("KwikMedi_user",JSON.stringify(T)),localStorage.setItem("KwikMedi_role",_);const I=localStorage.getItem("selectedService"),O=localStorage.getItem("selectedCategory");I?localStorage.removeItem("selectedService"):O&&localStorage.removeItem("selectedCategory")}else throw new Error("No token or user data received")}catch(k){throw console.error("Login failed:",k),k}},logout:()=>{r(null),s(null),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_role")},refreshUserData:async()=>{try{const b=localStorage.getItem("KwikMedi_token"),N=localStorage.getItem("KwikMedi_role");if(b&&N)if(N==="admin"||N==="helping_staff"||N==="finance_admin")try{const _=await fetch(`${ke}/admin/me`,{headers:{Authorization:`Bearer ${b}`}});if(_.ok){const k=await _.json(),A={...k.admin,role:k.admin.role==="super_admin"?"admin":k.admin.role};r(A),localStorage.setItem("KwikMedi_user",JSON.stringify(A)),console.log("Admin data refreshed:",A)}else _.status===404&&console.log("Admin /me endpoint not found, using stored user data")}catch(_){console.log("Admin /me endpoint error, using stored user data:",_)}else if(N==="provider")console.log("Service provider session maintained - no auto-refresh");else{const _=await fetch(`${ke}/user/profile`,{headers:{Authorization:`Bearer ${b}`}});if(_.ok){const A=(await _.json()).profile,T={id:A.id,email:A.email,role:N,status:A.status||"active",name:A.name||"",phone:A.phone||""};console.log("Refreshing user data:",T),r(T),localStorage.setItem("KwikMedi_user",JSON.stringify(T)),console.log("User data updated in context and localStorage")}else console.error("Failed to refresh user data:",_.status)}}catch(b){console.error("Error refreshing user data:",b)}}};return n.jsx(RC.Provider,{value:y,children:e})},$C=v.createContext(void 0),Jt=()=>{const e=v.useContext($C);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},v8=({children:e})=>{const[t,r]=v.useState([]),a=v.useCallback((i,o)=>{const c=Math.random().toString(36).substring(2,9);r(u=>[...u,{id:c,message:i,type:o}]),setTimeout(()=>{r(u=>u.filter(m=>m.id!==c))},2500)},[]),s=v.useCallback(i=>{r(o=>o.filter(c=>c.id!==i))},[]);return n.jsx($C.Provider,{value:{toasts:t,addToast:a,removeToast:s},children:e})},y8=()=>{const{toasts:e,removeToast:t}=Jt();return e.length===0?null:n.jsx("div",{className:"fixed bottom-0 right-0 p-4 z-50 max-w-md w-full",children:n.jsx("div",{className:"space-y-2",children:e.map(r=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-start justify-between transition-all duration-300 animate-slide-up
              ${r.type==="success"?"bg-success text-white":r.type==="error"?"bg-error text-white":r.type==="warning"?"bg-warning text-white":"bg-primary text-secondary-dark"}
            `,children:[n.jsx("p",{children:r.message}),n.jsx("button",{onClick:()=>t(r.id),className:"ml-4 text-sm hover:opacity-70",children:""})]},r.id))})})};var b8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(e,t)=>{const r=v.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,...m},f)=>v.createElement("svg",{ref:f,...b8,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${w8(e)}`,c].join(" "),...m},[...t.map(([h,g])=>v.createElement(h,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};const j8=Ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Ol=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Co=Ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ab=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const sb=Ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const _8=Ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const N8=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Mc=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const S8=Ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const k8=Ue("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const E8=Ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const ib=Ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const ob=Ue("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const Fr=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const ns=Ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Br=Ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const A8=Ue("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const Sh=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ha=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Yc=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Bi=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Zs=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const zC=Ue("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);const Qr=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const $y=Ue("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const C8=Ue("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Ai=Ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const T8=Ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Jc=Ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const lb=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const P8=Ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const ya=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Lg=Ue("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);const _N=Ue("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);const Dr=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const W0=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const NN=Ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const SN=Ue("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const O8=Ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const I8=Ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const D8=Ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const M8=Ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const jc=Ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const F8=Ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const L8=Ue("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const R8=Ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const mu=Ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const Ci=Ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const cb=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ra=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ma=Ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Rg=Ue("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const $8=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const db=Ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const BC=Ue("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z",key:"1dba1m"}]]);const Zn=Ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const z8=Ue("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const $g=Ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const B8=Ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const $a=Ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const U8=Ue("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const zs=Ue("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const pa=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Yn=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const W8=Ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Tn=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const H8=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const K8=Ue("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const zy=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const za=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const V8=Ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const ub=Ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const fb=Ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const q8=Ue("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Ti=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const UC=Ue("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);const Nu=Ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const ll=Ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Ec=Ue("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);const G8=Ue("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const By=Ue("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const X8=Ue("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const Us=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const hu=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Fc=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const WC=Ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const kh=Ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Y8=Ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const ar=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ws=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const J8=Ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const $n=Ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Rt=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Z8=Ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Q8=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=va(),{adminLogin:c,isAuthenticated:u,user:m,isLoading:f}=gn(),{addToast:h}=Jt();if(v.useEffect(()=>{!f&&u&&m?.role==="admin"&&o("/admin/dashboard",{replace:!0})},[u,m,f,o]),f)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const g=async x=>{x.preventDefault(),i(!0);try{await c(e,r);const w=localStorage.getItem("KwikMedi_user");if(w){const N=JSON.parse(w).role||"";if(N==="finance_admin"){h("Please use Financial Staff login","error"),i(!1);return}if(N==="helping_staff"||N==="helping_staff_admin"){h("Please use Helping Staff login","error"),i(!1);return}}h("Login successful!","success");const y=()=>{u&&m?.role==="admin"?o("/admin/dashboard",{replace:!0}):setTimeout(y,50)};setTimeout(y,100)}catch(w){const y=w?.message||"Login failed. Please check your credentials.";h(y,"error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(ab,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(za,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Super Admin Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Full system access and management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:x=>t(x.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:x=>a(x.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:s?"Logging in...":"Sign in"})})]})]})})},eL=e=>{const t=new Date,r=t.toISOString().split("T")[0];let a;switch(e){case"7d":a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0];break;case"30d":a=new Date(t.setDate(t.getDate()-30)).toISOString().split("T")[0];break;case"90d":a=new Date(t.setDate(t.getDate()-90)).toISOString().split("T")[0];break;case"1y":a=new Date(t.setFullYear(t.getFullYear()-1)).toISOString().split("T")[0];break;default:a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0]}return{from:a,to:r}},tL=({dateFrom:e,dateTo:t,onDateRangeChange:r,onExport:a})=>{const s=c=>{const{from:u,to:m}=eL(c);r(u,m)},i=(c,u)=>{c==="from"?r(u,t):r(e,u)},o=()=>{const u=new Date().toISOString().split("T")[0];if(t===u){const m=Math.ceil((new Date(t).getTime()-new Date(e).getTime())/864e5);if(m<=7)return"7d";if(m<=30)return"30d";if(m<=90)return"90d";if(m<=365)return"1y"}return"custom"};return n.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"h-16 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-xl shadow-lg",children:n.jsx(N8,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Platform Analytics & Management"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx(Fr,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:o(),onChange:c=>{c.target.value!=="custom"&&s(c.target.value)},className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700 font-medium",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"}),n.jsx("option",{value:"custom",children:"Custom Range"})]})]}),o()==="custom"&&n.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx("input",{type:"date",value:e,onChange:c=>i("from",c.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",max:t}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx("input",{type:"date",value:t,onChange:c=>i("to",c.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",min:e,max:new Date().toISOString().split("T")[0]})]}),a&&n.jsxs("button",{onClick:a,className:"flex items-center space-x-2 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-all duration-200 shadow-md hover:shadow-lg",children:[n.jsx(lb,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]})})})},Zc=ke,rL=(e,t)=>({metrics:{total_revenue:245678.5,total_bookings:1234,completed_bookings:1156,active_users:856,active_providers:234,pending_disputes:12,platform_revenue:24567.85,new_users_today:23,new_providers_today:5,total_lab_test_bookings:456,completed_lab_tests:389,pending_lab_tests:45},growth_rates:{revenue_growth:15.5,booking_growth:22.3,user_growth:18.7},recent_activity:{new_bookings:45,completed_bookings:38,new_disputes:2,payments_received:42},date_range:{from:e,to:t}}),HC=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=gn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(rL(e,t)),i(!1)},500);return}try{const h=await fetch(`${Zc}/admin/analytics/dashboard?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch dashboard data");a({metrics:{...g.metrics,total_lab_test_bookings:g.metrics.total_lab_test_bookings||0,completed_lab_tests:g.metrics.completed_lab_tests||0,pending_lab_tests:g.metrics.pending_lab_tests||0},growth_rates:g.growth_rates,recent_activity:g.recent_activity,date_range:g.date_range})}catch(h){console.error("Error fetching dashboard data:",h),c(h.message||"Failed to fetch dashboard data"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},nL=()=>({trend:[{period:"2024-01-01",total_revenue:12500,platform_revenue:1250,transaction_count:45,avg_transaction_value:277.78},{period:"2024-01-02",total_revenue:13800,platform_revenue:1380,transaction_count:52,avg_transaction_value:265.38},{period:"2024-01-03",total_revenue:15200,platform_revenue:1520,transaction_count:58,avg_transaction_value:262.07},{period:"2024-01-04",total_revenue:14100,platform_revenue:1410,transaction_count:54,avg_transaction_value:261.11},{period:"2024-01-05",total_revenue:16700,platform_revenue:1670,transaction_count:63,avg_transaction_value:265.08}],payment_methods:[{method:"Credit Card",total_amount:145678,transaction_count:523},{method:"Debit Card",total_amount:67890,transaction_count:312},{method:"UPI",total_amount:32110,transaction_count:399}],category_revenue:[{category:"Plumbing",total_revenue:45678,booking_count:234,avg_booking_value:195.21},{category:"Electrical",total_revenue:38900,booking_count:198,avg_booking_value:196.46},{category:"Cleaning",total_revenue:32100,booking_count:267,avg_booking_value:120.34},{category:"Carpentry",total_revenue:28900,booking_count:145,avg_booking_value:199.31}],top_providers:[{name:"John Smith",business_name:"Smith Services",total_earnings:12345,booking_count:67},{name:"Sarah Johnson",business_name:"Johnson Pro",total_earnings:11234,booking_count:58},{name:"Mike Williams",business_name:"Williams Solutions",total_earnings:9876,booking_count:52}]}),aL=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=gn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(nL()),i(!1)},500);return}try{const h=await fetch(`${Zc}/admin/analytics/revenue?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch revenue data");a(g.revenue_data)}catch(h){console.error("Error fetching revenue data:",h),c(h.message||"Failed to fetch revenue data"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},sL=()=>({registration_trend:[{date:"2024-01-01",new_users:12},{date:"2024-01-02",new_users:18},{date:"2024-01-03",new_users:15},{date:"2024-01-04",new_users:22},{date:"2024-01-05",new_users:19}],activity_metrics:{total_users:856,active_users_30d:623,verified_users:712,users_with_bookings:534},geographic_distribution:[{city:"Mumbai",state:"Maharashtra",user_count:234,active_users:189},{city:"Delhi",state:"Delhi",user_count:198,active_users:156},{city:"Bangalore",state:"Karnataka",user_count:167,active_users:134},{city:"Pune",state:"Maharashtra",user_count:123,active_users:98}],engagement_metrics:{avg_bookings_per_user:2.3,avg_spent_per_user:456.78,repeat_user_rate:68.5},cohort_analysis:[{month:"2024-01",users_count:234,retention_rate:85.2},{month:"2023-12",users_count:198,retention_rate:82.3},{month:"2023-11",users_count:167,retention_rate:79.6}]}),iL=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=gn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(sL()),i(!1)},500);return}try{const h=await fetch(`${Zc}/admin/analytics/users?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch user analytics");a(g.user_analytics)}catch(h){console.error("Error fetching user analytics:",h),c(h.message||"Failed to fetch user analytics"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},oL=()=>({booking_trend:[{date:"2024-01-01",total_bookings:45,completed_bookings:42,cancelled_bookings:3,completion_rate:93.3},{date:"2024-01-02",total_bookings:52,completed_bookings:48,cancelled_bookings:4,completion_rate:92.3},{date:"2024-01-03",total_bookings:58,completed_bookings:55,cancelled_bookings:3,completion_rate:94.8},{date:"2024-01-04",total_bookings:54,completed_bookings:51,cancelled_bookings:3,completion_rate:94.4},{date:"2024-01-05",total_bookings:63,completed_bookings:60,cancelled_bookings:3,completion_rate:95.2}],status_distribution:[{status:"completed",count:1156},{status:"pending",count:45},{status:"in_progress",count:23},{status:"cancelled",count:10}],peak_booking_times:[{hour:9,booking_count:45},{hour:10,booking_count:67},{hour:11,booking_count:89},{hour:14,booking_count:78},{hour:15,booking_count:92},{hour:16,booking_count:85}],category_performance:[{category:"Plumbing",total_bookings:234,completed_bookings:221,completion_rate:94.4,avg_booking_value:195.21,avg_rating:4.6},{category:"Electrical",total_bookings:198,completed_bookings:187,completion_rate:94.4,avg_booking_value:196.46,avg_rating:4.7},{category:"Cleaning",total_bookings:267,completed_bookings:254,completion_rate:95.1,avg_booking_value:120.34,avg_rating:4.5}],conversion_funnel:{searches:5678,profile_views:3456,bookings:1234,completed_bookings:1156,search_to_booking_rate:21.7,booking_completion_rate:93.7}}),lL=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=gn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(oL()),i(!1)},500);return}try{const h=await fetch(`${Zc}/admin/analytics/bookings?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch booking analytics");a(g.booking_analytics)}catch(h){console.error("Error fetching booking analytics:",h),c(h.message||"Failed to fetch booking analytics"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},cL=()=>({registration_trend:[{date:"2024-01-01",new_providers:3},{date:"2024-01-02",new_providers:5},{date:"2024-01-03",new_providers:4},{date:"2024-01-04",new_providers:6},{date:"2024-01-05",new_providers:5}],status_distribution:[{status:"approved",verification_status:"verified",count:189},{status:"approved",verification_status:"pending",count:45},{status:"pending",verification_status:"pending",count:23},{status:"rejected",verification_status:"rejected",count:12}],top_performers:[{name:"John Smith",business_name:"Smith Services",rating:4.8,total_bookings:67,completed_bookings:65,completion_rate:97,total_earnings:12345},{name:"Sarah Johnson",business_name:"Johnson Pro",rating:4.7,total_bookings:58,completed_bookings:56,completion_rate:96.6,total_earnings:11234},{name:"Mike Williams",business_name:"Williams Solutions",rating:4.6,total_bookings:52,completed_bookings:50,completion_rate:96.2,total_earnings:9876}],performance_metrics:{avg_platform_rating:4.5,active_providers:234,verified_providers:189,avg_completion_rate:94.2},category_distribution:[{category:"Plumbing",provider_count:67,avg_rating:4.6},{category:"Electrical",provider_count:54,avg_rating:4.7},{category:"Cleaning",provider_count:78,avg_rating:4.5},{category:"Carpentry",provider_count:35,avg_rating:4.6}]}),dL=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=gn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(cL()),i(!1)},500);return}try{const h=await fetch(`${Zc}/admin/analytics/providers?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch provider analytics");a(g.provider_analytics)}catch(h){console.error("Error fetching provider analytics:",h),c(h.message||"Failed to fetch provider analytics"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},uL=()=>({current_metrics:{avg_response_time_ms:145,avg_db_query_time_ms:23,avg_server_load:45.6,avg_memory_usage:62.3,avg_error_rate:.12,avg_uptime:99.8},time_series:[{timestamp:"2024-01-05T00:00:00Z",response_time:142,db_query_time:21,active_sessions:234,server_load:43.2,memory_usage:60.1,error_rate:.1},{timestamp:"2024-01-05T01:00:00Z",response_time:145,db_query_time:23,active_sessions:256,server_load:45.6,memory_usage:62.3,error_rate:.12},{timestamp:"2024-01-05T02:00:00Z",response_time:148,db_query_time:24,active_sessions:278,server_load:47.8,memory_usage:64.5,error_rate:.14},{timestamp:"2024-01-05T03:00:00Z",response_time:143,db_query_time:22,active_sessions:245,server_load:44.1,memory_usage:61.2,error_rate:.11}]}),fL=()=>{const[e,t]=v.useState(null),[r,a]=v.useState(!0),[s,i]=v.useState(null),{token:o}=gn();return v.useEffect(()=>{(async()=>{const u=o&&o.startsWith("mock_token_");if(!o||u){setTimeout(()=>{t(uL()),a(!1)},500);return}try{const m=await fetch(`${Zc}/admin/analytics/system-performance`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const f=await m.json();if(!f.success)throw new Error(f.message||"Failed to fetch system performance data");t(f.performance_data)}catch(m){console.error("Error fetching system performance data:",m),i(m.message||"Failed to fetch system performance data"),t(null)}finally{a(!1)}})()},[o]),{data:e,loading:r,error:s}},mL=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=HC(e,t),i=va();if(a)return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(11)].map((u,m)=>n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},m))});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load metrics"});const o=[{name:"Total Revenue",value:`${r.metrics.total_revenue.toLocaleString("en-IN")}`,change:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth}%`,changeType:r.growth_rates.revenue_growth>=0?"positive":"negative",icon:Jc,gradient:"bg-primary"},{name:"Total Orders",value:r.metrics.total_bookings.toLocaleString("en-IN"),change:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth}%`,changeType:r.growth_rates.booking_growth>=0?"positive":"negative",icon:Fr,gradient:"bg-primary",route:"/admin/orders"},{name:"Completed Orders",value:r.metrics.completed_bookings.toLocaleString("en-IN"),change:`${(r.metrics.completed_bookings/r.metrics.total_bookings*100).toFixed(1)}%`,changeType:"positive",icon:Br,gradient:"bg-primary",route:"/admin/orders"},{name:"Active Users",value:r.metrics.active_users.toLocaleString("en-IN"),change:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth}%`,changeType:r.growth_rates.user_growth>=0?"positive":"negative",icon:Ws,gradient:"bg-primary",route:"/admin/users"},{name:"Active Vendors",value:r.metrics.active_providers.toLocaleString("en-IN"),change:`${r.metrics.new_providers_today>0?"+":""}${r.metrics.new_providers_today}`,changeType:"positive",icon:Nu,gradient:"bg-primary",route:"/admin/providers"},{name:"Platform Revenue",value:`${r.metrics.platform_revenue.toLocaleString("en-IN")}`,change:`${(r.metrics.platform_revenue/r.metrics.total_revenue*100).toFixed(1)}% of total`,changeType:"positive",icon:ib,gradient:"bg-primary"},{name:"New Users Today",value:r.metrics.new_users_today.toLocaleString(),change:"Today",changeType:"positive",icon:kh,gradient:"bg-primary",route:"/admin/users"},{name:"Pending Disputes",value:r.metrics.pending_disputes.toLocaleString("en-IN"),change:"Active",changeType:"negative",icon:Ol,gradient:"bg-primary",route:"/admin/helpdesk"},{name:"Lab Test Bookings",value:r.metrics.total_lab_test_bookings.toLocaleString("en-IN"),change:r.metrics.total_lab_test_bookings>0?`${(r.metrics.completed_lab_tests/r.metrics.total_lab_test_bookings*100).toFixed(1)}% completed`:"0% completed",changeType:"positive",icon:Ec,gradient:"bg-primary",route:"/admin/lab-tests/bookings"},{name:"Completed Lab Tests",value:r.metrics.completed_lab_tests.toLocaleString("en-IN"),change:r.metrics.total_lab_test_bookings>0?`${(r.metrics.completed_lab_tests/r.metrics.total_lab_test_bookings*100).toFixed(1)}%`:"0%",changeType:"positive",icon:Br,gradient:"bg-primary",route:"/admin/lab-tests/bookings"},{name:"Pending Lab Tests",value:r.metrics.pending_lab_tests.toLocaleString("en-IN"),change:"Pending",changeType:"negative",icon:Qr,gradient:"bg-primary",route:"/admin/lab-tests/bookings"}],c=u=>{i(u)};return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((u,m)=>{const f=u.icon,h="route"in u&&u.route,g=h?u.route:null;return n.jsxs("div",{onClick:h&&g?()=>c(g):void 0,className:`bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20 hover:scale-105 hover:bg-white/90 ${h?"cursor-pointer":""}`,style:{animationDelay:`${m*50}ms`},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 ${u.gradient} rounded-xl shadow-md`,children:n.jsx(f,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${u.changeType==="positive","text-primary bg-secondary border border-primary/20"}`,children:u.change})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:u.name})]})]},u.name)})})};function KC(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=KC(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Pt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=KC(e))&&(a&&(a+=" "),a+=t);return a}var hL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mb(e){if(typeof e!="string")return!1;var t=hL;return t.includes(e)}var pL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xL=new Set(pL);function VC(e){return typeof e!="string"?!1:xL.has(e)}function qC(e){return typeof e=="string"&&e.startsWith("data-")}function ta(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(VC(r)||qC(r))&&(t[r]=e[r]);return t}function bl(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ta(t)}return typeof e=="object"&&!Array.isArray(e)?ta(e):null}function Wn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(VC(r)||qC(r)||mb(r))&&(t[r]=e[r]);return t}function gL(e){return e==null?null:v.isValidElement(e)?Wn(e.props):typeof e=="object"&&!Array.isArray(e)?Wn(e):null}var vL=["children","width","height","viewBox","className","style","title","desc"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uy.apply(null,arguments)}function yL(e,t){if(e==null)return{};var r,a,s=bL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bL(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var hb=v.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:i,className:o,style:c,title:u,desc:m}=e,f=yL(e,vL),h=i||{width:a,height:s,x:0,y:0},g=Pt("recharts-surface",o);return v.createElement("svg",Uy({},Wn(f),{className:g,width:a,height:s,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),v.createElement("title",null,u),v.createElement("desc",null,m),r)}),wL=["children","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wy.apply(null,arguments)}function jL(e,t){if(e==null)return{};var r,a,s=_L(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _L(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Er=v.forwardRef((e,t)=>{var{children:r,className:a}=e,s=jL(e,wL),i=Pt("recharts-layer",a);return v.createElement("g",Wy({className:i},Wn(s),{ref:t}),r)}),GC=v.createContext(null),NL=()=>v.useContext(GC);function nr(e){return function(){return e}}const XC=Math.cos,Eh=Math.sin,Es=Math.sqrt,Ah=Math.PI,H0=2*Ah,Hy=Math.PI,Ky=2*Hy,sl=1e-6,SL=Ky-sl;function YC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YC;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class EL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YC:kL(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=a-t,m=s-r,f=o-t,h=c-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>sl)if(!(Math.abs(h*u-m*f)>sl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=a-o,w=s-c,y=u*u+m*m,b=x*x+w*w,N=Math.sqrt(y),_=Math.sqrt(g),k=i*Math.tan((Hy-Math.acos((y+g-b)/(2*N*_)))/2),A=k/_,T=k/N;Math.abs(A-1)>sl&&this._append`L${t+A*f},${r+A*h}`,this._append`A${i},${i},0,0,${+(h*x>f*w)},${this._x1=t+T*u},${this._y1=r+T*m}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(s),u=a*Math.sin(s),m=t+c,f=r+u,h=1^o,g=o?s-i:i-s;this._x1===null?this._append`M${m},${f}`:(Math.abs(this._x1-m)>sl||Math.abs(this._y1-f)>sl)&&this._append`L${m},${f}`,a&&(g<0&&(g=g%Ky+Ky),g>SL?this._append`A${a},${a},0,1,${h},${t-c},${r-u}A${a},${a},0,1,${h},${this._x1=m},${this._y1=f}`:g>sl&&this._append`A${a},${a},0,${+(g>=Hy)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function pb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new EL(t)}function xb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JC(e){this._context=e}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function K0(e){return new JC(e)}function ZC(e){return e[0]}function QC(e){return e[1]}function eT(e,t){var r=nr(!0),a=null,s=K0,i=null,o=pb(c);e=typeof e=="function"?e:e===void 0?ZC:nr(e),t=typeof t=="function"?t:t===void 0?QC:nr(t);function c(u){var m,f=(u=xb(u)).length,h,g=!1,x;for(a==null&&(i=s(x=o())),m=0;m<=f;++m)!(m<f&&r(h=u[m],m,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,m,u),+t(h,m,u));if(x)return i=null,x+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:nr(!!u),c):r},c.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),c):s},c.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),c):a},c}function Lm(e,t,r){var a=null,s=nr(!0),i=null,o=K0,c=null,u=pb(m);e=typeof e=="function"?e:e===void 0?ZC:nr(+e),t=typeof t=="function"?t:nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QC:nr(+r);function m(h){var g,x,w,y=(h=xb(h)).length,b,N=!1,_,k=new Array(y),A=new Array(y);for(i==null&&(c=o(_=u())),g=0;g<=y;++g){if(!(g<y&&s(b=h[g],g,h))===N)if(N=!N)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=x;--w)c.point(k[w],A[w]);c.lineEnd(),c.areaEnd()}N&&(k[g]=+e(b,g,h),A[g]=+t(b,g,h),c.point(a?+a(b,g,h):k[g],r?+r(b,g,h):A[g]))}if(_)return c=null,_+""||null}function f(){return eT().defined(s).curve(o).context(i)}return m.x=function(h){return arguments.length?(e=typeof h=="function"?h:nr(+h),a=null,m):e},m.x0=function(h){return arguments.length?(e=typeof h=="function"?h:nr(+h),m):e},m.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:nr(+h),m):a},m.y=function(h){return arguments.length?(t=typeof h=="function"?h:nr(+h),r=null,m):t},m.y0=function(h){return arguments.length?(t=typeof h=="function"?h:nr(+h),m):t},m.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:nr(+h),m):r},m.lineX0=m.lineY0=function(){return f().x(e).y(t)},m.lineY1=function(){return f().x(e).y(r)},m.lineX1=function(){return f().x(a).y(t)},m.defined=function(h){return arguments.length?(s=typeof h=="function"?h:nr(!!h),m):s},m.curve=function(h){return arguments.length?(o=h,i!=null&&(c=o(i)),m):o},m.context=function(h){return arguments.length?(h==null?i=c=null:c=o(i=h),m):i},m}class tT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function AL(e){return new tT(e,!0)}function CL(e){return new tT(e,!1)}const gb={draw(e,t){const r=Es(t/Ah);e.moveTo(r,0),e.arc(0,0,r,0,H0)}},TL={draw(e,t){const r=Es(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rT=Es(1/3),PL=rT*2,OL={draw(e,t){const r=Es(t/PL),a=r*rT;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},IL={draw(e,t){const r=Es(t),a=-r/2;e.rect(a,a,r,r)}},DL=.8908130915292852,nT=Eh(Ah/10)/Eh(7*Ah/10),ML=Eh(H0/10)*nT,FL=-XC(H0/10)*nT,LL={draw(e,t){const r=Es(t*DL),a=ML*r,s=FL*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=H0*i/5,c=XC(o),u=Eh(o);e.lineTo(u*r,-c*r),e.lineTo(c*a-u*s,u*a+c*s)}e.closePath()}},zg=Es(3),RL={draw(e,t){const r=-Es(t/(zg*3));e.moveTo(0,r*2),e.lineTo(-zg*r,-r),e.lineTo(zg*r,-r),e.closePath()}},Ja=-.5,Za=Es(3)/2,Vy=1/Es(12),$L=(Vy/2+1)*3,zL={draw(e,t){const r=Es(t/$L),a=r/2,s=r*Vy,i=a,o=r*Vy+r,c=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(c,u),e.lineTo(Ja*a-Za*s,Za*a+Ja*s),e.lineTo(Ja*i-Za*o,Za*i+Ja*o),e.lineTo(Ja*c-Za*u,Za*c+Ja*u),e.lineTo(Ja*a+Za*s,Ja*s-Za*a),e.lineTo(Ja*i+Za*o,Ja*o-Za*i),e.lineTo(Ja*c+Za*u,Ja*u-Za*c),e.closePath()}};function BL(e,t){let r=null,a=pb(s);e=typeof e=="function"?e:nr(e||gb),t=typeof t=="function"?t:nr(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:nr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:nr(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Ch(){}function Th(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Th(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Th(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UL(e){return new aT(e)}function sT(e){this._context=e}sT.prototype={areaStart:Ch,areaEnd:Ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Th(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WL(e){return new sT(e)}function iT(e){this._context=e}iT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Th(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HL(e){return new iT(e)}function oT(e){this._context=e}oT.prototype={areaStart:Ch,areaEnd:Ch,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KL(e){return new oT(e)}function kN(e){return e<0?-1:1}function EN(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),c=(i*s+o*a)/(a+s);return(kN(i)+kN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function AN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bg(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-a)/3;e._context.bezierCurveTo(a+c,s+c*t,i-c,o-c*r,i,o)}function Ph(e){this._context=e}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bg(this,this._t0,AN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bg(this,AN(this,r=EN(this,e,t)),r);break;default:Bg(this,this._t0,r=EN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lT(e){this._context=new cT(e)}(lT.prototype=Object.create(Ph.prototype)).point=function(e,t){Ph.prototype.point.call(this,t,e)};function cT(e){this._context=e}cT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function VL(e){return new Ph(e)}function qL(e){return new lT(e)}function dT(e){this._context=e}dT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=CN(e),s=CN(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function CN(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function GL(e){return new dT(e)}function V0(e,t){this._context=e,this._t=t}V0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function XL(e){return new V0(e,.5)}function YL(e){return new V0(e,0)}function JL(e){return new V0(e,1)}function wl(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,c=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function qy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ZL(e,t){return e[t]}function QL(e){const t=[];return t.key=e,t}function eR(){var e=nr([]),t=qy,r=wl,a=ZL;function s(i){var o=Array.from(e.apply(this,arguments),QL),c,u=o.length,m=-1,f;for(const h of i)for(c=0,++m;c<u;++c)(o[c][m]=[0,+a(h,o[c].key,m,i)]).data=h;for(c=0,f=xb(t(o));c<u;++c)o[f[c]].index=c;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:nr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:nr(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?qy:typeof i=="function"?i:nr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??wl,s):r},s}function tR(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}wl(e,t)}}function rR(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=e[o][r][1]||0;a[r][1]+=a[r][0]=-c/2}wl(e,t)}}function nR(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var c=0,u=0,m=0;c<o;++c){for(var f=e[t[c]],h=f[a][1]||0,g=f[a-1][1]||0,x=(h-g)/2,w=0;w<c;++w){var y=e[t[w]],b=y[a][1]||0,N=y[a-1][1]||0;x+=b-N}u+=h,m+=x*h}s[a-1][1]+=s[a-1][0]=r,u&&(r-=m/u)}s[a-1][1]+=s[a-1][0]=r,wl(e,t)}}var Ug={},Wg={},TN;function aR(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Wg)),Wg}var Hg={},PN;function uT(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Hg)),Hg}var Kg={},ON;function vb(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Kg)),Kg}var Vg={},qg={},IN;function sR(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(qg)),qg}var DN;function yb(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sR(),r=vb();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let c=0,u="",m="",f=!1;for(s.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const h=s[c];m?h==="\\"&&c+1<o?(c++,u+=s[c]):h===m?m="":u+=h:f?h==='"'||h==="'"?m=h:h==="]"?(f=!1,i.push(u),u=""):u+=h:h==="["?(f=!0,u&&(i.push(u),u="")):h==="."?u&&(i.push(u),u=""):u+=h,c++}return u&&i.push(u),i}e.toPath=a})(Vg)),Vg}var MN;function bb(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR(),r=uT(),a=vb(),s=yb();function i(c,u,m){if(c==null)return m;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return m;const f=c[u];return f===void 0?r.isDeepKey(u)?i(c,s.toPath(u),m):m:f}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const f=c[u];return f===void 0?m:f}default:{if(Array.isArray(u))return o(c,u,m);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return m;const f=c[u];return f===void 0?m:f}}}function o(c,u,m){if(u.length===0)return m;let f=c;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return m;f=f[u[h]]}return f===void 0?m:f}e.get=i})(Ug)),Ug}var Gg,FN;function iR(){return FN||(FN=1,Gg=bb().get),Gg}var oR=iR();const jl=zi(oR);var lR=4;function No(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lR,r=10**t,a=Math.round(e*r)/r;return Object.is(a,-0)?0:a}function _r(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e.reduce((s,i,o)=>{var c=r[o-1];return typeof c=="string"?s+c+i:c!==void 0?s+No(c)+i:s+i},"")}var hn=e=>e===0?0:e>0?1:-1,ss=e=>typeof e=="number"&&e!=+e,Pi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!ss(e),Hs=e=>Je(e)||typeof e=="string",cR=0,Su=e=>{var t=++cR;return"".concat(e||"").concat(t)},zn=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return a;var i;if(Pi(t)){if(r==null)return a;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ss(i)&&(i=a),s&&r!=null&&i>r&&(i=r),i},fT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[String(e[a])])r[String(e[a])]=!0;else return!0;return!1};function zt(e,t,r){return Je(e)&&Je(t)?No(e+r*(t-e)):t}function mT(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):jl(a,t))===r)}var cr=e=>e===null||typeof e>"u",Zu=e=>cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function dR(e){return e!=null}function Qu(){}var uR=["type","size","sizeType"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gy.apply(null,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(a){fR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fR(e,t,r){return(t=mR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mR(e){var t=hR(e,"string");return typeof t=="symbol"?t:t+""}function hR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pR(e,t){if(e==null)return{};var r,a,s=xR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var hT={symbolCircle:gb,symbolCross:TL,symbolDiamond:OL,symbolSquare:IL,symbolStar:LL,symbolTriangle:RL,symbolWye:zL},gR=Math.PI/180,vR=e=>{var t="symbol".concat(Zu(e));return hT[t]||gb},yR=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*gR;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bR=(e,t)=>{hT["symbol".concat(Zu(e))]=t},wb=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=pR(e,uR),i=RN(RN({},s),{},{type:t,size:r,sizeType:a}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var g=vR(o),x=BL().type(g).size(yR(r,a,o)),w=x();if(w!==null)return w},{className:u,cx:m,cy:f}=i,h=Wn(i);return Je(m)&&Je(f)&&Je(r)?v.createElement("path",Gy({},h,{className:Pt("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:c()})):null};wb.registerSymbol=bR;var pT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,jb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{mb(s)&&(a[s]=(i=>r[s](r,i)))}),a},wR=(e,t,r)=>a=>(e(t,r,a),null),ef=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var i=e[s];mb(s)&&typeof i=="function"&&(a||(a={}),a[s]=wR(i,t,r))}),a};function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(a){_R(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _R(e,t,r){return(t=NR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t){var r=jR({},e),a=t,s=Object.keys(t),i=s.reduce((o,c)=>(o[c]===void 0&&a[c]!==void 0&&(o[c]=a[c]),o),r);return i}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Oh.apply(null,arguments)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(a){ER(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ER(e,t,r){return(t=AR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AR(e){var t=CR(e,"string");return typeof t=="symbol"?t:t+""}function CR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts=32,TR={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function PR(e){var{data:t,iconType:r,inactiveColor:a}=e,s=ts/2,i=ts/6,o=ts/3,c=t.inactive?a:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var m;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:ts,y2:s,className:"recharts-legend-icon"})}if(u==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ts,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(u==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ts/8,"h").concat(ts,"v").concat(ts*3/4,"h").concat(-ts,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var f=kR({},t);return delete f.legendIcon,v.cloneElement(t.legendIcon,f)}return v.createElement(wb,{fill:c,cx:s,cy:s,size:ts,sizeType:"diameter",type:u})}function OR(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:i,iconType:o}=e,c={x:0,y:0,width:ts,height:ts},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var g=f.formatter||s,x=Pt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var w=f.inactive?i:f.color,y=g?g(f.value,f,h):f.value;return v.createElement("li",Oh({className:x,style:u,key:"legend-item-".concat(h)},ef(e,f,h)),v.createElement(hb,{width:r,height:r,viewBox:c,style:m,"aria-label":"".concat(y," legend icon")},v.createElement(PR,{data:f,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y))})}var IR=e=>{var t=Ar(e,TR),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(OR,Oh({},t,{payload:r})))},Xg={},Yg={},BN;function DR(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=a(o);s.has(c)||s.set(c,o)}return Array.from(s.values())}e.uniqBy=t})(Yg)),Yg}var Jg={},UN;function xT(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Jg)),Jg}var Zg={},Qg={},ev={},WN;function MR(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ev)),ev}var HN;function _b(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(Qg)),Qg}var tv={},KN;function FR(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(tv)),tv}var VN;function LR(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b(),r=FR();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(Zg)),Zg}var rv={},nv={},qN;function RR(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bb();function r(a){return function(s){return t.get(s,a)}}e.property=r})(nv)),nv}var av={},sv={},iv={},ov={},GN;function gT(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ov)),ov}var lv={},XN;function vT(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(lv)),lv}var cv={},YN;function yT(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(cv)),cv}var JN;function $R(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),r=vT(),a=yT();function s(f,h,g){return typeof g!="function"?s(f,h,()=>{}):i(f,h,function x(w,y,b,N,_,k){const A=g(w,y,b,N,_,k);return A!==void 0?!!A:i(w,y,x,k)},new Map)}function i(f,h,g,x){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,g,x);case"function":return Object.keys(h).length>0?i(f,{...h},g,x):a.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,g,x){if(h==null)return!0;if(Array.isArray(h))return u(f,h,g,x);if(h instanceof Map)return c(f,h,g,x);if(h instanceof Set)return m(f,h,g,x);const w=Object.keys(h);if(f==null||r.isPrimitive(f))return w.length===0;if(w.length===0)return!0;if(x?.has(h))return x.get(h)===f;x?.set(h,f);try{for(let y=0;y<w.length;y++){const b=w[y];if(!r.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!g(f[b],h[b],b,f,h,x))return!1}return!0}finally{x?.delete(h)}}function c(f,h,g,x){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,y]of h.entries()){const b=f.get(w);if(g(b,y,w,f,h,x)===!1)return!1}return!0}function u(f,h,g,x){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let y=0;y<h.length;y++){const b=h[y];let N=!1;for(let _=0;_<f.length;_++){if(w.has(_))continue;const k=f[_];let A=!1;if(g(k,b,y,f,h,x)&&(A=!0),A){w.add(_),N=!0;break}}if(!N)return!1}return!0}function m(f,h,g,x){return h.size===0?!0:f instanceof Set?u([...f],[...h],g,x):!1}e.isMatchWith=s,e.isSetMatch=m})(iv)),iv}var ZN;function bT(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(sv)),sv}var dv={},uv={},fv={},QN;function zR(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(fv)),fv}var mv={},eS;function wT(){return eS||(eS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(mv)),mv}var hv={},tS;function jT(){return tS||(tS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",m="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",x="[object Object]",w="[object Error]",y="[object DataView]",b="[object Uint8Array]",N="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",I="[object Int16Array]",O="[object Int32Array]",D="[object BigInt64Array]",P="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=A,e.booleanTag=s,e.dataViewTag=y,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=P,e.float64ArrayTag=M,e.functionTag=h,e.int16ArrayTag=I,e.int32ArrayTag=O,e.int8ArrayTag=T,e.mapTag=u,e.numberTag=a,e.objectTag=x,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=_,e.uint32ArrayTag=k,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=N})(hv)),hv}var pv={},rS;function BR(){return rS||(rS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(pv)),pv}var nS;function _T(){return nS||(nS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zR(),r=wT(),a=jT(),s=vT(),i=BR();function o(f,h){return c(f,void 0,f,new Map,h)}function c(f,h,g,x=new Map,w=void 0){const y=w?.(f,h,g,x);if(y!==void 0)return y;if(s.isPrimitive(f))return f;if(x.has(f))return x.get(f);if(Array.isArray(f)){const b=new Array(f.length);x.set(f,b);for(let N=0;N<f.length;N++)b[N]=c(f[N],N,g,x,w);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;x.set(f,b);for(const[N,_]of f)b.set(N,c(_,N,g,x,w));return b}if(f instanceof Set){const b=new Set;x.set(f,b);for(const N of f)b.add(c(N,void 0,g,x,w));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);x.set(f,b);for(let N=0;N<f.length;N++)b[N]=c(f[N],N,g,x,w);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return x.set(f,b),u(b,f,g,x,w),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return x.set(f,b),u(b,f,g,x,w),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return x.set(f,b),u(b,f,g,x,w),b}if(f instanceof Error){const b=new f.constructor;return x.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,g,x,w),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return x.set(f,b),u(b,f,g,x,w),b}if(f instanceof Number){const b=new Number(f.valueOf());return x.set(f,b),u(b,f,g,x,w),b}if(f instanceof String){const b=new String(f.valueOf());return x.set(f,b),u(b,f,g,x,w),b}if(typeof f=="object"&&m(f)){const b=Object.create(Object.getPrototypeOf(f));return x.set(f,b),u(b,f,g,x,w),b}return f}function u(f,h,g=f,x,w){const y=[...Object.keys(h),...t.getSymbols(h)];for(let b=0;b<y.length;b++){const N=y[b],_=Object.getOwnPropertyDescriptor(f,N);(_==null||_.writable)&&(f[N]=c(h[N],N,g,x,w))}}function m(f){switch(r.getTag(f)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(uv)),uv}var aS;function UR(){return aS||(aS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(dv)),dv}var sS;function WR(){return sS||(sS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT(),r=UR();function a(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=a})(av)),av}var xv={},gv={},vv={},iS;function HR(){return iS||(iS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T(),r=jT();function a(s,i){return t.cloneDeepWith(s,(o,c,u,m)=>{const f=i?.(o,c,u,m);if(f!==void 0)return f;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case r.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=a})(vv)),vv}var oS;function KR(){return oS||(oS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HR();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(gv)),gv}var yv={},bv={},lS;function NT(){return lS||(lS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(bv)),bv}var wv={},cS;function VR(){return cS||(cS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(wv)),wv}var dS;function qR(){return dS||(dS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT(),r=NT(),a=VR(),s=yb();function i(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=s.toPath(c):u=[c],u.length===0)return!1;let m=o;for(let f=0;f<u.length;f++){const h=u[f];if((m==null||!Object.hasOwn(m,h))&&!((Array.isArray(m)||a.isArguments(m))&&r.isIndex(h)&&h<m.length))return!1;m=m[h]}return!0}e.has=i})(yv)),yv}var uS;function GR(){return uS||(uS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT(),r=vb(),a=KR(),s=bb(),i=qR();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=a.cloneDeep(u),function(m){const f=s.get(m,c);return f===void 0?i.has(m,c):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(xv)),xv}var fS;function XR(){return fS||(fS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xT(),r=RR(),a=WR(),s=GR();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(rv)),rv}var mS;function YR(){return mS||(mS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DR(),r=xT(),a=LR(),s=XR();function i(o,c=r.identity){return a.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(c)):[]}e.uniqBy=i})(Xg)),Xg}var jv,hS;function JR(){return hS||(hS=1,jv=YR().uniqBy),jv}var ZR=JR();const pS=zi(ZR);function ST(e,t,r){return t===!0?pS(e,r):typeof t=="function"?pS(e,t):e}var _v={exports:{}},Nv={},Sv={exports:{}},kv={};var xS;function QR(){if(xS)return kv;xS=1;var e=Vc();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(h,g){var x=g(),w=a({inst:{value:x,getSnapshot:g}}),y=w[0].inst,b=w[1];return i(function(){y.value=x,y.getSnapshot=g,u(y)&&b({inst:y})},[h,x,g]),s(function(){return u(y)&&b({inst:y}),h(function(){u(y)&&b({inst:y})})},[h]),o(x),x}function u(h){var g=h.getSnapshot;h=h.value;try{var x=g();return!r(h,x)}catch{return!0}}function m(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return kv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,kv}var gS;function e7(){return gS||(gS=1,Sv.exports=QR()),Sv.exports}var vS;function t7(){if(vS)return Nv;vS=1;var e=Vc(),t=e7();function r(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Nv.useSyncExternalStoreWithSelector=function(m,f,h,g,x){var w=i(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=c(function(){function N(I){if(!_){if(_=!0,k=I,I=g(I),x!==void 0&&y.hasValue){var O=y.value;if(x(O,I))return A=O}return A=I}if(O=A,a(k,I))return O;var D=g(I);return x!==void 0&&x(O,D)?(k=I,O):(k=I,A=D)}var _=!1,k,A,T=h===void 0?null:h;return[function(){return N(f())},T===null?void 0:function(){return N(T())}]},[f,h,g,x]);var b=s(m,w[0],w[1]);return o(function(){y.hasValue=!0,y.value=b},[b]),u(b),b},Nv}var yS;function r7(){return yS||(yS=1,_v.exports=t7()),_v.exports}var n7=r7(),Nb=v.createContext(null),a7=e=>e,sr=()=>{var e=v.useContext(Nb);return e?e.store.dispatch:a7},yh=()=>{},s7=()=>yh,i7=(e,t)=>e===t;function st(e){var t=v.useContext(Nb);return n7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:s7,t?t.store.getState:yh,t?t.store.getState:yh,t?e:yh,i7)}function o7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function l7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function c7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var bS=e=>Array.isArray(e)?e:[e];function d7(e){const t=Array.isArray(e[0])?e[0]:e;return c7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function u7(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var f7=class{constructor(e){this.value=e}deref(){return this.value}},m7=typeof WeakRef<"u"?WeakRef:f7,h7=0,wS=1;function Rm(){return{s:h7,v:void 0,o:null,p:null}}function kT(e,t={}){let r=Rm();const{resultEqualityCheck:a}=t;let s,i=0;function o(){let c=r;const{length:u}=arguments;for(let h=0,g=u;h<g;h++){const x=arguments[h];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const y=w.get(x);y===void 0?(c=Rm(),w.set(x,c)):c=y}else{let w=c.p;w===null&&(c.p=w=new Map);const y=w.get(x);y===void 0?(c=Rm(),w.set(x,c)):c=y}}const m=c;let f;if(c.s===wS)f=c.v;else if(f=e.apply(null,arguments),i++,a){const h=s?.deref?.()??s;h!=null&&a(h,f)&&(f=h,i!==0&&i--),s=typeof f=="object"&&f!==null||typeof f=="function"?new m7(f):f}return m.s=wS,m.v=f,f}return o.clearCache=()=>{r=Rm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function p7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let i=0,o=0,c,u={},m=s.pop();typeof m=="object"&&(u=m,m=s.pop()),o7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const f={...r,...u},{memoize:h,memoizeOptions:g=[],argsMemoize:x=kT,argsMemoizeOptions:w=[]}=f,y=bS(g),b=bS(w),N=d7(s),_=h(function(){return i++,m.apply(null,arguments)},...y),k=x(function(){o++;const T=u7(N,arguments);return c=_.apply(null,T),c},...b);return Object.assign(k,{resultFunc:m,memoizedResultFunc:_,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:x})};return Object.assign(a,{withTypes:()=>a}),a}var _e=p7(kT),x7=Object.assign((e,t=_e)=>{l7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((o,c,u)=>(o[r[u]]=c,o),{}))},{withTypes:()=>x7}),Ev={},Av={},Cv={},jS;function g7(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,i)=>{if(a!==s){const o=t(a),c=t(s);if(o===c&&o===0){if(a<s)return i==="desc"?1:-1;if(a>s)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r})(Cv)),Cv}var Tv={},Pv={},_S;function ET(){return _S||(_S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Pv)),Pv}var NS;function v7(){return NS||(NS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ET(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(Tv)),Tv}var SS;function y7(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7(),r=v7(),a=yb();function s(i,o,c,u){if(i==null)return[];c=u?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const m=(x,w)=>{let y=x;for(let b=0;b<w.length&&y!=null;++b)y=y[w[b]];return y},f=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:m(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?m(w,x):typeof w=="object"?w[x]:w,h=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:a.toPath(x)}));return i.map(x=>({original:x,criteria:h.map(w=>f(w,x))})).slice().sort((x,w)=>{for(let y=0;y<h.length;y++){const b=t.compareValues(x.criteria[y],w.criteria[y],c[y]);if(b!==0)return b}return 0}).map(x=>x.original)}e.orderBy=s})(Av)),Av}var Ov={},kS;function b7(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],i=Math.floor(a),o=(c,u)=>{for(let m=0;m<c.length;m++){const f=c[m];Array.isArray(f)&&u<i?o(f,u+1):s.push(f)}};return o(r,0),s}e.flatten=t})(Ov)),Ov}var Iv={},ES;function AT(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NT(),r=_b(),a=gT(),s=yT();function i(o,c,u){return a.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?s.eq(u[c],o):!1}e.isIterateeCall=i})(Iv)),Iv}var AS;function w7(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7(),r=b7(),a=AT();function s(i,...o){const c=o.length;return c>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(Ev)),Ev}var Dv,CS;function j7(){return CS||(CS=1,Dv=w7().sortBy),Dv}var _7=j7();const q0=zi(_7);var CT=e=>e.legend.settings,N7=e=>e.legend.size,S7=e=>e.legend.payload,k7=_e([S7,CT],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?q0(a,r):a});function E7(){return st(k7)}var $m=1;function TT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),a=v.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>$m||Math.abs(o.left-t.left)>$m||Math.abs(o.top-t.top)>$m||Math.abs(o.width-t.width)>$m)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function _n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var A7=typeof Symbol=="function"&&Symbol.observable||"@@observable",TS=A7,Mv=()=>Math.random().toString(36).substring(7).split("").join("."),C7={INIT:`@@redux/INIT${Mv()}`,REPLACE:`@@redux/REPLACE${Mv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mv()}`},Ih=C7;function Sb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function PT(e,t,r){if(typeof e!="function")throw new Error(_n(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_n(1));return r(PT)(e,t)}let a=e,s=t,i=new Map,o=i,c=0,u=!1;function m(){o===i&&(o=new Map,i.forEach((b,N)=>{o.set(N,b)}))}function f(){if(u)throw new Error(_n(3));return s}function h(b){if(typeof b!="function")throw new Error(_n(4));if(u)throw new Error(_n(5));let N=!0;m();const _=c++;return o.set(_,b),function(){if(N){if(u)throw new Error(_n(6));N=!1,m(),o.delete(_),i=null}}}function g(b){if(!Sb(b))throw new Error(_n(7));if(typeof b.type>"u")throw new Error(_n(8));if(typeof b.type!="string")throw new Error(_n(17));if(u)throw new Error(_n(9));try{u=!0,s=a(s,b)}finally{u=!1}return(i=o).forEach(_=>{_()}),b}function x(b){if(typeof b!="function")throw new Error(_n(10));a=b,g({type:Ih.REPLACE})}function w(){const b=h;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(_n(11));function _(){const A=N;A.next&&A.next(f())}return _(),{unsubscribe:b(_)}},[TS](){return this}}}return g({type:Ih.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:x,[TS]:w}}function T7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ih.INIT})>"u")throw new Error(_n(12));if(typeof r(void 0,{type:Ih.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function OT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const a=Object.keys(r);let s;try{T7(r)}catch(i){s=i}return function(o={},c){if(s)throw s;let u=!1;const m={};for(let f=0;f<a.length;f++){const h=a[f],g=r[h],x=o[h],w=g(x,c);if(typeof w>"u")throw c&&c.type,new Error(_n(14));m[h]=w,u=u||w!==x}return u=u||a.length!==Object.keys(o).length,u?m:o}}function Dh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function P7(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(_n(15))};const o={getState:s.getState,dispatch:(u,...m)=>i(u,...m)},c=e.map(u=>u(o));return i=Dh(...c)(s.dispatch),{...s,dispatch:i}}}function IT(e){return Sb(e)&&"type"in e&&typeof e.type=="string"}var DT=Symbol.for("immer-nothing"),PS=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function ys(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Da=Object,Lc=Da.getPrototypeOf,Mh="constructor",G0="prototype",Xy="configurable",Fh="enumerable",bh="writable",ku="value",Oi=e=>!!e&&!!e[ra];function ks(e){return e?MT(e)||Y0(e)||!!e[PS]||!!e[Mh]?.[PS]||J0(e)||Z0(e):!1}var O7=Da[G0][Mh].toString(),OS=new WeakMap;function MT(e){if(!e||!kb(e))return!1;const t=Lc(e);if(t===null||t===Da[G0])return!0;const r=Da.hasOwnProperty.call(t,Mh)&&t[Mh];if(r===Object)return!0;if(!yc(r))return!1;let a=OS.get(r);return a===void 0&&(a=Function.toString.call(r),OS.set(r,a)),a===O7}function X0(e,t,r=!0){tf(e)===0?(r?Reflect.ownKeys(e):Da.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function tf(e){const t=e[ra];return t?t.type_:Y0(e)?1:J0(e)?2:Z0(e)?3:0}var IS=(e,t,r=tf(e))=>r===2?e.has(t):Da[G0].hasOwnProperty.call(e,t),Yy=(e,t,r=tf(e))=>r===2?e.get(t):e[t],Lh=(e,t,r,a=tf(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function I7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Y0=Array.isArray,J0=e=>e instanceof Map,Z0=e=>e instanceof Set,kb=e=>typeof e=="object",yc=e=>typeof e=="function",Fv=e=>typeof e=="boolean";function D7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ui=e=>e.copy_||e.base_,Eb=e=>e.modified_?e.copy_:e.base_;function Jy(e,t){if(J0(e))return new Map(e);if(Z0(e))return new Set(e);if(Y0(e))return Array[G0].slice.call(e);const r=MT(e);if(t===!0||t==="class_only"&&!r){const a=Da.getOwnPropertyDescriptors(e);delete a[ra];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],c=a[o];c[bh]===!1&&(c[bh]=!0,c[Xy]=!0),(c.get||c.set)&&(a[o]={[Xy]:!0,[bh]:!0,[Fh]:c[Fh],[ku]:e[o]})}return Da.create(Lc(e),a)}else{const a=Lc(e);if(a!==null&&r)return{...e};const s=Da.create(a);return Da.assign(s,e)}}function Ab(e,t=!1){return Q0(e)||Oi(e)||!ks(e)||(tf(e)>1&&Da.defineProperties(e,{set:zm,add:zm,clear:zm,delete:zm}),Da.freeze(e),t&&X0(e,(r,a)=>{Ab(a,!0)},!1)),e}function M7(){ys(2)}var zm={[ku]:M7};function Q0(e){return e===null||!kb(e)?!0:Da.isFrozen(e)}var Rh="MapSet",Zy="Patches",DS="ArrayMethods",FT={};function _l(e){const t=FT[e];return t||ys(0,e),t}var MS=e=>!!FT[e],Eu,LT=()=>Eu,F7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MS(Rh)?_l(Rh):void 0,arrayMethodsPlugin_:MS(DS)?_l(DS):void 0});function FS(e,t){t&&(e.patchPlugin_=_l(Zy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qy(e){e1(e),e.drafts_.forEach(L7),e.drafts_=null}function e1(e){e===Eu&&(Eu=e.parent_)}var LS=e=>Eu=F7(Eu,e);function L7(e){const t=e[ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function RS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ra].modified_&&(Qy(t),ys(4)),ks(e)&&(e=$S(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[ra].base_,e,t)}else e=$S(t,r);return R7(t,e,!0),Qy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DT?e:void 0}function $S(e,t){if(Q0(t))return t;const r=t[ra];if(!r)return $h(t,e.handledSet_,e);if(!ep(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);zT(r,e)}return r.copy_}function R7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ab(t,r)}function RT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ep=(e,t)=>e.scope_===t,$7=[];function $T(e,t,r,a){const s=ui(e),i=e.type_;if(a!==void 0&&Yy(s,a,i)===t){Lh(s,a,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;X0(s,(u,m)=>{if(Oi(m)){const f=c.get(m)||[];f.push(u),c.set(m,f)}})}const o=e.draftLocations_.get(t)??$7;for(const c of o)Lh(s,c,r,i)}function z7(e,t,r){e.callbacks_.push(function(s){const i=t;if(!i||!ep(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const o=Eb(i);$T(e,i.draft_??i,o,r),zT(i,s)})}function zT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}RT(e)}}function B7(e,t,r){const{scope_:a}=e;if(Oi(r)){const s=r[ra];ep(s,a)&&s.callbacks_.push(function(){wh(e);const o=Eb(s);$T(e,r,o,t)})}else ks(r)&&e.callbacks_.push(function(){const i=ui(e);e.type_===3?i.has(r)&&$h(r,a.handledSet_,a):Yy(i,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$h(Yy(e.copy_,t,e.type_),a.handledSet_,a)})}function $h(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Oi(e)||t.has(e)||!ks(e)||Q0(e)||(t.add(e),X0(e,(a,s)=>{if(Oi(s)){const i=s[ra];if(ep(i,r)){const o=Eb(i);Lh(e,a,o,e.type_),RT(i)}}else ks(s)&&$h(s,t,r)})),e}function U7(e,t){const r=Y0(e),a={type_:r?1:0,scope_:t?t.scope_:LT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,i=zh;r&&(s=[a],i=Au);const{revoke:o,proxy:c}=Proxy.revocable(s,i);return a.draft_=c,a.revoke_=o,[c,a]}var zh={get(e,t){if(t===ra)return e;let r=e.scope_.arrayMethodsPlugin_;const a=e.type_===1&&typeof t=="string";if(a&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=ui(e);if(!IS(s,t,e.type_))return W7(e,s,t);const i=s[t];if(e.finalized_||!ks(i)||a&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&D7(t))return i;if(i===Lv(e.base_,t)){wh(e);const o=e.type_===1?+t:t,c=r1(e.scope_,i,e,o);return e.copy_[o]=c}return i},has(e,t){return t in ui(e)},ownKeys(e){return Reflect.ownKeys(ui(e))},set(e,t,r){const a=BT(ui(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=Lv(ui(e),t),i=s?.[ra];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(I7(r,s)&&(r!==void 0||IS(e.base_,t,e.type_)))return!0;wh(e),t1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),B7(e,t,r)),!0},deleteProperty(e,t){return wh(e),Lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),t1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ui(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[bh]:!0,[Xy]:e.type_!==1||t!=="length",[Fh]:a[Fh],[ku]:r[t]}},defineProperty(){ys(11)},getPrototypeOf(e){return Lc(e.base_)},setPrototypeOf(){ys(12)}},Au={};for(let e in zh){let t=zh[e];Au[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Au.deleteProperty=function(e,t){return Au.set.call(this,e,t,void 0)};Au.set=function(e,t,r){return zh.set.call(this,e[0],t,r,e[0])};function Lv(e,t){const r=e[ra];return(r?ui(r):e)[t]}function W7(e,t,r){const a=BT(t,r);return a?ku in a?a[ku]:a.get?.call(e.draft_):void 0}function BT(e,t){if(!(t in e))return;let r=Lc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Lc(r)}}function t1(e){e.modified_||(e.modified_=!0,e.parent_&&t1(e.parent_))}function wh(e){e.copy_||(e.assigned_=new Map,e.copy_=Jy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(yc(r)&&!yc(a)){const o=a;a=r;const c=this;return function(m=o,...f){return c.produce(m,h=>a.call(this,h,...f))}}yc(a)||ys(6),s!==void 0&&!yc(s)&&ys(7);let i;if(ks(r)){const o=LS(this),c=r1(o,r,void 0);let u=!0;try{i=a(c),u=!1}finally{u?Qy(o):e1(o)}return FS(o,s),RS(i,o)}else if(!r||!kb(r)){if(i=a(r),i===void 0&&(i=r),i===DT&&(i=void 0),this.autoFreeze_&&Ab(i,!0),s){const o=[],c=[];_l(Zy).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:c}),s(o,c)}return i}else ys(1,r)},this.produceWithPatches=(r,a)=>{if(yc(r))return(c,...u)=>this.produceWithPatches(c,m=>r(m,...u));let s,i;return[this.produce(r,a,(c,u)=>{s=c,i=u}),s,i]},Fv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Fv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Fv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ks(t)||ys(8),Oi(t)&&(t=Ns(t));const r=LS(this),a=r1(r,t,void 0);return a[ra].isManual_=!0,e1(r),a}finishDraft(t,r){const a=t&&t[ra];(!a||!a.isManual_)&&ys(9);const{scope_:s}=a;return FS(s,r),RS(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const i=r[a];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}a>-1&&(r=r.slice(a+1));const s=_l(Zy).applyPatches_;return Oi(t)?s(t,r):this.produce(t,i=>s(i,r))}};function r1(e,t,r,a){const[s,i]=J0(t)?_l(Rh).proxyMap_(t,r):Z0(t)?_l(Rh).proxySet_(t,r):U7(t,r);return(r?.scope_??LT()).drafts_.push(s),i.callbacks_=r?.callbacks_??[],i.key_=a,r&&a!==void 0?z7(r,i,a):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:m}=u;i.modified_&&m&&m.generatePatches_(i,[],u)}),s}function Ns(e){return Oi(e)||ys(10,e),UT(e)}function UT(e){if(!ks(e)||Q0(e))return e;const t=e[ra];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jy(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Jy(e,!0);return X0(r,(s,i)=>{Lh(r,s,UT(i))},a),t&&(t.finalized_=!1),r}var K7=new H7,WT=K7.produce;function HT(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var V7=HT(),q7=HT,G7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dh:Dh.apply(null,arguments)};function is(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(Fa(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>IT(a)&&a.type===e,r}var KT=class du extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,du.prototype)}static get[Symbol.species](){return du}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new du(...t[0].concat(this)):new du(...t.concat(this))}};function zS(e){return ks(e)?WT(e,()=>{}):e}function Bm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function X7(e){return typeof e=="boolean"}var Y7=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new KT;return r&&(X7(r)?o.push(V7):o.push(q7(r.extraArgument))),o},VT="RTK_autoBatch",mr=()=>e=>({payload:e,meta:{[VT]:!0}}),BS=e=>t=>{setTimeout(t,e)},qT=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BS(10):e.type==="callback"?e.queueNotification:BS(e.timeout),m=()=>{o=!1,i&&(i=!1,c.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const h=()=>s&&f(),g=a.subscribe(h);return c.add(f),()=>{g(),c.delete(f)}},dispatch(f){try{return s=!f?.meta?.[VT],i=!s,i&&(o||(o=!0,u(m))),a.dispatch(f)}finally{s=!0}}})},J7=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new KT(e);return a&&s.push(qT(typeof a=="object"?a:void 0)),s};function Z7(e){const t=Y7(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Sb(r))c=OT(r);else throw new Error(Fa(1));let u;typeof a=="function"?u=a(t):u=t();let m=Dh;s&&(m=G7({trace:!1,...typeof s=="object"&&s}));const f=P7(...u),h=J7(f);let g=typeof o=="function"?o(h):h();const x=m(...g);return PT(c,i,x)}function GT(e){const t={},r=[];let a;const s={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Fa(28));if(c in t)throw new Error(Fa(29));return t[c]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function Q7(e){return typeof e=="function"}function e9(e,t){let[r,a,s]=GT(t),i;if(Q7(e))i=()=>zS(e());else{const c=zS(e);i=()=>c}function o(c=i(),u){let m=[r[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return m.filter(f=>!!f).length===0&&(m=[s]),m.reduce((f,h)=>{if(h)if(Oi(f)){const x=h(f,u);return x===void 0?f:x}else{if(ks(f))return WT(f,g=>h(g,u));{const g=h(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},c)}return o.getInitialState=i,o}var t9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r9=(e=21)=>{let t="",r=e;for(;r--;)t+=t9[Math.random()*64|0];return t},n9=Symbol.for("rtk-slice-createasyncthunk");function a9(e,t){return`${e}/${t}`}function s9({creators:e}={}){const t=e?.asyncThunk?.[n9];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Fa(11));const o=(typeof a.reducers=="function"?a.reducers(o9()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,A){const T=typeof k=="string"?k:k.type;if(!T)throw new Error(Fa(12));if(T in u.sliceCaseReducersByType)throw new Error(Fa(13));return u.sliceCaseReducersByType[T]=A,m},addMatcher(k,A){return u.sliceMatchers.push({matcher:k,reducer:A}),m},exposeAction(k,A){return u.actionCreators[k]=A,m},exposeCaseReducer(k,A){return u.sliceCaseReducersByName[k]=A,m}};c.forEach(k=>{const A=o[k],T={reducerName:k,type:a9(s,k),createNotation:typeof a.reducers=="function"};c9(A)?u9(T,A,m,t):l9(T,A,m)});function f(){const[k={},A=[],T=void 0]=typeof a.extraReducers=="function"?GT(a.extraReducers):[a.extraReducers],I={...k,...u.sliceCaseReducersByType};return e9(a.initialState,O=>{for(let D in I)O.addCase(D,I[D]);for(let D of u.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of A)O.addMatcher(D.matcher,D.reducer);T&&O.addDefaultCase(T)})}const h=k=>k,g=new Map,x=new WeakMap;let w;function y(k,A){return w||(w=f()),w(k,A)}function b(){return w||(w=f()),w.getInitialState()}function N(k,A=!1){function T(O){let D=O[k];return typeof D>"u"&&A&&(D=Bm(x,T,b)),D}function I(O=h){const D=Bm(g,A,()=>new WeakMap);return Bm(D,O,()=>{const P={};for(const[M,V]of Object.entries(a.selectors??{}))P[M]=i9(V,O,()=>Bm(x,O,b),A);return P})}return{reducerPath:k,getSelectors:I,get selectors(){return I(T)},selectSlice:T}}const _={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...N(i),injectInto(k,{reducerPath:A,...T}={}){const I=A??i;return k.inject({reducerPath:I,reducer:y},T),{..._,...N(I,!0)}}};return _}}function i9(e,t,r,a){function s(i,...o){let c=t(i);return typeof c>"u"&&a&&(c=r()),e(c,...o)}return s.unwrapped=e,s}var ba=s9();function o9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function l9({type:e,reducerName:t,createNotation:r},a,s){let i,o;if("reducer"in a){if(r&&!d9(a))throw new Error(Fa(17));i=a.reducer,o=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?is(e,o):is(e))}function c9(e){return e._reducerDefinitionType==="asyncThunk"}function d9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function u9({type:e,reducerName:t},r,a,s){if(!s)throw new Error(Fa(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:u,settled:m,options:f}=r,h=s(e,i,f);a.exposeAction(t,h),o&&a.addCase(h.fulfilled,o),c&&a.addCase(h.pending,c),u&&a.addCase(h.rejected,u),m&&a.addMatcher(h.settled,m),a.exposeCaseReducer(t,{fulfilled:o||Um,pending:c||Um,rejected:u||Um,settled:m||Um})}function Um(){}var f9="task",XT="listener",YT="completed",Cb="cancelled",m9=`task-${Cb}`,h9=`task-${YT}`,n1=`${XT}-${Cb}`,p9=`${XT}-${YT}`,tp=class{constructor(e){this.code=e,this.message=`${f9} ${Cb} (reason: ${e})`}name="TaskAbortError";message},Tb=(e,t)=>{if(typeof e!="function")throw new TypeError(Fa(32))},Bh=()=>{},JT=(e,t=Bh)=>(e.catch(t),e),ZT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),pl=e=>{if(e.aborted)throw new tp(e.reason)};function QT(e,t){let r=Bh;return new Promise((a,s)=>{const i=()=>s(new tp(e.reason));if(e.aborted){i();return}r=ZT(e,i),t.finally(()=>r()).then(a,s)}).finally(()=>{r=Bh})}var x9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof tp?"cancelled":"rejected",error:r}}finally{t?.()}},Uh=e=>t=>JT(QT(e,t).then(r=>(pl(e),r))),eP=e=>{const t=Uh(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Ac}=Object,US={},rp="listenerMiddleware",g9=(e,t)=>{const r=a=>ZT(e,()=>a.abort(e.reason));return(a,s)=>{Tb(a);const i=new AbortController;r(i);const o=x9(async()=>{pl(e),pl(i.signal);const c=await a({pause:Uh(i.signal),delay:eP(i.signal),signal:i.signal});return pl(i.signal),c},()=>i.abort(h9));return s?.autoJoin&&t.push(o.catch(Bh)),{result:Uh(e)(o),cancel(){i.abort(m9)}}}},v9=(e,t)=>{const r=async(a,s)=>{pl(t);let i=()=>{};const c=[new Promise((u,m)=>{let f=e({predicate:a,effect:(h,g)=>{g.unsubscribe(),u([h,g.getState(),g.getOriginalState()])}});i=()=>{f(),m()}})];s!=null&&c.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await QT(t,Promise.race(c));return pl(t),u}finally{i()}};return(a,s)=>JT(r(a,s))},tP=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:i}=e;if(t)s=is(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(Fa(21));return Tb(i),{predicate:s,type:t,effect:i}},rP=Ac(e=>{const{type:t,predicate:r,effect:a}=tP(e);return{id:r9(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Fa(22))}}},{withTypes:()=>rP}),WS=(e,t)=>{const{type:r,effect:a,predicate:s}=tP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===a)},a1=e=>{e.pending.forEach(t=>{t.abort(n1)})},y9=(e,t)=>()=>{for(const r of t.keys())a1(r);e.clear()},HS=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},nP=Ac(is(`${rp}/add`),{withTypes:()=>nP}),b9=is(`${rp}/removeAll`),aP=Ac(is(`${rp}/remove`),{withTypes:()=>aP}),w9=(...e)=>{console.error(`${rp}/error`,...e)},rf=(e={})=>{const t=new Map,r=new Map,a=x=>{const w=r.get(x)??0;r.set(x,w+1)},s=x=>{const w=r.get(x)??1;w===1?r.delete(x):r.set(x,w-1)},{extra:i,onError:o=w9}=e;Tb(o);const c=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),w=>{x.unsubscribe(),w?.cancelActive&&a1(x)}),u=x=>{const w=WS(t,x)??rP(x);return c(w)};Ac(u,{withTypes:()=>u});const m=x=>{const w=WS(t,x);return w&&(w.unsubscribe(),x.cancelActive&&a1(w)),!!w};Ac(m,{withTypes:()=>m});const f=async(x,w,y,b)=>{const N=new AbortController,_=v9(u,N.signal),k=[];try{x.pending.add(N),a(x),await Promise.resolve(x.effect(w,Ac({},y,{getOriginalState:b,condition:(A,T)=>_(A,T).then(Boolean),take:_,delay:eP(N.signal),pause:Uh(N.signal),extra:i,signal:N.signal,fork:g9(N.signal,k),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((A,T,I)=>{A!==N&&(A.abort(n1),I.delete(A))})},cancel:()=>{N.abort(n1),x.pending.delete(N)},throwIfCancelled:()=>{pl(N.signal)}})))}catch(A){A instanceof tp||HS(o,A,{raisedBy:"effect"})}finally{await Promise.all(k),N.abort(p9),s(x),x.pending.delete(N)}},h=y9(t,r);return{middleware:x=>w=>y=>{if(!IT(y))return w(y);if(nP.match(y))return u(y.payload);if(b9.match(y)){h();return}if(aP.match(y))return m(y.payload);let b=x.getState();const N=()=>{if(b===US)throw new Error(Fa(23));return b};let _;try{if(_=w(y),t.size>0){const k=x.getState(),A=Array.from(t.values());for(const T of A){let I=!1;try{I=T.predicate(y,k,b)}catch(O){I=!1,HS(o,O,{raisedBy:"predicate"})}I&&f(T,y,x,N)}}}finally{b=US}return _},startListening:u,stopListening:m,clearListeners:h}};function Fa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var j9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sP=ba({name:"chartLayout",initialState:j9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:_9,setLayout:N9,setChartSize:S9,setScale:k9}=sP.actions,E9=sP.reducer;function iP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function er(e){return Number.isFinite(e)}function Ks(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(a){A9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function A9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bt(e,t,r){return cr(e)||cr(t)?r:Hs(t)?jl(e,t,r):typeof t=="function"?t(e):r}var P9=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&Je(e[i]))return _c(_c({},e),{},{[i]:e[i]+(a||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&Je(e[o]))return _c(_c({},e),{},{[o]:e[o]+(s||0)})}return e},Qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",oP=(e,t,r,a)=>{if(a)return e.map(c=>c.coordinate);var s,i,o=e.map(c=>(c.coordinate===t&&(s=!0),c.coordinate===r&&(i=!0),c.coordinate));return s||o.push(t),i||o.push(r),o},lP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:i,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:m,tickCount:f,ticks:h,niceTicks:g,axisType:x}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=s==="category"&&o.bandwidth?o.bandwidth()/w:0;if(y=x==="angleAxis"&&i&&i.length>=2?hn(i[0]-i[1])*2*y:y,h||g){var b=(h||g||[]).map((N,_)=>{var k=a?a.indexOf(N):N;return{coordinate:o(k)+y,value:N,offset:y,index:_}});return b.filter(N=>!ss(N.coordinate))}return u&&m?m.map((N,_)=>({coordinate:o(N)+y,value:N,index:_,offset:y})):o.ticks&&f!=null?o.ticks(f).map((N,_)=>({coordinate:o(N)+y,value:N,offset:y,index:_})):o.domain().map((N,_)=>({coordinate:o(N)+y,value:a?a[N]:N,index:_,offset:y}))},VS=1e-4,O9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-VS,i=Math.max(a[0],a[1])+VS,o=e(t[0]),c=e(t[r-1]);(o<s||o>i||c<s||c>i)&&e.domain([t[0],t[r-1]])}},I9=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(s[0]=r),(!Je(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},D9=e=>{var t,r=e.length;if(!(r<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var i=0,o=0,c=0;c<r;++c){var u=e[c],m=u?.[s];if(m!=null){var f=m[1],h=m[0],g=ss(f)?h:f;g>=0?(m[0]=i,m[1]=i+g,i=f):(m[0]=o,m[1]=o+g,o=f)}}}},M9=e=>{var t,r=e.length;if(!(r<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var i=0,o=0;o<r;++o){var c=e[o],u=c?.[s];if(u!=null){var m=ss(u[1])?u[0]:u[1];m>=0?(u[0]=i,u[1]=i+m,i=u[1]):(u[0]=0,u[1]=0)}}}},F9={sign:D9,expand:tR,none:wl,silhouette:rR,wiggle:nR,positive:M9},L9=(e,t,r)=>{var a,s=(a=F9[r])!==null&&a!==void 0?a:wl,i=eR().keys(t).value((c,u)=>Number(Bt(c,u,0))).order(qy).offset(s),o=i(e);return o.forEach((c,u)=>{c.forEach((m,f)=>{var h=Bt(e[f],t[u],0);Array.isArray(h)&&h.length===2&&Je(h[0])&&Je(h[1])&&(m[0]=h[0],m[1]=h[1])})}),o};function cP(e){return e==null?void 0:String(e)}function Wh(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cr(s[t.dataKey])){var c=mT(r,"value",s[t.dataKey]);if(c)return c.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var u=Bt(s,cr(o)?t.dataKey:o);return cr(u)?null:t.scale(u)}var qS=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+a:null;var c=Bt(i,t.dataKey,t.scale.domain()[o]);return cr(c)?null:t.scale(c)-s/2+a},R9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},$9=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},z9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],B9=(e,t,r)=>{if(e!=null)return z9(Object.keys(e).reduce((a,s)=>{var i=e[s];if(!i)return a;var{stackedData:o}=i,c=o.reduce((u,m)=>{var f=iP(m,t,r),h=$9(f);return!er(h[0])||!er(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]))},GS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,To=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=q0(t,f=>f.coordinate),i=1/0,o=1,c=s.length;o<c;o++){var u=s[o],m=s[o-1];i=Math.min((u?.coordinate||0)-(m?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function YS(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:i}=e;return _c(_c({},t),{},{dataKey:r,payload:a,value:s,name:i})}function Lo(e,t){if(e)return String(e);if(typeof t=="string")return t}var U9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},W9=(e,t)=>t==="centric"?e.angle:e.radius,Ui=e=>e.layout.width,Wi=e=>e.layout.height,H9=e=>e.layout.scale,dP=e=>e.layout.margin,np=_e(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ap=_e(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uP="data-recharts-item-index",fP="data-recharts-item-id",nf=60;function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(a){K9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function K9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G9=e=>e.brush.height;function X9(e){var t=ap(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:nf;return r+s}return r},0)}function Y9(e){var t=ap(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:nf;return r+s}return r},0)}function J9(e){var t=np(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function Z9(e){var t=np(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var en=_e([Ui,Wi,dP,G9,X9,Y9,J9,Z9,CT,N7],(e,t,r,a,s,i,o,c,u,m)=>{var f={left:(r.left||0)+s,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+c},g=Wm(Wm({},h),f),x=g.bottom;g.bottom+=a,g=P9(g,u,m);var w=e-g.left-g.right,y=t-g.top-g.bottom;return Wm(Wm({brushBottom:x},g),{},{width:Math.max(w,0),height:Math.max(y,0)})}),Q9=_e(en,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Pb=_e(Ui,Wi,(e,t)=>({x:0,y:0,width:e,height:t})),e$=v.createContext(null),vn=()=>v.useContext(e$)!=null,sp=e=>e.brush,ip=_e([sp,en,dP],(e,t,r)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Je(e.width)?e.width:t.width})),Rv={},$v={},zv={},ZS;function t$(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:i}={}){let o,c=null;const u=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),f=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},h=()=>{m&&f(),y()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},y=()=>{w(),o=void 0,c=null},b=()=>{f()},N=function(..._){if(s?.aborted)return;o=this,c=_;const k=g==null;x(),u&&k&&f()};return N.schedule=x,N.cancel=y,N.flush=b,s?.addEventListener("abort",y,{once:!0}),N}e.debounce=t})(zv)),zv}var QS;function r$(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t$();function r(a,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:u}=i,m=Array(2);o&&(m[0]="leading"),c&&(m[1]="trailing");let f,h=null;const g=t.debounce(function(...y){f=a.apply(this,y),h=null},s,{edges:m}),x=function(...y){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=a.apply(this,y),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,y),f)},w=()=>(g.flush(),f);return x.cancel=g.cancel,x.flush=w,x}e.debounce=r})($v)),$v}var ek;function n$(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r$();function r(a,s=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(a,s,{leading:o,maxWait:s,trailing:c})}e.throttle=r})(Rv)),Rv}var Bv,tk;function a$(){return tk||(tk=1,Bv=n$().throttle),Bv}var s$=a$();const i$=zi(s$);var Hh=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}},mP=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:i,maxHeight:o}=r,c=Pi(a)?e:Number(a),u=Pi(s)?t:Number(s);return i&&i>0&&(c?u=c/i:u&&(c=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},o$={width:0,height:0,overflow:"visible"},l$={width:0,overflowX:"visible"},c$={height:0,overflowY:"visible"},d$={},u$=e=>{var{width:t,height:r}=e,a=Pi(t),s=Pi(r);return a&&s?o$:a?l$:s?c$:d$};function f$(e){var{width:t,height:r,aspect:a}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:s,height:i}}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s1.apply(null,arguments)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(a){m$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function m$(e,t,r){return(t=h$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=p$(e,"string");return typeof t=="symbol"?t:t+""}function p$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hP=v.createContext({width:-1,height:-1});function x$(e){return Ks(e.width)&&Ks(e.height)}function pP(e){var{children:t,width:r,height:a}=e,s=v.useMemo(()=>({width:r,height:a}),[r,a]);return x$(s)?v.createElement(hP.Provider,{value:s},t):null}var Ob=()=>v.useContext(hP),g$=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:c,maxHeight:u,children:m,debounce:f=0,id:h,className:g,onResize:x,style:w={}}=e,y=v.useRef(null),b=v.useRef();b.current=x,v.useImperativeHandle(t,()=>y.current);var[N,_]=v.useState({containerWidth:a.width,containerHeight:a.height}),k=v.useCallback((D,P)=>{_(M=>{var V=Math.round(D),U=Math.round(P);return M.containerWidth===V&&M.containerHeight===U?M:{containerWidth:V,containerHeight:U}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Qu;var D=U=>{var J,{width:W,height:he}=U[0].contentRect;k(W,he),(J=b.current)===null||J===void 0||J.call(b,W,he)};f>0&&(D=i$(D,f,{trailing:!0,leading:!1}));var P=new ResizeObserver(D),{width:M,height:V}=y.current.getBoundingClientRect();return k(M,V),P.observe(y.current),()=>{P.disconnect()}},[k,f]);var{containerWidth:A,containerHeight:T}=N;Hh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:I,calculatedHeight:O}=mP(A,T,{width:s,height:i,aspect:r,maxHeight:u});return Hh(I!=null&&I>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,O,s,i,o,c,r),v.createElement("div",{id:h?"".concat(h):void 0,className:Pt("recharts-responsive-container",g),style:nk(nk({},w),{},{width:s,height:i,minWidth:o,minHeight:c,maxHeight:u}),ref:y},v.createElement("div",{style:u$({width:s,height:i})},v.createElement(pP,{width:I,height:O},m)))}),gi=v.forwardRef((e,t)=>{var r=Ob();if(Ks(r.width)&&Ks(r.height))return e.children;var{width:a,height:s}=f$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=mP(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Je(i)&&Je(o)?v.createElement(pP,{width:i,height:o},e.children):v.createElement(g$,s1({},e,{width:a,height:s,ref:t}))});function xP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var op=()=>{var e,t=vn(),r=st(Q9),a=st(ip),s=(e=st(sp))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},v$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},gP=()=>{var e;return(e=st(en))!==null&&e!==void 0?e:v$},Ib=()=>st(Ui),Db=()=>st(Wi),y$=()=>st(e=>e.layout.margin),Tt=e=>e.layout.layoutType,Ro=()=>st(Tt),b$=()=>{var e=Ro();if(e==="horizontal"||e==="vertical")return e},w$=()=>{var e=Ro();return e!==void 0},lp=e=>{var t=sr(),r=vn(),{width:a,height:s}=e,i=Ob(),o=a,c=s;return i&&(o=i.width>0?i.width:a,c=i.height>0?i.height:s),v.useEffect(()=>{!r&&Ks(o)&&Ks(c)&&t(S9({width:o,height:c}))},[t,r,o,c]),null},vP=Symbol.for("immer-nothing"),ak=Symbol.for("immer-draftable"),Ba=Symbol.for("immer-state");function bs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cu=Object.getPrototypeOf;function Rc(e){return!!e&&!!e[Ba]}function Nl(e){return e?yP(e)||Array.isArray(e)||!!e[ak]||!!e.constructor?.[ak]||af(e)||dp(e):!1}var j$=Object.prototype.constructor.toString(),sk=new WeakMap;function yP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=sk.get(r);return a===void 0&&(a=Function.toString.call(r),sk.set(r,a)),a===j$}function Kh(e,t,r=!0){cp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function cp(e){const t=e[Ba];return t?t.type_:Array.isArray(e)?1:af(e)?2:dp(e)?3:0}function i1(e,t){return cp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bP(e,t,r){const a=cp(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function _$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function af(e){return e instanceof Map}function dp(e){return e instanceof Set}function il(e){return e.copy_||e.base_}function o1(e,t){if(af(e))return new Map(e);if(dp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=yP(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[Ba];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],c=a[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(a[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Cu(e),a)}else{const a=Cu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Mb(e,t=!1){return up(e)||Rc(e)||!Nl(e)||(cp(e)>1&&Object.defineProperties(e,{set:Hm,add:Hm,clear:Hm,delete:Hm}),Object.freeze(e),t&&Object.values(e).forEach(r=>Mb(r,!0))),e}function N$(){bs(2)}var Hm={value:N$};function up(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var S$={};function Sl(e){const t=S$[e];return t||bs(0,e),t}var Tu;function wP(){return Tu}function k$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ik(e,t){t&&(Sl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function l1(e){c1(e),e.drafts_.forEach(E$),e.drafts_=null}function c1(e){e===Tu&&(Tu=e.parent_)}function ok(e){return Tu=k$(Tu,e)}function E$(e){const t=e[Ba];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ba].modified_&&(l1(t),bs(4)),Nl(e)&&(e=Vh(t,e),t.parent_||qh(t,e)),t.patches_&&Sl("Patches").generateReplacementPatches_(r[Ba].base_,e,t.patches_,t.inversePatches_)):e=Vh(t,r,[]),l1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vP?e:void 0}function Vh(e,t,r){if(up(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[Ba];if(!s)return Kh(t,(i,o)=>ck(e,s,t,i,o,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return qh(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,c=!1;s.type_===3&&(o=new Set(i),i.clear(),c=!0),Kh(o,(u,m)=>ck(e,s,i,u,m,r,c),a),qh(e,i,!1),r&&e.patches_&&Sl("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function ck(e,t,r,a,s,i,o){if(s==null||typeof s!="object"&&!o)return;const c=up(s);if(!(c&&!o)){if(Rc(s)){const u=i&&t&&t.type_!==3&&!i1(t.assigned_,a)?i.concat(a):void 0,m=Vh(e,s,u);if(bP(r,a,m),Rc(m))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Nl(s)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&c)return;Vh(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(af(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&qh(e,s)}}}function qh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mb(t,r)}function A$(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:wP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=Fb;r&&(s=[a],i=Pu);const{revoke:o,proxy:c}=Proxy.revocable(s,i);return a.draft_=c,a.revoke_=o,c}var Fb={get(e,t){if(t===Ba)return e;const r=il(e);if(!i1(r,t))return C$(e,r,t);const a=r[t];return e.finalized_||!Nl(a)?a:a===Uv(e.base_,t)?(Wv(e),e.copy_[t]=u1(a,e)):a},has(e,t){return t in il(e)},ownKeys(e){return Reflect.ownKeys(il(e))},set(e,t,r){const a=jP(il(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=Uv(il(e),t),i=s?.[Ba];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_$(r,s)&&(r!==void 0||i1(e.base_,t)))return!0;Wv(e),d1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Uv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Wv(e),d1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=il(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){bs(11)},getPrototypeOf(e){return Cu(e.base_)},setPrototypeOf(){bs(12)}},Pu={};Kh(Fb,(e,t)=>{Pu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pu.deleteProperty=function(e,t){return Pu.set.call(this,e,t,void 0)};Pu.set=function(e,t,r){return Fb.set.call(this,e[0],t,r,e[0])};function Uv(e,t){const r=e[Ba];return(r?il(r):e)[t]}function C$(e,t,r){const a=jP(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function jP(e,t){if(!(t in e))return;let r=Cu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Cu(r)}}function d1(e){e.modified_||(e.modified_=!0,e.parent_&&d1(e.parent_))}function Wv(e){e.copy_||(e.copy_=o1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var T$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...m){return o.produce(u,f=>r.call(this,f,...m))}}typeof r!="function"&&bs(6),a!==void 0&&typeof a!="function"&&bs(7);let s;if(Nl(t)){const i=ok(this),o=u1(t,void 0);let c=!0;try{s=r(o),c=!1}finally{c?l1(i):c1(i)}return ik(i,a),lk(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===vP&&(s=void 0),this.autoFreeze_&&Mb(s,!0),a){const i=[],o=[];Sl("Patches").generateReplacementPatches_(t,s,i,o),a(i,o)}return s}else bs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let a,s;return[this.produce(t,r,(o,c)=>{a=o,s=c}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Nl(e)||bs(8),Rc(e)&&(e=P$(e));const t=ok(this),r=u1(e,void 0);return r[Ba].isManual_=!0,c1(t),r}finishDraft(e,t){const r=e&&e[Ba];(!r||!r.isManual_)&&bs(9);const{scope_:a}=r;return ik(a,t),lk(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=Sl("Patches").applyPatches_;return Rc(e)?a(e,t):this.produce(e,s=>a(s,t))}};function u1(e,t){const r=af(e)?Sl("MapSet").proxyMap_(e,t):dp(e)?Sl("MapSet").proxySet_(e,t):A$(e,t);return(t?t.scope_:wP()).drafts_.push(r),r}function P$(e){return Rc(e)||bs(10,e),_P(e)}function _P(e){if(!Nl(e)||up(e))return e;const t=e[Ba];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=o1(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=o1(e,!0);return Kh(r,(s,i)=>{bP(r,s,_P(i))},a),t&&(t.finalized_=!1),r}var O$=new T$;O$.produce;var I$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NP=ba({name:"legend",initialState:I$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ns(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:mr()},removeLegendPayload:{reducer(e,t){var r=Ns(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mr()}}}),{setLegendSize:dk,setLegendSettings:D$,addLegendPayload:SP,replaceLegendPayload:kP,removeLegendPayload:EP}=NP.actions,M$=NP.reducer,F$=["contextPayload"];function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f1.apply(null,arguments)}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(a){L$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function L$(e,t,r){return(t=R$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R$(e){var t=$$(e,"string");return typeof t=="symbol"?t:t+""}function $$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$(e,t){if(e==null)return{};var r,a,s=B$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function B$(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function U$(e){return e.value}function W$(e){var{contextPayload:t}=e,r=z$(e,F$),a=ST(t,e.payloadUniqBy,U$),s=$c($c({},r),{},{payload:a});return v.isValidElement(e.content)?v.cloneElement(e.content,s):typeof e.content=="function"?v.createElement(e.content,s):v.createElement(IR,s)}function H$(e,t,r,a,s,i){var{layout:o,align:c,verticalAlign:u}=t,m,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?m={left:((a||0)-i.width)/2}:m=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((s||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),$c($c({},m),f)}function K$(e){var t=sr();return v.useEffect(()=>{t(D$(e))},[t,e]),null}function V$(e){var t=sr();return v.useEffect(()=>(t(dk(e)),()=>{t(dk({width:0,height:0}))}),[t,e]),null}function q$(e,t,r,a){return e==="vertical"&&Je(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var G$={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function fp(e){var t=Ar(e,G$),r=E7(),a=NL(),s=y$(),{width:i,height:o,wrapperStyle:c,portal:u}=t,[m,f]=TT([r]),h=Ib(),g=Db();if(h==null||g==null)return null;var x=h-(s?.left||0)-(s?.right||0),w=q$(t.layout,o,i,x),y=u?c:$c($c({position:"absolute",width:w?.width||i||"auto",height:w?.height||o||"auto"},H$(c,t,s,h,g,m)),c),b=u??a;if(b==null||r==null)return null;var N=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:f},v.createElement(K$,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&v.createElement(V$,{width:m.width,height:m.height}),v.createElement(W$,f1({},t,w,{margin:s,chartWidth:h,chartHeight:g,contextPayload:r})));return rb.createPortal(N,b)}fp.displayName="Legend";function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m1.apply(null,arguments)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(a){X$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function X$(e,t,r){return(t=Y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=J$(e,"string");return typeof t=="symbol"?t:t+""}function J$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z$(e){return Array.isArray(e)&&Hs(e[0])&&Hs(e[1])?e.join(" ~ "):e}var Q$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:i,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:m,label:f,labelFormatter:h,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var T={padding:0,margin:0},I=(c?q0(i,c):i).map((O,D)=>{if(O.type==="none")return null;var P=O.formatter||o||Z$,{value:M,name:V}=O,U=M,J=V;if(P){var W=P(M,V,O,D,i);if(Array.isArray(W))[U,J]=W;else if(W!=null)U=W;else return null}var he=Hv({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},a);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:he},Hs(J)?v.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Hs(J)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},U),v.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},w=Hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Hv({margin:0},s),b=!cr(f),N=b?f:"",_=Pt("recharts-default-tooltip",u),k=Pt("recharts-tooltip-label",m);b&&h&&i!==void 0&&i!==null&&(N=h(f,i));var A=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",m1({className:_,style:w},A),v.createElement("p",{className:k,style:y},v.isValidElement(N)?N:"".concat(N)),x())},Qd="recharts-tooltip-wrapper",ez={visibility:"hidden"};function tz(e){var{coordinate:t,translateX:r,translateY:a}=e;return Pt(Qd,{["".concat(Qd,"-right")]:Je(r)&&t&&Je(t.x)&&r>=t.x,["".concat(Qd,"-left")]:Je(r)&&t&&Je(t.x)&&r<t.x,["".concat(Qd,"-bottom")]:Je(a)&&t&&Je(t.y)&&a>=t.y,["".concat(Qd,"-top")]:Je(a)&&t&&Je(t.y)&&a<t.y})}function mk(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:m}=e;if(i&&Je(i[a]))return i[a];var f=r[a]-c-(s>0?s:0),h=r[a]+s;if(t[a])return o[a]?f:h;var g=u[a];if(g==null)return 0;if(o[a]){var x=f,w=g;return x<w?Math.max(h,g):Math.max(f,g)}if(m==null)return 0;var y=h+c,b=g+m;return y>b?Math.max(f,g):Math.max(h,g)}function rz(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,m,f,h;return o.height>0&&o.width>0&&r?(f=mk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=mk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),m=rz({translateX:f,translateY:h,useTranslate3d:c})):m=ez,{cssProperties:m,cssClasses:tz({translateX:f,translateY:h,coordinate:r})}}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(a){h1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function h1(e,t,r){return(t=az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=sz(e,"string");return typeof t=="symbol"?t:t+""}function sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iz extends v.PureComponent{constructor(){super(...arguments),h1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),h1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:i,coordinate:o,hasPayload:c,isAnimationActive:u,offset:m,position:f,reverseDirection:h,useTranslate3d:g,viewBox:x,wrapperStyle:w,lastBoundingBox:y,innerRef:b,hasPortalFromProps:N}=this.props,{cssClasses:_,cssProperties:k}=nz({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:m,position:f,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:g,viewBox:x}),A=N?{}:Km(Km({transition:u&&t?"transform ".concat(a,"ms ").concat(s):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),T=Km(Km({},A),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:b},i)}}var AP=()=>{var e;return(e=st(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p1.apply(null,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(a){oz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oz(e,t,r){return(t=lz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=cz(e,"string");return typeof t=="symbol"?t:t+""}function cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gk={curveBasisClosed:WL,curveBasisOpen:HL,curveBasis:UL,curveBumpX:AL,curveBumpY:CL,curveLinearClosed:KL,curveLinear:K0,curveMonotoneX:VL,curveMonotoneY:qL,curveNatural:GL,curveStep:XL,curveStepAfter:JL,curveStepBefore:YL},Gh=e=>er(e.x)&&er(e.y),vk=e=>e.base!=null&&Gh(e.base)&&Gh(e),eu=e=>e.x,tu=e=>e.y,dz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zu(e));return(r==="curveMonotone"||r==="curveBump")&&t?gk["".concat(r).concat(t==="vertical"?"Y":"X")]:gk[r]||K0},uz=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:i=!1}=e,o=dz(t,s),c=i?r.filter(Gh):r,u;if(Array.isArray(a)){var m=r.map((x,w)=>xk(xk({},x),{},{base:a[w]}));s==="vertical"?u=Lm().y(tu).x1(eu).x0(x=>x.base.x):u=Lm().x(eu).y1(tu).y0(x=>x.base.y);var f=u.defined(vk).curve(o),h=i?m.filter(vk):m;return f(h)}s==="vertical"&&Je(a)?u=Lm().y(tu).x1(eu).x0(a):Je(a)?u=Lm().x(eu).y1(tu).y0(a):u=eT().x(eu).y(tu);var g=u.defined(Gh).curve(o);return g(c)},Cc=e=>{var{className:t,points:r,path:a,pathRef:s}=e,i=Ro();if((!r||!r.length)&&!a)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},c=r&&r.length?uz(o):a;return v.createElement("path",p1({},ta(e),jb(e),{className:Pt("recharts-curve",t),d:c===null?void 0:c,ref:s}))},fz=["x","y","top","left","width","height","className"];function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x1.apply(null,arguments)}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(a){hz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hz(e,t,r){return(t=pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gz(e,t){if(e==null)return{};var r,a,s=vz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vz(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var yz=(e,t,r,a,s,i)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),bz=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:i=0,height:o=0,className:c}=e,u=gz(e,fz),m=mz({x:t,y:r,top:a,left:s,width:i,height:o},u);return!Je(t)||!Je(r)||!Je(i)||!Je(o)||!Je(a)||!Je(s)?null:v.createElement("path",x1({},Wn(m),{className:Pt("recharts-cross",c),d:yz(t,r,i,o,a,s)}))};function wz(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(a){jz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CP=(e,t,r)=>e.map(a=>"".concat(Sz(a)," ").concat(t,"ms ").concat(r)).join(","),kz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),Ou=(e,t)=>Object.keys(t).reduce((r,a)=>wk(wk({},r),{},{[a]:e(a,t[a])}),{});function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(a){Ez(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ez(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xh=(e,t,r)=>e+(t-e)*r,g1=e=>{var{from:t,to:r}=e;return t!==r},TP=(e,t,r)=>{var a=Ou((s,i)=>{if(g1(i)){var[o,c]=e(i.from,i.to,i.velocity);return Jr(Jr({},i),{},{from:o,velocity:c})}return i},t);return r<1?Ou((s,i)=>g1(i)&&a[s]!=null?Jr(Jr({},i),{},{velocity:Xh(i.velocity,a[s].velocity,r),from:Xh(i.from,a[s].from,r)}):i,t):TP(e,a,r-1)};function Tz(e,t,r,a,s,i){var o,c=a.reduce((g,x)=>Jr(Jr({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Ou((g,x)=>x.from,c),m=()=>!Object.values(c).filter(g1).length,f=null,h=g=>{o||(o=g);var x=g-o,w=x/r.dt;c=TP(r,c,w),s(Jr(Jr(Jr({},e),t),u())),o=g,m()||(f=i.setTimeout(h))};return()=>(f=i.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function Pz(e,t,r,a,s,i,o){var c=null,u=s.reduce((h,g)=>{var x=e[g],w=t[g];return x==null||w==null?h:Jr(Jr({},h),{},{[g]:[x,w]})},{}),m,f=h=>{m||(m=h);var g=(h-m)/a,x=Ou((y,b)=>Xh(...b,r(g)),u);if(i(Jr(Jr(Jr({},e),t),x)),g<1)c=o.setTimeout(f);else{var w=Ou((y,b)=>Xh(...b,r(1)),u);i(Jr(Jr(Jr({},e),t),w))}};return()=>(c=o.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}const Oz=(e,t,r,a,s,i)=>{var o=kz(e,t);return r==null?()=>(s(Jr(Jr({},e),t)),()=>{}):r.isStepper===!0?Tz(e,t,r,o,s,i):Pz(e,t,r,a,o,s,i)};var Yh=1e-4,PP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OP=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),_k=(e,t)=>r=>{var a=PP(e,t);return OP(a,r)},Iz=(e,t)=>r=>{var a=PP(e,t),s=[...a.map((i,o)=>i*o).slice(1),0];return OP(s,r)},Dz=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var a=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(a==null||a.length!==4)return null;var s=a.map(i=>parseFloat(i));return[s[0],s[1],s[2],s[3]]},Mz=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=Dz(r[0]);if(s)return s}}return r.length===4?r:[0,0,1,1]},Fz=(e,t,r,a)=>{var s=_k(e,r),i=_k(t,a),o=Iz(e,r),c=m=>m>1?1:m<0?0:m,u=m=>{for(var f=m>1?1:m,h=f,g=0;g<8;++g){var x=s(h)-f,w=o(h);if(Math.abs(x-f)<Yh||w<Yh)return i(h);h=c(h-x/w)}return i(h)};return u.isStepper=!1,u},Nk=function(){return Fz(...Mz(...arguments))},Lz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,i=(o,c,u)=>{var m=-(o-c)*r,f=u*a,h=u+(m-f)*s/1e3,g=u*s/1e3+o;return Math.abs(g-c)<Yh&&Math.abs(h)<Yh?[c,0]:[g,h]};return i.isStepper=!0,i.dt=s,i},Rz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Nk(e);case"spring":return Lz();default:if(e.split("(")[0]==="cubic-bezier")return Nk(e)}return typeof e=="function"?e:null};function $z(e){var t,r=()=>null,a=!1,s=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...m]=c;if(typeof u=="number"){s=e.setTimeout(i.bind(null,m),u);return}i(u),s=e.setTimeout(i.bind(null,m));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class zz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,i=o=>{o-a>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function Bz(){return $z(new zz)}var Uz=v.createContext(Bz);function Wz(e,t){var r=v.useContext(Uz);return v.useMemo(()=>t??r(e),[e,t,r])}var Hz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sf={isSsr:Hz()},Kz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Sk={t:0},Kv={t:1};function Qc(e){var t=Ar(e,Kz),{isActive:r,canBegin:a,duration:s,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:u,children:m}=t,f=r==="auto"?!sf.isSsr:r,h=Wz(t.animationId,t.animationManager),[g,x]=v.useState(f?Sk:Kv),w=v.useRef(null);return v.useEffect(()=>{f||x(Kv)},[f]),v.useEffect(()=>{if(!f||!a)return Qu;var y=Oz(Sk,Kv,Rz(i),s,x,h.getTimeoutController()),b=()=>{w.current=y()};return h.start([u,o,b,s,c]),()=>{h.stop(),w.current&&w.current(),c()}},[f,a,s,i,o,u,c,h]),m(g.t)}function ed(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Su(t)),a=v.useRef(e);return a.current!==e&&(r.current=Su(t),a.current=e),r.current}var Vz=["radius"],qz=["radius"],kk,Ek,Ak,Ck,Tk,Pk,Ok,Ik,Dk,Mk;function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(a){Gz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gz(e,t,r){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Yz(e,"string");return typeof t=="symbol"?t:t+""}function Yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jh.apply(null,arguments)}function Rk(e,t){if(e==null)return{};var r,a,s=Jz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Jz(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ms(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $k=(e,t,r,a,s)=>{var i=No(r),o=No(a),c=Math.min(Math.abs(i)/2,Math.abs(o)/2),u=o>=0?1:-1,m=i>=0?1:-1,f=o>=0&&i>=0||o<0&&i<0?1:0,h;if(c>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,w=4;x<w;x++)g[x]=s[x]>c?c:s[x];h=_r(kk||(kk=Ms(["M",",",""])),e,t+u*g[0]),g[0]>0&&(h+=_r(Ek||(Ek=Ms(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,e+m*g[0],t)),h+=_r(Ak||(Ak=Ms(["L ",",",""])),e+r-m*g[1],t),g[1]>0&&(h+=_r(Ck||(Ck=Ms(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,e+r,t+u*g[1])),h+=_r(Tk||(Tk=Ms(["L ",",",""])),e+r,t+a-u*g[2]),g[2]>0&&(h+=_r(Pk||(Pk=Ms(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,e+r-m*g[2],t+a)),h+=_r(Ok||(Ok=Ms(["L ",",",""])),e+m*g[3],t+a),g[3]>0&&(h+=_r(Ik||(Ik=Ms(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,e,t+a-u*g[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var y=Math.min(c,s);h=_r(Dk||(Dk=Ms(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*y,y,y,f,e+m*y,t,e+r-m*y,t,y,y,f,e+r,t+u*y,e+r,t+a-u*y,y,y,f,e+r-m*y,t+a,e+m*y,t+a,y,y,f,e,t+a-u*y)}else h=_r(Mk||(Mk=Ms(["M ",","," h "," v "," h "," Z"])),e,t,r,a,-r);return h},zk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IP=e=>{var t=Ar(e,zk),r=v.useRef(null),[a,s]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var be=r.current.getTotalLength();be&&s(be)}catch{}},[]);var{x:i,y:o,width:c,height:u,radius:m,className:f}=t,{animationEasing:h,animationDuration:g,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:y}=t,b=v.useRef(c),N=v.useRef(u),_=v.useRef(i),k=v.useRef(o),A=v.useMemo(()=>({x:i,y:o,width:c,height:u,radius:m}),[i,o,c,u,m]),T=ed(A,"rectangle-");if(i!==+i||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var I=Pt("recharts-rectangle",f);if(!y){var O=Wn(t),{radius:D}=O,P=Rk(O,Vz);return v.createElement("path",Jh({},P,{x:No(i),y:No(o),width:No(c),height:No(u),radius:typeof m=="number"?m:void 0,className:I,d:$k(i,o,c,u,m)}))}var M=b.current,V=N.current,U=_.current,J=k.current,W="0px ".concat(a===-1?1:a,"px"),he="".concat(a,"px 0px"),X=CP(["strokeDasharray"],g,typeof h=="string"?h:zk.animationEasing);return v.createElement(Qc,{animationId:T,key:T,canBegin:a>0,duration:g,easing:h,isActive:y,begin:x},be=>{var ne=zt(M,c,be),ve=zt(V,u,be),me=zt(U,i,be),ae=zt(J,o,be);r.current&&(b.current=ne,N.current=ve,_.current=me,k.current=ae);var C;w?be>0?C={transition:X,strokeDasharray:he}:C={strokeDasharray:W}:C={strokeDasharray:he};var B=Wn(t),{radius:H}=B,K=Rk(B,qz);return v.createElement("path",Jh({},K,{radius:typeof m=="number"?m:void 0,className:I,d:$k(me,ae,ne,ve,m),ref:r,style:Lk(Lk({},C),t.style)}))})};function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(a){Zz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=eB(e,"string");return typeof t=="symbol"?t:t+""}function eB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zh=Math.PI/180,tB=e=>e*180/Math.PI,Ur=(e,t,r,a)=>({x:e+Math.cos(-Zh*a)*r,y:t+Math.sin(-Zh*a)*r}),DP=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},rB=(e,t)=>{var{x:r,y:a}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(a-i)**2)},nB=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:i}=t,o=rB({x:r,y:a},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-s)/o,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:o,angle:tB(u),angleInRadian:u}},aB=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(a,s);return{startAngle:t-i*360,endAngle:r-i*360}},sB=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return e+o*360},iB=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:i}=nB({x:r,y:a},t),{innerRadius:o,outerRadius:c}=t;if(s<o||s>c||s===0)return null;var{startAngle:u,endAngle:m}=aB(t),f=i,h;if(u<=m){for(;f>m;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=m}else{for(;f>u;)f-=360;for(;f<m;)f+=360;h=f>=m&&f<=u}return h?Uk(Uk({},t),{},{radius:s,angle:sB(f,t)}):null};function MP(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:i}=e,o=Ur(t,r,a,s),c=Ur(t,r,a,i);return{points:[o,c],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}var Wk,Hk,Kk,Vk,qk,Gk,Xk;function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v1.apply(null,arguments)}function ul(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var oB=(e,t)=>{var r=hn(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Vm=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,m=c*(o?1:-1)+a,f=Math.asin(c/m)/Zh,h=u?s:s+i*f,g=Ur(t,r,m,h),x=Ur(t,r,a,h),w=u?s-i*f:s,y=Ur(t,r,m*Math.cos(f*Zh),w);return{center:g,circleTangency:x,lineTangency:y,theta:f}},FP=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:i,endAngle:o}=e,c=oB(i,o),u=i+c,m=Ur(t,r,s,i),f=Ur(t,r,s,u),h=_r(Wk||(Wk=ul(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,s,s,+(Math.abs(c)>180),+(i>u),f.x,f.y);if(a>0){var g=Ur(t,r,a,i),x=Ur(t,r,a,u);h+=_r(Hk||(Hk=ul(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,a,a,+(Math.abs(c)>180),+(i<=u),g.x,g.y)}else h+=_r(Kk||(Kk=ul(["L ",","," Z"])),t,r);return h},lB=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:m}=e,f=hn(m-u),{circleTangency:h,lineTangency:g,theta:x}=Vm({cx:t,cy:r,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),{circleTangency:w,lineTangency:y,theta:b}=Vm({cx:t,cy:r,radius:s,angle:m,sign:-f,cornerRadius:i,cornerIsExternal:c}),N=c?Math.abs(u-m):Math.abs(u-m)-x-b;if(N<0)return o?_r(Vk||(Vk=ul(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):FP({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:m});var _=_r(qk||(qk=ul(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(f<0),h.x,h.y,s,s,+(N>180),+(f<0),w.x,w.y,i,i,+(f<0),y.x,y.y);if(a>0){var{circleTangency:k,lineTangency:A,theta:T}=Vm({cx:t,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:I,lineTangency:O,theta:D}=Vm({cx:t,cy:r,radius:a,angle:m,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=c?Math.abs(u-m):Math.abs(u-m)-T-D;if(P<0&&i===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=_r(Gk||(Gk=ul(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,i,i,+(f<0),I.x,I.y,a,a,+(P>180),+(f>0),k.x,k.y,i,i,+(f<0),A.x,A.y)}else _+=_r(Xk||(Xk=ul(["L",",","Z"])),t,r);return _},cB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LP=e=>{var t=Ar(e,cB),{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f,className:h}=t;if(i<s||m===f)return null;var g=Pt("recharts-sector",h),x=i-s,w=zn(o,x,0,!0),y;return w>0&&Math.abs(m-f)<360?y=lB({cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f}):y=FP({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:m,endAngle:f}),v.createElement("path",v1({},Wn(t),{className:g,d:y}))};function dB(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(pT(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:i,outerRadius:o,angle:c}=t,u=Ur(a,s,i,c),m=Ur(a,s,o,c);return[{x:u.x,y:u.y},{x:m.x,y:m.y}]}return MP(t)}}var Vv={},qv={},Gv={},Yk;function uB(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ET();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(Gv)),Gv}var Jk;function fB(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uB();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(qv)),qv}var Zk;function mB(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT(),r=fB();function a(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-s)/(o||1)),0),u=new Array(c);for(let m=0;m<c;m++)u[m]=s,s+=o;return u}e.range=a})(Vv)),Vv}var Xv,Qk;function hB(){return Qk||(Qk=1,Xv=mB().range),Xv}var pB=hB();const RP=zi(pB);function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lb(e){let t,r,a;e.length!==2?(t=Ao,r=(c,u)=>Ao(e(c),u),a=(c,u)=>e(c)-u):(t=e===Ao||e===xB?e:gB,r=e,a=e);function s(c,u,m=0,f=c.length){if(m<f){if(t(u,u)!==0)return f;do{const h=m+f>>>1;r(c[h],u)<0?m=h+1:f=h}while(m<f)}return m}function i(c,u,m=0,f=c.length){if(m<f){if(t(u,u)!==0)return f;do{const h=m+f>>>1;r(c[h],u)<=0?m=h+1:f=h}while(m<f)}return m}function o(c,u,m=0,f=c.length){const h=s(c,u,m,f-1);return h>m&&a(c[h-1],u)>-a(c[h],u)?h-1:h}return{left:s,center:o,right:i}}function gB(){return 0}function $P(e){return e===null?NaN:+e}function*vB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const yB=Lb(Ao),of=yB.right;Lb($P).center;class e4 extends Map{constructor(t,r=jB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(t4(this,t))}has(t){return super.has(t4(this,t))}set(t,r){return super.set(bB(this,t),r)}delete(t){return super.delete(wB(this,t))}}function t4({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function bB({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function wB({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function jB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _B(e=Ao){if(e===Ao)return zP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function zP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const NB=Math.sqrt(50),SB=Math.sqrt(10),kB=Math.sqrt(2);function Qh(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=NB?10:i>=SB?5:i>=kB?2:1;let c,u,m;return s<0?(m=Math.pow(10,-s)/o,c=Math.round(e*m),u=Math.round(t*m),c/m<e&&++c,u/m>t&&--u,m=-m):(m=Math.pow(10,s)*o,c=Math.round(e/m),u=Math.round(t/m),c*m<e&&++c,u*m>t&&--u),u<c&&.5<=r&&r<2?Qh(e,t,r*2):[c,u,m]}function y1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?Qh(t,e,r):Qh(e,t,r);if(!(i>=s))return[];const c=i-s+1,u=new Array(c);if(a)if(o<0)for(let m=0;m<c;++m)u[m]=(i-m)/-o;else for(let m=0;m<c;++m)u[m]=(i-m)*o;else if(o<0)for(let m=0;m<c;++m)u[m]=(s+m)/-o;else for(let m=0;m<c;++m)u[m]=(s+m)*o;return u}function b1(e,t,r){return t=+t,e=+e,r=+r,Qh(e,t,r)[2]}function w1(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?b1(t,e,r):b1(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function r4(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function n4(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function BP(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?zP:_B(s);a>r;){if(a-r>600){const u=a-r+1,m=t-r+1,f=Math.log(u),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(u-h)/u)*(m-u/2<0?-1:1),x=Math.max(r,Math.floor(t-m*h/u+g)),w=Math.min(a,Math.floor(t+(u-m)*h/u+g));BP(e,t,x,w,s)}const i=e[t];let o=r,c=a;for(ru(e,r,t),s(e[a],i)>0&&ru(e,r,a);o<c;){for(ru(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?ru(e,r,c):(++c,ru(e,c,a)),c<=t&&(r=c+1),t<=c&&(a=c-1)}return e}function ru(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function EB(e,t,r){if(e=Float64Array.from(vB(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return n4(e);if(t>=1)return r4(e);var a,s=(a-1)*t,i=Math.floor(s),o=r4(BP(e,i).subarray(0,i+1)),c=n4(e.subarray(i+1));return o+(c-o)*(s-i)}}function AB(e,t,r=$P){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function CB(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const j1=Symbol("implicit");function Rb(){var e=new e4,t=[],r=[],a=j1;function s(i){let o=e.get(i);if(o===void 0){if(a!==j1)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new e4;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Rb(t,r).unknown(a)},ls.apply(s,arguments),s}function $b(){var e=Rb().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,c=!1,u=0,m=0,f=.5;delete e.unknown;function h(){var g=t().length,x=s<a,w=x?s:a,y=x?a:s;i=(y-w)/Math.max(1,g-u+m*2),c&&(i=Math.floor(i)),w+=(y-w-i*(g-u))*f,o=i*(1-u),c&&(w=Math.round(w),o=Math.round(o));var b=CB(g).map(function(N){return w+i*N});return r(x?b.reverse():b)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,c=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,h()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,m=+g),h()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),h()):u},e.paddingOuter=function(g){return arguments.length?(m=+g,h()):m},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return $b(t(),[a,s]).round(c).paddingInner(u).paddingOuter(m).align(f)},ls.apply(h(),arguments)}function UP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UP(t())},e}function TB(){return UP($b.apply(null,arguments).paddingInner(1))}function zb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WP(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function lf(){}var Iu=.7,e0=1/Iu,Tc="\\s*([+-]?\\d+)\\s*",Du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PB=/^#([0-9a-f]{3,8})$/,OB=new RegExp(`^rgb\\(${Tc},${Tc},${Tc}\\)$`),IB=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),DB=new RegExp(`^rgba\\(${Tc},${Tc},${Tc},${Du}\\)$`),MB=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${Du}\\)$`),FB=new RegExp(`^hsl\\(${Du},${Bs},${Bs}\\)$`),LB=new RegExp(`^hsla\\(${Du},${Bs},${Bs},${Du}\\)$`),a4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zb(lf,Mu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s4,formatHex:s4,formatHex8:RB,formatHsl:$B,formatRgb:i4,toString:i4});function s4(){return this.rgb().formatHex()}function RB(){return this.rgb().formatHex8()}function $B(){return HP(this).formatHsl()}function i4(){return this.rgb().formatRgb()}function Mu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=PB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?o4(t):r===3?new ma(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OB.exec(e))?new ma(t[1],t[2],t[3],1):(t=IB.exec(e))?new ma(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DB.exec(e))?qm(t[1],t[2],t[3],t[4]):(t=MB.exec(e))?qm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FB.exec(e))?d4(t[1],t[2]/100,t[3]/100,1):(t=LB.exec(e))?d4(t[1],t[2]/100,t[3]/100,t[4]):a4.hasOwnProperty(e)?o4(a4[e]):e==="transparent"?new ma(NaN,NaN,NaN,0):null}function o4(e){return new ma(e>>16&255,e>>8&255,e&255,1)}function qm(e,t,r,a){return a<=0&&(e=t=r=NaN),new ma(e,t,r,a)}function zB(e){return e instanceof lf||(e=Mu(e)),e?(e=e.rgb(),new ma(e.r,e.g,e.b,e.opacity)):new ma}function _1(e,t,r,a){return arguments.length===1?zB(e):new ma(e,t,r,a??1)}function ma(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}zb(ma,_1,WP(lf,{brighter(e){return e=e==null?e0:Math.pow(e0,e),new ma(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new ma(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ma(xl(this.r),xl(this.g),xl(this.b),t0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l4,formatHex:l4,formatHex8:BB,formatRgb:c4,toString:c4}));function l4(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}`}function BB(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}${fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function c4(){const e=t0(this.opacity);return`${e===1?"rgb(":"rgba("}${xl(this.r)}, ${xl(this.g)}, ${xl(this.b)}${e===1?")":`, ${e})`}`}function t0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fl(e){return e=xl(e),(e<16?"0":"")+e.toString(16)}function d4(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ws(e,t,r,a)}function HP(e){if(e instanceof ws)return new ws(e.h,e.s,e.l,e.opacity);if(e instanceof lf||(e=Mu(e)),!e)return new ws;if(e instanceof ws)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,c=i-s,u=(i+s)/2;return c?(t===i?o=(r-a)/c+(r<a)*6:r===i?o=(a-t)/c+2:o=(t-r)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new ws(o,c,u,e.opacity)}function UB(e,t,r,a){return arguments.length===1?HP(e):new ws(e,t,r,a??1)}function ws(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}zb(ws,UB,WP(lf,{brighter(e){return e=e==null?e0:Math.pow(e0,e),new ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new ma(Yv(e>=240?e-240:e+120,s,a),Yv(e,s,a),Yv(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new ws(u4(this.h),Gm(this.s),Gm(this.l),t0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=t0(this.opacity);return`${e===1?"hsl(":"hsla("}${u4(this.h)}, ${Gm(this.s)*100}%, ${Gm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function u4(e){return e=(e||0)%360,e<0?e+360:e}function Gm(e){return Math.max(0,Math.min(1,e||0))}function Yv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Bb=e=>()=>e;function WB(e,t){return function(r){return e+r*t}}function HB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function KB(e){return(e=+e)==1?KP:function(t,r){return r-t?HB(t,r,e):Bb(isNaN(t)?r:t)}}function KP(e,t){var r=t-e;return r?WB(e,r):Bb(isNaN(e)?t:e)}const f4=(function e(t){var r=KB(t);function a(s,i){var o=r((s=_1(s)).r,(i=_1(i)).r),c=r(s.g,i.g),u=r(s.b,i.b),m=KP(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=c(f),s.b=u(f),s.opacity=m(f),s+""}}return a.gamma=e,a})(1);function VB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function qB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GB(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=td(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<a;++o)i[o]=s[o](c);return i}}function XB(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function r0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YB(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=td(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var N1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jv=new RegExp(N1.source,"g");function JB(e){return function(){return e}}function ZB(e){return function(t){return e(t)+""}}function QB(e,t){var r=N1.lastIndex=Jv.lastIndex=0,a,s,i,o=-1,c=[],u=[];for(e=e+"",t=t+"";(a=N1.exec(e))&&(s=Jv.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(a=a[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:r0(a,s)})),r=Jv.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?ZB(u[0].x):JB(t):(t=u.length,function(m){for(var f=0,h;f<t;++f)c[(h=u[f]).i]=h.x(m);return c.join("")})}function td(e,t){var r=typeof t,a;return t==null||r==="boolean"?Bb(t):(r==="number"?r0:r==="string"?(a=Mu(t))?(t=a,f4):QB:t instanceof Mu?f4:t instanceof Date?XB:qB(t)?VB:Array.isArray(t)?GB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YB:r0)(e,t)}function Ub(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eU(e,t){t===void 0&&(t=e,e=td);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var c=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[c](o-c)}}function tU(e){return function(){return e}}function n0(e){return+e}var m4=[0,1];function Qn(e){return e}function S1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tU(isNaN(t)?NaN:.5)}function rU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function nU(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=S1(s,a),i=r(o,i)):(a=S1(a,s),i=r(i,o)),function(c){return i(a(c))}}function aU(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=S1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var u=of(e,c,1,a)-1;return i[u](s[u](c))}}function cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mp(){var e=m4,t=m4,r=td,a,s,i,o=Qn,c,u,m;function f(){var g=Math.min(e.length,t.length);return o!==Qn&&(o=rU(e[0],e[g-1])),c=g>2?aU:nU,u=m=null,h}function h(g){return g==null||isNaN(g=+g)?i:(u||(u=c(e.map(a),t,r)))(a(o(g)))}return h.invert=function(g){return o(s((m||(m=c(t,e.map(a),r0)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,n0),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=Ub,f()},h.clamp=function(g){return arguments.length?(o=g?!0:Qn,f()):o!==Qn},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,x){return a=g,s=x,f()}}function Wb(){return mp()(Qn,Qn)}function sU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function a0(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function zc(e){return e=a0(Math.abs(e)),e?e[1]:NaN}function iU(e,t){return function(r,a){for(var s=r.length,i=[],o=0,c=e[0],u=0;s>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(r.substring(s-=c,s+c)),!((u+=c+1)>a));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function oU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fu(e){if(!(t=lU.exec(e)))throw new Error("invalid format: "+e);var t;return new Hb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fu.prototype=Hb.prototype;function Hb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cU(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var s0;function dU(e,t){var r=a0(e,t);if(!r)return s0=void 0,e.toPrecision(t);var a=r[0],s=r[1],i=s-(s0=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+a0(e,Math.max(0,t+i-1))[0]}function h4(e,t){var r=a0(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const p4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>h4(e*100,t),r:h4,s:dU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function x4(e){return e}var g4=Array.prototype.map,v4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uU(e){var t=e.grouping===void 0||e.thousands===void 0?x4:iU(g4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?x4:oU(g4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function m(h,g){h=Fu(h);var x=h.fill,w=h.align,y=h.sign,b=h.symbol,N=h.zero,_=h.width,k=h.comma,A=h.precision,T=h.trim,I=h.type;I==="n"?(k=!0,I="g"):p4[I]||(A===void 0&&(A=12),T=!0,I="g"),(N||x==="0"&&w==="=")&&(N=!0,x="0",w="=");var O=(g?.prefix!==void 0?g.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),D=(b==="$"?a:/[%p]/.test(I)?o:"")+(g?.suffix!==void 0?g.suffix:""),P=p4[I],M=/[defgprs%]/.test(I);A=A===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function V(U){var J=O,W=D,he,X,be;if(I==="c")W=P(U)+W,U="";else{U=+U;var ne=U<0||1/U<0;if(U=isNaN(U)?u:P(Math.abs(U),A),T&&(U=cU(U)),ne&&+U==0&&y!=="+"&&(ne=!1),J=(ne?y==="("?y:c:y==="-"||y==="("?"":y)+J,W=(I==="s"&&!isNaN(U)&&s0!==void 0?v4[8+s0/3]:"")+W+(ne&&y==="("?")":""),M){for(he=-1,X=U.length;++he<X;)if(be=U.charCodeAt(he),48>be||be>57){W=(be===46?s+U.slice(he+1):U.slice(he))+W,U=U.slice(0,he);break}}}k&&!N&&(U=t(U,1/0));var ve=J.length+U.length+W.length,me=ve<_?new Array(_-ve+1).join(x):"";switch(k&&N&&(U=t(me+U,me.length?_-W.length:1/0),me=""),w){case"<":U=J+U+W+me;break;case"=":U=J+me+U+W;break;case"^":U=me.slice(0,ve=me.length>>1)+J+U+W+me.slice(ve);break;default:U=me+J+U+W;break}return i(U)}return V.toString=function(){return h+""},V}function f(h,g){var x=Math.max(-8,Math.min(8,Math.floor(zc(g)/3)))*3,w=Math.pow(10,-x),y=m((h=Fu(h),h.type="f",h),{suffix:v4[8+x/3]});return function(b){return y(w*b)}}return{format:m,formatPrefix:f}}var Xm,Kb,VP;fU({thousands:",",grouping:[3],currency:["$",""]});function fU(e){return Xm=uU(e),Kb=Xm.format,VP=Xm.formatPrefix,Xm}function mU(e){return Math.max(0,-zc(Math.abs(e)))}function hU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zc(t)/3)))*3-zc(Math.abs(e)))}function pU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zc(t)-zc(e))+1}function qP(e,t,r,a){var s=w1(e,t,r),i;switch(a=Fu(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=hU(s,o))&&(a.precision=i),VP(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=pU(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=mU(s))&&(a.precision=i-(a.type==="%")*2);break}}return Kb(a)}function $o(e){var t=e.domain;return e.ticks=function(r){var a=t();return y1(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return qP(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],c=a[i],u,m,f=10;for(c<o&&(m=o,o=c,c=m,m=s,s=i,i=m);f-- >0;){if(m=b1(o,c,r),m===u)return a[s]=o,a[i]=c,t(a);if(m>0)o=Math.floor(o/m)*m,c=Math.ceil(c/m)*m;else if(m<0)o=Math.ceil(o*m)/m,c=Math.floor(c*m)/m;else break;u=m}return e},e}function GP(){var e=Wb();return e.copy=function(){return cf(e,GP())},ls.apply(e,arguments),$o(e)}function XP(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,n0),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return XP(e).unknown(t)},e=arguments.length?Array.from(e,n0):[0,1],$o(r)}function YP(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function y4(e){return Math.log(e)}function b4(e){return Math.exp(e)}function xU(e){return-Math.log(-e)}function gU(e){return-Math.exp(-e)}function vU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yU(e){return e===10?vU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function w4(e){return(t,r)=>-e(-t,r)}function Vb(e){const t=e(y4,b4),r=t.domain;let a=10,s,i;function o(){return s=bU(a),i=yU(a),r()[0]<0?(s=w4(s),i=w4(i),e(xU,gU)):e(y4,b4),t}return t.base=function(c){return arguments.length?(a=+c,o()):a},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const u=r();let m=u[0],f=u[u.length-1];const h=f<m;h&&([m,f]=[f,m]);let g=s(m),x=s(f),w,y;const b=c==null?10:+c;let N=[];if(!(a%1)&&x-g<b){if(g=Math.floor(g),x=Math.ceil(x),m>0){for(;g<=x;++g)for(w=1;w<a;++w)if(y=g<0?w/i(-g):w*i(g),!(y<m)){if(y>f)break;N.push(y)}}else for(;g<=x;++g)for(w=a-1;w>=1;--w)if(y=g>0?w/i(-g):w*i(g),!(y<m)){if(y>f)break;N.push(y)}N.length*2<b&&(N=y1(m,f,b))}else N=y1(g,x,Math.min(x-g,b)).map(i);return h?N.reverse():N},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Fu(u)).precision==null&&(u.trim=!0),u=Kb(u)),c===1/0)return u;const m=Math.max(1,a*c/t.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=m?u(f):""}},t.nice=()=>r(YP(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function JP(){const e=Vb(mp()).domain([1,10]);return e.copy=()=>cf(e,JP()).base(e.base()),ls.apply(e,arguments),e}function j4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qb(e){var t=1,r=e(j4(t),_4(t));return r.constant=function(a){return arguments.length?e(j4(t=+a),_4(t)):t},$o(r)}function ZP(){var e=qb(mp());return e.copy=function(){return cf(e,ZP()).constant(e.constant())},ls.apply(e,arguments)}function N4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jU(e){return e<0?-e*e:e*e}function Gb(e){var t=e(Qn,Qn),r=1;function a(){return r===1?e(Qn,Qn):r===.5?e(wU,jU):e(N4(r),N4(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},$o(t)}function Xb(){var e=Gb(mp());return e.copy=function(){return cf(e,Xb()).exponent(e.exponent())},ls.apply(e,arguments),e}function _U(){return Xb.apply(null,arguments).exponent(.5)}function S4(e){return Math.sign(e)*e*e}function NU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QP(){var e=Wb(),t=[0,1],r=!1,a;function s(i){var o=NU(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(S4(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,n0)).map(S4)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return QP(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ls.apply(s,arguments),$o(s)}function e3(){var e=[],t=[],r=[],a;function s(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=AB(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?a:t[of(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ao),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return e3().domain(e).range(t).unknown(a)},ls.apply(i,arguments)}function t3(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[of(a,u,0,r)]:i}function c(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,c()):s.slice()},o.invertExtent=function(u){var m=s.indexOf(u);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=r?[a[r-1],t]:[a[m-1],a[m]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return t3().domain([e,t]).range(s).unknown(i)},ls.apply($o(o),arguments)}function r3(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[of(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return r3().domain(e).range(t).unknown(r)},ls.apply(s,arguments)}const Zv=new Date,Qv=new Date;function tn(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const u=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let m;do u.push(m=new Date(+i)),t(i,c),e(i);while(m<i&&i<o);return u},s.filter=i=>tn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Zv.setTime(+i),Qv.setTime(+o),e(Zv),e(Qv),Math.floor(r(Zv,Qv))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const i0=tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);i0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):i0);i0.range;const hi=1e3,as=hi*60,pi=as*60,Ii=pi*24,Yb=Ii*7,k4=Ii*30,ey=Ii*365,ml=tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getUTCSeconds());ml.range;const Jb=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hi)},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getMinutes());Jb.range;const Zb=tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getUTCMinutes());Zb.range;const Qb=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hi-e.getMinutes()*as)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getHours());Qb.range;const ew=tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCHours());ew.range;const df=tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*as)/Ii,e=>e.getDate()-1);df.range;const hp=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>e.getUTCDate()-1);hp.range;const n3=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>Math.floor(e/Ii));n3.range;function Il(e){return tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*as)/Yb)}const pp=Il(0),o0=Il(1),SU=Il(2),kU=Il(3),Bc=Il(4),EU=Il(5),AU=Il(6);pp.range;o0.range;SU.range;kU.range;Bc.range;EU.range;AU.range;function Dl(e){return tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Yb)}const xp=Dl(0),l0=Dl(1),CU=Dl(2),TU=Dl(3),Uc=Dl(4),PU=Dl(5),OU=Dl(6);xp.range;l0.range;CU.range;TU.range;Uc.range;PU.range;OU.range;const tw=tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tw.range;const rw=tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rw.range;const Di=tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Di.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Di.range;const Mi=tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mi.range;function a3(e,t,r,a,s,i){const o=[[ml,1,hi],[ml,5,5*hi],[ml,15,15*hi],[ml,30,30*hi],[i,1,as],[i,5,5*as],[i,15,15*as],[i,30,30*as],[s,1,pi],[s,3,3*pi],[s,6,6*pi],[s,12,12*pi],[a,1,Ii],[a,2,2*Ii],[r,1,Yb],[t,1,k4],[t,3,3*k4],[e,1,ey]];function c(m,f,h){const g=f<m;g&&([m,f]=[f,m]);const x=h&&typeof h.range=="function"?h:u(m,f,h),w=x?x.range(m,+f+1):[];return g?w.reverse():w}function u(m,f,h){const g=Math.abs(f-m)/h,x=Lb(([,,b])=>b).right(o,g);if(x===o.length)return e.every(w1(m/ey,f/ey,h));if(x===0)return i0.every(Math.max(w1(m,f,h),1));const[w,y]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return w.every(y)}return[c,u]}const[IU,DU]=a3(Mi,rw,xp,n3,ew,Zb),[MU,FU]=a3(Di,tw,pp,df,Qb,Jb);function ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LU(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,m=au(s),f=su(s),h=au(i),g=su(i),x=au(o),w=su(o),y=au(c),b=su(c),N=au(u),_=su(u),k={a:be,A:ne,b:ve,B:me,c:null,d:O4,e:O4,f:iW,g:xW,G:vW,H:nW,I:aW,j:sW,L:s3,m:oW,M:lW,p:ae,q:C,Q:M4,s:F4,S:cW,u:dW,U:uW,V:fW,w:mW,W:hW,x:null,X:null,y:pW,Y:gW,Z:yW,"%":D4},A={a:B,A:H,b:K,B:te,c:null,d:I4,e:I4,f:_W,g:IW,G:MW,H:bW,I:wW,j:jW,L:o3,m:NW,M:SW,p:ye,q:Se,Q:M4,s:F4,S:kW,u:EW,U:AW,V:CW,w:TW,W:PW,x:null,X:null,y:OW,Y:DW,Z:FW,"%":D4},T={a:M,A:V,b:U,B:J,c:W,d:T4,e:T4,f:QU,g:C4,G:A4,H:P4,I:P4,j:XU,L:ZU,m:GU,M:YU,p:P,q:qU,Q:tW,s:rW,S:JU,u:UU,U:WU,V:HU,w:BU,W:KU,x:he,X,y:C4,Y:A4,Z:VU,"%":eW};k.x=I(r,k),k.X=I(a,k),k.c=I(t,k),A.x=I(r,A),A.X=I(a,A),A.c=I(t,A);function I(L,G){return function(ge){var le=[],Re=-1,De=0,Ce=L.length,Ae,je,it;for(ge instanceof Date||(ge=new Date(+ge));++Re<Ce;)L.charCodeAt(Re)===37&&(le.push(L.slice(De,Re)),(je=E4[Ae=L.charAt(++Re)])!=null?Ae=L.charAt(++Re):je=Ae==="e"?" ":"0",(it=G[Ae])&&(Ae=it(ge,je)),le.push(Ae),De=Re+1);return le.push(L.slice(De,Re)),le.join("")}}function O(L,G){return function(ge){var le=nu(1900,void 0,1),Re=D(le,L,ge+="",0),De,Ce;if(Re!=ge.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(G&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(De=ry(nu(le.y,0,1)),Ce=De.getUTCDay(),De=Ce>4||Ce===0?l0.ceil(De):l0(De),De=hp.offset(De,(le.V-1)*7),le.y=De.getUTCFullYear(),le.m=De.getUTCMonth(),le.d=De.getUTCDate()+(le.w+6)%7):(De=ty(nu(le.y,0,1)),Ce=De.getDay(),De=Ce>4||Ce===0?o0.ceil(De):o0(De),De=df.offset(De,(le.V-1)*7),le.y=De.getFullYear(),le.m=De.getMonth(),le.d=De.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Ce="Z"in le?ry(nu(le.y,0,1)).getUTCDay():ty(nu(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Ce+5)%7:le.w+le.U*7-(Ce+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,ry(le)):ty(le)}}function D(L,G,ge,le){for(var Re=0,De=G.length,Ce=ge.length,Ae,je;Re<De;){if(le>=Ce)return-1;if(Ae=G.charCodeAt(Re++),Ae===37){if(Ae=G.charAt(Re++),je=T[Ae in E4?G.charAt(Re++):Ae],!je||(le=je(L,ge,le))<0)return-1}else if(Ae!=ge.charCodeAt(le++))return-1}return le}function P(L,G,ge){var le=m.exec(G.slice(ge));return le?(L.p=f.get(le[0].toLowerCase()),ge+le[0].length):-1}function M(L,G,ge){var le=x.exec(G.slice(ge));return le?(L.w=w.get(le[0].toLowerCase()),ge+le[0].length):-1}function V(L,G,ge){var le=h.exec(G.slice(ge));return le?(L.w=g.get(le[0].toLowerCase()),ge+le[0].length):-1}function U(L,G,ge){var le=N.exec(G.slice(ge));return le?(L.m=_.get(le[0].toLowerCase()),ge+le[0].length):-1}function J(L,G,ge){var le=y.exec(G.slice(ge));return le?(L.m=b.get(le[0].toLowerCase()),ge+le[0].length):-1}function W(L,G,ge){return D(L,t,G,ge)}function he(L,G,ge){return D(L,r,G,ge)}function X(L,G,ge){return D(L,a,G,ge)}function be(L){return o[L.getDay()]}function ne(L){return i[L.getDay()]}function ve(L){return u[L.getMonth()]}function me(L){return c[L.getMonth()]}function ae(L){return s[+(L.getHours()>=12)]}function C(L){return 1+~~(L.getMonth()/3)}function B(L){return o[L.getUTCDay()]}function H(L){return i[L.getUTCDay()]}function K(L){return u[L.getUTCMonth()]}function te(L){return c[L.getUTCMonth()]}function ye(L){return s[+(L.getUTCHours()>=12)]}function Se(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var G=I(L+="",k);return G.toString=function(){return L},G},parse:function(L){var G=O(L+="",!1);return G.toString=function(){return L},G},utcFormat:function(L){var G=I(L+="",A);return G.toString=function(){return L},G},utcParse:function(L){var G=O(L+="",!0);return G.toString=function(){return L},G}}}var E4={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,RU=/^%/,$U=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function zU(e){return e.replace($U,"\\$&")}function au(e){return new RegExp("^(?:"+e.map(zU).join("|")+")","i")}function su(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BU(e,t,r){var a=yn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function UU(e,t,r){var a=yn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function WU(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function HU(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function KU(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function A4(e,t,r){var a=yn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function C4(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function VU(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function qU(e,t,r){var a=yn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function GU(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function T4(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function XU(e,t,r){var a=yn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function P4(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function YU(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function JU(e,t,r){var a=yn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function ZU(e,t,r){var a=yn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function QU(e,t,r){var a=yn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function eW(e,t,r){var a=RU.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function tW(e,t,r){var a=yn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function rW(e,t,r){var a=yn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function O4(e,t){return Ft(e.getDate(),t,2)}function nW(e,t){return Ft(e.getHours(),t,2)}function aW(e,t){return Ft(e.getHours()%12||12,t,2)}function sW(e,t){return Ft(1+df.count(Di(e),e),t,3)}function s3(e,t){return Ft(e.getMilliseconds(),t,3)}function iW(e,t){return s3(e,t)+"000"}function oW(e,t){return Ft(e.getMonth()+1,t,2)}function lW(e,t){return Ft(e.getMinutes(),t,2)}function cW(e,t){return Ft(e.getSeconds(),t,2)}function dW(e){var t=e.getDay();return t===0?7:t}function uW(e,t){return Ft(pp.count(Di(e)-1,e),t,2)}function i3(e){var t=e.getDay();return t>=4||t===0?Bc(e):Bc.ceil(e)}function fW(e,t){return e=i3(e),Ft(Bc.count(Di(e),e)+(Di(e).getDay()===4),t,2)}function mW(e){return e.getDay()}function hW(e,t){return Ft(o0.count(Di(e)-1,e),t,2)}function pW(e,t){return Ft(e.getFullYear()%100,t,2)}function xW(e,t){return e=i3(e),Ft(e.getFullYear()%100,t,2)}function gW(e,t){return Ft(e.getFullYear()%1e4,t,4)}function vW(e,t){var r=e.getDay();return e=r>=4||r===0?Bc(e):Bc.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function yW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function I4(e,t){return Ft(e.getUTCDate(),t,2)}function bW(e,t){return Ft(e.getUTCHours(),t,2)}function wW(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function jW(e,t){return Ft(1+hp.count(Mi(e),e),t,3)}function o3(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function _W(e,t){return o3(e,t)+"000"}function NW(e,t){return Ft(e.getUTCMonth()+1,t,2)}function SW(e,t){return Ft(e.getUTCMinutes(),t,2)}function kW(e,t){return Ft(e.getUTCSeconds(),t,2)}function EW(e){var t=e.getUTCDay();return t===0?7:t}function AW(e,t){return Ft(xp.count(Mi(e)-1,e),t,2)}function l3(e){var t=e.getUTCDay();return t>=4||t===0?Uc(e):Uc.ceil(e)}function CW(e,t){return e=l3(e),Ft(Uc.count(Mi(e),e)+(Mi(e).getUTCDay()===4),t,2)}function TW(e){return e.getUTCDay()}function PW(e,t){return Ft(l0.count(Mi(e)-1,e),t,2)}function OW(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function IW(e,t){return e=l3(e),Ft(e.getUTCFullYear()%100,t,2)}function DW(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function MW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Uc(e):Uc.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function FW(){return"+0000"}function D4(){return"%"}function M4(e){return+e}function F4(e){return Math.floor(+e/1e3)}var dc,c3,d3;LW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LW(e){return dc=LU(e),c3=dc.format,dc.parse,d3=dc.utcFormat,dc.utcParse,dc}function RW(e){return new Date(e)}function $W(e){return e instanceof Date?+e:+new Date(+e)}function nw(e,t,r,a,s,i,o,c,u,m){var f=Wb(),h=f.invert,g=f.domain,x=m(".%L"),w=m(":%S"),y=m("%I:%M"),b=m("%I %p"),N=m("%a %d"),_=m("%b %d"),k=m("%B"),A=m("%Y");function T(I){return(u(I)<I?x:c(I)<I?w:o(I)<I?y:i(I)<I?b:a(I)<I?s(I)<I?N:_:r(I)<I?k:A)(I)}return f.invert=function(I){return new Date(h(I))},f.domain=function(I){return arguments.length?g(Array.from(I,$W)):g().map(RW)},f.ticks=function(I){var O=g();return e(O[0],O[O.length-1],I??10)},f.tickFormat=function(I,O){return O==null?T:m(O)},f.nice=function(I){var O=g();return(!I||typeof I.range!="function")&&(I=t(O[0],O[O.length-1],I??10)),I?g(YP(O,I)):f},f.copy=function(){return cf(f,nw(e,t,r,a,s,i,o,c,u,m))},f}function zW(){return ls.apply(nw(MU,FU,Di,tw,pp,df,Qb,Jb,ml,c3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BW(){return ls.apply(nw(IU,DU,Mi,rw,xp,hp,ew,Zb,ml,d3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gp(){var e=0,t=1,r,a,s,i,o=Qn,c=!1,u;function m(h){return h==null||isNaN(h=+h)?u:o(s===0?.5:(h=(i(h)-r)*s,c?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),m):[e,t]},m.clamp=function(h){return arguments.length?(c=!!h,m):c},m.interpolator=function(h){return arguments.length?(o=h,m):o};function f(h){return function(g){var x,w;return arguments.length?([x,w]=g,o=h(x,w),m):[o(0),o(1)]}}return m.range=f(td),m.rangeRound=f(Ub),m.unknown=function(h){return arguments.length?(u=h,m):u},function(h){return i=h,r=h(e),a=h(t),s=r===a?0:1/(a-r),m}}function zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u3(){var e=$o(gp()(Qn));return e.copy=function(){return zo(e,u3())},Hi.apply(e,arguments)}function f3(){var e=Vb(gp()).domain([1,10]);return e.copy=function(){return zo(e,f3()).base(e.base())},Hi.apply(e,arguments)}function m3(){var e=qb(gp());return e.copy=function(){return zo(e,m3()).constant(e.constant())},Hi.apply(e,arguments)}function aw(){var e=Gb(gp());return e.copy=function(){return zo(e,aw()).exponent(e.exponent())},Hi.apply(e,arguments)}function UW(){return aw.apply(null,arguments).exponent(.5)}function h3(){var e=[],t=Qn;function r(a){if(a!=null&&!isNaN(a=+a))return t((of(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ao),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>EB(e,i/a))},r.copy=function(){return h3(t).domain(e)},Hi.apply(r,arguments)}function vp(){var e=0,t=.5,r=1,a=1,s,i,o,c,u,m=Qn,f,h=!1,g;function x(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-i)*(a*y<a*i?c:u),m(h?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,s=f(e=+e),i=f(t=+t),o=f(r=+r),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(h=!!y,x):h},x.interpolator=function(y){return arguments.length?(m=y,x):m};function w(y){return function(b){var N,_,k;return arguments.length?([N,_,k]=b,m=eU(y,[N,_,k]),x):[m(0),m(.5),m(1)]}}return x.range=w(td),x.rangeRound=w(Ub),x.unknown=function(y){return arguments.length?(g=y,x):g},function(y){return f=y,s=y(e),i=y(t),o=y(r),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,x}}function p3(){var e=$o(vp()(Qn));return e.copy=function(){return zo(e,p3())},Hi.apply(e,arguments)}function x3(){var e=Vb(vp()).domain([.1,1,10]);return e.copy=function(){return zo(e,x3()).base(e.base())},Hi.apply(e,arguments)}function g3(){var e=qb(vp());return e.copy=function(){return zo(e,g3()).constant(e.constant())},Hi.apply(e,arguments)}function sw(){var e=Gb(vp());return e.copy=function(){return zo(e,sw()).exponent(e.exponent())},Hi.apply(e,arguments)}function WW(){return sw.apply(null,arguments).exponent(.5)}const uu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$b,scaleDiverging:p3,scaleDivergingLog:x3,scaleDivergingPow:sw,scaleDivergingSqrt:WW,scaleDivergingSymlog:g3,scaleIdentity:XP,scaleImplicit:j1,scaleLinear:GP,scaleLog:JP,scaleOrdinal:Rb,scalePoint:TB,scalePow:Xb,scaleQuantile:e3,scaleQuantize:t3,scaleRadial:QP,scaleSequential:u3,scaleSequentialLog:f3,scaleSequentialPow:aw,scaleSequentialQuantile:h3,scaleSequentialSqrt:UW,scaleSequentialSymlog:m3,scaleSqrt:_U,scaleSymlog:ZP,scaleThreshold:r3,scaleTime:zW,scaleUtc:BW,tickFormat:qP},Symbol.toStringTag,{value:"Module"}));var Ki=e=>e.chartData,yp=_e([Ki],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),iw=(e,t,r,a)=>a?yp(e):Ki(e),v3=(e,t,r)=>r?yp(e):Ki(e);function Po(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(er(t)&&er(r))return!0}return!1}function L4(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function y3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,i;if(er(r))s=r;else if(typeof r=="function")return;if(er(a))i=a;else if(typeof a=="function")return;var o=[s,i];if(Po(o))return o}}function HW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Po(a))return L4(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,c;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Je(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&GS.test(s)){var u=GS.exec(s);if(u==null||u[1]==null||t==null)o=void 0;else{var m=+u[1];o=t[0]-m}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Je(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&XS.test(i)){var f=XS.exec(i);if(f==null||f[1]==null||t==null)c=void 0;else{var h=+f[1];c=t[1]+h}}else c=t?.[1];var g=[o,c];if(Po(g))return t==null?g:L4(g,t,r)}}}var rd=1e9,KW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lw,hr=!0,os="[DecimalError] ",gl=os+"Invalid argument: ",ow=os+"Exponent out of range: ",nd=Math.floor,ol=Math.pow,VW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ia,un=1e7,lr=7,b3=9007199254740991,c0=nd(b3/lr),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};nt.dividedBy=nt.div=function(e){return vi(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,r=t.constructor;return Qt(vi(t,new r(e),0,1),r.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return Wr(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ia))throw Error(os+"NaN");if(r.s<1)throw Error(os+(r.s?"NaN":"-Infinity"));return r.eq(Ia)?new a(0):(hr=!1,t=vi(Lu(r,i),Lu(e,i),i),hr=!0,Qt(t,s))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_3(t,e):w3(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(os+"NaN");return r.s?(hr=!1,t=vi(r,e,0,1).times(e),hr=!0,r.minus(t)):Qt(new a(r),s)};nt.naturalExponential=nt.exp=function(){return j3(this)};nt.naturalLogarithm=nt.ln=function(){return Lu(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w3(t,e):_3(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gl+e);if(t=Wr(s)+1,a=s.d.length-1,r=a*lr+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};nt.squareRoot=nt.sqrt=function(){var e,t,r,a,s,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(os+"NaN")}for(e=Wr(c),hr=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=$s(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=nd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=a,a=i.plus(vi(c,i,o+2)).times(.5),$s(i.d).slice(0,o)===(t=$s(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Qt(i,r+1,0),i.times(i).eq(c)){a=i;break}}else if(t!="9999")break;o+=4}return hr=!0,Qt(a,r)};nt.times=nt.mul=function(e){var t,r,a,s,i,o,c,u,m,f=this,h=f.constructor,g=f.d,x=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,u=g.length,m=x.length,u<m&&(i=g,g=x,x=i,o=u,u=m,m=o),i=[],o=u+m,a=o;a--;)i.push(0);for(a=m;--a>=0;){for(t=0,s=u+a;s>a;)c=i[s]+x[a]*g[s-a-1]+t,i[s--]=c%un|0,t=c/un|0;i[s]=(i[s]+t)%un|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,hr?Qt(e,h.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Vs(e,0,rd),t===void 0?t=a.rounding:Vs(t,0,8),Qt(r,e+Wr(r)+1,t))};nt.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=kl(a,!0):(Vs(e,0,rd),t===void 0?t=s.rounding:Vs(t,0,8),a=Qt(new s(a),e+1,t),r=kl(a,!0,e+1)),r};nt.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?kl(s):(Vs(e,0,rd),t===void 0?t=i.rounding:Vs(t,0,8),a=Qt(new i(s),e+Wr(s)+1,t),r=kl(a.abs(),!1,e+Wr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return Qt(new t(e),Wr(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,r,a,s,i,o,c=this,u=c.constructor,m=12,f=+(e=new u(e));if(!e.s)return new u(Ia);if(c=new u(c),!c.s){if(e.s<1)throw Error(os+"Infinity");return c}if(c.eq(Ia))return c;if(a=u.precision,e.eq(Ia))return Qt(c,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=f<0?-f:f)<=b3){for(s=new u(Ia),t=Math.ceil(a/lr+4),hr=!1;r%2&&(s=s.times(c),$4(s.d,t)),r=nd(r/2),r!==0;)c=c.times(c),$4(c.d,t);return hr=!0,e.s<0?new u(Ia).div(s):Qt(s,a)}}else if(i<0)throw Error(os+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,hr=!1,s=e.times(Lu(c,a+m)),hr=!0,s=j3(s),s.s=i,s};nt.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=Wr(s),a=kl(s,r<=i.toExpNeg||r>=i.toExpPos)):(Vs(e,1,rd),t===void 0?t=i.rounding:Vs(t,0,8),s=Qt(new i(s),e,t),r=Wr(s),a=kl(s,e<=r||r<=i.toExpNeg,e)),a};nt.toSignificantDigits=nt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Vs(e,1,rd),t===void 0?t=a.rounding:Vs(t,0,8)),Qt(new a(r),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wr(e),r=e.constructor;return kl(e,t<=r.toExpNeg||t>=r.toExpPos)};function w3(e,t){var r,a,s,i,o,c,u,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),hr?Qt(t,h):t;if(u=e.d,m=t.d,o=e.e,s=t.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,c=m.length):(a=m,s=o,c=u.length),o=Math.ceil(h/lr),c=o>c?o+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=m.length,c-i<0&&(i=c,a=m,m=u,u=a),r=0;i;)r=(u[--i]=u[i]+m[i]+r)/un|0,u[i]%=un;for(r&&(u.unshift(r),++s),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=s,hr?Qt(t,h):t}function Vs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gl+e)}function $s(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=lr-a.length,r&&(i+=wo(r)),i+=a;o=e[t],a=o+"",r=lr-a.length,r&&(i+=wo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var vi=(function(){function e(a,s){var i,o=0,c=a.length;for(a=a.slice();c--;)i=a[c]*s+o,a[c]=i%un|0,o=i/un|0;return o&&a.unshift(o),a}function t(a,s,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=s[c]){u=a[c]>s[c]?1:-1;break}return u}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*un+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var c,u,m,f,h,g,x,w,y,b,N,_,k,A,T,I,O,D,P=a.constructor,M=a.s==s.s?1:-1,V=a.d,U=s.d;if(!a.s)return new P(a);if(!s.s)throw Error(os+"Division by zero");for(u=a.e-s.e,O=U.length,T=V.length,x=new P(M),w=x.d=[],m=0;U[m]==(V[m]||0);)++m;if(U[m]>(V[m]||0)&&--u,i==null?_=i=P.precision:o?_=i+(Wr(a)-Wr(s))+1:_=i,_<0)return new P(0);if(_=_/lr+2|0,m=0,O==1)for(f=0,U=U[0],_++;(m<T||f)&&_--;m++)k=f*un+(V[m]||0),w[m]=k/U|0,f=k%U|0;else{for(f=un/(U[0]+1)|0,f>1&&(U=e(U,f),V=e(V,f),O=U.length,T=V.length),A=O,y=V.slice(0,O),b=y.length;b<O;)y[b++]=0;D=U.slice(),D.unshift(0),I=U[0],U[1]>=un/2&&++I;do f=0,c=t(U,y,O,b),c<0?(N=y[0],O!=b&&(N=N*un+(y[1]||0)),f=N/I|0,f>1?(f>=un&&(f=un-1),h=e(U,f),g=h.length,b=y.length,c=t(h,y,g,b),c==1&&(f--,r(h,O<g?D:U,g))):(f==0&&(c=f=1),h=U.slice()),g=h.length,g<b&&h.unshift(0),r(y,h,b),c==-1&&(b=y.length,c=t(U,y,O,b),c<1&&(f++,r(y,O<b?D:U,b))),b=y.length):c===0&&(f++,y=[0]),w[m++]=f,c&&y[0]?y[b++]=V[A]||0:(y=[V[A]],b=1);while((A++<T||y[0]!==void 0)&&_--)}return w[0]||w.shift(),x.e=u,Qt(x,o?i+Wr(x)+1:i)}})();function j3(e,t){var r,a,s,i,o,c,u=0,m=0,f=e.constructor,h=f.precision;if(Wr(e)>16)throw Error(ow+Wr(e));if(!e.s)return new f(Ia);for(hr=!1,c=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(a=Math.log(ol(2,m))/Math.LN10*2+5|0,c+=a,r=s=i=new f(Ia),f.precision=c;;){if(s=Qt(s.times(e),c),r=r.times(++u),o=i.plus(vi(s,r,c)),$s(o.d).slice(0,c)===$s(i.d).slice(0,c)){for(;m--;)i=Qt(i.times(i),c);return f.precision=h,t==null?(hr=!0,Qt(i,h)):i}i=o}}function Wr(e){for(var t=e.e*lr,r=e.d[0];r>=10;r/=10)t++;return t}function ny(e,t,r){if(t>e.LN10.sd())throw hr=!0,r&&(e.precision=r),Error(os+"LN10 precision limit exceeded");return Qt(new e(e.LN10),t)}function wo(e){for(var t="";e--;)t+="0";return t}function Lu(e,t){var r,a,s,i,o,c,u,m,f,h=1,g=10,x=e,w=x.d,y=x.constructor,b=y.precision;if(x.s<1)throw Error(os+(x.s?"NaN":"-Infinity"));if(x.eq(Ia))return new y(0);if(t==null?(hr=!1,m=b):m=t,x.eq(10))return t==null&&(hr=!0),ny(y,m);if(m+=g,y.precision=m,r=$s(w),a=r.charAt(0),i=Wr(x),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)x=x.times(e),r=$s(x.d),a=r.charAt(0),h++;i=Wr(x),a>1?(x=new y("0."+r),i++):x=new y(a+"."+r.slice(1))}else return u=ny(y,m+2,b).times(i+""),x=Lu(new y(a+"."+r.slice(1)),m-g).plus(u),y.precision=b,t==null?(hr=!0,Qt(x,b)):x;for(c=o=x=vi(x.minus(Ia),x.plus(Ia),m),f=Qt(x.times(x),m),s=3;;){if(o=Qt(o.times(f),m),u=c.plus(vi(o,new y(s),m)),$s(u.d).slice(0,m)===$s(c.d).slice(0,m))return c=c.times(2),i!==0&&(c=c.plus(ny(y,m+2,b).times(i+""))),c=vi(c,new y(h),m),y.precision=b,t==null?(hr=!0,Qt(c,b)):c;c=u,s+=2}}function R4(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=nd(r/lr),e.d=[],a=(r+1)%lr,r<0&&(a+=lr),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=lr;a<s;)e.d.push(+t.slice(a,a+=lr));t=t.slice(a),a=lr-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),hr&&(e.e>c0||e.e<-c0))throw Error(ow+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qt(e,t,r){var a,s,i,o,c,u,m,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=lr,s=t,m=h[f=0];else{if(f=Math.ceil((a+1)/lr),i=h.length,f>=i)return e;for(m=i=h[f],o=1;i>=10;i/=10)o++;a%=lr,s=a-lr+o}if(r!==void 0&&(i=ol(10,o-s-1),c=m/i%10|0,u=t<0||h[f+1]!==void 0||m%i,u=r<4?(c||u)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(a>0?s>0?m/ol(10,o-s):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(i=Wr(e),h.length=1,t=t-i-1,h[0]=ol(10,(lr-t%lr)%lr),e.e=nd(-t/lr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,i=1,f--):(h.length=f+1,i=ol(10,lr-a),h[f]=s>0?(m/ol(10,o-s)%ol(10,s)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==un&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=un)break;h[f--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(hr&&(e.e>c0||e.e<-c0))throw Error(ow+Wr(e));return e}function _3(e,t){var r,a,s,i,o,c,u,m,f,h,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),hr?Qt(t,x):t;if(u=e.d,h=t.d,a=t.e,m=e.e,u=u.slice(),o=m-a,o){for(f=o<0,f?(r=u,o=-o,c=h.length):(r=h,a=m,c=u.length),s=Math.max(Math.ceil(x/lr),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,c=h.length,f=s<c,f&&(c=s),s=0;s<c;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}o=0}for(f&&(r=u,u=h,h=r,t.s=-t.s),c=u.length,s=h.length-c;s>0;--s)u[c++]=0;for(s=h.length;s>o;){if(u[--s]<h[s]){for(i=s;i&&u[--i]===0;)u[i]=un-1;--u[i],u[s]+=un}u[s]-=h[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,hr?Qt(t,x):t):new g(0)}function kl(e,t,r){var a,s=Wr(e),i=$s(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+wo(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+wo(-s-1)+i,r&&(a=r-o)>0&&(i+=wo(a))):s>=o?(i+=wo(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+wo(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=wo(a))),e.s<0?"-"+i:i}function $4(e,t){if(e.length>t)return e.length=t,!0}function N3(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return R4(o,i.toString())}else if(typeof i!="string")throw Error(gl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,VW.test(i))R4(o,i);else throw Error(gl+i)}if(s.prototype=nt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=N3,s.config=s.set=qW,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function qW(e){if(!e||typeof e!="object")throw Error(os+"Object expected");var t,r,a,s=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(nd(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(gl+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(gl+r+": "+a);return this}var lw=N3(KW);Ia=new lw(1);const Kt=lw;var GW=e=>e,S3={},k3=e=>e===S3,z4=e=>function t(){return arguments.length===0||arguments.length===1&&k3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},E3=(e,t)=>e===1?t:z4(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var i=a.filter(o=>o!==S3).length;return i>=e?t(...a):E3(e-i,z4(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var m=a.map(f=>k3(f)?c.shift():f);return t(...m,...c)}))}),XW=e=>E3(e.length,e),k1=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},YW=XW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),JW=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return GW;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((c,u)=>u(c),i(...arguments))}};function A3(e){var t;return e===0?t=1:t=Math.floor(new Kt(e).abs().log(10).toNumber())+1,t}function C3(e,t,r){for(var a=new Kt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var T3=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},P3=(e,t,r)=>{if(e.lte(0))return new Kt(0);var a=A3(e.toNumber()),s=new Kt(10).pow(a),i=e.div(s),o=a!==1?.05:.1,c=new Kt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=c.mul(s);return t?new Kt(u.toNumber()):new Kt(Math.ceil(u.toNumber()))},ZW=(e,t,r)=>{var a=new Kt(1),s=new Kt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Kt(10).pow(A3(e)-1),s=new Kt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Kt(Math.floor(e)))}else e===0?s=new Kt(Math.floor((t-1)/2)):r||(s=new Kt(Math.floor(e)));var o=Math.floor((t-1)/2),c=JW(YW(u=>s.add(new Kt(u-o).mul(a)).toNumber()),k1);return c(0,t)},O3=function(t,r,a,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var o=P3(new Kt(r).sub(t).div(a-1),s,i),c;t<=0&&r>=0?c=new Kt(0):(c=new Kt(t).add(r).div(2),c=c.sub(new Kt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),m=Math.ceil(new Kt(r).sub(c).div(o).toNumber()),f=u+m+1;return f>a?O3(t,r,a,s,i+1):(f<a&&(m=r>0?m+(a-f):m,u=r>0?u:u+(a-f)),{step:o,tickMin:c.sub(new Kt(u).mul(o)),tickMax:c.add(new Kt(m).mul(o))})},QW=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[c,u]=T3([r,a]);if(c===-1/0||u===1/0){var m=u===1/0?[c,...k1(0,s-1).map(()=>1/0)]:[...k1(0,s-1).map(()=>-1/0),u];return r>a?m.reverse():m}if(c===u)return ZW(c,s,i);var{step:f,tickMin:h,tickMax:g}=O3(c,u,o,i,0),x=C3(h,g.add(new Kt(.1).mul(f)),f);return r>a?x.reverse():x},eH=function(t,r){var[a,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=T3([a,s]);if(o===-1/0||c===1/0)return[a,s];if(o===c)return[o];var u=Math.max(r,2),m=P3(new Kt(c).sub(o).div(u-1),i,0),f=[...C3(new Kt(o),new Kt(c),m),c];return i===!1&&(f=f.map(h=>Math.round(h))),a>s?f.reverse():f},I3=e=>e.rootProps.maxBarSize,tH=e=>e.rootProps.barGap,D3=e=>e.rootProps.barCategoryGap,rH=e=>e.rootProps.barSize,uf=e=>e.rootProps.stackOffset,M3=e=>e.rootProps.reverseStackOrder,cw=e=>e.options.chartName,dw=e=>e.rootProps.syncId,F3=e=>e.rootProps.syncMethod,uw=e=>e.options.eventEmitter,nH=e=>e.rootProps.baseValue,Mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},fi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ca={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:fi.type,unit:void 0},sH={allowDataOverflow:Ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ca.scale,tick:Ca.tick,tickCount:Ca.tickCount,ticks:void 0,type:Ca.type,unit:void 0},iH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oH={allowDataOverflow:Ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ca.scale,tick:Ca.tick,tickCount:Ca.tickCount,ticks:void 0,type:"category",unit:void 0},fw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?iH:aH,mw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?oH:sH,wp=e=>e.polarOptions,hw=_e([Ui,Wi,en],DP),L3=_e([wp,hw],(e,t)=>{if(e!=null)return zn(e.innerRadius,t,0)}),R3=_e([wp,hw],(e,t)=>{if(e!=null)return zn(e.outerRadius,t,t*.8)}),lH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},$3=_e([wp],lH);_e([fw,$3],bp);var z3=_e([hw,L3,R3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});_e([mw,z3],bp);var B3=_e([Tt,wp,L3,R3,Ui,Wi],(e,t,r,a,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:o,cy:c,startAngle:u,endAngle:m}=t;return{cx:zn(o,s,s/2),cy:zn(c,i,i/2),innerRadius:r,outerRadius:a,startAngle:u,endAngle:m,clockWise:!1}}}),xr=(e,t)=>t,ff=(e,t,r)=>r;function jp(e){return e?.id}function U3(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(c=>{var u,m=(u=c.data)!==null&&u!==void 0?u:a;if(!(m==null||m.length===0)){var f=jp(c);m.forEach((h,g)=>{var x=i==null||s?g:String(Bt(h,i,null)),w=Bt(h,c.dataKey,0),y;o.has(x)?y=o.get(x):y={},Object.assign(y,{[f]:w}),o.set(x,y)})}}),Array.from(o.values())}function _p(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Np=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function cH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var rn=e=>{var t=Tt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ad=e=>e.tooltip.settings.axisId;function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function d0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(a){dH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dH(e,t,r){return(t=uH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E1=[0,"auto"],cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W3=(e,t)=>e.cartesianAxis.xAxis[t],Vi=(e,t)=>{var r=W3(e,t);return r??cn},dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nf},H3=(e,t)=>e.cartesianAxis.yAxis[t],qi=(e,t)=>{var r=H3(e,t);return r??dn},mH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},pw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??mH},br=(e,t,r)=>{switch(t){case"xAxis":return Vi(e,r);case"yAxis":return qi(e,r);case"zAxis":return pw(e,r);case"angleAxis":return fw(e,r);case"radiusAxis":return mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hH=(e,t,r)=>{switch(t){case"xAxis":return Vi(e,r);case"yAxis":return qi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mf=(e,t,r)=>{switch(t){case"xAxis":return Vi(e,r);case"yAxis":return qi(e,r);case"angleAxis":return fw(e,r);case"radiusAxis":return mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},K3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var hf=e=>e.graphicalItems.cartesianItems,pH=_e([xr,ff],xw),gw=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),pf=_e([hf,br,pH],gw,{memoizeOptions:{resultEqualityCheck:Sp}}),V3=_e([pf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_p)),q3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xH=_e([pf],q3),vw=e=>e.map(t=>t.data).filter(Boolean).flat(1),gH=_e([pf],vw,{memoizeOptions:{resultEqualityCheck:Sp}}),yw=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},bw=_e([gH,iw],yw),ww=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:Bt(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Bt(s,a)}))):e.map(a=>({value:a})),kp=_e([bw,br,pf],ww);function G3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jh(e){if(Hs(e)||e instanceof Date){var t=Number(e);if(er(t))return t}}function U4(e){if(Array.isArray(e)){var t=[jh(e[0]),jh(e[1])];return Po(t)?t:void 0}var r=jh(e);if(r!=null)return[r,r]}function Fi(e){return e.map(jh).filter(dR)}function vH(e,t,r){return!r||typeof t!="number"||ss(t)?[]:r.length?Fi(r.flatMap(a=>{var s=Bt(e,a.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!er(i)||!er(o)))return[t-i,t+o]})):[]}var nn=e=>{var t=rn(e),r=ad(e);return mf(e,t,r)},xf=_e([nn],e=>e?.dataKey),yH=_e([V3,iw,nn],U3),X3=(e,t,r,a)=>{var s={},i=t.reduce((o,c)=>{if(c.stackId==null)return o;var u=o[c.stackId];return u==null&&(u=[]),u.push(c),o[c.stackId]=u,o},s);return Object.fromEntries(Object.entries(i).map(o=>{var[c,u]=o,m=a?[...u].reverse():u,f=m.map(jp);return[c,{stackedData:L9(e,f,r),graphicalItems:m}]}))},u0=_e([yH,V3,uf,M3],X3),Y3=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(a==null&&r!=="zAxis"){var o=B9(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},bH=_e([br],e=>e.allowDataOverflow),jw=e=>{var t;if(e==null||!("domain"in e))return E1;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Fi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:E1},_w=_e([br],jw),Nw=_e([_w,bH],y3),wH=_e([u0,Ki,xr,Nw],Y3,{memoizeOptions:{resultEqualityCheck:Np}}),Ep=e=>e.errorBars,jH=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>G3(r,a)),f0=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},Sw=(e,t,r,a,s)=>{var i,o;if(r.length>0&&e.forEach(c=>{r.forEach(u=>{var m,f,h=(m=a[u.id])===null||m===void 0?void 0:m.filter(N=>G3(s,N)),g=Bt(c,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),x=vH(c,g,h);if(x.length>=2){var w=Math.min(...x),y=Math.max(...x);(i==null||w<i)&&(i=w),(o==null||y>o)&&(o=y)}var b=U4(g);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=U4(Bt(c,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),er(i)&&er(o))return[i,o]},_H=_e([bw,br,xH,Ep,xr],Sw,{memoizeOptions:{resultEqualityCheck:Np}});function NH(e){var{value:t}=e;if(Hs(t)||t instanceof Date)return t}var SH=(e,t,r)=>{var a=e.map(NH).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&fT(a))?RP(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},J3=e=>e.referenceElements.dots,sd=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),kH=_e([J3,xr,ff],sd),Z3=e=>e.referenceElements.areas,EH=_e([Z3,xr,ff],sd),Q3=e=>e.referenceElements.lines,AH=_e([Q3,xr,ff],sd),eO=(e,t)=>{if(e!=null){var r=Fi(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},CH=_e(kH,xr,eO),tO=(e,t)=>{if(e!=null){var r=Fi(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},TH=_e([EH,xr],tO);function PH(e){var t;if(e.x!=null)return Fi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:Fi(r)}function OH(e){var t;if(e.y!=null)return Fi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:Fi(r)}var rO=(e,t)=>{if(e!=null){var r=e.flatMap(a=>t==="xAxis"?PH(a):OH(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},IH=_e([AH,xr],rO),DH=_e(CH,IH,TH,(e,t,r)=>f0(e,r,t)),kw=(e,t,r,a,s,i,o,c)=>{if(r!=null)return r;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",m=u?f0(a,i,s):f0(i,s);return HW(t,m,e.allowDataOverflow)},MH=_e([br,_w,Nw,wH,_H,DH,Tt,xr],kw,{memoizeOptions:{resultEqualityCheck:Np}}),FH=[0,1],Ew=(e,t,r,a,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,m=Qs(t,i);if(m&&c==null){var f;return RP(0,(f=r?.length)!==null&&f!==void 0?f:0)}return u==="category"?SH(a,e,m):s==="expand"?FH:o}},Aw=_e([br,Tt,bw,kp,uf,xr,MH],Ew),nO=(e,t,r,a,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(Zu(i));return c in uu?c:"point"}}},id=_e([br,Tt,K3,cw,xr],nO);function LH(e){if(e!=null){if(e in uu)return uu[e]();var t="scale".concat(Zu(e));if(t in uu)return uu[t]()}}function Cw(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=LH(t);if(s!=null){var i=s.domain(r).range(a);return O9(i),i}}}var Tw=(e,t,r)=>{var a=jw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Po(e))return QW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Po(e))return eH(e,t.tickCount,t.allowDecimals)}},Pw=_e([Aw,mf,id],Tw),Ow=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Po(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(s,i),Math.max(o,c)]}return t},RH=_e([br,Aw,Pw,xr],Ow),$H=_e(kp,br,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Fi(e.map(h=>h.value))).sort((h,g)=>h-g),s=a[0],i=a[a.length-1];if(s==null||i==null)return 1/0;var o=i-s;if(o===0)return 1/0;for(var c=0;c<a.length-1;c++){var u=a[c],m=a[c+1];if(!(u==null||m==null)){var f=m-u;r=Math.min(r,f)}}return r/o}}),aO=_e($H,Tt,D3,en,(e,t,r,a,s)=>s,(e,t,r,a,s)=>{if(!er(e))return 0;var i=t==="vertical"?a.height:a.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=zn(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),zH=(e,t,r)=>{var a=Vi(e,t);return a==null||typeof a.padding!="string"?0:aO(e,"xAxis",t,r,a.padding)},BH=(e,t,r)=>{var a=qi(e,t);return a==null||typeof a.padding!="string"?0:aO(e,"yAxis",t,r,a.padding)},UH=_e(Vi,zH,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),WH=_e(qi,BH,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),HH=_e([en,UH,ip,sp,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:i}=a;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),KH=_e([en,Tt,WH,ip,sp,(e,t,r)=>r],(e,t,r,a,s,i)=>{var{padding:o}=s;return i?[a.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gf=(e,t,r,a)=>{var s;switch(t){case"xAxis":return HH(e,r,a);case"yAxis":return KH(e,r,a);case"zAxis":return(s=pw(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return $3(e);case"radiusAxis":return z3(e,r);default:return}},sO=_e([br,gf],bp),Ap=_e([br,id,RH,sO],Cw);_e([pf,Ep,xr],jH);function iO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cp=(e,t)=>t,Tp=(e,t,r)=>r,VH=_e(np,Cp,Tp,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(iO)),qH=_e(ap,Cp,Tp,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(iO)),oO=(e,t)=>({width:e.width,height:t.height}),GH=(e,t)=>{var r=typeof t.width=="number"?t.width:nf;return{width:r,height:e.height}},lO=_e(en,Vi,oO),XH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},YH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},JH=_e(Wi,en,VH,Cp,Tp,(e,t,r,a,s)=>{var i={},o;return r.forEach(c=>{var u=oO(t,c);o==null&&(o=XH(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;i[c.id]=o-Number(m)*u.height,o+=(m?-1:1)*u.height}),i}),ZH=_e(Ui,en,qH,Cp,Tp,(e,t,r,a,s)=>{var i={},o;return r.forEach(c=>{var u=GH(t,c);o==null&&(o=YH(t,a,e));var m=a==="left"&&!s||a==="right"&&s;i[c.id]=o-Number(m)*u.width,o+=(m?-1:1)*u.width}),i}),QH=(e,t)=>{var r=Vi(e,t);if(r!=null)return JH(e,r.orientation,r.mirror)},eK=_e([en,Vi,QH,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),tK=(e,t)=>{var r=qi(e,t);if(r!=null)return ZH(e,r.orientation,r.mirror)},rK=_e([en,qi,tK,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),cO=_e(en,qi,(e,t)=>{var r=typeof t.width=="number"?t.width:nf;return{width:r,height:e.height}}),W4=(e,t,r)=>{switch(t){case"xAxis":return lO(e,r).width;case"yAxis":return cO(e,r).height;default:return}},dO=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,c=Qs(e,a),u=t.map(m=>m.value);if(o&&c&&i==="category"&&s&&fT(u))return u}},Iw=_e([Tt,kp,br,xr],dO),uO=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Qs(e,a);if(o&&(s==="number"||i!=="auto"))return t.map(c=>c.value)}},Dw=_e([Tt,kp,mf,xr],uO),H4=_e([Tt,hH,id,Ap,Iw,Dw,gf,Pw,xr],(e,t,r,a,s,i,o,c,u)=>{if(t!=null){var m=Qs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:s,isCategorical:m,niceTicks:c,range:o,realScaleType:r,scale:a}}}),nK=(e,t,r,a,s,i,o,c,u)=>{if(!(t==null||a==null)){var m=Qs(e,u),{type:f,ticks:h,tickCount:g}=t,x=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=f==="category"&&a.bandwidth?a.bandwidth()/x:0;w=u==="angleAxis"&&i!=null&&i.length>=2?hn(i[0]-i[1])*2*w:w;var y=h||s;if(y){var b=y.map((N,_)=>{var k=o?o.indexOf(N):N;return{index:_,coordinate:a(k)+w,value:N,offset:w}});return b.filter(N=>er(N.coordinate))}return m&&c?c.map((N,_)=>({coordinate:a(N)+w,value:N,index:_,offset:w})).filter(N=>er(N.coordinate)):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+w,value:N,offset:w})):a.domain().map((N,_)=>({coordinate:a(N)+w,value:o?o[N]:N,index:_,offset:w}))}},fO=_e([Tt,mf,id,Ap,Pw,gf,Iw,Dw,xr],nK),aK=(e,t,r,a,s,i,o)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var c=Qs(e,o),{tickCount:u}=t,m=0;return m=o==="angleAxis"&&a?.length>=2?hn(a[0]-a[1])*2*m:m,c&&i?i.map((f,h)=>({coordinate:r(f)+m,value:f,index:h,offset:m})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+m,value:f,offset:m})):r.domain().map((f,h)=>({coordinate:r(f)+m,value:s?s[f]:f,index:h,offset:m}))}},qs=_e([Tt,mf,Ap,gf,Iw,Dw,xr],aK),Gs=_e(br,Ap,(e,t)=>{if(!(e==null||t==null))return d0(d0({},e),{},{scale:t})}),sK=_e([br,id,Aw,sO],Cw);_e((e,t,r)=>pw(e,r),sK,(e,t)=>{if(!(e==null||t==null))return d0(d0({},e),{},{scale:t})});var iK=_e([Tt,np,ap],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mO=e=>e.options.defaultTooltipEventType,hO=e=>e.options.validateTooltipEventTypes;function pO(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function Mw(e,t){var r=mO(e),a=hO(e);return pO(t,r,a)}function oK(e){return st(t=>Mw(t,e))}var xO=(e,t)=>{var r,a=Number(t);if(!(ss(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},lK=e=>e.tooltip.settings,_o={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cK={itemInteraction:{click:_o,hover:_o},axisInteraction:{click:_o,hover:_o},keyboardInteraction:_o,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gO=ba({name:"tooltip",initialState:cK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ns(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:mr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ns(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:dK,replaceTooltipEntrySettings:uK,removeTooltipEntrySettings:fK,setTooltipSettingsState:mK,setActiveMouseOverItemIndex:vO,mouseLeaveItem:hK,mouseLeaveChart:yO,setActiveClickItemIndex:pK,setMouseOverAxisIndex:bO,setMouseClickAxisIndex:xK,setSyncInteraction:A1,setKeyboardInteraction:C1}=gO.actions,gK=gO.reducer;function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(a){vK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vK(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jK(e){return e.index!=null}var wO=(e,t,r,a)=>{if(t==null)return _o;var s=wK(e,t,r);if(s==null)return _o;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(jK(s)){if(i)return Ym(Ym({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Ym(Ym({},_o),{},{coordinate:s.coordinate})};function _K(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function NK(e,t){var r=_K(e),a=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(a,s),o=Math.max(a,s);return r>=i&&r<=o}function SK(e,t,r){if(r==null||t==null)return!0;var a=Bt(e,t);return a==null||!Po(r)?!0:NK(a,r)}var Fw=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var i=Number(s);if(!er(i))return s;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(i,c)),m=t[u];return m==null||SK(m,r,a)?String(u):null},jO=(e,t,r,a,s,i,o,c)=>{if(!(i==null||c==null)){var u=o[0],m=u==null?void 0:c(u.positions,i);if(m!=null)return m;var f=s?.[Number(i)];if(f)return r==="horizontal"?{x:f.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:f.coordinate}}},_O=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;if(r==="hover"?s=e.itemInteraction.hover.graphicalItemId:s=e.itemInteraction.click.graphicalItemId,s==null&&a!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===s})},vf=e=>e.options.tooltipPayloadSearcher,od=e=>e.tooltip;function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(a){kK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CK(e,t){return e??t}var NO=(e,t,r,a,s,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:u,dataStartIndex:m,dataEndIndex:f}=r,h=[];return e.reduce((g,x)=>{var w,{dataDefinedOnItem:y,settings:b}=x,N=CK(y,c),_=Array.isArray(N)?iP(N,m,f):N,k=(w=b?.dataKey)!==null&&w!==void 0?w:a,A=b?.nameKey,T;if(a&&Array.isArray(_)&&!Array.isArray(_[0])&&o==="axis"?T=mT(_,a,s):T=i(_,t,u,A),Array.isArray(T))T.forEach(O=>{var D=q4(q4({},b),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});g.push(YS({tooltipEntrySettings:D,dataKey:O.dataKey,payload:O.payload,value:Bt(O.payload,O.dataKey),name:O.name}))});else{var I;g.push(YS({tooltipEntrySettings:b,dataKey:k,payload:T,value:Bt(T,k),name:(I=Bt(T,A))!==null&&I!==void 0?I:b?.name}))}return g},h)}},Lw=_e([nn,Tt,K3,cw,rn],nO),TK=_e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),PK=_e([rn,ad],xw),ld=_e([TK,nn,PK],gw,{memoizeOptions:{resultEqualityCheck:Sp}}),OK=_e([ld],e=>e.filter(_p)),IK=_e([ld],vw,{memoizeOptions:{resultEqualityCheck:Sp}}),cd=_e([IK,Ki],yw),DK=_e([OK,Ki,nn],U3),Rw=_e([cd,nn,ld],ww),SO=_e([nn],jw),MK=_e([nn],e=>e.allowDataOverflow),kO=_e([SO,MK],y3),FK=_e([ld],e=>e.filter(_p)),LK=_e([DK,FK,uf,M3],X3),RK=_e([LK,Ki,rn,kO],Y3),$K=_e([ld],q3),zK=_e([cd,nn,$K,Ep,rn],Sw,{memoizeOptions:{resultEqualityCheck:Np}}),BK=_e([J3,rn,ad],sd),UK=_e([BK,rn],eO),WK=_e([Z3,rn,ad],sd),HK=_e([WK,rn],tO),KK=_e([Q3,rn,ad],sd),VK=_e([KK,rn],rO),qK=_e([UK,VK,HK],f0),GK=_e([nn,SO,kO,RK,zK,qK,Tt,rn],kw),yf=_e([nn,Tt,cd,Rw,uf,rn,GK],Ew),XK=_e([yf,nn,Lw],Tw),YK=_e([nn,yf,XK,rn],Ow),EO=e=>{var t=rn(e),r=ad(e),a=!1;return gf(e,t,r,a)},AO=_e([nn,EO],bp),CO=_e([nn,Lw,YK,AO],Cw),JK=_e([Tt,Rw,nn,rn],dO),ZK=_e([Tt,Rw,nn,rn],uO),QK=(e,t,r,a,s,i,o,c)=>{if(t){var{type:u}=t,m=Qs(e,c);if(a){var f=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,h=u==="category"&&a.bandwidth?a.bandwidth()/f:0;return h=c==="angleAxis"&&s!=null&&s?.length>=2?hn(s[0]-s[1])*2*h:h,m&&o?o.map((g,x)=>({coordinate:a(g)+h,value:g,index:x,offset:h})):a.domain().map((g,x)=>({coordinate:a(g)+h,value:i?i[g]:g,index:x,offset:h}))}}},Gi=_e([Tt,nn,Lw,CO,EO,JK,ZK,rn],QK),$w=_e([mO,hO,lK],(e,t,r)=>pO(r.shared,e,t)),TO=e=>e.tooltip.settings.trigger,zw=e=>e.tooltip.settings.defaultIndex,bf=_e([od,$w,TO,zw],wO),Oo=_e([bf,cd,xf,yf],Fw),PO=_e([Gi,Oo],xO),Bw=_e([bf],e=>{if(e)return e.dataKey}),eV=_e([bf],e=>{if(e)return e.graphicalItemId}),OO=_e([od,$w,TO,zw],_O),tV=_e([Ui,Wi,Tt,en,Gi,zw,OO,vf],jO),rV=_e([bf,tV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nV=_e([bf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),aV=_e([OO,Oo,Ki,xf,PO,vf,$w],NO),sV=_e([aV],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function X4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(a){iV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iV(e,t,r){return(t=oV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cV=()=>st(nn),dV=()=>{var e=cV(),t=st(Gi),r=st(CO);return To(!e||!r?void 0:X4(X4({},e),{},{scale:r}),t)};function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(a){uV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uV(e,t,r){return(t=fV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hV=(e,t,r,a)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},pV=(e,t,r,a)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=a;return uc(uc(uc({},a),Ur(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var c=s.coordinate,{angle:u}=a;return uc(uc(uc({},a),Ur(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xV(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var IO=(e,t,r,a,s)=>{var i,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<o;c++){var u,m,f,h,g,x=c>0?(u=r[c-1])===null||u===void 0?void 0:u.coordinate:(m=r[o-1])===null||m===void 0?void 0:m.coordinate,w=(f=r[c])===null||f===void 0?void 0:f.coordinate,y=c>=o-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(g=r[c+1])===null||g===void 0?void 0:g.coordinate,b=void 0;if(!(x==null||w==null||y==null))if(hn(w-x)!==hn(y-w)){var N=[];if(hn(y-w)===hn(s[1]-s[0])){b=y;var _=w+s[1]-s[0];N[0]=Math.min(_,(_+x)/2),N[1]=Math.max(_,(_+x)/2)}else{b=x;var k=y+s[1]-s[0];N[0]=Math.min(w,(k+w)/2),N[1]=Math.max(w,(k+w)/2)}var A=[Math.min(w,(b+w)/2),Math.max(w,(b+w)/2)];if(e>A[0]&&e<=A[1]||e>=N[0]&&e<=N[1]){var T;return(T=r[c])===null||T===void 0?void 0:T.index}}else{var I=Math.min(x,y),O=Math.max(x,y);if(e>(I+w)/2&&e<=(O+w)/2){var D;return(D=r[c])===null||D===void 0?void 0:D.index}}}else if(t)for(var P=0;P<o;P++){var M=t[P];if(M!=null){var V=t[P+1],U=t[P-1];if(P===0&&V!=null&&e<=(M.coordinate+V.coordinate)/2||P===o-1&&U!=null&&e>(M.coordinate+U.coordinate)/2||P>0&&P<o-1&&U!=null&&V!=null&&e>(M.coordinate+U.coordinate)/2&&e<=(M.coordinate+V.coordinate)/2)return M.index}}return-1},DO=()=>st(cw),Uw=(e,t)=>t,MO=(e,t,r)=>r,Ww=(e,t,r,a)=>a,gV=_e(Gi,e=>q0(e,t=>t.coordinate)),Hw=_e([od,Uw,MO,Ww],wO),Kw=_e([Hw,cd,xf,yf],Fw),vV=(e,t,r)=>{if(t!=null){var a=od(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},FO=_e([od,Uw,MO,Ww],_O),m0=_e([Ui,Wi,Tt,en,Gi,Ww,FO,vf],jO),yV=_e([Hw,m0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),LO=_e([Gi,Kw],xO),bV=_e([FO,Kw,Ki,xf,LO,vf,Uw],NO),wV=_e([Hw,Kw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),jV=(e,t,r,a,s,i,o)=>{if(!(!e||!r||!a||!s)&&xV(e,o)){var c=U9(e,t),u=IO(c,i,s,r,a),m=hV(t,s,u,e);return{activeIndex:String(u),activeCoordinate:m}}},_V=(e,t,r,a,s,i,o)=>{if(!(!e||!a||!s||!i||!r)){var c=iB(e,r);if(c){var u=W9(c,t),m=IO(u,o,i,a,s),f=pV(t,i,m,c);return{activeIndex:String(m),activeCoordinate:f}}}},NV=(e,t,r,a,s,i,o,c)=>{if(!(!e||!t||!a||!s||!i))return t==="horizontal"||t==="vertical"?jV(e,t,a,s,i,o,c):_V(e,t,r,a,s,i,o)},SV=_e(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElement:a.element}}),kV=_e(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Mr)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:cH}});function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(a){EV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EV(e,t,r){return(t=AV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=CV(e,"string");return typeof t=="symbol"?t:t+""}function CV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TV={},PV={zIndexMap:Object.values(Mr).reduce((e,t)=>Z4(Z4({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),TV)},OV=new Set(Object.values(Mr));function IV(e){return OV.has(e)}var RO=ba({name:"zIndex",initialState:PV,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:mr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!IV(r)&&delete e.zIndexMap[r])},prepare:mr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElement=a:e.zIndexMap[r].element=a:e.zIndexMap[r]={consumers:0,element:s?void 0:a,panoramaElement:s?a:void 0}},prepare:mr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:mr()}}}),{registerZIndexPortal:DV,unregisterZIndexPortal:MV,registerZIndexPortalElement:FV,unregisterZIndexPortalElement:LV}=RO.actions,RV=RO.reducer;function aa(e){var{zIndex:t,children:r}=e,a=w$(),s=a&&t!==void 0&&t!==0,i=vn(),o=sr();v.useLayoutEffect(()=>s?(o(DV({zIndex:t})),()=>{o(MV({zIndex:t}))}):Qu,[o,t,s]);var c=st(u=>SV(u,t,i));return s?c?rb.createPortal(r,c):null:r}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},T1.apply(null,arguments)}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(a){$V(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $V(e,t,r){return(t=zV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UV(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return v.isValidElement(t)?v.cloneElement(t,a):v.createElement(r,a)}function WV(e){var t,{coordinate:r,payload:a,index:s,offset:i,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:m,chartName:f}=e,h=r,g=a,x=s;if(!u||!h||f!=="ScatterChart"&&m!=="axis")return null;var w,y,b;if(f==="ScatterChart")w=h,y=bz,b=Mr.cursorLine;else if(f==="BarChart")w=wz(c,h,i,o),y=IP,b=Mr.cursorRectangle;else if(c==="radial"&&pT(h)){var{cx:N,cy:_,radius:k,startAngle:A,endAngle:T}=MP(h);w={cx:N,cy:_,startAngle:A,endAngle:T,innerRadius:k,outerRadius:k},y=LP,b=Mr.cursorLine}else w={points:dB(c,h,i)},y=Cc,b=Mr.cursorLine;var I=typeof u=="object"&&"className"in u?u.className:void 0,O=Jm(Jm(Jm(Jm({stroke:"#ccc",pointerEvents:"none"},i),w),bl(u)),{},{payload:g,payloadIndex:x,className:Pt("recharts-tooltip-cursor",I)});return v.createElement(aa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},v.createElement(UV,{cursor:u,cursorComp:y,cursorProps:O}))}function HV(e){var t=dV(),r=gP(),a=Ro(),s=DO();return t==null||r==null||a==null||s==null?null:v.createElement(WV,T1({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var $O=v.createContext(null),KV=()=>v.useContext($O),ay={exports:{}},eE;function VV(){return eE||(eE=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(u,m,f){this.fn=u,this.context=m,this.once=f||!1}function i(u,m,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new s(f,h||u,g),w=r?r+m:m;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],x]:u._events[w].push(x):(u._events[w]=x,u._eventsCount++),u}function o(u,m){--u._eventsCount===0?u._events=new a:delete u._events[m]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],f,h;if(this._eventsCount===0)return m;for(h in f=this._events)t.call(f,h)&&m.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},c.prototype.listeners=function(m){var f=r?r+m:m,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,x=h.length,w=new Array(x);g<x;g++)w[g]=h[g].fn;return w},c.prototype.listenerCount=function(m){var f=r?r+m:m,h=this._events[f];return h?h.fn?1:h.length:0},c.prototype.emit=function(m,f,h,g,x,w){var y=r?r+m:m;if(!this._events[y])return!1;var b=this._events[y],N=arguments.length,_,k;if(b.fn){switch(b.once&&this.removeListener(m,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,g),!0;case 5:return b.fn.call(b.context,f,h,g,x),!0;case 6:return b.fn.call(b.context,f,h,g,x,w),!0}for(k=1,_=new Array(N-1);k<N;k++)_[k-1]=arguments[k];b.fn.apply(b.context,_)}else{var A=b.length,T;for(k=0;k<A;k++)switch(b[k].once&&this.removeListener(m,b[k].fn,void 0,!0),N){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,f);break;case 3:b[k].fn.call(b[k].context,f,h);break;case 4:b[k].fn.call(b[k].context,f,h,g);break;default:if(!_)for(T=1,_=new Array(N-1);T<N;T++)_[T-1]=arguments[T];b[k].fn.apply(b[k].context,_)}}return!0},c.prototype.on=function(m,f,h){return i(this,m,f,h,!1)},c.prototype.once=function(m,f,h){return i(this,m,f,h,!0)},c.prototype.removeListener=function(m,f,h,g){var x=r?r+m:m;if(!this._events[x])return this;if(!f)return o(this,x),this;var w=this._events[x];if(w.fn)w.fn===f&&(!g||w.once)&&(!h||w.context===h)&&o(this,x);else{for(var y=0,b=[],N=w.length;y<N;y++)(w[y].fn!==f||g&&!w[y].once||h&&w[y].context!==h)&&b.push(w[y]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},c.prototype.removeAllListeners=function(m){var f;return m?(f=r?r+m:m,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(ay)),ay.exports}var qV=VV();const GV=zi(qV);var Ru=new GV,P1="recharts.syncEvent.tooltip",tE="recharts.syncEvent.brush";function Pp(e,t){if(t){var r=Number.parseInt(t,10);if(!ss(r))return e?.[r]}}var XV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zO=ba({name:"options",initialState:XV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YV=zO.reducer,{createEventEmitter:JV}=zO.actions;function ZV(e){return e.tooltip.syncInteraction}var QV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BO=ba({name:"chartData",initialState:QV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:rE,setDataStartEndIndexes:eq,setComputedData:vue}=BO.actions,tq=BO.reducer,rq=["x","y"];function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(a){nq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iq(e,t){if(e==null)return{};var r,a,s=oq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oq(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function lq(){var e=st(dw),t=st(uw),r=sr(),a=st(F3),s=st(Gi),i=Ro(),o=op(),c=st(u=>u.rootProps.className);v.useEffect(()=>{if(e==null)return Qu;var u=(m,f,h)=>{if(t!==h&&e===m){if(a==="index"){var g;if(o&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var x=f.payload.coordinate,{x:w,y}=x,b=iq(x,rq),{x:N,y:_,width:k,height:A}=f.payload.sourceViewBox,T=fc(fc({},b),{},{x:o.x+(k?(w-N)/k:0)*o.width,y:o.y+(A?(y-_)/A:0)*o.height});r(fc(fc({},f),{},{payload:fc(fc({},f.payload),{},{coordinate:T})}))}else r(f);return}if(s!=null){var I;if(typeof a=="function"){var O={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},D=a(s,O);I=s[D]}else a==="value"&&(I=s.find(X=>String(X.value)===f.payload.label));var{coordinate:P}=f.payload;if(I==null||f.payload.active===!1||P==null||o==null){r(A1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:V}=P,U=Math.min(M,o.x+o.width),J=Math.min(V,o.y+o.height),W={x:i==="horizontal"?I.coordinate:U,y:i==="horizontal"?J:I.coordinate},he=A1({active:f.payload.active,coordinate:W,dataKey:f.payload.dataKey,index:String(I.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(he)}}};return Ru.on(P1,u),()=>{Ru.off(P1,u)}},[c,r,t,e,a,s,i,o])}function cq(){var e=st(dw),t=st(uw),r=sr();v.useEffect(()=>{if(e==null)return Qu;var a=(s,i,o)=>{t!==o&&e===s&&r(eq(i))};return Ru.on(tE,a),()=>{Ru.off(tE,a)}},[r,t,e])}function dq(){var e=sr();v.useEffect(()=>{e(JV())},[e]),lq(),cq()}function uq(e,t,r,a,s,i){var o=st(x=>vV(x,e,t)),c=st(uw),u=st(dw),m=st(F3),f=st(ZV),h=f?.active,g=op();v.useEffect(()=>{if(!h&&u!=null&&c!=null){var x=A1({active:i,coordinate:r,dataKey:o,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:g,graphicalItemId:void 0});Ru.emit(P1,u,x,c)}},[h,r,o,s,a,c,u,m,i,g])}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(a){fq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e){return e.dataKey}function xq(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(Q$,t)}var iE=[],gq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yi(e){var t,r,a=Ar(e,gq),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:c,content:u,filterNull:m,isAnimationActive:f,offset:h,payloadUniqBy:g,position:x,reverseDirection:w,useTranslate3d:y,wrapperStyle:b,cursor:N,shared:_,trigger:k,defaultIndex:A,portal:T,axisId:I}=a,O=sr(),D=typeof A=="number"?String(A):A;v.useEffect(()=>{O(mK({shared:_,trigger:k,axisId:I,active:s,defaultIndex:D}))},[O,_,k,I,s,D]);var P=op(),M=AP(),V=oK(_),{activeIndex:U,isActive:J}=(t=st(ye=>wV(ye,V,k,D)))!==null&&t!==void 0?t:{},W=st(ye=>bV(ye,V,k,D)),he=st(ye=>LO(ye,V,k,D)),X=st(ye=>yV(ye,V,k,D)),be=W,ne=KV(),ve=(r=s??J)!==null&&r!==void 0?r:!1,[me,ae]=TT([be,ve]),C=V==="axis"?he:void 0;uq(V,k,X,C,U,ve);var B=T??ne;if(B==null||P==null||V==null)return null;var H=be??iE;ve||(H=iE),m&&H.length&&(H=ST(H.filter(ye=>ye.value!=null&&(ye.hide!==!0||a.includeHidden)),g,pq));var K=H.length>0,te=v.createElement(iz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:c,isAnimationActive:f,active:ve,coordinate:X,hasPayload:K,offset:h,position:x,reverseDirection:w,useTranslate3d:y,viewBox:P,wrapperStyle:b,lastBoundingBox:me,innerRef:ae,hasPortalFromProps:!!T},xq(u,sE(sE({},a),{},{payload:H,label:C,active:ve,activeIndex:U,coordinate:X,accessibilityLayer:M})));return v.createElement(v.Fragment,null,rb.createPortal(te,B),ve&&v.createElement(HV,{cursor:N,tooltipEventType:V,coordinate:X,payload:H,index:U}))}var dd=e=>null;dd.displayName="Cell";function vq(e,t,r){return(t=yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=bq(e,"string");return typeof t=="symbol"?t:t+""}function bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wq{constructor(t){vq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(a){_q(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _q(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kq={cacheSize:2e3,enableCache:!0},UO=jq({},kq),lE=new wq(UO.cacheSize),Eq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cE="recharts_measurement_span";function Aq(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(c)}var dE=(e,t)=>{try{var r=document.getElementById(cE);r||(r=document.createElement("span"),r.setAttribute("id",cE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Eq,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},pu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sf.isSsr)return{width:0,height:0};if(!UO.enableCache)return dE(t,r);var a=Aq(t,r),s=lE.get(a);if(s)return s;var i=dE(t,r);return lE.set(a,i),i},WO;function Cq(e,t,r){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Iq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mq=["cm","mm","pt","pc","in","Q","px"];function Fq(e){return Mq.includes(e)}var Nc="NaN";function Lq(e,t){return e*Dq[t]}class Nn{static parse(t){var r,[,a,s]=(r=Iq.exec(t))!==null&&r!==void 0?r:[];return a==null?Nn.NaN:new Nn(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ss(t)&&(this.unit=""),r!==""&&!Oq.test(r)&&(this.num=NaN,this.unit=""),Fq(r)&&(this.num=Lq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ss(this.num)}}WO=Nn;Cq(Nn,"NaN",new WO(NaN,""));function HO(e){if(e==null||e.includes(Nc))return Nc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,i]=(r=uE.exec(t))!==null&&r!==void 0?r:[],o=Nn.parse(a??""),c=Nn.parse(i??""),u=s==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return Nc;t=t.replace(uE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,f,h,g]=(m=fE.exec(t))!==null&&m!==void 0?m:[],x=Nn.parse(f??""),w=Nn.parse(g??""),y=h==="+"?x.add(w):x.subtract(w);if(y.isNaN())return Nc;t=t.replace(fE,y.toString())}return t}var mE=/\(([^()]*)\)/;function Rq(e){for(var t=e,r;(r=mE.exec(t))!=null;){var[,a]=r;t=t.replace(mE,HO(a))}return t}function $q(e){var t=e.replace(/\s+/g,"");return t=Rq(t),t=HO(t),t}function zq(e){try{return $q(e)}catch{return Nc}}function sy(e){var t=zq(e.slice(5,-1));return t===Nc?"":t}var Bq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Uq=["dx","dy","angle","className","breakAll"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},O1.apply(null,arguments)}function hE(e,t){if(e==null)return{};var r,a,s=Wq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wq(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var KO=/[ \f\n\r\t\v\u2028\u2029]+/,VO=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];cr(t)||(r?s=t.toString().split(""):s=t.toString().split(KO));var i=s.map(c=>({word:c,width:pu(c,a).width})),o=r?0:pu("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function Hq(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var qO=(e,t,r,a)=>e.reduce((s,i)=>{var{word:o,width:c}=i,u=s[s.length-1];if(u&&c!=null&&(t==null||a||u.width+c+r<Number(t)))u.words.push(o),u.width+=c+r;else{var m={words:[o],width:c};s.push(m)}return s},[]),GO=e=>e.reduce((t,r)=>t.width>r.width?t:r),Kq="",pE=(e,t,r,a,s,i,o,c)=>{var u=e.slice(0,t),m=VO({breakAll:r,style:a,children:u+Kq});if(!m)return[!1,[]];var f=qO(m.wordsWithComputedWidth,i,o,c),h=f.length>s||GO(f).width>Number(i);return[h,f]},Vq=(e,t,r,a,s)=>{var{maxLines:i,children:o,style:c,breakAll:u}=e,m=Je(i),f=String(o),h=qO(t,a,r,s);if(!m||s)return h;var g=h.length>i||GO(h).width>Number(a);if(!g)return h;for(var x=0,w=f.length-1,y=0,b;x<=w&&y<=f.length-1;){var N=Math.floor((x+w)/2),_=N-1,[k,A]=pE(f,_,u,c,i,a,r,s),[T]=pE(f,N,u,c,i,a,r,s);if(!k&&!T&&(x=N+1),k&&T&&(w=N-1),!k&&T){b=A;break}y++}return b||h},xE=e=>{var t=cr(e)?[]:e.toString().split(KO);return[{words:t,width:void 0}]},qq=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!sf.isSsr){var c,u,m=VO({breakAll:i,children:a,style:s});if(m){var{wordsWithComputedWidth:f,spaceWidth:h}=m;c=f,u=h}else return xE(a);return Vq({breakAll:i,children:a,maxLines:o,style:s},c,u,t,!!r)}return xE(a)},XO="#808080",Gq={angle:0,breakAll:!1,capHeight:"0.71em",fill:XO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Op=v.forwardRef((e,t)=>{var r=Ar(e,Gq),{x:a,y:s,lineHeight:i,capHeight:o,fill:c,scaleToFit:u,textAnchor:m,verticalAnchor:f}=r,h=hE(r,Bq),g=v.useMemo(()=>qq({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:x,dy:w,angle:y,className:b,breakAll:N}=h,_=hE(h,Uq);if(!Hs(a)||!Hs(s)||g.length===0)return null;var k=Number(a)+(Je(x)?x:0),A=Number(s)+(Je(w)?w:0);if(!er(k)||!er(A))return null;var T;switch(f){case"start":T=sy("calc(".concat(o,")"));break;case"middle":T=sy("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:T=sy("calc(".concat(g.length-1," * -").concat(i,")"));break}var I=[];if(u){var O=g[0].width,{width:D}=h;I.push("scale(".concat(Je(D)&&Je(O)?D/O:1,")"))}return y&&I.push("rotate(".concat(y,", ").concat(k,", ").concat(A,")")),I.length&&(_.transform=I.join(" ")),v.createElement("text",O1({},Wn(_),{ref:t,x:k,y:A,className:Pt("recharts-text",b),textAnchor:m,fill:c.includes("url")?XO:c}),g.map((P,M)=>{var V=P.words.join(N?"":" ");return v.createElement("tspan",{x:k,dy:M===0?T:i,key:"".concat(V,"-").concat(M)},V)}))});Op.displayName="Text";var Xq=["labelRef"],Yq=["content"];function gE(e,t){if(e==null)return{};var r,a,s=Jq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Jq(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(a){Zq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=eG(e,"string");return typeof t=="symbol"?t:t+""}function eG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mi.apply(null,arguments)}var YO=v.createContext(null),tG=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:i,height:o,children:c}=e,u=v.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:i,height:o}),[t,r,a,s,i,o]);return v.createElement(YO.Provider,{value:u},c)},JO=()=>{var e=v.useContext(YO),t=op();return e||xP(t)},rG=v.createContext(null),nG=()=>{var e=v.useContext(rG),t=st(B3);return e||t},aG=e=>{var{value:t,formatter:r}=e,a=cr(e.children)?t:e.children;return typeof r=="function"?r(a):a},Vw=e=>e!=null&&typeof e=="function",sG=(e,t)=>{var r=hn(t-e),a=Math.min(Math.abs(t-e),360);return r*a},iG=(e,t,r,a,s)=>{var{offset:i,className:o}=e,{cx:c,cy:u,innerRadius:m,outerRadius:f,startAngle:h,endAngle:g,clockWise:x}=s,w=(m+f)/2,y=sG(h,g),b=y>=0?1:-1,N,_;switch(t){case"insideStart":N=h+b*i,_=x;break;case"insideEnd":N=g-b*i,_=!x;break;case"end":N=g+b*i,_=x;break;default:throw new Error("Unsupported position ".concat(t))}_=y<=0?_:!_;var k=Ur(c,u,w,N),A=Ur(c,u,w,N+(_?1:-1)*359),T="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),I=cr(e.id)?Su("recharts-radial-line-"):e.id;return v.createElement("text",mi({},a,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:I,d:T})),v.createElement("textPath",{xlinkHref:"#".concat(I)},r))},oG=(e,t,r)=>{var{cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}=e,m=(c+u)/2;if(r==="outside"){var{x:f,y:h}=Ur(a,s,o+t,m);return{x:f,y:h,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x,y:w}=Ur(a,s,g,m);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},I1=e=>"cx"in e&&Je(e.cx),lG=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,i;r!=null&&!I1(r)&&(i=r);var{x:o,y:c,upperWidth:u,lowerWidth:m,height:f}=t,h=o,g=o+(u-m)/2,x=(h+g)/2,w=(u+m)/2,y=h+u/2,b=f>=0?1:-1,N=b*a,_=b>0?"end":"start",k=b>0?"start":"end",A=u>=0?1:-1,T=A*a,I=A>0?"end":"start",O=A>0?"start":"end";if(s==="top"){var D={x:h+u/2,y:c-N,textAnchor:"middle",verticalAnchor:_};return Ir(Ir({},D),i?{height:Math.max(c-i.y,0),width:u}:{})}if(s==="bottom"){var P={x:g+m/2,y:c+f+N,textAnchor:"middle",verticalAnchor:k};return Ir(Ir({},P),i?{height:Math.max(i.y+i.height-(c+f),0),width:m}:{})}if(s==="left"){var M={x:x-T,y:c+f/2,textAnchor:I,verticalAnchor:"middle"};return Ir(Ir({},M),i?{width:Math.max(M.x-i.x,0),height:f}:{})}if(s==="right"){var V={x:x+w+T,y:c+f/2,textAnchor:O,verticalAnchor:"middle"};return Ir(Ir({},V),i?{width:Math.max(i.x+i.width-V.x,0),height:f}:{})}var U=i?{width:w,height:f}:{};return s==="insideLeft"?Ir({x:x+T,y:c+f/2,textAnchor:O,verticalAnchor:"middle"},U):s==="insideRight"?Ir({x:x+w-T,y:c+f/2,textAnchor:I,verticalAnchor:"middle"},U):s==="insideTop"?Ir({x:h+u/2,y:c+N,textAnchor:"middle",verticalAnchor:k},U):s==="insideBottom"?Ir({x:g+m/2,y:c+f-N,textAnchor:"middle",verticalAnchor:_},U):s==="insideTopLeft"?Ir({x:h+T,y:c+N,textAnchor:O,verticalAnchor:k},U):s==="insideTopRight"?Ir({x:h+u-T,y:c+N,textAnchor:I,verticalAnchor:k},U):s==="insideBottomLeft"?Ir({x:g+T,y:c+f-N,textAnchor:O,verticalAnchor:_},U):s==="insideBottomRight"?Ir({x:g+m-T,y:c+f-N,textAnchor:I,verticalAnchor:_},U):s&&typeof s=="object"&&(Je(s.x)||Pi(s.x))&&(Je(s.y)||Pi(s.y))?Ir({x:o+zn(s.x,w),y:c+zn(s.y,f),textAnchor:"end",verticalAnchor:"end"},U):Ir({x:y,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},U)},cG={angle:0,offset:5,zIndex:Mr.label,position:"middle",textBreakAll:!1};function jo(e){var t=Ar(e,cG),{viewBox:r,position:a,value:s,children:i,content:o,className:c="",textBreakAll:u,labelRef:m}=t,f=nG(),h=JO(),g=a==="center"?h:f??h,x,w,y;if(r==null?x=g:I1(r)?x=r:x=xP(r),!x||cr(s)&&cr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var b=Ir(Ir({},t),{},{viewBox:x});if(v.isValidElement(o)){var{labelRef:N}=b,_=gE(b,Xq);return v.cloneElement(o,_)}if(typeof o=="function"){var{content:k}=b,A=gE(b,Yq);if(w=v.createElement(o,A),v.isValidElement(w))return w}else w=aG(t);var T=Wn(t);if(I1(x)){if(a==="insideStart"||a==="insideEnd"||a==="end")return iG(t,a,w,T,x);y=oG(x,t.offset,t.position)}else y=lG(t,x);return v.createElement(aa,{zIndex:t.zIndex},v.createElement(Op,mi({ref:m,className:Pt("recharts-label",c)},T,y,{textAnchor:Hq(T.textAnchor)?T.textAnchor:y.textAnchor,breakAll:u}),w))}jo.displayName="Label";var dG=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?v.createElement(jo,mi({key:"label-implicit"},a)):Hs(e)?v.createElement(jo,mi({key:"label-implicit",value:e},a)):v.isValidElement(e)?e.type===jo?v.cloneElement(e,Ir({key:"label-implicit"},a)):v.createElement(jo,mi({key:"label-implicit",content:e},a)):Vw(e)?v.createElement(jo,mi({key:"label-implicit",content:e},a)):e&&typeof e=="object"?v.createElement(jo,mi({},e,{key:"label-implicit"},a)):null};function uG(e){var{label:t,labelRef:r}=e,a=JO();return dG(t,a,r)||null}var iy={},oy={},yE;function fG(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(oy)),oy}var ly={},bE;function mG(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ly)),ly}var wE;function hG(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fG(),r=mG(),a=_b();function s(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(iy)),iy}var cy,jE;function pG(){return jE||(jE=1,cy=hG().last),cy}var xG=pG();const gG=zi(xG);var vG=["valueAccessor"],yG=["dataKey","clockWise","id","textBreakAll","zIndex"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h0.apply(null,arguments)}function _E(e,t){if(e==null)return{};var r,a,s=bG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var wG=e=>Array.isArray(e.value)?gG(e.value):e.value,ZO=v.createContext(void 0),qw=ZO.Provider,QO=v.createContext(void 0),jG=QO.Provider;function _G(){return v.useContext(ZO)}function NG(){return v.useContext(QO)}function _h(e){var{valueAccessor:t=wG}=e,r=_E(e,vG),{dataKey:a,clockWise:s,id:i,textBreakAll:o,zIndex:c}=r,u=_E(r,yG),m=_G(),f=NG(),h=m||f;return!h||!h.length?null:v.createElement(aa,{zIndex:c??Mr.label},v.createElement(Er,{className:"recharts-label-list"},h.map((g,x)=>{var w,y=cr(a)?t(g,x):Bt(g&&g.payload,a),b=cr(i)?{}:{id:"".concat(i,"-").concat(x)};return v.createElement(jo,h0({key:"label-".concat(x)},Wn(g),u,b,{fill:(w=r.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:y,textBreakAll:o,viewBox:g.viewBox,index:x,zIndex:0}))})))}_h.displayName="LabelList";function Ip(e){var{label:t}=e;return t?t===!0?v.createElement(_h,{key:"labelList-implicit"}):v.isValidElement(t)||Vw(t)?v.createElement(_h,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(_h,h0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D1.apply(null,arguments)}var e5=e=>{var{cx:t,cy:r,r:a,className:s}=e,i=Pt("recharts-dot",s);return Je(t)&&Je(r)&&Je(a)?v.createElement("circle",D1({},ta(e),jb(e),{className:i,cx:t,cy:r,r:a})):null},t5=e=>e.graphicalItems.polarItems,SG=_e([xr,ff],xw),Dp=_e([t5,br,SG],gw),kG=_e([Dp],vw),Mp=_e([kG,yp],yw),EG=_e([Mp,br,Dp],ww);_e([Mp,br,Dp],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var i,o=Bt(a,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Bt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var NE=()=>{},AG=_e([Mp,br,Dp,Ep,xr],Sw),CG=_e([br,_w,Nw,NE,AG,NE,Tt,xr],kw),r5=_e([br,Tt,Mp,EG,uf,xr,CG],Ew),TG=_e([r5,br,id],Tw);_e([br,r5,TG,xr],Ow);var PG={radiusAxis:{},angleAxis:{}},n5=ba({name:"polarAxis",initialState:PG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yue,removeRadiusAxis:bue,addAngleAxis:wue,removeAngleAxis:jue}=n5.actions,OG=n5.reducer;function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(a){IG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=MG(e,"string");return typeof t=="symbol"?t:t+""}function MG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FG=(e,t)=>t,Gw=_e([t5,FG],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),LG=[],Xw=(e,t,r)=>r?.length===0?LG:r,a5=_e([yp,Gw,Xw],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(i=>kE(kE({},t.presentationProps),i.props))),s!=null)return s}}),RG=_e([a5,Gw,Xw],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var i,o=Bt(a,t.nameKey,t.name),c;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?c=a.fill:c=t.fill,{value:Lo(o,t.dataKey),color:c,payload:a,type:t.legendType}})}),$G=_e([a5,Gw,Xw,en],(e,t,r,a)=>{if(!(t==null||e==null))return BX({offset:a,pieSettings:t,displayedData:e,cells:r})}),dy={exports:{}},Gt={};var EE;function zG(){if(EE)return Gt;EE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case e:switch(y=y.type,y){case r:case s:case a:case u:case m:case g:return y;default:switch(y=y&&y.$$typeof,y){case o:case c:case h:case f:return y;case i:return y;default:return b}}case t:return b}}}return Gt.ContextConsumer=i,Gt.ContextProvider=o,Gt.Element=e,Gt.ForwardRef=c,Gt.Fragment=r,Gt.Lazy=h,Gt.Memo=f,Gt.Portal=t,Gt.Profiler=s,Gt.StrictMode=a,Gt.Suspense=u,Gt.SuspenseList=m,Gt.isContextConsumer=function(y){return w(y)===i},Gt.isContextProvider=function(y){return w(y)===o},Gt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Gt.isForwardRef=function(y){return w(y)===c},Gt.isFragment=function(y){return w(y)===r},Gt.isLazy=function(y){return w(y)===h},Gt.isMemo=function(y){return w(y)===f},Gt.isPortal=function(y){return w(y)===t},Gt.isProfiler=function(y){return w(y)===s},Gt.isStrictMode=function(y){return w(y)===a},Gt.isSuspense=function(y){return w(y)===u},Gt.isSuspenseList=function(y){return w(y)===m},Gt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===a||y===u||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===o||y.$$typeof===i||y.$$typeof===c||y.$$typeof===x||y.getModuleId!==void 0)},Gt.typeOf=w,Gt}var AE;function BG(){return AE||(AE=1,dy.exports=zG()),dy.exports}var UG=BG(),CE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",TE=null,uy=null,s5=e=>{if(e===TE&&Array.isArray(uy))return uy;var t=[];return v.Children.forEach(e,r=>{cr(r)||(UG.isFragment(r)?t=t.concat(s5(r.props.children)):t.push(r))}),uy=t,TE=e,t};function Yw(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>CE(s)):a=[CE(t)],s5(e).forEach(s=>{var i=jl(s,"type.displayName")||jl(s,"type.name");i&&a.indexOf(i)!==-1&&r.push(s)}),r}var Jw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,fy={},PE;function WG(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(fy)),fy}var my,OE;function HG(){return OE||(OE=1,my=WG().isPlainObject),my}var KG=HG();const VG=zi(KG);var IE,DE,ME,FE,LE;function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(a){qG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=XG(e,"string");return typeof t=="symbol"?t:t+""}function XG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p0.apply(null,arguments)}function iu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zE=(e,t,r,a,s)=>{var i=r-a,o;return o=_r(IE||(IE=iu(["M ",",",""])),e,t),o+=_r(DE||(DE=iu(["L ",",",""])),e+r,t),o+=_r(ME||(ME=iu(["L ",",",""])),e+r-i/2,t+s),o+=_r(FE||(FE=iu(["L ",",",""])),e+r-i/2-a,t+s),o+=_r(LE||(LE=iu(["L ",","," Z"])),e,t),o},YG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JG=e=>{var t=Ar(e,YG),{x:r,y:a,upperWidth:s,lowerWidth:i,height:o,className:c}=t,{animationEasing:u,animationDuration:m,animationBegin:f,isUpdateAnimationActive:h}=t,g=v.useRef(null),[x,w]=v.useState(-1),y=v.useRef(s),b=v.useRef(i),N=v.useRef(o),_=v.useRef(r),k=v.useRef(a),A=ed(e,"trapezoid-");if(v.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var W=g.current.getTotalLength();W&&w(W)}catch{}},[]),r!==+r||a!==+a||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var T=Pt("recharts-trapezoid",c);if(!h)return v.createElement("g",null,v.createElement("path",p0({},Wn(t),{className:T,d:zE(r,a,s,i,o)})));var I=y.current,O=b.current,D=N.current,P=_.current,M=k.current,V="0px ".concat(x===-1?1:x,"px"),U="".concat(x,"px 0px"),J=CP(["strokeDasharray"],m,u);return v.createElement(Qc,{animationId:A,key:A,canBegin:x>0,duration:m,easing:u,isActive:h,begin:f},W=>{var he=zt(I,s,W),X=zt(O,i,W),be=zt(D,o,W),ne=zt(P,r,W),ve=zt(M,a,W);g.current&&(y.current=he,b.current=X,N.current=be,_.current=ne,k.current=ve);var me=W>0?{transition:J,strokeDasharray:U}:{strokeDasharray:V};return v.createElement("path",p0({},Wn(t),{className:T,d:zE(ne,ve,he,X,be),ref:g,style:$E($E({},me),t.style)}))})},ZG=["option","shapeType","activeClassName"];function QG(e,t){if(e==null)return{};var r,a,s=eX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(a){tX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aX(e,t){return x0(x0({},t),e)}function sX(e,t){return e==="symbols"}function UE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(IP,r);case"trapezoid":return v.createElement(JG,r);case"sector":return v.createElement(LP,r);case"symbols":if(sX(t))return v.createElement(wb,r);break;case"curve":return v.createElement(Cc,r);default:return null}}function iX(e){return v.isValidElement(e)?e.props:e}function Zw(e){var{option:t,shapeType:r,activeClassName:a="recharts-active-shape"}=e,s=QG(e,ZG),i;if(v.isValidElement(t))i=v.cloneElement(t,x0(x0({},s),iX(t)));else if(typeof t=="function")i=t(s,s.index);else if(VG(t)&&typeof t!="boolean"){var o=aX(t,s);i=v.createElement(UE,{shapeType:r,elementProps:o})}else{var c=s;i=v.createElement(UE,{shapeType:r,elementProps:c})}return s.isActive?v.createElement(Er,{className:a},i):i}var Qw=(e,t,r)=>{var a=sr();return(s,i)=>o=>{e?.(s,i,o),a(vO({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},ej=e=>{var t=sr();return(r,a)=>s=>{e?.(r,a,s),t(hK())}},tj=(e,t,r)=>{var a=sr();return(s,i)=>o=>{e?.(s,i,o),a(pK({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function Fp(e){var{tooltipEntrySettings:t}=e,r=sr(),a=vn(),s=v.useRef(null);return v.useLayoutEffect(()=>{a||(s.current===null?r(dK(t)):s.current!==t&&r(uK({prev:s.current,next:t})),s.current=t)},[t,r,a]),v.useLayoutEffect(()=>()=>{s.current&&(r(fK(s.current)),s.current=null)},[r]),null}function rj(e){var{legendPayload:t}=e,r=sr(),a=vn(),s=v.useRef(null);return v.useLayoutEffect(()=>{a||(s.current===null?r(SP(t)):s.current!==t&&r(kP({prev:s.current,next:t})),s.current=t)},[r,a,t]),v.useLayoutEffect(()=>()=>{s.current&&(r(EP(s.current)),s.current=null)},[r]),null}function oX(e){var{legendPayload:t}=e,r=sr(),a=st(Tt),s=v.useRef(null);return v.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(SP(t)):s.current!==t&&r(kP({prev:s.current,next:t})),s.current=t)},[r,a,t]),v.useLayoutEffect(()=>()=>{s.current&&(r(EP(s.current)),s.current=null)},[r]),null}var hy,lX=()=>{var[e]=v.useState(()=>Su("uid-"));return e},cX=(hy=DM.useId)!==null&&hy!==void 0?hy:lX;function dX(e,t){var r=cX();return t||(e?"".concat(e,"-").concat(r):r)}var uX=v.createContext(void 0),Lp=e=>{var{id:t,type:r,children:a}=e,s=dX("recharts-".concat(r),t);return v.createElement(uX.Provider,{value:s},a(s))},fX={cartesianItems:[],polarItems:[]},i5=ba({name:"graphicalItems",initialState:fX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=Ns(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:mr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ns(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mr()},removePolarGraphicalItem:{reducer(e,t){var r=Ns(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mr()}}}),{addCartesianGraphicalItem:mX,replaceCartesianGraphicalItem:hX,removeCartesianGraphicalItem:pX,addPolarGraphicalItem:xX,removePolarGraphicalItem:gX}=i5.actions,vX=i5.reducer,yX=e=>{var t=sr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(mX(e)):r.current!==e&&t(hX({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(pX(r.current)),r.current=null)},[t]),null},nj=v.memo(yX);function bX(e){var t=sr();return v.useLayoutEffect(()=>(t(xX(e)),()=>{t(gX(e))}),[t,e]),null}var wX=["key"],jX=["onMouseEnter","onClick","onMouseLeave"],_X=["id"],NX=["id"];function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(a){SX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Io.apply(null,arguments)}function Rp(e,t){if(e==null)return{};var r,a,s=AX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function CX(e){var t=v.useMemo(()=>Yw(e.children,dd),[e.children]),r=st(a=>RG(a,e.id,t));return r==null?null:v.createElement(oX,{legendPayload:r})}var TX=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:i,fill:o,name:c,hide:u,tooltipType:m,id:f}=e,h={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Lo(c,t),hide:u,type:m,color:o,unit:"",graphicalItemId:f}};return v.createElement(Fp,{tooltipEntrySettings:h})}),PX=(e,t)=>e>t?"start":e<t?"end":"middle",OX=(e,t,r)=>zn(typeof t=="function"?t(e):t,r,r*.8),IX=(e,t,r)=>{var{top:a,left:s,width:i,height:o}=t,c=DP(i,o),u=s+zn(e.cx,i,i/2),m=a+zn(e.cy,o,o/2),f=zn(e.innerRadius,c,0),h=OX(r,e.outerRadius,c),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:m,innerRadius:f,outerRadius:h,maxRadius:g}},DX=(e,t)=>{var r=hn(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function MX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var FX=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Pt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=Rp(t,wX);return v.createElement(Cc,Io({},s,{type:"linear",className:r}))},LX=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),v.isValidElement(a)))return a;var s=Pt("recharts-pie-label-text",MX(e));return v.createElement(Op,Io({},t,{alignmentBaseline:"middle",className:s}),a)};function RX(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:i,dataKey:o}=r;if(!a||!s||!t)return null;var c=ta(r),u=bl(s),m=bl(i),f=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((g,x)=>{var w=(g.startAngle+g.endAngle)/2,y=Ur(g.cx,g.cy,g.outerRadius+f,w),b=Nr(Nr(Nr(Nr({},c),g),{},{stroke:"none"},u),{},{index:x,textAnchor:PX(y.x,g.cx)},y),N=Nr(Nr(Nr(Nr({},c),g),{},{fill:"none",stroke:g.fill},m),{},{index:x,points:[Ur(g.cx,g.cy,g.outerRadius,w),y],key:"line"});return v.createElement(aa,{zIndex:Mr.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},v.createElement(Er,null,i&&FX(i,N),LX(s,b,Bt(g,o))))});return v.createElement(Er,{className:"recharts-pie-labels"},h)}function $X(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?v.createElement(Ip,{label:s}):v.createElement(RX,{sectors:t,props:r,showLabels:a})}function zX(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:i,id:o}=e,c=st(Oo),u=st(Bw),m=st(eV),{onMouseEnter:f,onClick:h,onMouseLeave:g}=s,x=Rp(s,jX),w=Qw(f,s.dataKey,o),y=ej(g),b=tj(h,s.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((N,_)=>{if(N?.startAngle===0&&N?.endAngle===0&&t.length!==1)return null;var k=m==null||m===o,A=String(_)===c&&(u==null||s.dataKey===u)&&k,T=c?a:null,I=r&&A?r:T,O=Nr(Nr({},N),{},{stroke:N.stroke,tabIndex:-1,[uP]:_,[fP]:o});return v.createElement(Er,Io({key:"sector-".concat(N?.startAngle,"-").concat(N?.endAngle,"-").concat(N.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},ef(x,N,_),{onMouseEnter:w(N,_),onMouseLeave:y(N,_),onClick:b(N,_)}),v.createElement(Zw,Io({option:i??I,index:_,shapeType:"sector",isActive:A},O)))}))}function BX(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:u,dataKey:m,nameKey:f,tooltipType:h}=r,g=Math.abs(r.minAngle),x=DX(c,u),w=Math.abs(x),y=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(I=>Bt(I,m,0)!==0).length,N=(w>=360?b:b-1)*y,_=w-b*g-N,k=a.reduce((I,O)=>{var D=Bt(O,m,0);return I+(Je(D)?D:0)},0),A;if(k>0){var T;A=a.map((I,O)=>{var D=Bt(I,m,0),P=Bt(I,f,O),M=IX(r,i,I),V=(Je(D)?D:0)/k,U,J=Nr(Nr({},I),s&&s[O]&&s[O].props);O?U=T.endAngle+hn(x)*y*(D!==0?1:0):U=c;var W=U+hn(x)*((D!==0?g:0)+V*_),he=(U+W)/2,X=(M.innerRadius+M.outerRadius)/2,be=[{name:P,value:D,payload:J,dataKey:m,type:h,graphicalItemId:r.id}],ne=Ur(M.cx,M.cy,X,he);return T=Nr(Nr(Nr(Nr({},r.presentationProps),{},{percent:V,cornerRadius:typeof o=="string"?parseFloat(o):o,name:P,tooltipPayload:be,midAngle:he,middleRadius:X,tooltipPosition:ne},J),M),{},{value:D,dataKey:m,startAngle:U,endAngle:W,payload:J,paddingAngle:hn(x)*y}),T})}return A}function UX(e){var{showLabels:t,sectors:r,children:a}=e,s=v.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return v.createElement(jG,{value:t?s:void 0},a)}function WX(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=t,x=ed(t,"recharts-pie-"),w=r.current,[y,b]=v.useState(!1),N=v.useCallback(()=>{typeof g=="function"&&g(),b(!1)},[g]),_=v.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return v.createElement(UX,{showLabels:!y,sectors:s},v.createElement(Qc,{animationId:x,begin:o,duration:c,isActive:i,easing:u,onAnimationStart:_,onAnimationEnd:N,key:x},k=>{var A=[],T=s&&s[0],I=T?.startAngle;return s?.forEach((O,D)=>{var P=w&&w[D],M=D>0?jl(O,"paddingAngle",0):0;if(P){var V=zt(P.endAngle-P.startAngle,O.endAngle-O.startAngle,k),U=Nr(Nr({},O),{},{startAngle:I+M,endAngle:I+V+M});A.push(U),I=U.endAngle}else{var{endAngle:J,startAngle:W}=O,he=zt(0,J-W,k),X=Nr(Nr({},O),{},{startAngle:I+M,endAngle:I+he+M});A.push(X),I=X.endAngle}}),r.current=A,v.createElement(Er,null,v.createElement(zX,{sectors:A,activeShape:m,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:a}))}),v.createElement($X,{showLabels:!y,sectors:s,props:t}),t.children)}var HX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Mr.area};function KX(e){var{id:t}=e,r=Rp(e,_X),{hide:a,className:s,rootTabIndex:i}=e,o=v.useMemo(()=>Yw(e.children,dd),[e.children]),c=st(f=>$G(f,t,o)),u=v.useRef(null),m=Pt("recharts-pie",s);return a||c==null?(u.current=null,v.createElement(Er,{tabIndex:i,className:m})):v.createElement(aa,{zIndex:e.zIndex},v.createElement(TX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(Er,{tabIndex:i,className:m},v.createElement(WX,{props:Nr(Nr({},r),{},{sectors:c}),previousSectorsRef:u,id:t})))}function o5(e){var t=Ar(e,HX),{id:r}=t,a=Rp(t,NX),s=ta(a);return v.createElement(Lp,{id:r,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(bX,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),v.createElement(CX,Io({},a,{id:i})),v.createElement(KX,Io({},a,{id:i}))))}o5.displayName="Pie";var VX=["points"];function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(a){qX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qX(e,t,r){return(t=GX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g0.apply(null,arguments)}function YX(e,t){if(e==null)return{};var r,a,s=JX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function JX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ZX(e){var{option:t,dotProps:r,className:a}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Pt(a,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,c=YX(i,VX);return v.createElement(e5,g0({},c,{className:s}))}function QX(e,t){return e==null?!1:t?!0:e.length===1}function l5(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:i,baseProps:o,needClip:c,clipPathId:u,zIndex:m=Mr.scatter}=e;if(!QX(t,r))return null;var f=Jw(r),h=gL(r),g=t.map((w,y)=>{var b,N,_=py(py(py({r:3},o),h),{},{index:y,cx:(b=w.x)!==null&&b!==void 0?b:void 0,cy:(N=w.y)!==null&&N!==void 0?N:void 0,dataKey:i,value:w.value,payload:w.payload,points:t});return v.createElement(ZX,{key:"dot-".concat(y),option:r,dotProps:_,className:s})}),x={};return c&&u!=null&&(x.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),v.createElement(aa,{zIndex:m},v.createElement(Er,g0({className:a},x),g))}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function VE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(a){eY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eY(e,t,r){return(t=tY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c5=0,nY={xAxis:{},yAxis:{},zAxis:{}},d5=ba({name:"cartesianAxis",initialState:nY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mr()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:mr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mr()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:mr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mr()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:mr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mr()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==s.width&&Math.abs(a-i[0])<=1)return;var o=[...i,a].slice(-3);e.yAxis[r]=VE(VE({},e.yAxis[r]),{},{width:a,widthHistory:o})}}}}),{addXAxis:aY,replaceXAxis:sY,removeXAxis:iY,addYAxis:oY,replaceYAxis:lY,removeYAxis:cY,addZAxis:_ue,replaceZAxis:Nue,removeZAxis:Sue,updateYAxisWidth:dY}=d5.actions,uY=d5.reducer,fY=_e([en],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),mY=_e([fY,Ui,Wi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$p=()=>st(mY),hY=()=>st(sV);function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(a){pY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pY(e,t,r){return(t=xY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vY=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=xy(xy(xy({},c),bl(s)),jb(s)),m;return v.isValidElement(s)?m=v.cloneElement(s,u):typeof s=="function"?m=s(u):m=v.createElement(e5,u),v.createElement(Er,{className:"recharts-active-dot",clipPath:o},m)};function M1(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:i,zIndex:o=Mr.activeDot}=e,c=st(Oo),u=hY();if(t==null||u==null)return null;var m=t.find(f=>u.includes(f.payload));return cr(m)?null:v.createElement(aa,{zIndex:o},v.createElement(vY,{point:m,childIndex:Number(c),mainColor:r,dataKey:s,activeDot:a,clipPath:i}))}var GE=(e,t,r)=>{var a=r??e;if(!cr(a))return zn(a,t,0)},yY=(e,t,r)=>{var a={},s=e.filter(_p),i=e.filter(m=>m.stackId==null),o=s.reduce((m,f)=>(m[f.stackId]||(m[f.stackId]=[]),m[f.stackId].push(f),m),a),c=Object.entries(o).map(m=>{var[f,h]=m,g=h.map(w=>w.dataKey),x=GE(t,r,h[0].barSize);return{stackId:f,dataKeys:g,barSize:x}}),u=i.map(m=>{var f=[m.dataKey].filter(g=>g!=null),h=GE(t,r,m.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...c,...u]};function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(a){bY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Y(e,t,r,a,s){var i=a.length;if(!(i<1)){var o=zn(e,r,0,!0),c,u=[];if(er(a[0].barSize)){var m=!1,f=r/i,h=a.reduce((N,_)=>N+(_.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&f>0&&(m=!0,f*=.9,h=i*f);var g=(r-h)/2>>0,x={offset:g-o,size:0};c=a.reduce((N,_)=>{var k,A={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x.offset+x.size+o,size:m?f:(k=_.barSize)!==null&&k!==void 0?k:0}},T=[...N,A];return x=T[T.length-1].position,T},u)}else{var w=zn(t,r,0,!0);r-2*w-(i-1)*o<=0&&(o=0);var y=(r-2*w-(i-1)*o)/i;y>1&&(y>>=0);var b=er(s)?Math.min(y,s):y;c=a.reduce((N,_,k)=>[...N,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w+(y+o)*k+(y-b)/2,size:b}}],u)}return c}}var NY=(e,t,r,a,s,i,o)=>{var c=cr(o)?t:o,u=_Y(r,a,s!==i?s:i,e,c);return s!==i&&u!=null&&(u=u.map(m=>Zm(Zm({},m),{},{position:Zm(Zm({},m.position),{},{offset:m.position.offset-s/2})}))),u},SY=(e,t)=>{var r=jp(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}};function kY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&er(e.zIndex)?e.zIndex:t}var u5=e=>{var{chartData:t}=e,r=sr(),a=vn();return v.useEffect(()=>a?()=>{}:(r(rE(t)),()=>{r(rE(void 0))}),[t,r,a]),null},YE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},f5=ba({name:"brush",initialState:YE,reducers:{setBrushSettings(e,t){return t.payload==null?YE:t.payload}}}),{setBrushSettings:kue}=f5.actions,EY=f5.reducer;function AY(e,t,r){return(t=CY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aj{static create(t){return new aj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}AY(aj,"EPS",1e-4);function PY(e){return(e%180+180)%180}var OY=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=PY(s),o=i*Math.PI/180,c=Math.atan(a/r),u=o>c&&o<Math.PI-c?a/Math.sin(o):r/Math.cos(o);return Math.abs(u)},IY={dots:[],areas:[],lines:[]},m5=ba({name:"referenceElements",initialState:IY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ns(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ns(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ns(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Eue,removeDot:Aue,addArea:Cue,removeArea:Tue,addLine:Pue,removeLine:Oue}=m5.actions,DY=m5.reducer,MY=v.createContext(void 0),FY=e=>{var{children:t}=e,[r]=v.useState("".concat(Su("recharts"),"-clip")),a=$p();if(a==null)return null;var{x:s,y:i,width:o,height:c}=a;return v.createElement(MY.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:s,y:i,height:c,width:o}))),t)};function h5(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t){var s=e[a];s!==void 0&&r.push(s)}return r}function LY(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return OY(a,r)}function RY(e,t,r){var a=r==="width",{x:s,y:i,width:o,height:c}=e;return t===1?{start:a?s:i,end:a?s+o:i+c}:{start:a?s+o:i+c,end:a?s:i}}function $u(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function $Y(e,t){return h5(e,t+1)}function zY(e,t,r,a,s){for(var i=(a||[]).slice(),{start:o,end:c}=t,u=0,m=1,f=o,h=function(){var w=a?.[u];if(w===void 0)return{v:h5(a,m)};var y=u,b,N=()=>(b===void 0&&(b=r(w,y)),b),_=w.coordinate,k=u===0||$u(e,_,N,f,c);k||(u=0,f=o,m+=1),k&&(f=_+e*(N()/2+s),u+=m)},g;m<=i.length;)if(g=h(),g)return g.v;return[]}function BY(e,t,r,a,s){var i=(a||[]).slice(),o=i.length;if(o===0)return[];for(var{start:c,end:u}=t,m=1;m<=o;m++){for(var f=(o-1)%m,h=c,g=!0,x=function(){var _=a[w],k=w,A,T=()=>(A===void 0&&(A=r(_,k)),A),I=_.coordinate,O=w===f||$u(e,I,T,h,u);if(!O)return g=!1,1;O&&(h=I+e*(T()/2+s))},w=f;w<o&&!x();w+=m);if(g){for(var y=[],b=f;b<o;b+=m)y.push(a[b]);return y}}return[]}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(a){UY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KY(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,{start:c}=t,{end:u}=t,m=function(g){var x=i[g],w,y=()=>(w===void 0&&(w=r(x,g)),w);if(g===o-1){var b=e*(x.coordinate+e*y()/2-u);i[g]=x=Ln(Ln({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else i[g]=x=Ln(Ln({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var N=$u(e,x.tickCoord,y,c,u);N&&(u=x.tickCoord-e*(y()/2+s),i[g]=Ln(Ln({},x),{},{isShow:!0}))}},f=o-1;f>=0;f--)m(f);return i}function VY(e,t,r,a,s,i){var o=(a||[]).slice(),c=o.length,{start:u,end:m}=t;if(i){var f=a[c-1],h=r(f,c-1),g=e*(f.coordinate+e*h/2-m);if(o[c-1]=f=Ln(Ln({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate}),f.tickCoord!=null){var x=$u(e,f.tickCoord,()=>h,u,m);x&&(m=f.tickCoord-e*(h/2+s),o[c-1]=Ln(Ln({},f),{},{isShow:!0}))}}for(var w=i?c-1:c,y=function(_){var k=o[_],A,T=()=>(A===void 0&&(A=r(k,_)),A);if(_===0){var I=e*(k.coordinate-e*T()/2-u);o[_]=k=Ln(Ln({},k),{},{tickCoord:I<0?k.coordinate-I*e:k.coordinate})}else o[_]=k=Ln(Ln({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var O=$u(e,k.tickCoord,T,u,m);O&&(u=k.tickCoord+e*(T()/2+s),o[_]=Ln(Ln({},k),{},{isShow:!0}))}},b=0;b<w;b++)y(b);return o}function sj(e,t,r){var{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:c,interval:u,tickFormatter:m,unit:f,angle:h}=e;if(!s||!s.length||!a)return[];if(Je(u)||sf.isSsr){var g;return(g=$Y(s,Je(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",y=f&&w==="width"?pu(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(k,A)=>{var T=typeof m=="function"?m(k.value,A):k.value;return w==="width"?LY(pu(T,{fontSize:t,letterSpacing:r}),y,h):pu(T,{fontSize:t,letterSpacing:r})[w]},N=s.length>=2?hn(s[1].coordinate-s[0].coordinate):1,_=RY(i,N,w);return u==="equidistantPreserveStart"?zY(N,_,b,s,o):u==="equidistantPreserveEnd"?BY(N,_,b,s,o):(u==="preserveStart"||u==="preserveStartEnd"?x=VY(N,_,b,s,o,u==="preserveStartEnd"):x=KY(N,_,b,s,o),x.filter(k=>k.isShow))}var qY=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var c=r?r.getBoundingClientRect().width:0,u=s+i,m=o+u+c+(r?a:0);return Math.round(m)}return 0},GY=["axisLine","width","height","className","hide","ticks","axisType"];function XY(e,t){if(e==null)return{};var r,a,s=YY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},El.apply(null,arguments)}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(a){JY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JY(e,t,r){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mr.axis};function eJ(e){var{x:t,y:r,width:a,height:s,orientation:i,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var m=zr(zr(zr({},u),ta(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);m=zr(zr({},m),{},{x1:t,y1:r+f*s,x2:t+a,y2:r+f*s})}else{var h=+(i==="left"&&!o||i==="right"&&o);m=zr(zr({},m),{},{x1:t+h*a,y1:r,x2:t+h*a,y2:r+s})}return v.createElement("line",El({},m,{className:Pt("recharts-cartesian-axis-line",jl(c,"className"))}))}function tJ(e,t,r,a,s,i,o,c,u){var m,f,h,g,x,w,y=c?-1:1,b=e.tickSize||o,N=Je(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":m=f=e.coordinate,g=r+ +!c*s,h=g-y*b,w=h-y*u,x=N;break;case"left":h=g=e.coordinate,f=t+ +!c*a,m=f-y*b,x=m-y*u,w=N;break;case"right":h=g=e.coordinate,f=t+ +c*a,m=f+y*b,x=m+y*u,w=N;break;default:m=f=e.coordinate,g=r+ +c*s,h=g+y*b,w=h+y*u,x=N;break}return{line:{x1:m,y1:h,x2:f,y2:g},tick:{x,y:w}}}function rJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aJ(e){var{option:t,tickProps:r,value:a}=e,s,i=Pt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,zr(zr({},r),{},{className:i}));else if(typeof t=="function")s=t(zr(zr({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pt(o,t?.className)),s=v.createElement(Op,El({},r,{className:o}),a)}return s}var sJ=v.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:i,tickFormatter:o,unit:c,padding:u,tickTextProps:m,orientation:f,mirror:h,x:g,y:x,width:w,height:y,tickSize:b,tickMargin:N,fontSize:_,letterSpacing:k,getTicksConfig:A,events:T,axisType:I}=e,O=sj(zr(zr({},A),{},{ticks:r}),_,k),D=rJ(f,h),P=nJ(f,h),M=ta(A),V=bl(a),U={};typeof s=="object"&&(U=s);var J=zr(zr({},M),{},{fill:"none"},U),W=O.map(be=>zr({entry:be},tJ(be,g,x,w,y,f,b,h,N))),he=W.map(be=>{var{entry:ne,line:ve}=be;return v.createElement(Er,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},s&&v.createElement("line",El({},J,ve,{className:Pt("recharts-cartesian-axis-tick-line",jl(s,"className"))})))}),X=W.map((be,ne)=>{var{entry:ve,tick:me}=be,ae=zr(zr(zr(zr({textAnchor:D,verticalAnchor:P},M),{},{stroke:"none",fill:i},V),me),{},{index:ne,payload:ve,visibleTicksCount:O.length,tickFormatter:o,padding:u},m);return v.createElement(Er,El({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},ef(T,ve,ne)),a&&v.createElement(aJ,{option:a,tickProps:ae,value:"".concat(typeof o=="function"?o(ve.value,ne):ve.value).concat(c||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},X.length>0&&v.createElement(aa,{zIndex:Mr.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},X)),he.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},he))}),iJ=v.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:i,hide:o,ticks:c,axisType:u}=e,m=XY(e,GY),[f,h]=v.useState(""),[g,x]=v.useState(""),w=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return qY({ticks:w.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(b=>{if(b){var N=b.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=N;var _=N[0];if(_){var k=window.getComputedStyle(_),A=k.fontSize,T=k.letterSpacing;(A!==f||T!==g)&&(h(A),x(T))}}},[f,g]);return o||a!=null&&a<=0||s!=null&&s<=0?null:v.createElement(aa,{zIndex:e.zIndex},v.createElement(Er,{className:Pt("recharts-cartesian-axis",i)},v.createElement(eJ,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ta(e)}),v.createElement(sJ,{ref:y,axisType:u,events:m,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(tG,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(uG,{label:e.label,labelRef:e.labelRef}),e.children)))}),ij=v.forwardRef((e,t)=>{var r=Ar(e,bi);return v.createElement(iJ,El({},r,{ref:t}))});ij.displayName="CartesianAxis";var oJ=["x1","y1","x2","y2","key"],lJ=["offset"],cJ=["xAxisId","yAxisId"],dJ=["xAxisId","yAxisId"];function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(a){uJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hl.apply(null,arguments)}function v0(e,t){if(e==null)return{};var r,a,s=hJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var pJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:i,height:o,ry:c}=e;return v.createElement("rect",{x:a,y:s,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function p5(e){var{option:t,lineItemProps:r}=e,a;if(v.isValidElement(t))a=v.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:i,y1:o,x2:c,y2:u,key:m}=r,f=v0(r,oJ),h=(s=ta(f))!==null&&s!==void 0?s:{},{offset:g}=h,x=v0(h,lJ);a=v.createElement("line",hl({},x,{x1:i,y1:o,x2:c,y2:u,fill:"none",key:m}))}return a}function xJ(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,c=v0(e,cJ),u=s.map((m,f)=>{var h=Rn(Rn({},c),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(f),index:f});return v.createElement(p5,{key:"line-".concat(f),option:a,lineItemProps:h})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function gJ(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,c=v0(e,dJ),u=s.map((m,f)=>{var h=Rn(Rn({},c),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(f),index:f});return v.createElement(p5,{option:a,lineItemProps:h,key:"line-".concat(f)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function vJ(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:i,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var m=c.map(h=>Math.round(h+s-s)).sort((h,g)=>h-g);s!==m[0]&&m.unshift(0);var f=m.map((h,g)=>{var x=!m[g+1],w=x?s+o-h:m[g+1]-h;if(w<=0)return null;var y=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:h,x:a,height:w,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function yJ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:i,width:o,height:c,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var m=u.map(h=>Math.round(h+s-s)).sort((h,g)=>h-g);s!==m[0]&&m.unshift(0);var f=m.map((h,g)=>{var x=!m[g+1],w=x?s+o-h:m[g+1]-h;if(w<=0)return null;var y=g%r.length;return v.createElement("rect",{key:"react-".concat(g),x:h,y:i,width:w,height:c,stroke:"none",fill:r[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var bJ=(e,t)=>{var{xAxis:r,width:a,height:s,offset:i}=e;return oP(sj(Rn(Rn(Rn({},bi),r),{},{ticks:lP(r),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,t)},wJ=(e,t)=>{var{yAxis:r,width:a,height:s,offset:i}=e;return oP(sj(Rn(Rn(Rn({},bi),r),{},{ticks:lP(r),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,t)},jJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mr.grid};function wi(e){var t=Ib(),r=Db(),a=gP(),s=Rn(Rn({},Ar(e,jJ)),{},{x:Je(e.x)?e.x:a.left,y:Je(e.y)?e.y:a.top,width:Je(e.width)?e.width:a.width,height:Je(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:c,y:u,width:m,height:f,syncWithTicks:h,horizontalValues:g,verticalValues:x}=s,w=vn(),y=st(P=>H4(P,"xAxis",i,w)),b=st(P=>H4(P,"yAxis",o,w));if(!Ks(m)||!Ks(f)||!Je(c)||!Je(u))return null;var N=s.verticalCoordinatesGenerator||bJ,_=s.horizontalCoordinatesGenerator||wJ,{horizontalPoints:k,verticalPoints:A}=s;if((!k||!k.length)&&typeof _=="function"){var T=g&&g.length,I=_({yAxis:b?Rn(Rn({},b),{},{ticks:T?g:b.ticks}):void 0,width:t??m,height:r??f,offset:a},T?!0:h);Hh(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(k=I)}if((!A||!A.length)&&typeof N=="function"){var O=x&&x.length,D=N({xAxis:y?Rn(Rn({},y),{},{ticks:O?x:y.ticks}):void 0,width:t??m,height:r??f,offset:a},O?!0:h);Hh(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}return v.createElement(aa,{zIndex:s.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(pJ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(vJ,hl({},s,{horizontalPoints:k})),v.createElement(yJ,hl({},s,{verticalPoints:A})),v.createElement(xJ,hl({},s,{offset:a,horizontalPoints:k,xAxis:y,yAxis:b})),v.createElement(gJ,hl({},s,{offset:a,verticalPoints:A,xAxis:y,yAxis:b}))))}wi.displayName="CartesianGrid";var _J={},x5=ba({name:"errorBars",initialState:_J,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Iue,replaceErrorBar:Due,removeErrorBar:Mue}=x5.actions,NJ=x5.reducer,SJ=["children"];function kJ(e,t){if(e==null)return{};var r,a,s=EJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var AJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},CJ=v.createContext(AJ);function g5(e){var{children:t}=e,r=kJ(e,SJ);return v.createElement(CJ.Provider,{value:r},t)}function zp(e,t){var r,a,s=st(m=>Vi(m,e)),i=st(m=>qi(m,t)),o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:cn.allowDataOverflow,c=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:dn.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function oj(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=$p(),{needClipX:i,needClipY:o,needClip:c}=zp(t,r);if(!c||!s)return null;var{x:u,y:m,width:f,height:h}=s;return v.createElement("clipPath",{id:"clipPath-".concat(a)},v.createElement("rect",{x:i?u:u-f/2,y:o?m:m-h/2,width:i?f:f*2,height:o?h:h*2}))}var v5=(e,t,r,a)=>Gs(e,"xAxis",t,a),y5=(e,t,r,a)=>qs(e,"xAxis",t,a),b5=(e,t,r,a)=>Gs(e,"yAxis",r,a),w5=(e,t,r,a)=>qs(e,"yAxis",r,a),TJ=_e([Tt,v5,b5,y5,w5],(e,t,r,a,s)=>Qs(e,"xAxis")?To(t,a,!1):To(r,s,!1)),PJ=(e,t,r,a,s)=>s;function OJ(e){return e.type==="line"}var IJ=_e([hf,PJ],(e,t)=>e.filter(OJ).find(r=>r.id===t)),DJ=_e([Tt,v5,b5,y5,w5,IJ,TJ,iw],(e,t,r,a,s,i,o,c)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:f}=c;if(!(i==null||t==null||r==null||a==null||s==null||a.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u?.slice(m,f+1),x!=null)return bZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:h,bandSize:o,displayedData:x})}});function j5(e){var t=bl(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=a),{r:o,strokeWidth:c}}return{r,strokeWidth:a}}var gy={exports:{}},vy={};var eA;function MJ(){if(eA)return vy;eA=1;var e=Vc();function t(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return vy.useSyncExternalStoreWithSelector=function(u,m,f,h,g){var x=s(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=o(function(){function b(T){if(!N){if(N=!0,_=T,T=h(T),g!==void 0&&w.hasValue){var I=w.value;if(g(I,T))return k=I}return k=T}if(I=k,r(_,T))return I;var O=h(T);return g!==void 0&&g(I,O)?(_=T,I):(_=T,k=O)}var N=!1,_,k,A=f===void 0?null:f;return[function(){return b(m())},A===null?void 0:function(){return b(A())}]},[m,f,h,g]);var y=a(u,x[0],x[1]);return i(function(){w.hasValue=!0,w.value=y},[y]),c(y),y},vy}var tA;function FJ(){return tA||(tA=1,gy.exports=MJ()),gy.exports}FJ();function LJ(e){e()}function RJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){LJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var rA={notify(){},get:()=>[]};function $J(e,t){let r,a=rA,s=0,i=!1;function o(y){f();const b=a.subscribe(y);let N=!1;return()=>{N||(N=!0,b(),h())}}function c(){a.notify()}function u(){w.onStateChange&&w.onStateChange()}function m(){return i}function f(){s++,r||(r=e.subscribe(u),a=RJ())}function h(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=rA)}function g(){i||(i=!0,f())}function x(){i&&(i=!1,h())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:m,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>a};return w}var zJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BJ=zJ(),UJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WJ=UJ(),HJ=()=>BJ||WJ?v.useLayoutEffect:v.useEffect,KJ=HJ();function nA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function VJ(e,t){if(nA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!nA(e[r[s]],t[r[s]]))return!1;return!0}var qJ=Symbol.for("react-redux-context"),GJ=typeof globalThis<"u"?globalThis:{};function XJ(){if(!v.createContext)return{};const e=GJ[qJ]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var YJ=XJ();function JJ(e){const{children:t,context:r,serverState:a,store:s}=e,i=v.useMemo(()=>{const u=$J(s);return{store:s,subscription:u,getServerState:a?()=>a:void 0}},[s,a]),o=v.useMemo(()=>s.getState(),[s]);KJ(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const c=r||YJ;return v.createElement(c.Provider,{value:i},t)}var ZJ=JJ,QJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function eZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function wf(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(QJ.has(a)){if(e[a]==null&&t[a]==null)continue;if(!VJ(e[a],t[a]))return!1}else if(!eZ(e[a],t[a]))return!1;return!0}var tZ=["id"],rZ=["type","layout","connectNulls","needClip","shape"],nZ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zu.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(a){aZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lj(e,t){if(e==null)return{};var r,a,s=oZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var lZ=e=>{var{dataKey:t,name:r,stroke:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:Lo(r,t),payload:e}]},cZ=v.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,unit:u,tooltipType:m,id:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Lo(o,t),hide:c,type:m,color:a,unit:u,graphicalItemId:f}};return v.createElement(Fp,{tooltipEntrySettings:h})}),_5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function dZ(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...r];return a}var uZ=(e,t,r)=>{var a=r.reduce((h,g)=>h+g);if(!a)return _5(t,e);for(var s=Math.floor(e/a),i=e%a,o=t-e,c=[],u=0,m=0;u<r.length;m+=r[u],++u)if(m+r[u]>i){c=[...r.slice(0,u),i-m];break}var f=c.length%2===0?[0,o]:[o];return[...dZ(r,s),...c,...f].map(h=>"".concat(h,"px")).join(", ")};function fZ(e){var{clipPathId:t,points:r,props:a}=e,{dot:s,dataKey:i,needClip:o}=a,{id:c}=a,u=lj(a,tZ),m=ta(u);return v.createElement(l5,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:m,needClip:o,clipPathId:t})}function mZ(e){var{showLabels:t,children:r,points:a}=e,s=v.useMemo(()=>a?.map(i=>{var o,c,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Rs(Rs({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[a]);return v.createElement(qw,{value:t?s:void 0},r)}function sA(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:s,props:i}=e,{type:o,layout:c,connectNulls:u,needClip:m,shape:f}=i,h=lj(i,rZ),g=Rs(Rs({},Wn(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:a,type:o,layout:c,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return v.createElement(v.Fragment,null,a?.length>1&&v.createElement(Zw,zu({shapeType:"curve",option:f},g,{pathRef:r})),v.createElement(fZ,{points:a,clipPathId:t,props:i}))}function hZ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function pZ(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:u,animationBegin:m,animationDuration:f,animationEasing:h,animateNewValues:g,width:x,height:w,onAnimationEnd:y,onAnimationStart:b}=r,N=s.current,_=ed(o,"recharts-line-"),k=v.useRef(_),[A,T]=v.useState(!1),I=!A,O=v.useCallback(()=>{typeof y=="function"&&y(),T(!1)},[y]),D=v.useCallback(()=>{typeof b=="function"&&b(),T(!0)},[b]),P=hZ(a.current),M=v.useRef(0);k.current!==_&&(M.current=i.current,k.current=_);var V=M.current;return v.createElement(mZ,{points:o,showLabels:I},r.children,v.createElement(Qc,{animationId:_,begin:m,duration:f,isActive:u,easing:h,onAnimationEnd:O,onAnimationStart:D,key:_},U=>{var J=zt(V,P+V,U),W=Math.min(J,P),he;if(u)if(c){var X="".concat(c).split(/[,\s]+/gim).map(ve=>parseFloat(ve));he=uZ(W,P,X)}else he=_5(P,W);else he=c==null?void 0:String(c);if(U>0&&P>0&&(s.current=o,i.current=Math.max(i.current,W)),N){var be=N.length/o.length,ne=U===1?o:o.map((ve,me)=>{var ae=Math.floor(me*be);if(N[ae]){var C=N[ae];return Rs(Rs({},ve),{},{x:zt(C.x,ve.x,U),y:zt(C.y,ve.y,U)})}return g?Rs(Rs({},ve),{},{x:zt(x*2,ve.x,U),y:zt(w/2,ve.y,U)}):Rs(Rs({},ve),{},{x:ve.x,y:ve.y})});return s.current=ne,v.createElement(sA,{props:r,points:ne,clipPathId:t,pathRef:a,strokeDasharray:he})}return v.createElement(sA,{props:r,points:o,clipPathId:t,pathRef:a,strokeDasharray:he})}),v.createElement(Ip,{label:r.label}))}function xZ(e){var{clipPathId:t,props:r}=e,a=v.useRef(null),s=v.useRef(0),i=v.useRef(null);return v.createElement(pZ,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:i})}var gZ=(e,t)=>{var r,a;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:Bt(e.payload,t)}};class vZ extends v.Component{render(){var{hide:t,dot:r,points:a,className:s,xAxisId:i,yAxisId:o,top:c,left:u,width:m,height:f,id:h,needClip:g,zIndex:x}=this.props;if(t)return null;var w=Pt("recharts-line",s),y=h,{r:b,strokeWidth:N}=j5(r),_=Jw(r),k=b*2+N,A=g?"url(#clipPath-".concat(_?"":"dots-").concat(y,")"):void 0;return v.createElement(aa,{zIndex:x},v.createElement(Er,{className:w},g&&v.createElement("defs",null,v.createElement(oj,{clipPathId:y,xAxisId:i,yAxisId:o}),!_&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:u-k/2,y:c-k/2,width:m+k,height:f+k}))),v.createElement(g5,{xAxisId:i,yAxisId:o,data:a,dataPointFormatter:gZ,errorBarOffset:0},v.createElement(xZ,{props:this.props,clipPathId:y}))),v.createElement(M1,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:A}))}}var N5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Mr.line,type:"linear"};function yZ(e){var t=Ar(e,N5),{activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,hide:m,isAnimationActive:f,label:h,legendType:g,xAxisId:x,yAxisId:w,id:y}=t,b=lj(t,nZ),{needClip:N}=zp(x,w),_=$p(),k=Ro(),A=vn(),T=st(M=>DJ(M,x,w,A,y));if(k!=="horizontal"&&k!=="vertical"||T==null||_==null)return null;var{height:I,width:O,x:D,y:P}=_;return v.createElement(vZ,zu({},b,{id:y,connectNulls:c,dot:u,activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:m,label:h,legendType:g,xAxisId:x,yAxisId:w,points:T,layout:k,height:I,width:O,left:D,top:P,needClip:N}))}function bZ(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:u}=e;return u.map((m,f)=>{var h=Bt(m,o);if(t==="horizontal"){var g=Wh({axis:r,ticks:s,bandSize:c,entry:m,index:f}),x=cr(h)?null:a.scale(h);return{x:g,y:x,value:h,payload:m}}var w=cr(h)?null:r.scale(h),y=Wh({axis:a,ticks:i,bandSize:c,entry:m,index:f});return w==null||y==null?null:{x:w,y,value:h,payload:m}}).filter(Boolean)}function wZ(e){var t=Ar(e,N5),r=vn();return v.createElement(Lp,{id:t.id,type:"line"},a=>v.createElement(v.Fragment,null,v.createElement(rj,{legendPayload:lZ(t)}),v.createElement(cZ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),v.createElement(nj,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(yZ,zu({},t,{id:a}))))}var S5=v.memo(wZ,wf);S5.displayName="Line";function ei(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&r!==void 0?r:c5}function ti(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&r!==void 0?r:c5}var k5=(e,t,r)=>Gs(e,"xAxis",ei(e,t),r),E5=(e,t,r)=>qs(e,"xAxis",ei(e,t),r),A5=(e,t,r)=>Gs(e,"yAxis",ti(e,t),r),C5=(e,t,r)=>qs(e,"yAxis",ti(e,t),r),jZ=_e([Tt,k5,A5,E5,C5],(e,t,r,a,s)=>Qs(e,"xAxis")?To(t,a,!1):To(r,s,!1)),_Z=(e,t)=>t,T5=_e([hf,_Z],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),P5=e=>{var t=Tt(e),r=Qs(t,"xAxis");return r?"yAxis":"xAxis"},NZ=(e,t)=>{var r=P5(e);return r==="yAxis"?ti(e,t):ei(e,t)},SZ=(e,t,r)=>u0(e,P5(e),NZ(e,t),r),kZ=_e([T5,SZ],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:a}=e,s=jp(e);if(!(a==null||s==null)){var i=(r=t[a])===null||r===void 0?void 0:r.stackedData,o=i?.find(c=>c.key===s);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),EZ=_e([Tt,k5,A5,E5,C5,kZ,v3,jZ,T5,nH],(e,t,r,a,s,i,o,c,u,m)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||c==null)){var{data:x}=u,w;if(x&&x.length>0?w=x:w=f?.slice(h,g+1),w!=null)return VZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:h,areaSettings:u,stackedData:i,displayedData:w,chartBaseValue:m,bandSize:c})}}),AZ=["id"],CZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vl.apply(null,arguments)}function O5(e,t){if(e==null)return{};var r,a,s=TZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function TZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(a){PZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PZ(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y0(e,t){return e&&e!=="none"?e:t}var DZ=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:y0(a,s),value:Lo(r,t),payload:e}]},MZ=v.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,unit:u,tooltipType:m,id:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Lo(o,t),hide:c,type:m,color:y0(a,i),unit:u,graphicalItemId:f}};return v.createElement(Fp,{tooltipEntrySettings:h})});function FZ(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:i,dataKey:o}=a,c=ta(a);return v.createElement(l5,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:s,clipPathId:t})}function LZ(e){var{showLabels:t,children:r,points:a}=e,s=a.map(i=>{var o,c,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Sc(Sc({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return v.createElement(qw,{value:t?s:void 0},r)}function oA(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:o,type:c,stroke:u,connectNulls:m,isRange:f}=i,{id:h}=i,g=O5(i,AZ),x=ta(g),w=Wn(g);return v.createElement(v.Fragment,null,t?.length>1&&v.createElement(Er,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},v.createElement(Cc,vl({},w,{id:h,points:t,connectNulls:m,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(Cc,vl({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:m,fill:"none",points:t})),u!=="none"&&f&&v.createElement(Cc,vl({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:m,fill:"none",points:r}))),v.createElement(FZ,{points:t,props:g,clipPathId:s}))}function RZ(e){var t,r,{alpha:a,baseLine:s,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.y,u=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!er(c)||!er(u))return null;var m=a*Math.abs(c-u),f=Math.max(...i.map(h=>h.x||0));return Je(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.x||0),f)),Je(f)?v.createElement("rect",{x:0,y:c<u?c:c-m,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(m)}):null}function $Z(e){var t,r,{alpha:a,baseLine:s,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.x,u=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!er(c)||!er(u))return null;var m=a*Math.abs(c-u),f=Math.max(...i.map(h=>h.y||0));return Je(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.y||0),f)),Je(f)?v.createElement("rect",{x:c<u?c:c-m,y:0,width:m,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}function zZ(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return r==="vertical"?v.createElement(RZ,{alpha:t,points:a,baseLine:s,strokeWidth:i}):v.createElement($Z,{alpha:t,points:a,baseLine:s,strokeWidth:i})}function BZ(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:m,animationDuration:f,animationEasing:h,onAnimationStart:g,onAnimationEnd:x}=a,w=v.useMemo(()=>({points:o,baseLine:c}),[o,c]),y=ed(w,"recharts-area-"),b=b$(),[N,_]=v.useState(!1),k=!N,A=v.useCallback(()=>{typeof x=="function"&&x(),_(!1)},[x]),T=v.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);if(b==null)return null;var I=s.current,O=i.current;return v.createElement(LZ,{showLabels:k,points:o},a.children,v.createElement(Qc,{animationId:y,begin:m,duration:f,isActive:u,easing:h,onAnimationEnd:A,onAnimationStart:T,key:y},D=>{if(I){var P=I.length/o.length,M=D===1?o:o.map((U,J)=>{var W=Math.floor(J*P);if(I[W]){var he=I[W];return Sc(Sc({},U),{},{x:zt(he.x,U.x,D),y:zt(he.y,U.y,D)})}return U}),V;return Je(c)?V=zt(O,c,D):cr(c)||ss(c)?V=zt(O,0,D):V=c.map((U,J)=>{var W=Math.floor(J*P);if(Array.isArray(O)&&O[W]){var he=O[W];return Sc(Sc({},U),{},{x:zt(he.x,U.x,D),y:zt(he.y,U.y,D)})}return U}),D>0&&(s.current=M,i.current=V),v.createElement(oA,{points:M,baseLine:V,needClip:t,clipPathId:r,props:a})}return D>0&&(s.current=o,i.current=c),v.createElement(Er,null,u&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(zZ,{alpha:D,points:o,baseLine:c,layout:b,strokeWidth:a.strokeWidth}))),v.createElement(Er,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(oA,{points:o,baseLine:c,needClip:t,clipPathId:r,props:a})))}),v.createElement(Ip,{label:a.label}))}function UZ(e){var{needClip:t,clipPathId:r,props:a}=e,s=v.useRef(null),i=v.useRef();return v.createElement(BZ,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class WZ extends v.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:i,left:o,needClip:c,xAxisId:u,yAxisId:m,width:f,height:h,id:g,baseLine:x,zIndex:w}=this.props;if(t)return null;var y=Pt("recharts-area",s),b=g,{r:N,strokeWidth:_}=j5(r),k=Jw(r),A=N*2+_,T=c?"url(#clipPath-".concat(k?"":"dots-").concat(b,")"):void 0;return v.createElement(aa,{zIndex:w},v.createElement(Er,{className:y},c&&v.createElement("defs",null,v.createElement(oj,{clipPathId:b,xAxisId:u,yAxisId:m}),!k&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:o-A/2,y:i-A/2,width:f+A,height:h+A}))),v.createElement(UZ,{needClip:c,clipPathId:b,props:this.props})),v.createElement(M1,{points:a,mainColor:y0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}),this.props.isRange&&Array.isArray(x)&&v.createElement(M1,{points:x,mainColor:y0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}))}}var I5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Mr.area};function HZ(e){var t,r=Ar(e,I5),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,fill:m,fillOpacity:f,hide:h,isAnimationActive:g,legendType:x,stroke:w,xAxisId:y,yAxisId:b}=r,N=O5(r,CZ),_=Ro(),k=DO(),{needClip:A}=zp(y,b),T=vn(),{points:I,isRange:O,baseLine:D}=(t=st(W=>EZ(W,e.id,T)))!==null&&t!==void 0?t:{},P=$p();if(_!=="horizontal"&&_!=="vertical"||P==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:M,width:V,x:U,y:J}=P;return!I||!I.length?null:v.createElement(WZ,vl({},N,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:D,connectNulls:c,dot:u,fill:m,fillOpacity:f,height:M,hide:h,layout:_,isAnimationActive:g==="auto"?!sf.isSsr:g,isRange:O,legendType:x,needClip:A,points:I,stroke:w,width:V,left:U,top:J,xAxisId:y,yAxisId:b}))}var KZ=(e,t,r,a,s)=>{var i=r??t;if(Je(i))return i;var o=e==="horizontal"?s:a,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),m=Math.min(c[0],c[1]);return i==="dataMin"?m:i==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function VZ(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:m,dataStartIndex:f,xAxisTicks:h,yAxisTicks:g,bandSize:x}=e,w=s&&s.length,y=KZ(i,o,r,c,u),b=i==="horizontal",N=!1,_=m.map((A,T)=>{var I,O,D;if(w)D=s[f+T];else{var P=Bt(A,a);Array.isArray(P)?(D=P,N=!0):D=[y,P]}var M=(I=(O=D)===null||O===void 0?void 0:O[1])!==null&&I!==void 0?I:null,V=M==null||w&&!t&&Bt(A,a)==null;return b?{x:Wh({axis:c,ticks:h,bandSize:x,entry:A,index:T}),y:V?null:u.scale(M),value:D,payload:A}:{x:V?null:c.scale(M),y:Wh({axis:u,ticks:g,bandSize:x,entry:A,index:T}),value:D,payload:A}}),k;return w||N?k=_.map(A=>{var T=Array.isArray(A.value)?A.value[0]:null;return b?{x:A.x,y:T!=null&&A.y!=null?u.scale(T):null,payload:A.payload}:{x:T!=null?c.scale(T):null,y:A.y,payload:A.payload}}):k=b?u.scale(y):c.scale(y),{points:_,baseLine:k,isRange:N}}function qZ(e){var t=Ar(e,I5),r=vn();return v.createElement(Lp,{id:t.id,type:"area"},a=>v.createElement(v.Fragment,null,v.createElement(rj,{legendPayload:DZ(t)}),v.createElement(MZ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),v.createElement(nj,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:cP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),v.createElement(HZ,vl({},t,{id:a}))))}var xu=v.memo(qZ,wf);xu.displayName="Area";var GZ="Invariant failed";function XZ(e,t){throw new Error(GZ)}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F1.apply(null,arguments)}function b0(e){return v.createElement(Zw,F1({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var YZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Je(t))return t;var i=Je(a)||cr(a);return i?t(a,s):(i||XZ(),r)}},JZ=(e,t,r)=>r,ZZ=(e,t)=>t,jf=_e([hf,ZZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),QZ=_e([jf],e=>e?.maxBarSize),eQ=(e,t,r,a)=>a,tQ=_e([Tt,hf,ei,ti,JZ],(e,t,r,a,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),rQ=(e,t,r)=>{var a=Tt(e),s=ei(e,t),i=ti(e,t);if(!(s==null||i==null))return a==="horizontal"?u0(e,"yAxis",i,r):u0(e,"xAxis",s,r)},nQ=(e,t)=>{var r=Tt(e),a=ei(e,t),s=ti(e,t);if(!(a==null||s==null))return r==="horizontal"?W4(e,"xAxis",a):W4(e,"yAxis",s)},aQ=_e([tQ,rH,nQ],yY),sQ=(e,t,r)=>{var a,s,i=jf(e,t);if(i!=null){var o=ei(e,t),c=ti(e,t);if(!(o==null||c==null)){var u=Tt(e),m=I3(e),{maxBarSize:f}=i,h=cr(f)?m:f,g,x;return u==="horizontal"?(g=Gs(e,"xAxis",o,r),x=qs(e,"xAxis",o,r)):(g=Gs(e,"yAxis",c,r),x=qs(e,"yAxis",c,r)),(a=(s=To(g,x,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}}},D5=(e,t,r)=>{var a=Tt(e),s=ei(e,t),i=ti(e,t);if(!(s==null||i==null)){var o,c;return a==="horizontal"?(o=Gs(e,"xAxis",s,r),c=qs(e,"xAxis",s,r)):(o=Gs(e,"yAxis",i,r),c=qs(e,"yAxis",i,r)),To(o,c)}},iQ=_e([aQ,I3,tH,D3,sQ,D5,QZ],NY),oQ=(e,t,r)=>{var a=ei(e,t);if(a!=null)return Gs(e,"xAxis",a,r)},lQ=(e,t,r)=>{var a=ti(e,t);if(a!=null)return Gs(e,"yAxis",a,r)},cQ=(e,t,r)=>{var a=ei(e,t);if(a!=null)return qs(e,"xAxis",a,r)},dQ=(e,t,r)=>{var a=ti(e,t);if(a!=null)return qs(e,"yAxis",a,r)},uQ=_e([iQ,jf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),fQ=_e([rQ,jf],SY),mQ=_e([en,Pb,oQ,lQ,cQ,dQ,uQ,Tt,v3,D5,fQ,jf,eQ],(e,t,r,a,s,i,o,c,u,m,f,h,g)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:y}=u;if(!(h==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||a==null||s==null||i==null||m==null)){var{data:b}=h,N;if(b!=null&&b.length>0?N=b:N=x?.slice(w,y+1),N!=null)return UQ({layout:c,barSettings:h,pos:o,parentViewBox:t,bandSize:m,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,stackedData:f,displayedData:N,offset:e,cells:g,dataStartIndex:w})}}),hQ=["index"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},L1.apply(null,arguments)}function pQ(e,t){if(e==null)return{};var r,a,s=xQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var M5=v.createContext(void 0),gQ=e=>{var t=v.useContext(M5);if(t!=null)return t.stackId;if(e!=null)return cP(e)},vQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),yQ=e=>{var t=v.useContext(M5);if(t!=null){var{stackId:r}=t;return"url(#".concat(vQ(r,e),")")}},bQ=e=>{var{index:t}=e,r=pQ(e,hQ),a=yQ(t);return v.createElement(Er,L1({className:"recharts-bar-stack-layer",clipPath:a},r))},wQ=["onMouseEnter","onMouseLeave","onClick"],jQ=["value","background","tooltipPosition"],_Q=["id"],NQ=["onMouseEnter","onClick","onMouseLeave"];function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Li.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(a){SQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SQ(e,t,r){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(e,t){if(e==null)return{};var r,a,s=AQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var CQ=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:Lo(r,t),payload:e}]},TQ=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:i,hide:o,unit:c,tooltipType:u,id:m}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Lo(i,t),hide:o,type:u,color:s,unit:c,graphicalItemId:m}};return v.createElement(Fp,{tooltipEntrySettings:f})});function PQ(e){var t=st(Oo),{data:r,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:u}=i,m=w0(i,wQ),f=Qw(o,a,i.id),h=ej(c),g=tj(u,a,i.id);if(!s||r==null)return null;var x=bl(s);return v.createElement(aa,{zIndex:kY(s,Mr.barBackground)},r.map((w,y)=>{var{value:b,background:N,tooltipPosition:_}=w,k=w0(w,jQ);if(!N)return null;var A=f(w,y),T=h(w,y),I=g(w,y),O=Jn(Jn(Jn(Jn(Jn({option:s,isActive:String(y)===t},k),{},{fill:"#eee"},N),x),ef(m,w,y)),{},{onMouseEnter:A,onMouseLeave:T,onClick:I,dataKey:a,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(b0,Li({key:"background-bar-".concat(y)},O))}))}function OQ(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Jn(Jn({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return v.createElement(qw,{value:t?s:void 0},r)}function IQ(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:i,dataKey:o}=e,c=st(Oo),u=st(Bw),m=r&&String(i)===c&&(u==null||o===u),f=m?r:t;return m?v.createElement(aa,{zIndex:Mr.activeBar},v.createElement(b0,Li({},a,{name:String(a.name)},s,{isActive:m,option:f,index:i,dataKey:o}))):v.createElement(b0,Li({},a,{name:String(a.name)},s,{isActive:m,option:f,index:i,dataKey:o}))}function DQ(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:i}=e;return v.createElement(b0,Li({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:i}))}function MQ(e){var t,{data:r,props:a}=e,s=(t=ta(a))!==null&&t!==void 0?t:{},{id:i}=s,o=w0(s,_Q),{shape:c,dataKey:u,activeBar:m}=a,{onMouseEnter:f,onClick:h,onMouseLeave:g}=a,x=w0(a,NQ),w=Qw(f,u,i),y=ej(g),b=tj(h,u,i);return r?v.createElement(v.Fragment,null,r.map((N,_)=>v.createElement(bQ,Li({index:_,key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(_),className:"recharts-bar-rectangle"},ef(x,N,_),{onMouseEnter:w(N,_),onMouseLeave:y(N,_),onClick:b(N,_)}),m?v.createElement(IQ,{shape:c,activeBar:m,baseProps:o,entry:N,index:_,dataKey:u}):v.createElement(DQ,{shape:c,baseProps:o,entry:N,index:_,dataKey:u})))):null}function FQ(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:m,onAnimationStart:f}=t,h=r.current,g=ed(t,"recharts-bar-"),[x,w]=v.useState(!1),y=!x,b=v.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),N=v.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return v.createElement(OQ,{showLabels:y,rects:a},v.createElement(Qc,{animationId:g,begin:o,duration:c,isActive:i,easing:u,onAnimationEnd:b,onAnimationStart:N,key:g},_=>{var k=_===1?a:a?.map((A,T)=>{var I=h&&h[T];if(I)return Jn(Jn({},A),{},{x:zt(I.x,A.x,_),y:zt(I.y,A.y,_),width:zt(I.width,A.width,_),height:zt(I.height,A.height,_)});if(s==="horizontal"){var O=zt(0,A.height,_),D=zt(A.stackedBarStart,A.y,_);return Jn(Jn({},A),{},{y:D,height:O})}var P=zt(0,A.width,_),M=zt(A.stackedBarStart,A.x,_);return Jn(Jn({},A),{},{width:P,x:M})});return _>0&&(r.current=k??null),k==null?null:v.createElement(Er,null,v.createElement(MQ,{props:t,data:k}))}),v.createElement(Ip,{label:t.label}),t.children)}function LQ(e){var t=v.useRef(null);return v.createElement(FQ,{previousRectanglesRef:t,props:e})}var F5=0,RQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Bt(e,t)}};class $Q extends v.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:i,yAxisId:o,needClip:c,background:u,id:m}=this.props;if(t||r==null)return null;var f=Pt("recharts-bar",s),h=m;return v.createElement(Er,{className:f,id:m},c&&v.createElement("defs",null,v.createElement(oj,{clipPathId:h,xAxisId:i,yAxisId:o})),v.createElement(Er,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(h,")"):void 0},v.createElement(PQ,{data:r,dataKey:a,background:u,allOtherBarProps:this.props}),v.createElement(LQ,this.props)))}}var zQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:F5,xAxisId:0,yAxisId:0,zIndex:Mr.bar};function BQ(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:m,isAnimationActive:f}=e,{needClip:h}=zp(t,r),g=Ro(),x=vn(),w=Yw(e.children,dd),y=st(_=>mQ(_,e.id,x,w));if(g!=="vertical"&&g!=="horizontal")return null;var b,N=y?.[0];return N==null||N.height==null||N.width==null?b=0:b=g==="vertical"?N.height/2:N.width/2,v.createElement(g5,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:RQ,errorBarOffset:b},v.createElement($Q,Li({},e,{layout:g,needClip:h,data:y,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:m,isAnimationActive:f})))}function UQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:m,stackedData:f,displayedData:h,offset:g,cells:x,parentViewBox:w,dataStartIndex:y}=e,b=t==="horizontal"?c:o,N=f?b.scale.domain():null,_=R9({numericAxis:b}),k=b.scale(_);return h.map((A,T)=>{var I,O,D,P,M,V;if(f){var U=f[T+y];if(U==null)return null;I=I9(U,N)}else I=Bt(A,r),Array.isArray(I)||(I=[_,I]);var J=YZ(a,F5)(I[1],T);if(t==="horizontal"){var W,[he,X]=[c.scale(I[0]),c.scale(I[1])];O=qS({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:A,index:T}),D=(W=X??he)!==null&&W!==void 0?W:void 0,P=s.size;var be=he-X;if(M=ss(be)?0:be,V={x:O,y:g.top,width:P,height:g.height},Math.abs(J)>0&&Math.abs(M)<Math.abs(J)){var ne=hn(M||J)*(Math.abs(J)-Math.abs(M));D-=ne,M+=ne}}else{var[ve,me]=[o.scale(I[0]),o.scale(I[1])];if(O=ve,D=qS({axis:c,ticks:m,bandSize:i,offset:s.offset,entry:A,index:T}),P=me-ve,M=s.size,V={x:g.left,y:D,width:g.width,height:M},Math.abs(J)>0&&Math.abs(P)<Math.abs(J)){var ae=hn(P||J)*(Math.abs(J)-Math.abs(P));P+=ae}}if(O==null||D==null||P==null||M==null)return null;var C=Jn(Jn({},A),{},{stackedBarStart:k,x:O,y:D,width:P,height:M,value:f?I:I[1],payload:A,background:V,tooltipPosition:{x:O+P/2,y:D+M/2},parentViewBox:w},x&&x[T]&&x[T].props);return C}).filter(Boolean)}function WQ(e){var t=Ar(e,zQ),r=gQ(t.stackId),a=vn();return v.createElement(Lp,{id:t.id,type:"bar"},s=>v.createElement(v.Fragment,null,v.createElement(rj,{legendPayload:CQ(t)}),v.createElement(TQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:s}),v.createElement(nj,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),v.createElement(aa,{zIndex:t.zIndex},v.createElement(BQ,Li({},t,{id:s})))))}var Wc=v.memo(WQ,wf);Wc.displayName="Bar";var HQ=["domain","range"],KQ=["domain","range"];function cA(e,t){if(e==null)return{};var r,a,s=VQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function dA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function L5(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=cA(e,HQ),{domain:i,range:o}=t,c=cA(t,KQ);return!dA(r,i)||!dA(a,o)?!1:wf(s,c)}var qQ=["dangerouslySetInnerHTML","ticks","scale"],GQ=["id","scale"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R1.apply(null,arguments)}function uA(e,t){if(e==null)return{};var r,a,s=XQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function YQ(e){var t=sr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(aY(e)):r.current!==e&&t(sY({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(iY(r.current)),r.current=null)},[t]),null}var JQ=e=>{var{xAxisId:t,className:r}=e,a=st(Pb),s=vn(),i="xAxis",o=st(N=>fO(N,i,t,s)),c=st(N=>lO(N,t)),u=st(N=>eK(N,t)),m=st(N=>W3(N,t));if(c==null||u==null||m==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:g}=e,x=uA(e,qQ),{id:w,scale:y}=m,b=uA(m,GQ);return v.createElement(ij,R1({},x,b,{x:u.x,y:u.y,width:c.width,height:c.height,className:Pt("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:o,axisType:i}))},ZQ={allowDataOverflow:cn.allowDataOverflow,allowDecimals:cn.allowDecimals,allowDuplicatedCategory:cn.allowDuplicatedCategory,angle:cn.angle,axisLine:bi.axisLine,height:cn.height,hide:!1,includeHidden:cn.includeHidden,interval:cn.interval,minTickGap:cn.minTickGap,mirror:cn.mirror,orientation:cn.orientation,padding:cn.padding,reversed:cn.reversed,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,tickLine:bi.tickLine,tickSize:bi.tickSize,type:cn.type,xAxisId:0},QQ=e=>{var t=Ar(e,ZQ);return v.createElement(v.Fragment,null,v.createElement(YQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(JQ,t))},ji=v.memo(QQ,L5);ji.displayName="XAxis";var eee=["dangerouslySetInnerHTML","ticks","scale"],tee=["id","scale"];function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$1.apply(null,arguments)}function fA(e,t){if(e==null)return{};var r,a,s=ree(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ree(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nee(e){var t=sr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(oY(e)):r.current!==e&&t(lY({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(cY(r.current)),r.current=null)},[t]),null}var aee=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,i=v.useRef(null),o=v.useRef(null),c=st(Pb),u=vn(),m=sr(),f="yAxis",h=st(I=>cO(I,t)),g=st(I=>rK(I,t)),x=st(I=>fO(I,f,t,u)),w=st(I=>H3(I,t));if(v.useLayoutEffect(()=>{if(!(a!=="auto"||!h||Vw(s)||v.isValidElement(s)||w==null)){var I=i.current;if(I){var O=I.getCalculatedWidth();Math.round(h.width)!==Math.round(O)&&m(dY({id:t,width:O}))}}},[x,h,m,s,t,a,w]),h==null||g==null||w==null)return null;var{dangerouslySetInnerHTML:y,ticks:b,scale:N}=e,_=fA(e,eee),{id:k,scale:A}=w,T=fA(w,tee);return v.createElement(ij,$1({},_,T,{ref:i,labelRef:o,x:g.x,y:g.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:h.width,height:h.height,className:Pt("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:x,axisType:f}))},see={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,angle:dn.angle,axisLine:bi.axisLine,hide:!1,includeHidden:dn.includeHidden,interval:dn.interval,minTickGap:dn.minTickGap,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,tickLine:bi.tickLine,tickSize:bi.tickSize,type:dn.type,width:dn.width,yAxisId:0},iee=e=>{var t=Ar(e,see);return v.createElement(v.Fragment,null,v.createElement(nee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(aee,t))},_i=v.memo(iee,L5);_i.displayName="YAxis";var oee=(e,t)=>t,cj=_e([oee,Tt,B3,rn,AO,Gi,gV,en],NV),dj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},R5=is("mouseClick"),$5=rf();$5.startListening({actionCreator:R5,effect:(e,t)=>{var r=e.payload,a=cj(t.getState(),dj(r));a?.activeIndex!=null&&t.dispatch(xK({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var z1=is("mouseMove"),z5=rf(),Qm=null;z5.startListening({actionCreator:z1,effect:(e,t)=>{var r=e.payload;Qm!==null&&cancelAnimationFrame(Qm);var a=dj(r);Qm=requestAnimationFrame(()=>{var s=t.getState(),i=Mw(s,s.tooltip.settings.shared);if(i==="axis"){var o=cj(s,a);o?.activeIndex!=null?t.dispatch(bO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(yO())}Qm=null})}});function lee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var mA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},B5=ba({name:"rootProps",initialState:mA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:mA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cee=B5.reducer,{updateOptions:dee}=B5.actions,U5=ba({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:uee}=U5.actions,fee=U5.reducer,W5=is("keyDown"),H5=is("focus"),uj=rf();uj.startListening({actionCreator:W5,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Fw(s,cd(r),xf(r),yf(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Gi(r);if(i==="Enter"){var m=m0(r,"axis","hover",String(s.index));t.dispatch(C1({active:!s.active,activeIndex:s.index,activeCoordinate:m}));return}var f=iK(r),h=f==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,x=c+g*h;if(!(u==null||x>=u.length||x<0)){var w=m0(r,"axis","hover",String(x));t.dispatch(C1({active:!0,activeIndex:x.toString(),activeCoordinate:w}))}}}}}});uj.startListening({actionCreator:H5,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=m0(r,"axis","hover",String(i));t.dispatch(C1({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Qa=is("externalEvent"),K5=rf(),yy=new Map;K5.startListening({actionCreator:Qa,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,i=yy.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:rV(c),activeDataKey:Bw(c),activeIndex:Oo(c),activeLabel:PO(c),activeTooltipIndex:Oo(c),isTooltipActive:nV(c)};r(u,a)}finally{yy.delete(s)}});yy.set(s,o)}}});var mee=_e([od],e=>e.tooltipItemPayloads),hee=_e([mee,vf,(e,t)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(c=>c.settings.graphicalItemId===a);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),V5=is("touchMove"),q5=rf();q5.startListening({actionCreator:V5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=Mw(a,a.tooltip.settings.shared);if(s==="axis"){var i=r.touches[0];if(i==null)return;var o=cj(a,dj({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(bO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(uP),h=(c=m.getAttribute(fP))!==null&&c!==void 0?c:void 0,g=ld(a).find(y=>y.id===h);if(f==null||g==null||h==null)return;var{dataKey:x}=g,w=hee(a,f,h);t.dispatch(vO({activeDataKey:x,activeIndex:f,activeCoordinate:w,activeGraphicalItemId:h}))}}}});var pee=OT({brush:EY,cartesianAxis:uY,chartData:tq,errorBars:NJ,graphicalItems:vX,layout:E9,legend:M$,options:YV,polarAxis:OG,polarOptions:fee,referenceElements:DY,rootProps:cee,tooltip:gK,zIndex:RV}),xee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Z7({reducer:pee,preloadedState:t,middleware:a=>{var s;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([$5.middleware,z5.middleware,uj.middleware,K5.middleware,q5.middleware])},enhancers:a=>{var s=a;return typeof a=="function"&&(s=a()),s.concat(qT({type:"raf"}))},devTools:{serialize:{replacer:lee},name:"recharts-".concat(r)}})};function G5(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=vn(),i=v.useRef(null);if(s)return r;i.current==null&&(i.current=xee(t,a));var o=Nb;return v.createElement(ZJ,{context:o,store:i.current},r)}function gee(e){var{layout:t,margin:r}=e,a=sr(),s=vn();return v.useEffect(()=>{s||(a(N9(t)),a(_9(r)))},[a,s,t,r]),null}var X5=v.memo(gee,wf);function Y5(e){var t=sr();return v.useEffect(()=>{t(dee(e))},[t,e]),null}function hA(e){var{zIndex:t,isPanorama:r}=e,a=v.useRef(null),s=sr();return v.useLayoutEffect(()=>(a.current&&s(FV({zIndex:t,element:a.current,isPanorama:r})),()=>{s(LV({zIndex:t,isPanorama:r}))}),[s,t,r]),v.createElement("g",{tabIndex:-1,ref:a})}function pA(e){var{children:t,isPanorama:r}=e,a=st(kV);if(!a||a.length===0)return t;var s=a.filter(o=>o<0),i=a.filter(o=>o>0);return v.createElement(v.Fragment,null,s.map(o=>v.createElement(hA,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>v.createElement(hA,{key:o,zIndex:o,isPanorama:r})))}var vee=["children"];function yee(e,t){if(e==null)return{};var r,a,s=bee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j0.apply(null,arguments)}var wee={width:"100%",height:"100%",display:"block"},jee=v.forwardRef((e,t)=>{var r=Ib(),a=Db(),s=AP();if(!Ks(r)||!Ks(a))return null;var{children:i,otherAttributes:o,title:c,desc:u}=e,m,f;return o!=null&&(typeof o.tabIndex=="number"?m=o.tabIndex:m=s?0:void 0,typeof o.role=="string"?f=o.role:f=s?"application":void 0),v.createElement(hb,j0({},o,{title:c,desc:u,role:f,tabIndex:m,width:r,height:a,style:wee,ref:t}),i)}),_ee=e=>{var{children:t}=e,r=st(ip);if(!r)return null;var{width:a,height:s,y:i,x:o}=r;return v.createElement(hb,{width:a,height:s,x:o,y:i},t)},xA=v.forwardRef((e,t)=>{var{children:r}=e,a=yee(e,vee),s=vn();return s?v.createElement(_ee,null,v.createElement(pA,{isPanorama:!0},r)):v.createElement(jee,j0({ref:t},a),v.createElement(pA,{isPanorama:!1},r))});function Nee(){var e=sr(),[t,r]=v.useState(null),a=st(H9);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;er(i)&&i!==a&&e(k9(i))}},[t,e,a]),r}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function See(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(a){kee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kee(e,t,r){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Al.apply(null,arguments)}var Cee=()=>(dq(),null);function _0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Tee=v.forwardRef((e,t)=>{var r,a,s=v.useRef(null),[i,o]=v.useState({containerWidth:_0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_0((a=e.style)===null||a===void 0?void 0:a.height)}),c=v.useCallback((m,f)=>{o(h=>{var g=Math.round(m),x=Math.round(f);return h.containerWidth===g&&h.containerHeight===x?h:{containerWidth:g,containerHeight:x}})},[]),u=v.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=m.getBoundingClientRect();c(f,h);var g=w=>{var{width:y,height:b}=w[0].contentRect;c(y,b)},x=new ResizeObserver(g);x.observe(m),s.current=x}},[t,c]);return v.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[c]),v.createElement(v.Fragment,null,v.createElement(lp,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Al({ref:u},e)))}),Pee=v.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,i]=v.useState({containerWidth:_0(r),containerHeight:_0(a)}),o=v.useCallback((u,m)=>{i(f=>{var h=Math.round(u),g=Math.round(m);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),c=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:m,height:f}=u.getBoundingClientRect();o(m,f)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(lp,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",Al({ref:c},e)))}),Oee=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return v.createElement(v.Fragment,null,v.createElement(lp,{width:r,height:a}),v.createElement("div",Al({ref:t},e)))}),Iee=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return Pi(r)||Pi(a)?v.createElement(Pee,Al({},e,{ref:t})):v.createElement(Oee,Al({},e,{ref:t}))});function Dee(e){return e===!0?Tee:Iee}var Mee=v.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:m,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:x,onTouchMove:w,onTouchStart:y,style:b,width:N,responsive:_,dispatchTouchEvents:k=!0}=e,A=v.useRef(null),T=sr(),[I,O]=v.useState(null),[D,P]=v.useState(null),M=Nee(),V=Ob(),U=V?.width>0?V.width:N,J=V?.height>0?V.height:s,W=v.useCallback(L=>{M(L),typeof t=="function"&&t(L),O(L),P(L),L!=null&&(A.current=L)},[M,t,O,P]),he=v.useCallback(L=>{T(R5(L)),T(Qa({handler:i,reactEvent:L}))},[T,i]),X=v.useCallback(L=>{T(z1(L)),T(Qa({handler:m,reactEvent:L}))},[T,m]),be=v.useCallback(L=>{T(yO()),T(Qa({handler:f,reactEvent:L}))},[T,f]),ne=v.useCallback(L=>{T(z1(L)),T(Qa({handler:h,reactEvent:L}))},[T,h]),ve=v.useCallback(()=>{T(H5())},[T]),me=v.useCallback(L=>{T(W5(L.key))},[T]),ae=v.useCallback(L=>{T(Qa({handler:o,reactEvent:L}))},[T,o]),C=v.useCallback(L=>{T(Qa({handler:c,reactEvent:L}))},[T,c]),B=v.useCallback(L=>{T(Qa({handler:u,reactEvent:L}))},[T,u]),H=v.useCallback(L=>{T(Qa({handler:g,reactEvent:L}))},[T,g]),K=v.useCallback(L=>{T(Qa({handler:y,reactEvent:L}))},[T,y]),te=v.useCallback(L=>{k&&T(V5(L)),T(Qa({handler:w,reactEvent:L}))},[T,k,w]),ye=v.useCallback(L=>{T(Qa({handler:x,reactEvent:L}))},[T,x]),Se=Dee(_);return v.createElement($O.Provider,{value:I},v.createElement(GC.Provider,{value:D},v.createElement(Se,{width:U??b?.width,height:J??b?.height,className:Pt("recharts-wrapper",a),style:See({position:"relative",cursor:"default",width:U,height:J},b),onClick:he,onContextMenu:ae,onDoubleClick:C,onFocus:ve,onKeyDown:me,onMouseDown:B,onMouseEnter:X,onMouseLeave:be,onMouseMove:ne,onMouseUp:H,onTouchEnd:ye,onTouchMove:te,onTouchStart:K,ref:W},v.createElement(Cee,null),r)))}),Fee=["width","height","responsive","children","className","style","compact","title","desc"];function Lee(e,t){if(e==null)return{};var r,a,s=Ree(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ree(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var J5=v.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:i,className:o,style:c,compact:u,title:m,desc:f}=e,h=Lee(e,Fee),g=ta(h);return u?v.createElement(v.Fragment,null,v.createElement(lp,{width:r,height:a}),v.createElement(xA,{otherAttributes:g,title:m,desc:f},i)):v.createElement(Mee,{className:o,style:c,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(xA,{otherAttributes:g,title:m,desc:f,ref:t},v.createElement(FY,null,i)))});function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B1.apply(null,arguments)}var $ee={top:5,right:5,bottom:5,left:5},zee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:$ee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},fj=v.forwardRef(function(t,r){var a,s=Ar(t.categoricalChartProps,zee),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:m}=t,f={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return v.createElement(G5,{preloadedState:{options:f},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:i},v.createElement(u5,{chartData:m.data}),v.createElement(X5,{layout:s.layout,margin:s.margin}),v.createElement(Y5,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),v.createElement(J5,B1({},s,{ref:r})))}),Bee=["axis"],Uee=v.forwardRef((e,t)=>v.createElement(fj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bee,tooltipPayloadSearcher:Pp,categoricalChartProps:e,ref:t})),Wee=["axis","item"],Bu=v.forwardRef((e,t)=>v.createElement(fj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wee,tooltipPayloadSearcher:Pp,categoricalChartProps:e,ref:t}));function Hee(e){var t=sr();return v.useEffect(()=>{t(uee(e))},[t,e]),null}var Kee=["layout"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U1.apply(null,arguments)}function Vee(e,t){if(e==null)return{};var r,a,s=qee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Gee={top:5,right:5,bottom:5,left:5},Z5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xee=v.forwardRef(function(t,r){var a,s=Ar(t.categoricalChartProps,Z5),{layout:i}=s,o=Vee(s,Kee),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(G5,{preloadedState:{options:h},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:c},v.createElement(u5,{chartData:s.data}),v.createElement(X5,{layout:i,margin:s.margin}),v.createElement(Y5,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),v.createElement(Hee,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),v.createElement(J5,U1({},o,{ref:r})))});function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(a){Yee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yee(e,t,r){return(t=Jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=Zee(e,"string");return typeof t=="symbol"?t:t+""}function Zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=["item"],ete=yA(yA({},Z5),{},{layout:"centric",startAngle:0,endAngle:360}),tte=v.forwardRef((e,t)=>{var r=Ar(e,ete);return v.createElement(Xee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qee,tooltipPayloadSearcher:Pp,categoricalChartProps:r,ref:t})}),rte=["axis"],Q5=v.forwardRef((e,t)=>v.createElement(fj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rte,tooltipPayloadSearcher:Pp,categoricalChartProps:e,ref:t}));const nte=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=HC(e,t);if(a)return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((c,u)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),n.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"})]},u))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((c,u)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-100",children:[n.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},u))})]})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load growth activity"});const i=[{name:"Revenue Growth",value:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth.toFixed(1)}%`,icon:hu,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Booking Growth",value:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth.toFixed(1)}%`,icon:Fr,color:"blue",gradient:"from-blue-400 to-cyan-500"},{name:"User Growth",value:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth.toFixed(1)}%`,icon:hu,color:"purple",gradient:"from-purple-400 to-indigo-500"}],o=[{type:"New Bookings",count:r.recent_activity.new_bookings,color:"blue",icon:Fr,gradient:"from-blue-400 to-cyan-500"},{type:"Completed Bookings",count:r.recent_activity.completed_bookings,color:"emerald",icon:Fr,gradient:"from-emerald-400 to-teal-500"},{type:"New Disputes",count:r.recent_activity.new_disputes,color:"red",icon:Ol,gradient:"from-red-400 to-rose-500"},{type:"Payments Received",count:r.recent_activity.payments_received,color:"green",icon:Ai,gradient:"from-green-400 to-emerald-500"}];return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full mr-3"}),"Growth Overview"]}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(c=>{const u=c.icon;return n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${c.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(u,{className:"w-8 h-8 text-white"})}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:c.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.name})]},c.name)})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded-full mr-3"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-4",children:o.map(c=>{const u=c.icon;return n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/60 backdrop-blur-sm hover:bg-white/80 transition-all duration-200 border border-white/30 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${c.gradient} shadow-md`,children:n.jsx(u,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"font-semibold text-gray-900",children:c.type})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:c.count}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Today"})]})]},c.type)})})]}),n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30 col-span-1 lg:col-span-2",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(hu,{className:"w-5 h-5 mr-2 text-blue-600"}),"Growth Rates Comparison"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Bu,{data:[{name:"Revenue Growth",value:r.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:r.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:r.growth_rates.user_growth,color:"#8b5cf6"}],children:[n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Growth %",angle:-90,position:"insideLeft"},tickFormatter:c=>`${c>0?"+":""}${c}%`}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:c=>[`${c>0?"+":""}${c.toFixed(1)}%`,"Growth"]}),n.jsx(Wc,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Revenue Growth",value:r.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:r.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:r.growth_rates.user_growth,color:"#8b5cf6"}].map((c,u)=>n.jsx(dd,{fill:c.color},`cell-${u}`))})]})})]})]})},ate=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=aL(e,t);if(a)return n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:n.jsx("div",{className:"space-y-4",children:[...Array(6)].map((m,f)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-8 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"flex-1 h-6 bg-gray-200 rounded-full"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},f))})})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load revenue insights"});const i=r.trend||[],o=r.payment_methods||[],c=r.category_revenue||[],u=r.top_providers||[];return i.length>0&&Math.max(...i.map(m=>m.total_revenue||0)),i.reduce((m,f)=>m+(f.total_revenue||0),0),o.length>0&&Math.max(...o.map(m=>m.total_amount||0)),c.length>0&&Math.max(...c.map(m=>m.total_revenue||0)),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full mr-3"}),"Revenue Insights"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(hu,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Revenue Over Time"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Uee,{data:i,children:[n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"period",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:m=>`${(m/1e3).toFixed(0)}k`}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:m=>[`${m.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(fp,{}),n.jsx(S5,{type:"monotone",dataKey:"total_revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Revenue"})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Ai,{className:"w-5 h-5 mr-2 text-primary"}),"Payment Methods Distribution"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(tte,{children:[n.jsx(o5,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({method:m,percent:f})=>`${m}: ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:o.map((m,f)=>{const h=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return n.jsx(dd,{fill:h[f%h.length]},`cell-${f}`)})}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:m=>[`${m.toLocaleString("en-IN")}`,"Amount"]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(U8,{className:"w-5 h-5 mr-2 text-purple-600"}),"Revenue by Category"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(Bu,{data:c,children:[n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"category",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"},tickFormatter:m=>`${(m/1e3).toFixed(0)}k`}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:m=>[`${m.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(Wc,{dataKey:"total_revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Ti,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top Earning Providers"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((m,f)=>n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-xl border border-white/30 hover:bg-white/80 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:m.name.split(" ").map(h=>h[0]).join("")}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:m.name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:m.business_name})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",m.total_earnings.toLocaleString("en-IN")]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[n.jsx(Ti,{className:"w-4 h-4 text-yellow-500 fill-current"}),n.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:[m.booking_count," bookings"]})]})]})]},m.name))})]})]})},ste=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=iL(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((h,g)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},g))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load user analytics"});const i=r.activity_metrics||{};r.engagement_metrics;const o=i.total_users||0,c=i.active_users_30d||0,u=i.verified_users||0,m=i.users_with_bookings||0,f=[{name:"Total Users",value:o.toLocaleString(),change:`${u} verified`,changeType:"positive",icon:Ws,gradient:"from-blue-400 to-cyan-500"},{name:"Active Users (30d)",value:c.toLocaleString(),change:"Last 30 days",changeType:"positive",icon:kh,gradient:"from-green-400 to-emerald-500"},{name:"Users with Bookings",value:m.toLocaleString(),change:`${o>0?Math.round(m/o*100):0}% of total`,changeType:"positive",icon:WC,gradient:"from-purple-400 to-indigo-500"},{name:"Verified Users",value:u.toLocaleString(),change:`${o>0?Math.round(u/o*100):0}% verified`,changeType:"positive",icon:Y8,gradient:"from-red-400 to-rose-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(h=>{const g=h.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:n.jsx(g,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),n.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:h.change})]},h.name)})}),r.registration_trend&&r.registration_trend.length>0&&n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(kh,{className:"w-5 h-5 mr-2 text-blue-600"}),"User Registration Trends"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Q5,{data:r.registration_trend,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRegistrations",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(fp,{}),n.jsx(xu,{type:"monotone",dataKey:"new_users",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRegistrations)",name:"New Users"})]})})]}),r.geographic_distribution&&r.geographic_distribution.length>0&&n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Ws,{className:"w-5 h-5 mr-2 text-purple-600"}),"User Geographic Distribution"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Bu,{data:r.geographic_distribution,children:[n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"city",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:100}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Wc,{dataKey:"user_count",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})},ite=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=lL(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,g)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},g))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load booking analytics"});const i=r.booking_trend&&r.booking_trend.length>0?r.booking_trend[r.booking_trend.length-1]:null,o=r.booking_trend?r.booking_trend.reduce((h,g)=>h+g.total_bookings,0):0,c=r.booking_trend?r.booking_trend.reduce((h,g)=>h+g.completed_bookings,0):0,u=r.booking_trend?r.booking_trend.reduce((h,g)=>h+g.cancelled_bookings,0):0,m=r.booking_trend&&r.booking_trend.length>0?r.booking_trend.reduce((h,g)=>h+g.completion_rate,0)/r.booking_trend.length:0,f=[{name:"Total Bookings",value:o.toLocaleString(),change:`${i?.total_bookings||0} today`,changeType:"positive",icon:Fr,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:c.toLocaleString(),change:`${m.toFixed(1)}% avg completion`,changeType:"positive",icon:Br,gradient:"from-green-400 to-emerald-500"},{name:"Cancelled Bookings",value:u.toLocaleString(),change:`${(u/o*100).toFixed(1)}% cancellation rate`,changeType:"negative",icon:$n,gradient:"from-red-400 to-rose-500"},{name:"Peak Hour",value:`${r.peak_booking_times&&r.peak_booking_times.length>0?r.peak_booking_times.reduce((h,g)=>h.booking_count>g.booking_count?h:g).hour:0}:00`,change:"Most Active",changeType:"positive",icon:Qr,gradient:"from-yellow-400 to-orange-500"},{name:"Search to Booking",value:`${r.conversion_funnel.search_to_booking_rate.toFixed(1)}%`,change:`${r.conversion_funnel.searches.toLocaleString()} searches`,changeType:"positive",icon:Jc,gradient:"from-purple-400 to-indigo-500"},{name:"Profile Views",value:r.conversion_funnel.profile_views.toLocaleString(),change:`${(r.conversion_funnel.profile_views/r.conversion_funnel.searches*100).toFixed(1)}% view rate`,changeType:"positive",icon:Co,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:f.map(h=>{const g=h.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:n.jsx(g,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),n.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":h.changeType==="negative"?"text-red-700 bg-red-100 border border-red-200":"text-yellow-700 bg-yellow-100 border border-yellow-200"}`,children:h.change})]},h.name)})}),n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Fr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Booking Trends Over Time"]}),n.jsx(gi,{width:"100%",height:350,children:n.jsxs(Q5,{data:r.booking_trend||[],children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCancelled",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(fp,{}),n.jsx(xu,{type:"monotone",dataKey:"total_bookings",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTotal)",name:"Total Bookings"}),n.jsx(xu,{type:"monotone",dataKey:"completed_bookings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorCompleted)",name:"Completed"}),n.jsx(xu,{type:"monotone",dataKey:"cancelled_bookings",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorCancelled)",name:"Cancelled"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Br,{className:"w-5 h-5 mr-2 text-green-600"}),"Booking Status Distribution"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(Bu,{data:r.status_distribution||[],children:[n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"status",stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Wc,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Qr,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Peak Booking Times"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(Bu,{data:r.peak_booking_times||[],children:[n.jsx(wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ji,{dataKey:"hour",stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Hour",position:"insideBottom",offset:-5}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Bookings",angle:-90,position:"insideLeft"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Wc,{dataKey:"booking_count",fill:"#f59e0b",radius:[8,8,0,0]})]})})]})]})]})},ote=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=dL(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,f)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},f))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load provider analytics"});const i=r.registration_trend&&r.registration_trend.length>0?r.registration_trend[r.registration_trend.length-1]:null,o=r.status_distribution?r.status_distribution.reduce((m,f)=>m+f.count,0):0,c=r.status_distribution?r.status_distribution.filter(m=>m.verification_status==="verified").reduce((m,f)=>m+f.count,0):0,u=[{name:"Total Providers",value:o.toLocaleString(),change:`${i?.new_providers||0} new today`,changeType:"positive",icon:Nu,gradient:"from-blue-400 to-cyan-500"},{name:"Verified Providers",value:c.toLocaleString(),change:`${(c/o*100).toFixed(1)}% verified`,changeType:"positive",icon:kh,gradient:"from-green-400 to-emerald-500"},{name:"Average Rating",value:r.performance_metrics.avg_platform_rating.toFixed(1),change:`${r.performance_metrics.avg_completion_rate.toFixed(1)}% completion`,changeType:"positive",icon:Ti,gradient:"from-yellow-400 to-orange-500"},{name:"Active Providers",value:r.performance_metrics.active_providers.toLocaleString(),change:`${(r.performance_metrics.active_providers/o*100).toFixed(1)}% active`,changeType:"positive",icon:Jc,gradient:"from-purple-400 to-indigo-500"},{name:"Top Performer",value:r.top_performers[0]?.name||"N/A",change:`${r.top_performers[0]?.rating.toFixed(1)||"0"} rating`,changeType:"positive",icon:Qr,gradient:"from-pink-400 to-rose-500"},{name:"Category Leaders",value:r.category_distribution.length.toString(),change:`${r.category_distribution[0]?.category||"N/A"} leading`,changeType:"positive",icon:Co,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Provider Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>{const f=m.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${m.gradient} rounded-xl shadow-md`,children:n.jsx(f,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value}),n.jsx("p",{className:"text-sm text-gray-600",children:m.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${m.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:m.change})]},m.name)})})]})},lte=()=>{const{data:e,loading:t,error:r}=fL();if(t)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,i)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},i))})]});if(r||!e)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:r||"Failed to load system performance data"});const a=[{name:"Response Time",value:`${e.current_metrics.avg_response_time_ms}ms`,change:`${e.current_metrics.avg_response_time_ms<200?"Good":"Slow"}`,changeType:e.current_metrics.avg_response_time_ms<200?"positive":"negative",icon:Qr,gradient:"from-blue-400 to-cyan-500"},{name:"DB Query Time",value:`${e.current_metrics.avg_db_query_time_ms}ms`,change:`${e.current_metrics.avg_db_query_time_ms<100?"Fast":"Slow"}`,changeType:e.current_metrics.avg_db_query_time_ms<100?"positive":"negative",icon:C8,gradient:"from-purple-400 to-indigo-500"},{name:"Server Load",value:`${e.current_metrics.avg_server_load}%`,change:`${e.current_metrics.avg_server_load<80?"Normal":"High"}`,changeType:e.current_metrics.avg_server_load<80?"positive":"negative",icon:K8,gradient:"from-emerald-400 to-teal-500"},{name:"Memory Usage",value:`${e.current_metrics.avg_memory_usage}%`,change:`${e.current_metrics.avg_memory_usage<80?"Good":"High"}`,changeType:e.current_metrics.avg_memory_usage<80?"positive":"negative",icon:I8,gradient:"from-orange-400 to-red-500"},{name:"Error Rate",value:`${e.current_metrics.avg_error_rate}%`,change:`${e.current_metrics.avg_error_rate<1?"Low":"High"}`,changeType:e.current_metrics.avg_error_rate<1?"positive":"negative",icon:Co,gradient:"from-pink-400 to-rose-500"},{name:"Uptime",value:`${e.current_metrics.avg_uptime}%`,change:`${e.current_metrics.avg_uptime>99.9?"Excellent":"Good"}`,changeType:"positive",icon:j8,gradient:"from-yellow-400 to-orange-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Performance"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>{const i=s.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${s.gradient} rounded-xl shadow-md`,children:n.jsx(i,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),n.jsx("p",{className:"text-sm text-gray-600",children:s.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${s.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:s.change})]},s.name)})})]})},bA="kwikmedi_admin_sidebar_scroll",wA=({isMobile:e,toggleSidebar:t})=>{const{user:r,logout:a}=gn(),s=na(),i=va(),o=s.pathname==="/admin/finance-panel",u=new URLSearchParams(s.search).get("tab")||"overview",[m,f]=v.useState({}),[h,g]=v.useState(0),x=v.useRef(null),w=v.useCallback(()=>{const P=x.current;if(P)try{sessionStorage.setItem(bA,String(P.scrollTop))}catch{}},[]);v.useEffect(()=>{if(x.current)try{const M=sessionStorage.getItem(bA);if(M!==null){const V=parseInt(M,10);if(!isNaN(V)&&V>=0){const U=requestAnimationFrame(()=>{const J=x.current;J&&(J.scrollTop=V)});return()=>cancelAnimationFrame(U)}}}catch{}},[s.pathname,s.search,m]),v.useEffect(()=>()=>w(),[w]),v.useEffect(()=>{const P=s.pathname,M={};P.startsWith("/admin/categories")&&(M.categories=!0),P.startsWith("/admin/helping-staff-panel")&&(M["helping-staff-panel"]=!0),P.startsWith("/admin/lab-tests")&&(M["lab-tests"]=!0),P.startsWith("/admin/site-management")&&(M["site-management"]=!0),P.startsWith("/admin/coupons")&&(M.coupons=!0),f(M)},[s.pathname]);const y=v.useCallback(async()=>{if(r?.role==="admin")try{const P=localStorage.getItem("KwikMedi_token"),M=await fetch(`${ke}/admin/doctors?list=pending`,{headers:{Authorization:`Bearer ${P}`}});if(M.ok){const V=await M.json();g(V.pagination?.total||0)}}catch(P){console.error("Error fetching pending doctor count:",P)}},[r]);v.useEffect(()=>{y();const P=setInterval(y,300*1e3);return()=>clearInterval(P)},[y]);const b=P=>{f(M=>({...M,[P]:!M[P]}))},N=[{id:"overview",label:"Overview",icon:hu},{id:"bookings",label:"Bookings",icon:Fr},{id:"vendors",label:"Vendors",icon:V8},{id:"settlements",label:"Settlements",icon:Yn},{id:"payouts",label:"Payouts",icon:Ai},{id:"gst",label:"GST Reports",icon:Dr},{id:"transactions",label:"Transactions",icon:Jc},...r?.role==="admin"?[{id:"staff",label:"Financial Staff",icon:ar}]:[]],_=[{name:"Categories",icon:n.jsx(mu,{size:20}),basePath:"/admin/categories",subItems:[{name:"Categories",to:"/admin/categories",icon:n.jsx(mu,{size:18})},{name:"Inventory",to:"/admin/categories/inventory",icon:n.jsx(T8,{size:18})},{name:"Generic",to:"/admin/categories/generic",icon:n.jsx(ll,{size:18})},{name:"Branded",to:"/admin/categories/branded",icon:n.jsx(Zn,{size:18})}]},{name:"Helping Staff Panel",icon:n.jsx(_N,{size:20}),basePath:"/admin/helping-staff-panel",subItems:[{name:"Prescriptions",to:"/admin/helping-staff-panel/prescriptions",icon:n.jsx(Dr,{size:18})},{name:"Orders Pending Approval",to:"/admin/helping-staff-panel/orders",icon:n.jsx(Zn,{size:18})}]},{name:"Lab Tests",icon:n.jsx(Ec,{size:20}),basePath:"/admin/lab-tests",subItems:[{name:"Bookings",to:"/admin/lab-tests/bookings",icon:n.jsx(Fr,{size:18})},{name:"Categories",to:"/admin/lab-tests/categories",icon:n.jsx(mu,{size:18})},{name:"Packages",to:"/admin/lab-tests/packages",icon:n.jsx(Zn,{size:18})}]},{name:"Site Management",icon:n.jsx(O8,{size:20}),basePath:"/admin/site-management",subItems:[{name:"Banners",to:"/admin/site-management/banners",icon:n.jsx(jc,{size:18})}]},{name:"Coupons",icon:n.jsx(G8,{size:20}),basePath:"/admin/coupons",subItems:[{name:"Medicine Booking",to:"/admin/coupons/medicine",icon:n.jsx(zs,{size:18})},{name:"Lab Test",to:"/admin/coupons/lab-test",icon:n.jsx(Ec,{size:18})}]}],k=[{type:"link",link:{name:"Dashboard",to:"/admin/dashboard",icon:n.jsx(NN,{size:20})},position:1},{type:"link",link:{name:"Doctors",to:"/admin/doctors",icon:n.jsx(UC,{size:20}),badge:h>0?h.toString():void 0},position:2.1},{type:"link",link:{name:"Lab Service Providers",to:"/admin/lab-service-providers",icon:n.jsx(za,{size:20})},position:2.2},{type:"link",link:{name:"Labs",to:"/admin/labs",icon:n.jsx(ib,{size:20})},position:2.25},{type:"link",link:{name:"Pharmacy Providers",to:"/admin/pharmacy-providers",icon:n.jsx(zs,{size:20})},position:2.3},{type:"link",link:{name:"Users",to:"/admin/users",icon:n.jsx(ar,{size:20})},position:3},{type:"link",link:{name:"Appointments",to:"/admin/appointments",icon:n.jsx(Fr,{size:20})},position:3.1},{type:"link",link:{name:"Lab Referrals",to:"/admin/lab-referrals",icon:n.jsx(Ec,{size:20})},position:3.2},{type:"link",link:{name:"Pharmacy Referrals",to:"/admin/pharmacy-referrals",icon:n.jsx(zs,{size:20})},position:3.3},{type:"link",link:{name:"Admin Reports",to:"/admin/all-reports",icon:n.jsx(Dr,{size:20})},position:3.4},{type:"link",link:{name:"Helpdesk",to:"/admin/helpdesk",icon:n.jsx(db,{size:20})},position:12},{type:"expandable",section:_[3],position:15}],A=[{name:"Dashboard",to:"/provider",icon:n.jsx(NN,{size:20})},{name:"Opportunities",to:"/provider/opportunities",icon:n.jsx(Mc,{size:20}),badge:"New"},{name:"My Tasks",to:"/provider/tasks",icon:n.jsx(ob,{size:20})},{name:"Raise Request",to:"/provider/request",icon:n.jsx(_N,{size:20})},{name:"Previous Work",to:"/provider/history",icon:n.jsx(L8,{size:20})},{name:"Profile",to:"/provider/profile",icon:n.jsx(ar,{size:20})}],T=[{name:"My Services",to:"/user",icon:n.jsx(S8,{size:20})},{name:"Book Service",to:"/user/new-service",icon:n.jsx(pa,{size:20})},{name:"Payment History",to:"/user/payments",icon:n.jsx(Ai,{size:20})},{name:"Report Issue",to:"/user/report",icon:n.jsx(Co,{size:20})}],I=[{name:"Home",to:"/",icon:n.jsx(M8,{size:20})},{name:"Login",to:"/login",icon:n.jsx(ar,{size:20})}],D=(()=>{if(!r)return I;switch(r.role){case"admin":return[];case"provider":return A;case"user":return T;default:return I}})();return n.jsxs("div",{className:`h-screen bg-theme-gradient text-white flex flex-col transition-all duration-300 ${e?"fixed top-0 left-0 z-40 w-64 shadow-2xl transform":"w-64"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary/30",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-secondary flex items-center justify-center shadow-lg ring-2 ring-primary/40 overflow-hidden",children:n.jsx("img",{src:"/KwikMedi-logo.png",alt:"KwikMedi Logo",className:"h-full w-full object-contain p-1"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary rounded-full border-2 border-primary"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-secondary to-secondary/80 bg-clip-text text-transparent",children:"KwikMedi"}),n.jsx("div",{className:"text-xs text-secondary/80 mt-0.5",children:r?.role==="admin"?"Admin Portal":r?.role==="provider"?"Vendor Hub":r?.role==="user"?"Customer Portal":"Welcome"})]})]}),e&&n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-primary/40 transition-colors",children:n.jsx(Rt,{size:20})})]}),r&&n.jsx("div",{className:"p-6 border-b border-primary/30",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center shadow-lg",children:n.jsx(ar,{size:20,className:"text-primary"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-secondary rounded-full border-2 border-primary flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-white truncate",children:r.name||"User"}),n.jsx("p",{className:"text-sm text-secondary/80 truncate",children:r.email})]})]})}),n.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto py-6 px-4",onScroll:w,children:[n.jsx("nav",{className:"space-y-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 pb-4 border-b border-primary/30",children:n.jsx("h3",{className:"text-sm font-semibold text-secondary/80 mb-2 px-3",children:"Finance Panel"})}),N.map(P=>{const M=P.icon,V=u===P.id;return n.jsx("div",{className:"relative",children:n.jsxs("button",{onClick:()=>{i(`/admin/finance-panel?tab=${P.id}`),e&&t()},className:`w-full group flex items-center space-x-3 p-3 rounded-xl transition-all duration-200 ${V?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,children:[n.jsx("div",{className:"relative",children:n.jsx(M,{size:20})}),n.jsx("span",{className:"font-medium",children:P.label})]})},P.id)})]}):n.jsx(n.Fragment,{children:r?.role==="admin"?k.map(P=>{if(P.type==="expandable"&&P.section){const M=P.section,V=M.basePath.replace("/admin/","").replace(/-/g,"-"),U=m[V]||!1,J=s.pathname.startsWith(M.basePath);return n.jsxs("div",{className:"mb-1",children:[n.jsxs("button",{onClick:()=>b(V),className:`w-full group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${J?"bg-secondary/20 text-white":"text-secondary/80 hover:bg-primary/40 hover:text-white"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"relative",children:M.icon}),n.jsx("span",{className:"font-medium",children:M.name})]}),n.jsx("div",{className:"transition-transform duration-200",style:{transform:U?"rotate(0deg)":"rotate(-90deg)"},children:n.jsx(Ha,{size:16})})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${U?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"pl-4 pt-1 space-y-1",children:M.subItems.map(W=>{const he=s.pathname===W.to;return n.jsxs(vc,{to:W.to,className:({isActive:X})=>`group flex items-center space-x-3 p-2.5 rounded-lg transition-all duration-200 ${X||he?"bg-secondary text-primary shadow-md":"text-secondary/70 hover:bg-primary/30 hover:text-white"}`,onClick:e?t:void 0,children:[n.jsx("div",{className:"relative",children:W.icon}),n.jsx("span",{className:"text-sm font-medium",children:W.name})]},W.to)})})})]},M.name)}else if(P.type==="link"&&P.link){const M=P.link;return n.jsxs("div",{className:"relative",children:[n.jsxs(vc,{to:M.to,className:({isActive:V})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${V?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[M.icon,M.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:M.name})]}),M.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:M.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===M.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},M.name)}return null}):D.map(P=>n.jsxs("div",{className:"relative",children:[n.jsxs(vc,{to:P.to,className:({isActive:M})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${M?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[P.icon,P.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:P.name})]}),P.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:P.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===P.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},P.name))})}),r?.role==="user"&&n.jsxs("div",{className:"mt-8 p-4 bg-secondary/20 rounded-xl border border-primary/30",children:[n.jsx("h3",{className:"text-sm font-semibold text-secondary mb-3",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(vc,{to:"/user/orders",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(Z8,{size:16}),n.jsx("span",{className:"text-sm",children:"Place Order"})]}),n.jsxs(vc,{to:"/user/prescriptions",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(Ti,{size:16}),n.jsx("span",{className:"text-sm",children:"Upload Prescription"})]})]})]})]}),r&&n.jsx("div",{className:"p-4 border-t border-primary/30",children:n.jsxs("button",{onClick:a,className:"flex items-center justify-center w-full p-3 rounded-xl text-secondary/80 hover:bg-primary/40 hover:text-secondary transition-all duration-200 group",children:[n.jsx(cb,{size:20,className:"mr-3 group-hover:transform group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},cte=({toggleSidebar:e})=>{const t=va(),{user:r,logout:a,refreshUserData:s}=gn(),[i,o]=v.useState(!1),[c,u]=v.useState(!1),[m,f]=v.useState(0),[h,g]=v.useState(!1),x=v.useRef(null),w=v.useRef(null),y=v.useRef(),b=v.useRef(),N=()=>{a(),t("/login")},_=async()=>{g(!0);try{await s(),await new Promise(O=>setTimeout(O,100)),console.log("Header refresh completed")}catch(O){console.error("Error refreshing user data:",O)}finally{setTimeout(()=>g(!1),1e3)}},k=()=>{f(O=>O+1),b.current&&clearTimeout(b.current),m>=2?(_(),f(0)):b.current=setTimeout(()=>{f(0)},2e3)},A=[{id:1,type:"service",title:"Service Completed",message:"Your AC repair service has been completed successfully.",time:"2 hours ago",read:!1},{id:2,type:"promotion",title:"Special Offer",message:"Get 20% off on your next home cleaning service.",time:"1 day ago",read:!1},{id:3,type:"reminder",title:"Upcoming Service",message:"Your plumbing service is scheduled for tomorrow at 10:00 AM.",time:"2 days ago",read:!0}],T=A.filter(O=>!O.read).length;v.useEffect(()=>{const O=P=>{x.current&&!x.current.contains(P.target)&&o(!1),w.current&&!w.current.contains(P.target)&&u(!1)},D=P=>{P.ctrlKey&&P.shiftKey&&P.key==="R"&&(P.preventDefault(),_())};return document.addEventListener("mousedown",O),document.addEventListener("keydown",D),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("keydown",D),y.current&&clearTimeout(y.current),b.current&&clearTimeout(b.current)}},[]),v.useEffect(()=>{r&&r.id&&s()},[r?.id]);const I=O=>{switch(O){case"service":return n.jsx(Ti,{size:16,className:"text-orange-500"});case"promotion":return n.jsx(SN,{size:16,className:"text-amber-500"});case"reminder":return n.jsx(Qr,{size:16,className:"text-rose-400"});default:return n.jsx(Mc,{size:16,className:"text-orange-300"})}};return n.jsxs("header",{className:"bg-gradient-to-r from-orange-50/95 via-white/95 to-orange-50/95 backdrop-blur-sm shadow-sm border-b border-orange-100/70 h-16 flex items-center justify-between px-4 lg:px-6 relative z-30 text-orange-950",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("button",{onClick:e,className:"p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 lg:hidden transition-all duration-200",children:n.jsx($8,{size:24})})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!c),className:"relative p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 transition-all duration-200 group",children:[n.jsx(Mc,{size:20}),T>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-orange-500 to-amber-400 text-white text-xs rounded-full flex items-center justify-center font-semibold animate-pulse",children:T})]}),c&&n.jsxs("div",{ref:w,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-2 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-orange-900",children:"Notifications"}),n.jsxs("span",{className:"text-xs text-orange-500",children:[T," new"]})]})}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:A.map(O=>n.jsx("div",{className:`px-4 py-3 hover:bg-orange-50/60 cursor-pointer transition-colors duration-200 ${O.read?"":"bg-orange-50/70"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"mt-1",children:I(O.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm",children:O.title}),!O.read&&n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full ml-2"})]}),n.jsx("p",{className:"text-orange-700/80 text-sm mt-1",children:O.message}),n.jsx("p",{className:"text-orange-400 text-xs mt-1",children:O.time})]})]})},O.id))}),n.jsx("div",{className:"px-4 py-3 border-t border-orange-100 bg-orange-50/60",children:n.jsx("button",{className:"w-full text-center text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all notifications"})})]})]}),r?n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-xl hover:bg-orange-100/60 transition-all duration-200",onClick:()=>o(!i),onDoubleClick:k,children:[n.jsxs("div",{className:"hidden sm:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-orange-900",children:r.name||"User"}),n.jsx("p",{className:"text-xs text-orange-500 capitalize",children:r.role})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:h?n.jsx(Yn,{size:20,className:"text-orange-50 animate-spin"}):n.jsx(ar,{size:20,className:"text-white"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"}),h&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"})]}),n.jsx(Ha,{size:16,className:"text-orange-400 hidden sm:block"})]}),i&&n.jsxs("div",{ref:x,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-3 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:n.jsx(ar,{size:24,className:"text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-orange-900 truncate",children:r.name||"User"}),n.jsx("p",{className:"text-sm text-orange-600 truncate",children:r.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 capitalize",children:r.role}),n.jsxs("span",{className:"flex items-center text-xs text-emerald-600",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Online"]})]})]})]})}),n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fr,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Member since"})]}),n.jsx("span",{className:"text-orange-900",children:"Jan 2024"})]}),r.role==="user"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ti,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Services booked"})]}),n.jsx("span",{className:"text-orange-900",children:"12"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(SN,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Loyalty points"})]}),n.jsx("span",{className:"text-amber-600 font-semibold",children:"850"})]})]})]})}),n.jsx("div",{className:"px-4 py-2 border-t border-orange-100 bg-orange-50/60",children:n.jsx("div",{className:"space-y-1",children:n.jsxs("button",{onClick:N,className:"w-full flex items-center space-x-3 text-sm text-red-600 hover:bg-red-50 py-2 px-3 rounded-lg transition-colors duration-200",children:[n.jsx(cb,{size:16}),n.jsx("span",{children:"Sign Out"})]})})})]})]}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 text-sm font-medium text-orange-700 hover:text-orange-900 transition-colors duration-200",children:"Sign In"}),n.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-amber-400 hover:from-orange-600 hover:to-amber-500 rounded-lg transition-all duration-200",children:"Get Started"})]})]})]})},Yt=({children:e})=>{const{user:t}=gn(),[r,a]=v.useState(!1),s=()=>{a(!r)};return n.jsxs("div",{className:"flex h-screen bg-secondary",children:[n.jsx("div",{className:"hidden lg:block",children:n.jsx(wA,{isMobile:!1,toggleSidebar:s})}),r&&n.jsxs("div",{className:"lg:hidden",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s}),n.jsx(wA,{isMobile:!0,toggleSidebar:s})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(cte,{toggleSidebar:s}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]})},dte=()=>{const[e,t]=v.useState("30d"),[r,a]=v.useState(""),[s,i]=v.useState("");v.useEffect(()=>{const c=new Date,u=c.toISOString().split("T")[0];let m;switch(e){case"7d":m=new Date(c.setDate(c.getDate()-7)).toISOString().split("T")[0];break;case"30d":m=new Date(c.setDate(c.getDate()-30)).toISOString().split("T")[0];break;case"90d":m=new Date(c.setDate(c.getDate()-90)).toISOString().split("T")[0];break;case"1y":m=new Date(c.setFullYear(c.getFullYear()-1)).toISOString().split("T")[0];break;default:m=new Date(c.setDate(c.getDate()-7)).toISOString().split("T")[0]}a(m),i(u)},[e]);const o=(c,u)=>{a(c),i(u)};return n.jsx(Yt,{children:n.jsxs("div",{className:"min-h-screen bg-secondary",children:[n.jsx(tL,{dateFrom:r,dateTo:s,onDateRangeChange:o}),n.jsx("div",{className:"pt-20 pb-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[n.jsx(mL,{dateFrom:r,dateTo:s}),n.jsx(nte,{dateFrom:r,dateTo:s}),n.jsx(ate,{dateFrom:r,dateTo:s}),n.jsx(ste,{dateFrom:r,dateTo:s}),n.jsx(ite,{dateFrom:r,dateTo:s}),n.jsx(ote,{dateFrom:r,dateTo:s}),n.jsx(lte,{})]})})]})})},et=({children:e,className:t=""})=>n.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${t}`,children:e}),_t=({children:e,className:t=""})=>n.jsx("div",{className:`p-6 border-b border-gray-200 ${t}`,children:e}),Nt=({children:e,className:t=""})=>n.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),tt=({children:e,className:t=""})=>n.jsx("div",{className:`p-6 ${t}`,children:e}),Be=({variant:e="primary",size:t="md",children:r,fullWidth:a=!1,isLoading:s=!1,className:i="",disabled:o,...c})=>{const u="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",m={primary:"bg-primary hover:bg-primary-dark text-secondary-dark",secondary:"bg-secondary text-white hover:bg-secondary-light",outline:"border border-primary bg-transparent text-black hover:bg-primary/10 hover:text-black",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",link:"bg-transparent underline-offset-4 hover:underline text-primary p-0 h-auto"},f={sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"},h=a?"w-full":"";return n.jsxs("button",{className:`${u} ${m[e]} ${f[t]} ${h} ${i}`,disabled:o||s,...c,children:[s?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r]})},ute=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},fte=(e,t)=>({classGroupId:e,validator:t}),e6=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),N0="-",jA=[],mte="arbitrary..",hte=e=>{const t=xte(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return pte(o);const c=o.split(N0),u=c[0]===""&&c.length>1?1:0;return t6(c,u,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const u=a[o],m=r[o];return u?m?ute(m,u):u:m||jA}return r[o]||jA}}},t6=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const m=t6(e,t+1,i);if(m)return m}const o=r.validators;if(o===null)return;const c=t===0?e.join(N0):e.slice(t).join(N0),u=o.length;for(let m=0;m<u;m++){const f=o[m];if(f.validator(c))return f.classGroupId}},pte=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?mte+a:void 0})(),xte=e=>{const{theme:t,classGroups:r}=e;return gte(r,t)},gte=(e,t)=>{const r=e6();for(const a in e){const s=e[a];mj(s,r,a,t)}return r},mj=(e,t,r,a)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];vte(o,t,r,a)}},vte=(e,t,r,a)=>{if(typeof e=="string"){yte(e,t,r);return}if(typeof e=="function"){bte(e,t,r,a);return}wte(e,t,r,a)},yte=(e,t,r)=>{const a=e===""?t:r6(t,e);a.classGroupId=r},bte=(e,t,r,a)=>{if(jte(e)){mj(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(fte(r,e))},wte=(e,t,r,a)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[c,u]=s[o];mj(u,r6(t,c),r,a)}},r6=(e,t)=>{let r=e;const a=t.split(N0),s=a.length;for(let i=0;i<s;i++){const o=a[i];let c=r.nextPart.get(o);c||(c=e6(),r.nextPart.set(o,c)),r=c}return r},jte=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,_te=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=a[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},W1="!",_A=":",Nte=[],NA=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),Ste=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const i=[];let o=0,c=0,u=0,m;const f=s.length;for(let y=0;y<f;y++){const b=s[y];if(o===0&&c===0){if(b===_A){i.push(s.slice(u,y)),u=y+1;continue}if(b==="/"){m=y;continue}}b==="["?o++:b==="]"?o--:b==="("?c++:b===")"&&c--}const h=i.length===0?s:s.slice(u);let g=h,x=!1;h.endsWith(W1)?(g=h.slice(0,-1),x=!0):h.startsWith(W1)&&(g=h.slice(1),x=!0);const w=m&&m>u?m-u:void 0;return NA(i,x,g,w)};if(t){const s=t+_A,i=a;a=o=>o.startsWith(s)?i(o.slice(s.length)):NA(Nte,!1,o,void 0,!0)}if(r){const s=a;a=i=>r({className:i,parseClassName:s})}return a},kte=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",u=t.has(o);c||u?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(o)):s.push(o)}return s.length>0&&(s.sort(),a.push(...s)),a}},Ete=e=>({cache:_te(e.cacheSize),parseClassName:Ste(e),sortModifiers:kte(e),...hte(e)}),Ate=/\s+/,Cte=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],c=e.trim().split(Ate);let u="";for(let m=c.length-1;m>=0;m-=1){const f=c[m],{isExternal:h,modifiers:g,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:y}=r(f);if(h){u=f+(u.length>0?" "+u:u);continue}let b=!!y,N=a(b?w.substring(0,y):w);if(!N){if(!b){u=f+(u.length>0?" "+u:u);continue}if(N=a(w),!N){u=f+(u.length>0?" "+u:u);continue}b=!1}const _=g.length===0?"":g.length===1?g[0]:i(g).join(":"),k=x?_+W1:_,A=k+N;if(o.indexOf(A)>-1)continue;o.push(A);const T=s(N,b);for(let I=0;I<T.length;++I){const O=T[I];o.push(k+O)}u=f+(u.length>0?" "+u:u)}return u},Tte=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=n6(r))&&(s&&(s+=" "),s+=a);return s},n6=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=n6(e[a]))&&(r&&(r+=" "),r+=t);return r},Pte=(e,...t)=>{let r,a,s,i;const o=u=>{const m=t.reduce((f,h)=>h(f),e());return r=Ete(m),a=r.cache.get,s=r.cache.set,i=c,c(u)},c=u=>{const m=a(u);if(m)return m;const f=Cte(u,r);return s(u,f),f};return i=o,(...u)=>i(Tte(...u))},Ote=[],Xr=e=>{const t=r=>r[e]||Ote;return t.isThemeGetter=!0,t},a6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,s6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ite=/^\d+\/\d+$/,Dte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Lte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mc=e=>Ite.test(e),At=e=>!!e&&!Number.isNaN(Number(e)),go=e=>!!e&&Number.isInteger(Number(e)),by=e=>e.endsWith("%")&&At(e.slice(0,-1)),di=e=>Dte.test(e),$te=()=>!0,zte=e=>Mte.test(e)&&!Fte.test(e),i6=()=>!1,Bte=e=>Lte.test(e),Ute=e=>Rte.test(e),Wte=e=>!lt(e)&&!ct(e),Hte=e=>ud(e,c6,i6),lt=e=>a6.test(e),al=e=>ud(e,d6,zte),wy=e=>ud(e,Xte,At),SA=e=>ud(e,o6,i6),Kte=e=>ud(e,l6,Ute),eh=e=>ud(e,u6,Bte),ct=e=>s6.test(e),ou=e=>fd(e,d6),Vte=e=>fd(e,Yte),kA=e=>fd(e,o6),qte=e=>fd(e,c6),Gte=e=>fd(e,l6),th=e=>fd(e,u6,!0),ud=(e,t,r)=>{const a=a6.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},fd=(e,t,r=!1)=>{const a=s6.exec(e);return a?a[1]?t(a[1]):r:!1},o6=e=>e==="position"||e==="percentage",l6=e=>e==="image"||e==="url",c6=e=>e==="length"||e==="size"||e==="bg-size",d6=e=>e==="length",Xte=e=>e==="number",Yte=e=>e==="family-name",u6=e=>e==="shadow",Jte=()=>{const e=Xr("color"),t=Xr("font"),r=Xr("text"),a=Xr("font-weight"),s=Xr("tracking"),i=Xr("leading"),o=Xr("breakpoint"),c=Xr("container"),u=Xr("spacing"),m=Xr("radius"),f=Xr("shadow"),h=Xr("inset-shadow"),g=Xr("text-shadow"),x=Xr("drop-shadow"),w=Xr("blur"),y=Xr("perspective"),b=Xr("aspect"),N=Xr("ease"),_=Xr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...A(),ct,lt],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[ct,lt,u],P=()=>[mc,"full","auto",...D()],M=()=>[go,"none","subgrid",ct,lt],V=()=>["auto",{span:["full",go,ct,lt]},go,ct,lt],U=()=>[go,"auto",ct,lt],J=()=>["auto","min","max","fr",ct,lt],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...D()],be=()=>[mc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],ne=()=>[e,ct,lt],ve=()=>[...A(),kA,SA,{position:[ct,lt]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",qte,Hte,{size:[ct,lt]}],C=()=>[by,ou,al],B=()=>["","none","full",m,ct,lt],H=()=>["",At,ou,al],K=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[At,by,kA,SA],Se=()=>["","none",w,ct,lt],L=()=>["none",At,ct,lt],G=()=>["none",At,ct,lt],ge=()=>[At,ct,lt],le=()=>[mc,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[$te],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[Wte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",At],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mc,lt,ct,b]}],container:["container"],columns:[{columns:[At,lt,ct,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[go,"auto",ct,lt]}],basis:[{basis:[mc,"full","auto",c,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,mc,"auto","initial","none",lt]}],grow:[{grow:["",At,ct,lt]}],shrink:[{shrink:["",At,ct,lt]}],order:[{order:[go,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[c,"screen",...be()]}],"min-w":[{"min-w":[c,"screen","none",...be()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...be()]}],h:[{h:["screen","lh",...be()]}],"min-h":[{"min-h":["screen","lh","none",...be()]}],"max-h":[{"max-h":["screen","lh",...be()]}],"font-size":[{text:["base",r,ou,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ct,wy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",by,lt]}],"font-family":[{font:[Vte,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ct,lt]}],"line-clamp":[{"line-clamp":[At,"none",ct,wy]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",ct,al]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[At,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},go,ct,lt],radial:["",ct,lt],conic:[go,ct,lt]},Gte,Kte]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:C()}],"gradient-via-pos":[{via:C()}],"gradient-to-pos":[{to:C()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...K(),"hidden","none"]}],"divide-style":[{divide:[...K(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...K(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,ct,lt]}],"outline-w":[{outline:["",At,ou,al]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",f,th,eh]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",h,th,eh]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[At,al]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",g,th,eh]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[At,ct,lt]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[At]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[ct,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[At]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,lt]}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:Se()}],brightness:[{brightness:[At,ct,lt]}],contrast:[{contrast:[At,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",x,th,eh]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",At,ct,lt]}],"hue-rotate":[{"hue-rotate":[At,ct,lt]}],invert:[{invert:["",At,ct,lt]}],saturate:[{saturate:[At,ct,lt]}],sepia:[{sepia:["",At,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[At,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[At,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",At,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[At,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[At,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",At,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",ct,lt]}],ease:[{ease:["linear","initial",N,ct,lt]}],delay:[{delay:[At,ct,lt]}],animate:[{animate:["none",_,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ct,lt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:G()}],"scale-x":[{"scale-x":G()}],"scale-y":[{"scale-y":G()}],"scale-z":[{"scale-z":G()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[At,ou,al,wy]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Zte=Pte(Jte);function S0(...e){return Zte(Pt(e))}const _f=({value:e,onValueChange:t,children:r,className:a})=>n.jsx("div",{className:S0("w-full",a),children:Zr.Children.map(r,s=>Zr.isValidElement(s)?Zr.cloneElement(s,{children:Zr.Children.map(s.props.children,i=>{if(Zr.isValidElement(i)){const o=i.props.value===e;return Zr.cloneElement(i,{onValueChange:t,className:S0(i.props.className,o?"bg-secondary text-primary":"text-gray-500 hover:text-primary")})}return i})}):s)}),Nf=({children:e,className:t})=>n.jsx("div",{className:S0("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),children:e}),Xs=({value:e,children:t,className:r,onValueChange:a})=>n.jsx("button",{className:S0("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),onClick:()=>a?.(e),children:t}),Qte=({fieldVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[e.name&&n.jsx("th",{className:"text-left pb-4",children:"Provider"}),e.contact&&n.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&n.jsx("th",{className:"text-left pb-4",children:"Status"}),e.verification&&n.jsx("th",{className:"text-left pb-4",children:"Verification"}),e.earnings&&n.jsx("th",{className:"text-left pb-4",children:"Earnings"}),e.experience&&n.jsx("th",{className:"text-left pb-4",children:"Experience"}),e.featured&&n.jsx("th",{className:"text-left pb-4",children:"Featured"}),e.action&&n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),ere=({provider:e,onStatusAction:t})=>n.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(Be,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1",children:[n.jsx(Br,{size:12}),n.jsx("span",{children:"Approve"})]}),n.jsxs(Be,{onClick:()=>t(e.id,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1",children:[n.jsx($n,{size:12}),n.jsx("span",{children:"Reject"})]})]}),e.status==="approved"&&n.jsxs(Be,{onClick:()=>t(e.id,"suspend"),className:"flex items-center space-x-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1",children:[n.jsx(za,{size:12}),n.jsx("span",{children:"Suspend"})]}),e.status==="suspended"&&n.jsxs(Be,{onClick:()=>t(e.id,"reinstate"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(Br,{size:12}),n.jsx("span",{children:"Reinstate"})]}),e.status==="blocked"&&n.jsxs(Be,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(Br,{size:12}),n.jsx("span",{children:"Approve"})]})]}),tre=({provider:e,formatDate:t})=>{const r=s=>{switch(s){case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"blocked":return"bg-red-100 text-red-700";case"suspended":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},a=s=>{switch(s){case"approved":return n.jsx(Br,{size:14,className:"text-green-600"});case"pending":return n.jsx(Qr,{size:14,className:"text-yellow-600"});case"blocked":return n.jsx($n,{size:14,className:"text-red-600"});case"suspended":return n.jsx(za,{size:14,className:"text-orange-600"});default:return null}};return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[a(e.status),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",t(e.created_at)]})]})},rre=({provider:e,fieldVisibility:t,expandingUsers:r,onStatusAction:a,onToggleDropdown:s,formatDate:i,formatCurrency:o,isExpanded:c=!1,isLoading:u=!1})=>{const m=u&&r.has(e.id),f=c||r.has(e.id);return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(Be,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-black hover:border-primary hover:shadow-md group",disabled:m,children:m?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx(ya,{size:14,className:"mr-1 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:f?"Hide":"Details"}),f?n.jsx(Zs,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"}):n.jsx(Ha,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"})]})})})}),t.name&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-primary",children:e.name.charAt(0)})}),n.jsx("div",{children:n.jsx("p",{className:"font-medium text-gray-900",children:e.name})})]})}),t.contact&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ra,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($a,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.phone})]})]})}),t.location&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-sm",children:[e.city,", ",e.state]}),n.jsx("div",{className:"text-sm text-gray-500",children:e.pincode})]})}),t.status&&n.jsx("td",{className:"py-4",children:n.jsx(tre,{provider:e,formatDate:i})}),t.verification&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[e.verification_status==="verified"?n.jsx(za,{size:16,className:"text-green-500"}):n.jsx(za,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.verification_status})]})}),t.earnings&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium",children:o(e.total_earnings)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",e.commission_rate,"%"]})]})}),t.experience&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qr,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-sm",children:[e.experience_years," years"]})]})}),t.featured&&n.jsx("td",{className:"py-4",children:e.is_featured?n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Featured"}):n.jsx("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),t.action&&n.jsx("td",{className:"py-4",children:n.jsx(ere,{provider:e,onStatusAction:a})})]})},nre=({provider:e,formatDate:t,serviceCatalog:r})=>{const a=!!(e.bank_details&&(e.bank_details.account_holder_name||e.bank_details.bank_name||e.bank_details.account_number||e.bank_details.ifsc_code)),s=v.useMemo(()=>{const f=new Map;return Object.entries(r.categories).forEach(([h,g])=>{f.set(Number(h),g.name)}),e.subcategory_links?.forEach(h=>{h.category_name&&h.category_id&&f.set(h.category_id,h.category_name)}),f},[e.subcategory_links,r]),i=v.useMemo(()=>{const f=new Map,h=(g,x)=>{const w=g!==null?`cat-${g}`:`misc-${x}`;return f.has(w)||f.set(w,{key:w,category_id:g,category_name:x,subcategories:[],services:[]}),f.get(w)};return(e.category_ids??[]).forEach(g=>{const x=s.get(g)||`Category ${g}`;h(g,x)}),(e.subcategory_links??[]).forEach(g=>{const x=g.category_id||null,w=x&&g.subcategory_id?r.categories[x]?.services?.[g.subcategory_id]??null:null,y=g.category_name||(x?s.get(x)||`Category ${x}`:"Other");h(x,y).subcategories.push({id:g.subcategory_id||null,rawName:g.subcategory_name,catalogName:w})}),(e.services??[]).forEach(g=>{const x=g.category_name||"General",y=(e.category_ids??[]).find(N=>s.get(N)===g.category_name)??null;h(y,x).services.push(g)}),f.size===0&&(e.services?.length??0)>0&&f.set("general",{key:"general",category_id:null,category_name:"Services",subcategories:[],services:e.services??[]}),Array.from(f.values())},[e.category_ids,e.subcategory_links,e.services,s,r]),o=i.length>0,[c,u]=v.useState(new Set),m=f=>{u(h=>{const g=new Set(h);return g.has(f)?g.delete(f):g.add(f),g})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ws,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Provider Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ra,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Ra,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx($a,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-4 border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ma,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Ma,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),e.services&&e.services.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-rose-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(sb,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-rose-900",children:"Services"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.services.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-rose-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:f.service_name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[f.duration_minutes," mins"]}),n.jsxs("span",{className:"font-medium text-primary",children:["",f.price_min," - ",f.price_max]})]}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:f.category_name})})]},f.id))})]}),e.service_areas&&e.service_areas.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ma,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-teal-900",children:"Service Areas"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.service_areas.map((f,h)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-teal-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:f.area_name}),f.is_primary&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Primary"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[f.city,", ",f.state]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pincode: ",f.pincode]})]},h))})]}),e.documents&&e.documents.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Dr,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Documents"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.documents.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-orange-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:f.document_type}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})]}),n.jsx("p",{className:"text-sm text-gray-600",children:f.document_name}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",t(f.uploaded_at)]}),f.verified_at&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Verified: ",t(f.verified_at)]}),f.rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.rejection_reason})]}),f.document_url&&n.jsx(Be,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.open(f.document_url,"_blank","noopener,noreferrer"),children:"View Document"})]},f.id))})]}),o&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(F8,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Service Coverage"})]}),n.jsx("div",{className:"space-y-3",children:i.map(f=>{const h=c.has(f.key)||f.services.length===0;return n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 shadow-sm",children:[n.jsxs("button",{type:"button",onClick:()=>m(f.key),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.category_name}),f.category_id!==null&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Category ID: ",f.category_id]}),f.services.length>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.services.length," service",f.services.length>1?"s":""]})]}),f.services.length>0&&n.jsx(Ha,{size:16,className:`text-blue-500 transition-transform ${h?"rotate-180":""}`})]}),f.subcategories.length>0&&n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Services"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:f.subcategories.map((g,x)=>{const w=g.catalogName||(g.id?r.servicesById[g.id]:null)||g.rawName||(f.services.find(y=>y.id===g.id)?.service_name??null)||`Service ${g.id||x+1}`;return n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-primary/20 text-sm text-blue-700 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ll,{size:14,className:"text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:w}),g.id&&n.jsxs("p",{className:"text-xs text-blue-400",children:["Service ID: ",g.id]})]})]}),f.services.length>0&&n.jsx("button",{type:"button",onClick:()=>m(f.key),className:"text-xs text-blue-500 hover:underline",children:"View details"})]},`${f.key}-${g.id??x}`)})})]}),f.services.length>0&&h&&n.jsx("div",{className:"border-t border-blue-50 bg-blue-50/50 px-4 py-3 space-y-2",children:f.services.map(g=>n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"font-medium text-sm text-gray-900",children:g.service_name}),(g.price_min||g.price_max)&&n.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",g.price_min," - ",g.price_max]})]}),g.description&&n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:g.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[g.duration_minutes>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:["Duration: ",g.duration_minutes," mins"]}),g.status&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full capitalize",children:["Status: ",g.status]})]})]},`${f.key}-service-${g.id}`))})]},f.key)})})]}),a&&e.bank_details&&n.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 border border-slate-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ai,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Account Verification"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Holder Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_holder_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Bank Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.bank_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Number"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_number||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"IFSC Code"}),n.jsx("p",{className:"text-sm text-gray-800 uppercase",children:e.bank_details.ifsc_code||"N/A"})]})]})]}),e.portfolio&&e.portfolio.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(jc,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Portfolio"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.portfolio.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-primary/20",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:f.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:f.before_image,alt:"Before",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"Before"})]}),n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:f.after_image,alt:"After",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"After"})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:["Created: ",t(f.created_at)]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]})]},f.id))})]})]})},are=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Tn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search providers...",className:"pl-8 pr-4 py-2 w-full rounded-lg border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",value:e,onChange:r=>t(r.target.value)})]}),sre=({showFieldManagement:e,onToggleSettings:t,fieldVisibility:r,onToggleField:a,onResetFields:s})=>n.jsxs("div",{className:"relative",children:[n.jsxs(Be,{variant:"outline",size:"sm",onClick:t,className:"border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary group",children:[n.jsx(zy,{size:16,className:"mr-2 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:"Fields"})]}),e&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[400px] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b border-gray-100 flex-shrink-0",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Field Visibility"}),n.jsx(Be,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:n.jsx(Rt,{size:14})})]}),n.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-3 min-h-0",children:n.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,o])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:()=>a(i),disabled:["name","status","action"].includes(i),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","status","action"].includes(i)?"opacity-50":""}`}),n.jsxs("span",{className:`text-sm capitalize ${["name","status","action"].includes(i)?"font-medium":""}`,children:[i.replace(/([A-Z])/g," $1").trim(),["name","status","action"].includes(i)&&" (Required)"]})]},i))})}),n.jsx("div",{className:"p-4 pt-3 border-t border-gray-200 flex-shrink-0",children:n.jsx(Be,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Reset to Default"})})]})]}),ire=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," providers"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Yc,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(Be,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]}),ore=({isOpen:e,providerId:t,action:r,reason:a,notes:s,onClose:i,onConfirm:o,onReasonChange:c,onNotesChange:u})=>{if(!e||!t||!r)return null;const m=()=>{switch(r){case"approve":return"Approve Provider";case"reject":return"Reject Provider";case"suspend":return"Suspend Provider";case"reinstate":return"Reinstate Provider";default:return""}},f=()=>{switch(r){case"approve":return"bg-green-600 text-white hover:bg-green-700";case"reject":return"bg-red-600 text-white hover:bg-red-700";case"suspend":return"bg-yellow-600 text-white hover:bg-yellow-700";case"reinstate":return"bg-primary text-white hover:bg-primary-dark";default:return""}},h=()=>{switch(r){case"approve":return"Approve";case"reject":return"Reject";case"suspend":return"Suspend";case"reinstate":return"Reinstate";default:return""}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:m()}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:a,onChange:g=>c(g.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter any additional notes...",value:s,onChange:g=>u(g.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(Be,{variant:"outline",onClick:i,children:"Cancel"}),n.jsx(Be,{variant:"outline",onClick:()=>o(t,r,a,s),className:f(),children:h()})]})]})})},lre=({isOpen:e,providerId:t,documentId:r,action:a,reason:s,onClose:i,onConfirm:o,onReasonChange:c})=>!e||!t||!r||!a?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:a==="approve"?"Approve Document":"Reject Document"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:s,onChange:u=>c(u.target.value)})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(Be,{variant:"outline",onClick:i,children:"Cancel"}),n.jsx(Be,{variant:"outline",onClick:()=>o(t,r,a,s),className:`${a==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:a==="approve"?"Approve":"Reject"})]})]})}),EA=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+27",country:"South Africa",flag:""}],AA={store_name:"",owner_name:"",owner_number:"",owner_country_code:"+91",store_contact_number:"",store_country_code:"+91",email:"",store_address:"",pincode:"",city:"",state:"",latitude:"",longitude:"",store_opening_time:"",store_closing_time:"",pos_billing_software_name:"",real_time_stock_capability:"",bank_account_name:"",bank_account_number:"",bank_name:"",ifsc_code:"",drug_license:null,gst_certificate:null,pan_card:null,aadhar_card:null,store_front_view:null,medicine_racks_view:null,owner_photo_with_store:null,medicine_inventory_file:null,cancel_cheque_passbook:null,shop_license:null},cre=({isOpen:e,onClose:t,onSubmit:r,isSubmitting:a})=>{const[s,i]=v.useState(AA),[o,c]=v.useState({});v.useEffect(()=>{e||(i(AA),c({}))},[e]);const u=x=>{const{name:w,value:y}=x.target;i(b=>({...b,[w]:y}))},m=(x,w)=>{const y=x.target.files?.[0]||null;if(y)if(i(b=>({...b,[w]:y})),y.type.startsWith("image/")){const b=new FileReader;b.onloadend=()=>{c(N=>({...N,[w]:b.result}))},b.readAsDataURL(y)}else c(b=>({...b,[w]:null}))},f=x=>{i(w=>({...w,[x]:null})),c(w=>{const y={...w};return delete y[x],y})},h=async x=>{if(x.preventDefault(),!s.store_name||!s.owner_name||!s.owner_number||!s.store_contact_number||!s.email||!s.store_address||!s.pincode||!s.latitude||!s.longitude||!s.store_opening_time||!s.store_closing_time||!s.pos_billing_software_name||!s.bank_account_name||!s.bank_account_number||!s.bank_name||!s.ifsc_code||!s.drug_license||!s.gst_certificate||!s.pan_card||!s.store_front_view||!s.owner_photo_with_store||!s.cancel_cheque_passbook){alert("Please fill all mandatory fields");return}const w=new FormData;w.append("store_name",s.store_name),w.append("owner_name",s.owner_name),w.append("owner_number",`${s.owner_country_code}${s.owner_number}`),w.append("store_contact_number",`${s.store_country_code}${s.store_contact_number}`),w.append("email",s.email),w.append("store_address",s.store_address),w.append("pincode",s.pincode),w.append("city",s.city),w.append("state",s.state),w.append("latitude",s.latitude),w.append("longitude",s.longitude),w.append("store_opening_time",s.store_opening_time),w.append("store_closing_time",s.store_closing_time),w.append("pos_billing_software_name",s.pos_billing_software_name),s.real_time_stock_capability&&w.append("real_time_stock_capability",s.real_time_stock_capability),w.append("bank_account_name",s.bank_account_name),w.append("bank_account_number",s.bank_account_number),w.append("bank_name",s.bank_name),w.append("ifsc_code",s.ifsc_code),s.drug_license&&w.append("drug_license",s.drug_license),s.gst_certificate&&w.append("gst_certificate",s.gst_certificate),s.pan_card&&w.append("pan_card",s.pan_card),s.aadhar_card&&w.append("aadhar_card",s.aadhar_card),s.store_front_view&&w.append("store_front_view",s.store_front_view),s.medicine_racks_view&&w.append("medicine_racks_view",s.medicine_racks_view),s.owner_photo_with_store&&w.append("owner_photo_with_store",s.owner_photo_with_store),s.medicine_inventory_file&&w.append("medicine_inventory_file",s.medicine_inventory_file),s.cancel_cheque_passbook&&w.append("cancel_cheque_passbook",s.cancel_cheque_passbook),s.shop_license&&w.append("shop_license",s.shop_license),await r(w)};if(!e)return null;const g=(x,w,y=!1,b=".pdf,.jpg,.jpeg,.png",N=!0)=>{const _=s[x],k=o[x];return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[w," ",y&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsx("input",{type:"file",accept:b,onChange:A=>m(A,x),className:"hidden",required:y}),n.jsxs("div",{className:"flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-md hover:border-primary transition-colors",children:[n.jsx(Fc,{size:20,className:"mr-2 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Upload ",N?"Image":"File"]})]})]}),_&&n.jsxs("div",{className:"flex items-center space-x-2",children:[N&&k&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:k,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>f(x),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:n.jsx(Rt,{size:12})})]}),!N&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-600",children:_.name}),n.jsx("button",{type:"button",onClick:()=>f(x),className:"text-red-500 hover:text-red-700",children:n.jsx(Rt,{size:16})})]})]})]})]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Register New Provider"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:a,children:n.jsx(Rt,{size:24})})]}),n.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"store_name",required:!0,value:s.store_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"owner_country_code",value:s.owner_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:EA.map(x=>n.jsxs("option",{value:x.code,children:[x.flag," ",x.code]},x.code))}),n.jsx("input",{type:"tel",name:"owner_number",required:!0,value:s.owner_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Contact Number (for login in app) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"store_country_code",value:s.store_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:EA.map(x=>n.jsxs("option",{value:x.code,children:[x.flag," ",x.code]},x.code))}),n.jsx("input",{type:"tel",name:"store_contact_number",required:!0,value:s.store_contact_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email-ID ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,value:s.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Address With Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"store_address",required:!0,value:s.store_address,onChange:u,rows:2,placeholder:"Enter full address with pincode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pincode",required:!0,value:s.pincode,onChange:u,placeholder:"XXXXXX",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"city",required:!0,value:s.city,onChange:u,placeholder:"Enter city",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"state",required:!0,value:s.state,onChange:u,placeholder:"Enter state",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Latitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"latitude",required:!0,value:s.latitude,onChange:u,step:"any",placeholder:"e.g., 28.6139",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Longitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"longitude",required:!0,value:s.longitude,onChange:u,step:"any",placeholder:"e.g., 77.2090",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Timings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Opening Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_opening_time",required:!0,value:s.store_opening_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Closing Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_closing_time",required:!0,value:s.store_closing_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Business Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["POS/Billing Software Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pos_billing_software_name",required:!0,value:s.pos_billing_software_name,onChange:u,placeholder:"e.g., Tally, QuickBooks, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Do you have real-time stock update capability?"}),n.jsxs("select",{name:"real_time_stock_capability",value:s.real_time_stock_capability,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Bank Account Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Holder Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_name",required:!0,value:s.bank_account_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_number",required:!0,value:s.bank_account_number,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_name",required:!0,value:s.bank_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["IFSC Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"ifsc_code",required:!0,value:s.ifsc_code,onChange:u,placeholder:"ABCD0123456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Documents"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("drug_license","Drug license (Form 20/21)",!0),g("gst_certificate","GST Certificate",!0),g("pan_card","Pan Card (OWNER/BUSINESS)",!0),g("aadhar_card","Aadhar Card (OWNER)",!1),g("store_front_view","Front view of store (WITH SIGNBOARD)",!0),g("medicine_racks_view","Inside view of medicine racks",!1),g("owner_photo_with_store","Owner photo with store",!0),g("medicine_inventory_file","Upload Medicine Inventory File (Excel/CSV)",!1,".xlsx,.xls,.csv",!1),g("cancel_cheque_passbook","Cancel Cheque/Passbook Photo",!0),g("shop_license","Shop License (If Available)",!1)]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx(Be,{type:"button",variant:"outline",onClick:t,disabled:a,className:"border-2 border-primary !text-black font-semibold hover:bg-gray-100 hover:border-gray-500 hover:!text-black",children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",disabled:a,className:"font-semibold shadow-md hover:shadow-lg",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register Provider"})]})]})]})})},jy={pending:{status:"pending",verification_status:"pending"},verification_in_progress:{status:"pending",verification_status:"pending"},in_progress:{status:"pending",verification_status:"pending"},approved:{status:"approved",verification_status:"verified"},verified:{status:"approved",verification_status:"verified"},active:{status:"approved",verification_status:"verified"},rejected:{status:"blocked",verification_status:"rejected"},blocked:{status:"blocked",verification_status:"rejected"},suspend:{status:"suspended",verification_status:"verified"},suspended:{status:"suspended",verification_status:"verified"}},dre=e=>{if(!e)return jy.pending;const t=e.toLowerCase();return jy[t]||jy.pending},fn=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return Number.isFinite(r)?r:t},bc=(e,t=!1)=>{if(e==null)return t;if(typeof e=="string"){const r=e.trim().toLowerCase();if(["true","1","yes","verified","approved"].includes(r))return!0;if(["false","0","no","pending","rejected"].includes(r))return!1}return!!e},$t=(e,t="")=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},Hc=(e,t=null)=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},ure=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>$t(t)).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>$t(r)).filter(Boolean)}catch{return e.split(",").map(t=>t.trim()).filter(Boolean)}return e?[e]:[]}return[]},fre=e=>Array.isArray(e)?e.map((t,r)=>({id:fn(t?.id,r+1),service_name:$t(t?.service_name??t?.title,`Service ${r+1}`),description:$t(t?.description,""),price_min:fn(t?.price_min??t?.price??t?.price_original,0),price_max:fn(t?.price_max??t?.price??t?.price_original,0),duration_minutes:fn(t?.duration_minutes??t?.duration,0),status:$t(t?.status,"active"),category_name:$t(t?.category_name??t?.category,"General")})):[],mre=(e,t,r)=>Array.isArray(e)?e.map((a,s)=>({pincode:$t(a?.pincode,""),area_name:$t(a?.area_name??a?.name,`Area ${s+1}`),city:$t(a?.city,t),state:$t(a?.state,r),is_primary:bc(a?.is_primary??a?.primary,s===0)})):[],hre=(e,t)=>{if(Array.isArray(e?.documents)&&e.documents.length>0)return e.documents.map((o,c)=>({id:fn(o?.id,c+1),document_type:$t(o?.document_type??o?.type,`document_${c+1}`),document_name:$t(o?.document_name??o?.document_type??o?.type,`Document ${c+1}`),status:$t(o?.status,o?.verified_at?"approved":o?.rejection_reason?"rejected":"submitted"),uploaded_at:$t(o?.uploaded_at,e?.created_at||t?.created_at||new Date().toISOString()),verified_at:o?.verified_at??null,rejection_reason:o?.rejection_reason??null,document_url:Hc(o?.document_url??o?.url??o?.file_url??o?.path??o?.link??null,null)}));const r=[],a=new Set,s=(o,c)=>{const u=o.trim();if(!u)return;const m=u.toLowerCase();a.has(m)||(a.add(m),r.push({id:r.length+1,document_type:u,document_name:u,status:"submitted",uploaded_at:e?.created_at||t?.created_at||new Date().toISOString(),verified_at:null,rejection_reason:null,document_url:Hc(c??null,null)}))};return e?.documents&&typeof e.documents=="object"&&Object.entries(e.documents).forEach(([o,c])=>{if(!c)return;const u=o.replace(/_url|_doc_url/g,"").replace(/_/g," ").trim();if(u){if(Array.isArray(c))c.forEach((m,f)=>{if(!m)return;const h=c.length>1?`${u} ${f+1}`:u;if(typeof m=="string")s(h,m);else if(typeof m=="object"){const g=m.url??m?.document_url??m?.path??m?.file_url;g&&s(h,String(g))}});else if(typeof c=="string")s(u,c);else if(typeof c=="object"){const m=c.url??c?.document_url??c?.path??c?.file_url;m&&s(u,String(m))}}}),[{key:"profile_photo_url",label:"Profile Photo"},{key:"aadhaar_doc_url",label:"Aadhaar Document"},{key:"pan_doc_url",label:"PAN Document"},{key:"degree_doc_url",label:"Degree Document"}].forEach(({key:o,label:c})=>{e?.[o]&&s(c,e[o])}),r.length===0&&t?.documents?t.documents:r},pre=(e,t)=>{if(Array.isArray(e?.portfolio)&&e.portfolio.length>0)return e.portfolio;const r=ure(e?.previous_work_images);return r.length===0?t?.portfolio??[]:r.map((a,s)=>({id:s+1,title:`Work ${s+1}`,description:"",image_path:a,before_image:a,after_image:a,display_order:s+1,status:"active",created_at:e?.created_at||t?.created_at||new Date().toISOString()}))},xre=(e,t)=>{if(!e&&!t)return null;const r=e||t;return r?{account_holder_name:$t(r.account_holder_name,t?.account_holder_name??""),bank_name:$t(r.bank_name,t?.bank_name??""),account_number:$t(r.account_number,t?.account_number??""),ifsc_code:$t(r.ifsc_code,t?.ifsc_code??"")}:null},gre=(e,t)=>Array.isArray(e)?e.map(r=>fn(r)).filter(r=>Number.isFinite(r)&&r>0):t||[],vre=(e,t)=>{if(Array.isArray(e)){const r=[];return e.forEach((a,s)=>{const i=fn(a?.category_id,a?.category?Number(a?.category):0),o=fn(a?.subcategory_id,s+1);!i&&!o||r.push({category_id:i,subcategory_id:o,category_name:Hc(a?.category_name??a?.category??null,null),subcategory_name:Hc(a?.subcategory_name??a?.subcategory??null,null)})}),r}return t||[]},hc=(e,t)=>{if(!e&&t)return t;if(!e)return{id:0,name:"",email:"",phone:"",business_name:"",address:"",pincode:"",city:"",state:"",profile_image:null,business_logo:null,experience_years:0,description:null,status:"pending",verification_status:"pending",email_verified:!1,phone_verified:!1,identity_verified:!1,documents_verified:!1,average_rating:0,total_reviews:0,total_bookings:0,total_earnings:0,commission_rate:0,is_featured:!1,created_at:new Date().toISOString(),services:[],service_areas:[],documents:[],portfolio:[]};const r=e?.details?{...e.details,...e}:e,{status:a,verification_status:s}=dre(r?.status),i=$t(r?.city,t?.city??""),o=$t(r?.state,t?.state??""),c=fre(r?.services),u=mre(r?.service_areas,i,o),m=hre(r,t),f=pre(r,t),h=xre(r?.bank_details,t?.bank_details),g=gre(r?.categories,t?.category_ids),x=vre(r?.subcategories,t?.subcategory_links),w=$t(r?.created_at,t?.created_at??new Date().toISOString()),y=r?.average_rating??r?.rating,b=r?.total_reviews??(Array.isArray(r?.reviews)?r.reviews.length:void 0),N=r?.total_bookings??r?.completed_appointments;return{id:fn(r?.id??r?.provider_id,t?.id??0),name:$t(r?.full_name??r?.name,t?.name??""),email:$t(r?.email,t?.email??""),phone:$t(r?.phone_number??r?.phone,t?.phone??""),business_name:$t(r?.business_name,t?.business_name??""),address:$t(r?.address,t?.address??""),pincode:$t(r?.pincode,t?.pincode??""),city:i,state:o,profile_image:Hc(r?.profile_photo_url??r?.profile_image??r?.documents?.profile_photo_url,t?.profile_image??null),business_logo:Hc(r?.business_logo,t?.business_logo??null),experience_years:fn(r?.experience_years,t?.experience_years??0),description:r?.description??t?.description??null,status:a,verification_status:s,email_verified:bc(r?.email_verified,t?.email_verified??!1),phone_verified:bc(r?.phone_verified,t?.phone_verified??!1),identity_verified:bc(r?.identity_verified,t?.identity_verified??!1),documents_verified:bc(r?.documents_verified,t?.documents_verified??a==="approved"),average_rating:fn(y,t?.average_rating??0),total_reviews:fn(b,t?.total_reviews??0),total_bookings:fn(N,t?.total_bookings??0),total_earnings:fn(r?.total_earnings,t?.total_earnings??0),commission_rate:fn(r?.commission_rate,t?.commission_rate??0),is_featured:bc(r?.is_featured,t?.is_featured??!1),created_at:w,services:c.length>0?c:t?.services??[],service_areas:u.length>0?u:t?.service_areas??[],documents:m.length>0?m:t?.documents??[],portfolio:f.length>0?f:t?.portfolio??[],bank_details:h,category_ids:g,subcategory_links:x}},rh=(e,t)=>{if(!t)return e;const r=e.findIndex(s=>s.id===t.id);if(r===-1)return e;const a=[...e];return a[r]=t,a},yre={approve:{apiAction:"approve",nextStatus:"approved",verification:"verified"},reject:{apiAction:"reject",nextStatus:"blocked",verification:"rejected"},suspend:{apiAction:"suspend",nextStatus:"suspended",verification:"verified"},reinstate:{apiAction:"reinstate",nextStatus:"approved",verification:"verified"}},bre=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(""),[c,u]=v.useState(1),[m,f]=v.useState(new Set),[h,g]=v.useState(!1),[x,w]=v.useState({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1}),y=5,[b,N]=v.useState("all"),[_,k]=v.useState([]),[A,T]=v.useState(!1),[I,O]=v.useState({isOpen:!1,providerId:null,action:null,reason:"",notes:""}),[D,P]=v.useState({isOpen:!1,providerId:null,documentId:null,action:null}),[M,V]=v.useState(!1),[U,J]=v.useState(!1),[W,he]=v.useState({categories:{},servicesById:{}}),X=v.useCallback(async()=>{const Ce=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{const[Ae,je]=await Promise.all([fetch(`${ke}/admin/categories`,{headers:{"Content-Type":"application/json",...Ce?{Authorization:`Bearer ${Ce}`}:{}}}),fetch(`${ke}/admin/services`,{headers:{"Content-Type":"application/json",...Ce?{Authorization:`Bearer ${Ce}`}:{}}})]),it=await Ae.json(),Xe=await je.json();if(Ae.ok&&Array.isArray(it.categories)){const gt={};it.categories.forEach(vt=>{const St=fn(vt?.id,0);if(!St)return;const yt={},wr=Array.isArray(vt?.subcategories)?vt.subcategories:vt?.services;Array.isArray(wr)&&wr.forEach((wt,se)=>{const Y=fn(wt?.id,se+1);Y&&(yt[Y]=$t(wt?.name??wt?.title??wt?.service_name,`Service ${Y}`))}),gt[St]={name:$t(vt?.name,`Category ${St}`),services:yt}});const at={};je.ok&&Array.isArray(Xe.services)&&Xe.services.forEach((vt,St)=>{const yt=fn(vt?.id,St+1);yt&&(at[yt]=$t(vt?.title??vt?.name??vt?.service_name,`Service ${yt}`))}),he({categories:gt,servicesById:at})}else throw new Error(it.message||"Failed to fetch categories")}catch(Ae){console.error("Error fetching categories catalog:",Ae);const je=Ae instanceof Error?Ae.message:"Failed to fetch categories";e(je,"error")}},[ke,e]),be=v.useCallback(async(Ce=!1)=>{const Ae=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Ae){e("Please login to view providers","error"),Ce&&s(!1);return}Ce&&s(!0);try{const je=await fetch(`${ke}/admin/providers`,{headers:{Authorization:`Bearer ${Ae}`,"Content-Type":"application/json"}});if(!je.ok)throw new Error(`HTTP error! status: ${je.status}`);const it=je.headers.get("content-type");if(!it||!it.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),r([]);return}const Xe=await je.text();if(!Xe||Xe.trim()===""){console.warn("Empty response body, treating as empty list"),r([]);return}let gt;try{gt=JSON.parse(Xe)}catch(at){throw console.error("JSON parse error:",at,"Response text:",Xe),new Error("Invalid JSON response from server")}if(Array.isArray(gt.data)){const at=gt.data.map(vt=>hc(vt));r(at)}else if(gt.success===!1)console.warn("API returned error:",gt.message),r([]);else throw new Error(gt.message||"Failed to fetch providers")}catch(je){console.error("Error fetching providers:",je);const it=je instanceof Error?je.message:"Failed to fetch providers";e(it,"error"),r([])}finally{Ce&&s(!1)}},[ke,e]),ne=v.useCallback(async()=>{T(!0);const Ce=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Ce){e("Please login to view pending providers","error"),T(!1);return}try{const Ae=await fetch(`${ke}/admin/providers?list=pending`,{headers:{Authorization:`Bearer ${Ce}`,"Content-Type":"application/json"}});if(!Ae.ok)throw new Error(`HTTP error! status: ${Ae.status}`);const je=Ae.headers.get("content-type");if(!je||!je.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),k([]);return}const it=await Ae.text();if(!it||it.trim()===""){console.warn("Empty response body, treating as empty list"),k([]);return}let Xe;try{Xe=JSON.parse(it)}catch(gt){throw console.error("JSON parse error:",gt,"Response text:",it),new Error("Invalid JSON response from server")}if(Array.isArray(Xe.data)){const gt=Xe.data.map(at=>hc(at));k(gt)}else if(Xe.success===!1)console.warn("API returned error:",Xe.message),k([]);else throw new Error(Xe.message||"Failed to fetch pending providers")}catch(Ae){console.error("Error fetching pending providers:",Ae);const je=Ae instanceof Error?Ae.message:"Failed to fetch pending providers";e(je,"error"),k([])}finally{T(!1)}},[ke,e]);v.useEffect(()=>{be(!0),ne(),X()},[be,ne,X]),v.useEffect(()=>{b==="pending"||be(),ne()},[b,ne,be]),v.useEffect(()=>{const Ce=setInterval(()=>{be(),ne()},3e4);return()=>clearInterval(Ce)},[ne,be]);const ve=async Ce=>{const Ae=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Ae){e("Please login to view provider details","error");return}try{const je=await fetch(`${ke}/admin/providers?provider_id=${Ce}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae}`}}),it=await je.json(),Xe=Array.isArray(it?.data)?it.data[0]:it?.data;if(je.ok&&Xe){const gt=Xe;let at=null;r(vt=>{const St=vt.find(yt=>yt.id===Ce);return at=hc(gt,St),rh(vt,at)}),k(vt=>{if(!at){const St=vt.find(yt=>yt.id===Ce);at=hc(gt,St)}return rh(vt,at)})}else throw new Error(it.message||"Failed to fetch provider details")}catch(je){console.error("Error fetching provider details:",je),e(je instanceof Error?je.message:"Failed to fetch provider details","error")}},me=Ce=>{const Ae=new Set(m);m.has(Ce)?Ae.delete(Ce):(Ae.add(Ce),ve(Ce)),f(Ae)},ae=Ce=>{Ce==="name"||Ce==="status"||Ce==="action"||w(Ae=>({...Ae,[Ce]:!Ae[Ce]}))},C=()=>{w({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1})},B=()=>{O({isOpen:!1,providerId:null,action:null,reason:"",notes:""})},H=(Ce,Ae)=>{if(Ae==="reject"||Ae==="suspend"){O({isOpen:!0,providerId:Ce,action:Ae,reason:"",notes:""});return}L(Ce,Ae)},K=t.filter(Ce=>Ce.name.toLowerCase().includes(i.toLowerCase())||Ce.email.toLowerCase().includes(i.toLowerCase())||Ce.phone.includes(i)||Ce.city.toLowerCase().includes(i.toLowerCase())),te=Math.ceil(K.length/y),ye=(c-1)*y,Se=K.slice(ye,ye+y),L=async(Ce,Ae,je,it)=>{const Xe=yre[Ae];if(!Xe)return;const gt=(it||je||"").trim();if((Ae==="reject"||Ae==="suspend")&&!gt){e("Please provide a reason for this action","error");return}try{const at=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!at){e("Please login to verify provider","error");return}const vt={action:Xe.apiAction};gt&&(vt.notes=gt);const St=await fetch(`${ke}/admin/provider/verify/${Ce}`,{method:"PUT",headers:{Authorization:`Bearer ${at}`,"Content-Type":"application/json"},body:JSON.stringify(vt)});if(!St.ok){let wt="Failed to update provider status";try{const se=await St.json();wt=se.message||se.error?.message||wt}catch{wt=`Failed to update provider status: ${St.status} ${St.statusText}`}throw new Error(wt)}let yt={};if(St.status!==204)try{const wt=St.headers.get("content-type");if(wt&&wt.includes("application/json")){const se=await St.text();se&&se.trim()&&(yt=JSON.parse(se))}}catch(wt){console.warn("Failed to parse response JSON, but response was successful. Provider status was updated:",wt),yt={}}const wr=Xe.nextStatus!=="pending";if(yt.provider){const wt=yt.provider;let se=null;r(Y=>{const Te=Y.find(mt=>mt.id===Ce);return se=hc(wt,Te),rh(Y,se)}),k(Y=>{if(!se){const Ie=Y.find(mt=>mt.id===Ce);se=hc(wt,Ie)}const Te=rh(Y,se);return wr?Te.filter(Ie=>Ie.id!==Ce):Te})}else r(wt=>wt.map(se=>se.id===Ce?{...se,status:Xe.nextStatus,verification_status:Xe.verification}:se)),k(wt=>{const se=wt.map(Y=>Y.id===Ce?{...Y,status:Xe.nextStatus,verification_status:Xe.verification}:Y);return wr?se.filter(Y=>Y.id!==Ce):se});B(),e(yt.message||`Provider ${Ae}d successfully`,"success");try{await be()}catch(wt){console.error("Error refreshing providers list:",wt)}try{await ne()}catch(wt){console.error("Error refreshing pending providers list:",wt)}}catch(at){console.error("Error updating provider status:",at),e(at instanceof Error?at.message:"Failed to update provider status","error")}},G=async Ce=>{J(!0);try{const Ae=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Ae){e("Please login to register a provider","error"),J(!1);return}const je=await fetch(`${ke}/provider/register`,{method:"POST",headers:{Authorization:`Bearer ${Ae}`},body:Ce}),it=await je.json();if(je.ok&&it.provider_id){e(it.message||"Provider registered successfully","success"),V(!1);try{await be(),await ne()}catch(Xe){console.error("Error refreshing providers list:",Xe)}}else{const Xe=it?.error?.message||it?.message||"Failed to register provider";e(Xe,"error")}}catch(Ae){console.error("Error registering provider:",Ae),e(Ae instanceof Error?Ae.message:"Failed to register provider","error")}finally{J(!1)}},ge=async(Ce,Ae,je,it)=>{try{const Xe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Xe){e("Please login to update document","error");return}const at=await(await fetch(`${ke}/admin/providers/${Ce}/documents/${Ae}`,{method:"POST",headers:{Authorization:`Bearer ${Xe}`,"Content-Type":"application/json"},body:JSON.stringify({action:je,reason:it})})).json();at.success&&(r(vt=>vt.map(St=>St.id===Ce?{...St,documents:St.documents?.map(yt=>yt.id===Ae?{...yt,status:je==="approve"?"approved":"rejected",rejection_reason:it||null}:yt)}:St)),e(at.message,"success"))}catch(Xe){console.error("Error updating document status:",Xe),e("Failed to update document status","error")}},le=Ce=>Ce?new Date(Ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Re=Ce=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Ce),De=()=>{const Ce=b==="pending"?_:Se;return b==="pending"&&!A&&_.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(x).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(Ws,{size:24,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Providers"}),n.jsx("p",{className:"text-gray-500 max-w-sm",children:"There are currently no vendors waiting for approval."})]})})}):A&&b==="pending"?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(x).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading pending providers..."})]})})}):Ce.map(Ae=>n.jsxs(Zr.Fragment,{children:[n.jsx(rre,{provider:Ae,fieldVisibility:x,expandingUsers:m,onStatusAction:H,onToggleDropdown:me,formatDate:le,formatCurrency:Re,isExpanded:m.has(Ae.id)}),m.has(Ae.id)&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-primary/5 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(x).filter(Boolean).length+1,className:"p-6",children:n.jsx(nre,{provider:Ae,formatDate:le,serviceCatalog:W})})})]},Ae.id))};return n.jsxs(Yt,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Vendors"}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:n.jsx(Ws,{className:"h-5 w-5 text-white"})}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:"Manage and approve pharmacy vendor profiles, monitor their performance, and handle verification requests."})]})]})]}),a&&b==="all"?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading vendors..."})]}):n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Nt,{children:"Vendors"}),n.jsx(_f,{value:b,onValueChange:Ce=>N(Ce),children:n.jsxs(Nf,{children:[n.jsxs(Xs,{value:"all",className:"relative",children:["Partnered Stores",n.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:t.length})]}),n.jsxs(Xs,{value:"pending",className:"relative",children:["Pending Approval",n.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:_.length})]})]})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(Be,{onClick:()=>V(!0),variant:"primary",className:"flex items-center space-x-2",children:[n.jsx(pa,{size:18}),n.jsx("span",{children:"Add Provider"})]}),n.jsx(sre,{showFieldManagement:h,onToggleSettings:()=>g(!h),fieldVisibility:x,onToggleField:ae,onResetFields:C}),n.jsx(are,{searchTerm:i,onSearchChange:o})]})]}),n.jsxs(tt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx(Qte,{fieldVisibility:x}),n.jsx("tbody",{children:De()})]})}),b==="all"&&te>1&&n.jsx(ire,{currentPage:c,totalPages:te,startIndex:ye,itemsPerPage:y,totalItems:K.length,onPageChange:u})]})]}),n.jsx(ore,{isOpen:I.isOpen,providerId:I.providerId,action:I.action,reason:I.reason,notes:I.notes,onClose:B,onConfirm:L,onReasonChange:Ce=>O(Ae=>({...Ae,reason:Ce})),onNotesChange:Ce=>O(Ae=>({...Ae,notes:Ce}))}),n.jsx(lre,{isOpen:D.isOpen,providerId:D.providerId,documentId:D.documentId,action:D.action,reason:D.reason,onClose:()=>P({isOpen:!1,providerId:null,documentId:null,action:null}),onConfirm:ge,onReasonChange:Ce=>P(Ae=>({...Ae,reason:Ce}))}),n.jsx(cre,{isOpen:M,onClose:()=>V(!1),onSubmit:G,isSubmitting:U})]})},Uu=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}),wre=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>t<=1?null:n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," users"]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:`border-2 font-semibold transition-all duration-200 group ${e===1?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx(Yc,{size:16,className:e===1?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"}),n.jsx("span",{className:"ml-1",children:"Previous"})]}),n.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:[e," of ",t]}),n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:`border-2 font-semibold transition-all duration-200 group ${e===t?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx("span",{className:"mr-1",children:"Next"}),n.jsx(Bi,{size:16,className:e===t?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"})]})]})]}),jre=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Tn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),_re=({user:e,formatDate:t,getActivityIcon:r})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(ar,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"User Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Login"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.last_login)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ra,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Ra,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx($a,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ma,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Ma,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]})]}),Nre=({columnVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[e.name&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Name"}),e.contact&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Location"}),e.status&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Status"}),e.activity&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Activity"}),e.actions&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Actions"})]})}),Sre=({user:e,columnVisibility:t,expandingUsers:r,onStatusChange:a,onToggleDropdown:s,formatDate:i})=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[t.name&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-3 min-w-[180px]",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-2 ring-primary/10 flex-shrink-0",children:n.jsx("span",{className:"text-sm font-semibold text-primary",children:e.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),t.contact&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[220px]",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(Ra,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900 break-words",children:e.email}),e.email_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(za,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx($a,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900",children:e.phone}),e.phone_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(za,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]})]})}),t.location&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"text-sm min-w-[180px]",children:[n.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[e.city,", ",e.state]}),n.jsxs("p",{className:"text-gray-500 flex items-center",children:[n.jsx(Ma,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsx("span",{children:e.pincode})]})]})}),t.status&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsx("div",{className:"min-w-[120px]",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700 border border-green-200":e.status==="suspended"?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 flex-shrink-0 ${e.status==="active"?"bg-green-500":e.status==="suspended"?"bg-red-500":"bg-gray-500"}`}),e.status==="inactive"?"Active":e.status.charAt(0).toUpperCase()+e.status.slice(1)]})})}),t.activity&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fr,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-sm text-gray-900",children:["Last: ",i(e.last_login)]})]}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Fr,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:[e.total_bookings," bookings"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ai,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:["",e.total_spent.toLocaleString()]})]})]})]})}),t.actions&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-2 min-w-[280px]",children:[n.jsxs("select",{value:e.status,onChange:o=>a(e.id,o.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white text-gray-900",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"suspended",children:"Suspended"})]}),n.jsx(Be,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-black hover:border-primary hover:shadow-md group",disabled:r.has(e.id),children:r.has(e.id)?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx(ya,{size:14,className:"mr-1 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:"Details"}),e.expanded?n.jsx(Zs,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"}):n.jsx(Ha,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"})]})})]})})]});var k0={};k0.version="0.18.5";var f6=1252,kre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],m6=function(e){kre.indexOf(e)!=-1&&(f6=e)};function Ere(){m6(1252)}var Wu=function(e){m6(e)};function Are(){Wu(1200),Ere()}var nh=function(t){return String.fromCharCode(t)},CA=function(t){return String.fromCharCode(t)},E0,So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hu(e){for(var t="",r=0,a=0,s=0,i=0,o=0,c=0,u=0,m=0;m<e.length;)r=e.charCodeAt(m++),i=r>>2,a=e.charCodeAt(m++),o=(r&3)<<4|a>>4,s=e.charCodeAt(m++),c=(a&15)<<2|s>>6,u=s&63,isNaN(a)?c=u=64:isNaN(s)&&(u=64),t+=So.charAt(i)+So.charAt(o)+So.charAt(c)+So.charAt(u);return t}function Ri(e){var t="",r=0,a=0,s=0,i=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<e.length;)i=So.indexOf(e.charAt(m++)),o=So.indexOf(e.charAt(m++)),r=i<<2|o>>4,t+=String.fromCharCode(r),c=So.indexOf(e.charAt(m++)),a=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(a)),u=So.indexOf(e.charAt(m++)),s=(c&3)<<6|u,u!==64&&(t+=String.fromCharCode(s));return t}var Lt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Xi=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Cl(e){return Lt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function TA(e){return Lt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var js=function(t){return Lt?Xi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Bp(e){if(typeof ArrayBuffer>"u")return js(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Sf(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Cre(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var kn=Lt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Xi(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Tre(e){for(var t=[],r=0,a=e.length+250,s=Cl(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|c>>6&15|(o&3)<<4,s[r++]=128|c&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=Cl(65535),a=65530)}return t.push(s.slice(0,r)),kn(t)}var gu=/\u0000/g,ah=/[\u0001-\u0006]/g;function Pc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _s(e,t){var r=""+e;return r.length>=t?r:Sr("0",t-r.length)+r}function hj(e,t){var r=""+e;return r.length>=t?r:Sr(" ",t-r.length)+r}function A0(e,t){var r=""+e;return r.length>=t?r:r+Sr(" ",t-r.length)}function Pre(e,t){var r=""+Math.round(e);return r.length>=t?r:Sr("0",t-r.length)+r}function Ore(e,t){var r=""+e;return r.length>=t?r:Sr("0",t-r.length)+r}var PA=Math.pow(2,32);function pc(e,t){if(e>PA||e<-PA)return Pre(e,t);var r=Math.round(e);return Ore(r,t)}function C0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var OA=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_y=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Ire(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var kr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},IA={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Dre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function T0(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,c=0,u=1,m=0,f=0,h=Math.floor(s);m<t&&(h=Math.floor(s),c=h*o+i,f=h*m+u,!(s-h<5e-8));)s=1/(s-h),i=o,o=c,u=m,m=f;if(f>t&&(m>t?(f=u,c=i):(f=m,c=o)),!r)return[0,a*c,f];var g=Math.floor(a*c/f);return[g,a*c-g*f,f]}function sh(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],c={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++a,++c.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),r&&(i=Bre(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var h6=new Date(1899,11,31,0,0,0),Mre=h6.getTime(),Fre=new Date(1900,2,1,0,0,0);function p6(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Fre&&(r+=1440*60*1e3),(r-(Mre+(e.getTimezoneOffset()-h6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function pj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Lre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Rre(e){var t=e<0?12:11,r=pj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function $re(e){var t=pj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function zre(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Rre(e):t===10?r=e.toFixed(10).substr(0,12):r=$re(e),pj(Lre(r.toUpperCase()))}function H1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):zre(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Do(14,p6(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Bre(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Ure(e,t,r,a){var s="",i=0,o=0,c=r.y,u,m=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:u=c%100,m=2;break;default:u=c%1e4,m=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,m=t.length;break;case 3:return _y[r.m-1][1];case 5:return _y[r.m-1][0];default:return _y[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,m=t.length;break;case 3:return OA[r.q][0];default:return OA[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,m=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,m=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,m=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_s(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=_s(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}m=t.length===3?1:2;break;case 101:u=c,m=1;break}var f=m>0?_s(u,m):"";return f}function ko(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var x6=/%/g;function Wre(e,t,r){var a=t.replace(x6,""),s=t.length-a.length;return Ni(e,a,r*Math.pow(10,2*s))+Sr("%",s)}function Hre(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Ni(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function g6(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+g6(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,m,f){return u+m+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var v6=/# (\?+)( ?)\/( ?)(\d+)/;function Kre(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,c=a;return r+(i===0?"":""+i)+" "+(o===0?Sr(" ",e[1].length+1+e[4].length):hj(o,e[1].length)+e[2]+"/"+e[3]+_s(c,e[4].length))}function Vre(e,t,r){return r+(t===0?"":""+t)+Sr(" ",e[1].length+2+e[4].length)}var y6=/^#*0*\.([0#]+)/,b6=/\).*[0#]/,w6=/\(###\) ###\\?-####/;function Gn(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function DA(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function MA(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function qre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Gre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function es(e,t,r){if(e.charCodeAt(0)===40&&!t.match(b6)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?es("n",a,r):"("+es("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Hre(e,t,r);if(t.indexOf("%")!==-1)return Wre(e,t,r);if(t.indexOf("E")!==-1)return g6(t,r);if(t.charCodeAt(0)===36)return"$"+es(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,c,u=Math.abs(r),m=r<0?"-":"";if(t.match(/^00+$/))return m+pc(u,t.length);if(t.match(/^[#?]+$/))return s=pc(r,0),s==="0"&&(s=""),s.length>t.length?s:Gn(t.substr(0,t.length-s.length))+s;if(i=t.match(v6))return Kre(i,u,m);if(t.match(/^#+0+$/))return m+pc(u,t.length-t.indexOf("0"));if(i=t.match(y6))return s=DA(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Gn(i[1])).replace(/\.$/,"."+Gn(i[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+Sr("0",Gn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return m+DA(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return m+ko(pc(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+es(e,t,-r):ko(""+(Math.floor(r)+qre(r,i[1].length)))+"."+_s(MA(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return es(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Pc(es(e,t.replace(/[\\-]/g,""),r)),o=0,Pc(Pc(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(t.match(w6))return s=es(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=T0(u,Math.pow(10,o)-1,!1),s=""+m,f=Ni("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=A0(c[2],o),f.length<i[4].length&&(f=Gn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=T0(u,Math.pow(10,o)-1,!0),m+(c[0]||(c[1]?"":"0"))+" "+(c[1]?hj(c[1],o)+i[2]+"/"+i[3]+A0(c[2],o):Sr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=pc(r,0),t.length<=s.length?s:Gn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,g=t.length-s.length-h;return Gn(t.substr(0,h)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=MA(r,i[1].length),r<0?"-"+es(e,t,-r):ko(Gre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?_s(0,3-w.length):"")+w})+"."+_s(o,i[1].length);switch(t){case"###,##0.00":return es(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=ko(pc(u,0));return x!=="0"?m+x:"";case"###,###.00":return es(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return es(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Xre(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Ni(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Yre(e,t,r){var a=t.replace(x6,""),s=t.length-a.length;return Ni(e,a,r*Math.pow(10,2*s))+Sr("%",s)}function j6(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+j6(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,m,f){return u+m+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(b6)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fs("n",a,r):"("+Fs("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Xre(e,t,r);if(t.indexOf("%")!==-1)return Yre(e,t,r);if(t.indexOf("E")!==-1)return j6(t,r);if(t.charCodeAt(0)===36)return"$"+Fs(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,c,u=Math.abs(r),m=r<0?"-":"";if(t.match(/^00+$/))return m+_s(u,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Gn(t.substr(0,t.length-s.length))+s;if(i=t.match(v6))return Vre(i,u,m);if(t.match(/^#+0+$/))return m+_s(u,t.length-t.indexOf("0"));if(i=t.match(y6))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Gn(i[1])).replace(/\.$/,"."+Gn(i[1])),s=s.replace(/\.(\d*)$/,function(w,y){return"."+y+Sr("0",Gn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return m+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return m+ko(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fs(e,t,-r):ko(""+r)+"."+Sr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Fs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Pc(Fs(e,t.replace(/[\\-]/g,""),r)),o=0,Pc(Pc(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return o<s.length?s.charAt(o++):w==="0"?"0":""}));if(t.match(w6))return s=Fs(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=T0(u,Math.pow(10,o)-1,!1),s=""+m,f=Ni("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=A0(c[2],o),f.length<i[4].length&&(f=Gn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=T0(u,Math.pow(10,o)-1,!0),m+(c[0]||(c[1]?"":"0"))+" "+(c[1]?hj(c[1],o)+i[2]+"/"+i[3]+A0(c[2],o):Sr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Gn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,g=t.length-s.length-h;return Gn(t.substr(0,h)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fs(e,t,-r):ko(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?_s(0,3-w.length):"")+w})+"."+_s(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=ko(""+u);return x!=="0"?m+x:"";default:if(t.match(/\.[0#?]*$/))return Fs(e,t.slice(0,t.lastIndexOf(".")),r)+Gn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ni(e,t,r){return(r|0)===r?Fs(e,t,r):es(e,t,r)}function Jre(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var _6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function N6(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":C0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(_6))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Zre(e,t,r,a){for(var s=[],i="",o=0,c="",u="t",m,f,h,g="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!C0(e,o))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var x=e.charAt(++o),w=x==="("||x===")"?x:"t";s[s.length]={t:w,v:x},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(m==null&&(m=sh(t,r,e.charAt(o+1)==="2"),m==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||m==null&&(m=sh(t,r),m==null))return"";for(i=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var y={t:c,v:c};if(m==null&&(m=sh(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(m!=null&&(y.v=m.H>=12?"P":"A"),y.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(m!=null&&(y.v=m.H>=12?"PM":"AM"),y.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(m!=null&&(y.v=m.H>=12?"":""),y.t="T",o+=5,g="h"):(y.t="t",++o),m==null&&y.t==="T")return"";s[s.length]=y,u=c;break;case"[":for(i=c;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(_6)){if(m==null&&(m=sh(t,r),m==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",N6(e)||(s[s.length]={t:"t",v:i}));break;case".":if(m!=null){for(i=c;++o<e.length&&(c=e.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++o;break}var b=0,N=0,_;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,u="h",b<1&&(b=1);break;case"s":(_=s[o].v.match(/\.0+$/))&&(N=Math.max(N,_[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&s[o].v.match(/[Hh]/)&&(b=1),b<2&&s[o].v.match(/[Mm]/)&&(b=2),b<3&&s[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var k="",A;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Ure(s[o].t.charCodeAt(0),s[o].v,m,N),s[o].t="t";break;case"n":case"?":for(A=o+1;s[A]!=null&&((c=s[A].t)==="?"||c==="D"||(c===" "||c==="t")&&s[A+1]!=null&&(s[A+1].t==="?"||s[A+1].t==="t"&&s[A+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[A].v==="/"||s[A].v===" "&&s[A+1]!=null&&s[A+1].t=="?"));)s[o].v+=s[A].v,s[A]={v:"",t:";"},++A;k+=s[o].v,o=A-1;break;case"G":s[o].t="t",s[o].v=H1(t,r);break}var T="",I,O;if(k.length>0){k.charCodeAt(0)==40?(I=t<0&&k.charCodeAt(0)===45?-t:t,O=Ni("n",k,I)):(I=t<0&&a>1?-t:t,O=Ni("n",k,I),I<0&&s[0]&&s[0].t=="t"&&(O=O.substr(1),s[0].v="-"+s[0].v)),A=O.length-1;var D=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){D=o;break}var P=s.length;if(D===s.length&&O.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(A>=s[o].v.length-1?(A-=s[o].v.length,s[o].v=O.substr(A+1,s[o].v.length)):A<0?s[o].v="":(s[o].v=O.substr(0,A+1),A=-1),s[o].t="t",P=o);A>=0&&P<s.length&&(s[P].v=O.substr(0,A+1)+s[P].v)}else if(D!==s.length&&O.indexOf("E")===-1){for(A=O.indexOf(".")-1,o=D;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===D?s[o].v.indexOf(".")-1:s[o].v.length-1,T=s[o].v.substr(f+1);f>=0;--f)A>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(T=O.charAt(A--)+T);s[o].v=T,s[o].t="t",P=o}for(A>=0&&P<s.length&&(s[P].v=O.substr(0,A+1)+s[P].v),A=O.indexOf(".")+1,o=D;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==D)){for(f=s[o].v.indexOf(".")>-1&&o===D?s[o].v.indexOf(".")+1:0,T=s[o].v.substr(0,f);f<s[o].v.length;++f)A<O.length&&(T+=O.charAt(A++));s[o].v=T,s[o].t="t",P=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(I=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Ni(s[o].t,s[o].v,I),s[o].t="t");var M="";for(o=0;o!==s.length;++o)s[o]!=null&&(M+=s[o].v);return M}var FA=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function LA(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Qre(e,t){var r=Jre(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(FA),c=r[1].match(FA);return LA(t,o)?[a,r[0]]:LA(t,c)?[a,r[1]]:[a,r[o!=null&&c!=null?2:1]]}return[a,i]}function Do(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:kr)[e],a==null&&(a=r.table&&r.table[IA[e]]||kr[IA[e]]),a==null&&(a=Dre[e]||"General");break}if(C0(a,0))return H1(t,r);t instanceof Date&&(t=p6(t,r.date1904));var s=Qre(a,t);if(C0(s[1]))return H1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Zre(s[1],t,r,s[0])}function S6(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(kr[r]==null){t<0&&(t=r);continue}if(kr[r]==e){t=r;break}}t<0&&(t=391)}return kr[t]=e,t}function Up(e){for(var t=0;t!=392;++t)e[t]!==void 0&&S6(e[t],t)}function Wp(){kr=Ire()}var k6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ene(e){var t=typeof e=="number"?kr[e]:e;return t=t.replace(k6,"(\\d+)"),new RegExp("^"+t+"$")}function tne(e,t,r){var a=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(t.match(k6)||[]).forEach(function(h,g){var x=parseInt(r[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=x;break;case"d":i=x;break;case"h":o=x;break;case"s":u=x;break;case"m":o>=0?c=x:s=x;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var m=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?m:a==-1&&s==-1&&i==-1?f:m+"T"+f}var rne=(function(){var e={};e.version="1.2.0";function t(){for(var O=0,D=new Array(256),P=0;P!=256;++P)O=P,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,D[P]=O;return typeof Int32Array<"u"?new Int32Array(D):D}var r=t();function a(O){var D=0,P=0,M=0,V=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)V[M]=O[M];for(M=0;M!=256;++M)for(P=O[M],D=256+M;D<4096;D+=256)P=V[D]=P>>>8^O[P&255];var U=[];for(M=1;M!=16;++M)U[M-1]=typeof Int32Array<"u"?V.subarray(M*256,M*256+256):V.slice(M*256,M*256+256);return U}var s=a(r),i=s[0],o=s[1],c=s[2],u=s[3],m=s[4],f=s[5],h=s[6],g=s[7],x=s[8],w=s[9],y=s[10],b=s[11],N=s[12],_=s[13],k=s[14];function A(O,D){for(var P=D^-1,M=0,V=O.length;M<V;)P=P>>>8^r[(P^O.charCodeAt(M++))&255];return~P}function T(O,D){for(var P=D^-1,M=O.length-15,V=0;V<M;)P=k[O[V++]^P&255]^_[O[V++]^P>>8&255]^N[O[V++]^P>>16&255]^b[O[V++]^P>>>24]^y[O[V++]]^w[O[V++]]^x[O[V++]]^g[O[V++]]^h[O[V++]]^f[O[V++]]^m[O[V++]]^u[O[V++]]^c[O[V++]]^o[O[V++]]^i[O[V++]]^r[O[V++]];for(M+=15;V<M;)P=P>>>8^r[(P^O[V++])&255];return~P}function I(O,D){for(var P=D^-1,M=0,V=O.length,U=0,J=0;M<V;)U=O.charCodeAt(M++),U<128?P=P>>>8^r[(P^U)&255]:U<2048?(P=P>>>8^r[(P^(192|U>>6&31))&255],P=P>>>8^r[(P^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,J=O.charCodeAt(M++)&1023,P=P>>>8^r[(P^(240|U>>8&7))&255],P=P>>>8^r[(P^(128|U>>2&63))&255],P=P>>>8^r[(P^(128|J>>6&15|(U&3)<<4))&255],P=P>>>8^r[(P^(128|J&63))&255]):(P=P>>>8^r[(P^(224|U>>12&15))&255],P=P>>>8^r[(P^(128|U>>6&63))&255],P=P>>>8^r[(P^(128|U&63))&255]);return~P}return e.table=r,e.bstr=A,e.buf=T,e.str=I,e})(),Xt=(function(){var t={};t.version="1.2.1";function r(z,Q){for(var q=z.split("/"),Z=Q.split("/"),ee=0,re=0,R=Math.min(q.length,Z.length);ee<R;++ee){if(re=q[ee].length-Z[ee].length)return re;if(q[ee]!=Z[ee])return q[ee]<Z[ee]?-1:1}return q.length-Z.length}function a(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:a(z.slice(0,-1));var Q=z.lastIndexOf("/");return Q===-1?z:z.slice(0,Q+1)}function s(z){if(z.charAt(z.length-1)=="/")return s(z.slice(0,-1));var Q=z.lastIndexOf("/");return Q===-1?z:z.slice(Q+1)}function i(z,Q){typeof Q=="string"&&(Q=new Date(Q));var q=Q.getHours();q=q<<6|Q.getMinutes(),q=q<<5|Q.getSeconds()>>>1,z.write_shift(2,q);var Z=Q.getFullYear()-1980;Z=Z<<4|Q.getMonth()+1,Z=Z<<5|Q.getDate(),z.write_shift(2,Z)}function o(z){var Q=z.read_shift(2)&65535,q=z.read_shift(2)&65535,Z=new Date,ee=q&31;q>>>=5;var re=q&15;q>>>=4,Z.setMilliseconds(0),Z.setFullYear(q+1980),Z.setMonth(re-1),Z.setDate(ee);var R=Q&31;Q>>>=5;var ce=Q&63;return Q>>>=6,Z.setHours(Q),Z.setMinutes(ce),Z.setSeconds(R<<1),Z}function c(z){Ta(z,0);for(var Q={},q=0;z.l<=z.length-4;){var Z=z.read_shift(2),ee=z.read_shift(2),re=z.l+ee,R={};Z===21589&&(q=z.read_shift(1),q&1&&(R.mtime=z.read_shift(4)),ee>5&&(q&2&&(R.atime=z.read_shift(4)),q&4&&(R.ctime=z.read_shift(4))),R.mtime&&(R.mt=new Date(R.mtime*1e3))),z.l=re,Q[Z]=R}return Q}var u;function m(){return u||(u={})}function f(z,Q){if(z[0]==80&&z[1]==75)return Hn(z,Q);if((z[0]|32)==109&&(z[1]|32)==105)return Kn(z,Q);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var q=3,Z=512,ee=0,re=0,R=0,ce=0,oe=0,de=[],xe=z.slice(0,512);Ta(xe,0);var Pe=h(xe);switch(q=Pe[0],q){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Pe[1]==0)return Hn(z,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}Z!==512&&(xe=z.slice(0,Z),Ta(xe,28));var $e=z.slice(0,Z);g(xe,q);var Qe=xe.read_shift(4,"i");if(q===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);xe.l+=4,R=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),ce=xe.read_shift(4,"i"),ee=xe.read_shift(4,"i"),oe=xe.read_shift(4,"i"),re=xe.read_shift(4,"i");for(var He=-1,We=0;We<109&&(He=xe.read_shift(4,"i"),!(He<0));++We)de[We]=He;var jt=x(z,Z);b(oe,re,jt,Z,de);var Zt=_(jt,R,de,Z);Zt[R].name="!Directory",ee>0&&ce!==J&&(Zt[ce].name="!MiniFAT"),Zt[de[0]].name="!FAT",Zt.fat_addrs=de,Zt.ssz=Z;var tr={},Tr=[],Wo=[],Yi=[];k(R,Zt,jt,Tr,ee,tr,Wo,ce),w(Wo,Yi,Tr),Tr.shift();var Ts={FileIndex:Wo,FullPaths:Yi};return Q&&Q.raw&&(Ts.raw={header:$e,sectors:jt}),Ts}function h(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(W,"Header Signature: "),z.l+=16;var Q=z.read_shift(2,"u");return[z.read_shift(2,"u"),Q]}function g(z,Q){var q=9;switch(z.l+=2,q=z.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function x(z,Q){for(var q=Math.ceil(z.length/Q)-1,Z=[],ee=1;ee<q;++ee)Z[ee-1]=z.slice(ee*Q,(ee+1)*Q);return Z[q-1]=z.slice(q*Q),Z}function w(z,Q,q){for(var Z=0,ee=0,re=0,R=0,ce=0,oe=q.length,de=[],xe=[];Z<oe;++Z)de[Z]=xe[Z]=Z,Q[Z]=q[Z];for(;ce<xe.length;++ce)Z=xe[ce],ee=z[Z].L,re=z[Z].R,R=z[Z].C,de[Z]===Z&&(ee!==-1&&de[ee]!==ee&&(de[Z]=de[ee]),re!==-1&&de[re]!==re&&(de[Z]=de[re])),R!==-1&&(de[R]=Z),ee!==-1&&Z!=de[Z]&&(de[ee]=de[Z],xe.lastIndexOf(ee)<ce&&xe.push(ee)),re!==-1&&Z!=de[Z]&&(de[re]=de[Z],xe.lastIndexOf(re)<ce&&xe.push(re));for(Z=1;Z<oe;++Z)de[Z]===Z&&(re!==-1&&de[re]!==re?de[Z]=de[re]:ee!==-1&&de[ee]!==ee&&(de[Z]=de[ee]));for(Z=1;Z<oe;++Z)if(z[Z].type!==0){if(ce=Z,ce!=de[ce])do ce=de[ce],Q[Z]=Q[ce]+"/"+Q[Z];while(ce!==0&&de[ce]!==-1&&ce!=de[ce]);de[Z]=-1}for(Q[0]+="/",Z=1;Z<oe;++Z)z[Z].type!==2&&(Q[Z]+="/")}function y(z,Q,q){for(var Z=z.start,ee=z.size,re=[],R=Z;q&&ee>0&&R>=0;)re.push(Q.slice(R*U,R*U+U)),ee-=U,R=cl(q,R*4);return re.length===0?Oe(0):kn(re).slice(0,z.size)}function b(z,Q,q,Z,ee){var re=J;if(z===J){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var R=q[z],ce=(Z>>>2)-1;if(!R)return;for(var oe=0;oe<ce&&(re=cl(R,oe*4))!==J;++oe)ee.push(re);b(cl(R,Z-4),Q-1,q,Z,ee)}}function N(z,Q,q,Z,ee){var re=[],R=[];ee||(ee=[]);var ce=Z-1,oe=0,de=0;for(oe=Q;oe>=0;){ee[oe]=!0,re[re.length]=oe,R.push(z[oe]);var xe=q[Math.floor(oe*4/Z)];if(de=oe*4&ce,Z<4+de)throw new Error("FAT boundary crossed: "+oe+" 4 "+Z);if(!z[xe])break;oe=cl(z[xe],de)}return{nodes:re,data:KA([R])}}function _(z,Q,q,Z){var ee=z.length,re=[],R=[],ce=[],oe=[],de=Z-1,xe=0,Pe=0,$e=0,Qe=0;for(xe=0;xe<ee;++xe)if(ce=[],$e=xe+Q,$e>=ee&&($e-=ee),!R[$e]){oe=[];var He=[];for(Pe=$e;Pe>=0;){He[Pe]=!0,R[Pe]=!0,ce[ce.length]=Pe,oe.push(z[Pe]);var We=q[Math.floor(Pe*4/Z)];if(Qe=Pe*4&de,Z<4+Qe)throw new Error("FAT boundary crossed: "+Pe+" 4 "+Z);if(!z[We]||(Pe=cl(z[We],Qe),He[Pe]))break}re[$e]={nodes:ce,data:KA([oe])}}return re}function k(z,Q,q,Z,ee,re,R,ce){for(var oe=0,de=Z.length?2:0,xe=Q[z].data,Pe=0,$e=0,Qe;Pe<xe.length;Pe+=128){var He=xe.slice(Pe,Pe+128);Ta(He,64),$e=He.read_shift(2),Qe=bj(He,0,$e-de),Z.push(Qe);var We={name:Qe,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},jt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);jt!==0&&(We.ct=A(He,He.l-8));var Zt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Zt!==0&&(We.mt=A(He,He.l-8)),We.start=He.read_shift(4,"i"),We.size=He.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=J,We.name=""),We.type===5?(oe=We.start,ee>0&&oe!==J&&(Q[oe].name="!StreamData")):We.size>=4096?(We.storage="fat",Q[We.start]===void 0&&(Q[We.start]=N(q,We.start,Q.fat_addrs,Q.ssz)),Q[We.start].name=We.name,We.content=Q[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:oe!==J&&We.start!==J&&Q[oe]&&(We.content=y(We,Q[oe].data,(Q[ce]||{}).data))),We.content&&Ta(We.content,0),re[Qe]=We,R.push(We)}}function A(z,Q){return new Date((Oa(z,Q+4)/1e7*Math.pow(2,32)+Oa(z,Q)/1e7-11644473600)*1e3)}function T(z,Q){return m(),f(u.readFileSync(z),Q)}function I(z,Q){var q=Q&&Q.type;switch(q||Lt&&Buffer.isBuffer(z)&&(q="buffer"),q||"base64"){case"file":return T(z,Q);case"base64":return f(js(Ri(z)),Q);case"binary":return f(js(z),Q)}return f(z,Q)}function O(z,Q){var q=Q||{},Z=q.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=Z+"/",z.FileIndex[0]={name:Z,type:5}),q.CLSID&&(z.FileIndex[0].clsid=q.CLSID),D(z)}function D(z){var Q="Sh33tJ5";if(!Xt.find(z,"/"+Q)){var q=Oe(4);q[0]=55,q[1]=q[3]=50,q[2]=54,z.FileIndex.push({name:Q,type:2,content:q,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+Q),P(z)}}function P(z,Q){O(z);for(var q=!1,Z=!1,ee=z.FullPaths.length-1;ee>=0;--ee){var re=z.FileIndex[ee];switch(re.type){case 0:Z?q=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(re.R*re.L*re.C)&&(q=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Q)){var R=new Date(1987,1,19),ce=0,oe=Object.create?Object.create(null):{},de=[];for(ee=0;ee<z.FullPaths.length;++ee)oe[z.FullPaths[ee]]=!0,z.FileIndex[ee].type!==0&&de.push([z.FullPaths[ee],z.FileIndex[ee]]);for(ee=0;ee<de.length;++ee){var xe=a(de[ee][0]);Z=oe[xe],Z||(de.push([xe,{name:s(xe).replace("/",""),type:1,clsid:X,ct:R,mt:R,content:null}]),oe[xe]=!0)}for(de.sort(function(Qe,He){return r(Qe[0],He[0])}),z.FullPaths=[],z.FileIndex=[],ee=0;ee<de.length;++ee)z.FullPaths[ee]=de[ee][0],z.FileIndex[ee]=de[ee][1];for(ee=0;ee<de.length;++ee){var Pe=z.FileIndex[ee],$e=z.FullPaths[ee];if(Pe.name=s($e).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||X,ee===0)Pe.C=de.length>1?1:-1,Pe.size=0,Pe.type=5;else if($e.slice(-1)=="/"){for(ce=ee+1;ce<de.length&&a(z.FullPaths[ce])!=$e;++ce);for(Pe.C=ce>=de.length?-1:ce,ce=ee+1;ce<de.length&&a(z.FullPaths[ce])!=a($e);++ce);Pe.R=ce>=de.length?-1:ce,Pe.type=1}else a(z.FullPaths[ee+1]||"")==a($e)&&(Pe.R=ee+1),Pe.type=2}}}function M(z,Q){var q=Q||{};if(q.fileType=="mad")return On(z,q);if(P(z),q.fileType==="zip")return Ve(z,q);var Z=(function(Qe){for(var He=0,We=0,jt=0;jt<Qe.FileIndex.length;++jt){var Zt=Qe.FileIndex[jt];if(Zt.content){var tr=Zt.content.length;tr>0&&(tr<4096?He+=tr+63>>6:We+=tr+511>>9)}}for(var Tr=Qe.FullPaths.length+3>>2,Wo=He+7>>3,Yi=He+127>>7,Ts=Wo+We+Tr+Yi,an=Ts+127>>7,gd=an<=109?0:Math.ceil((an-109)/127);Ts+an+gd+127>>7>an;)gd=++an<=109?0:Math.ceil((an-109)/127);var Pr=[1,gd,an,Yi,Tr,We,He,0];return Qe.FileIndex[0].size=He<<6,Pr[7]=(Qe.FileIndex[0].start=Pr[0]+Pr[1]+Pr[2]+Pr[3]+Pr[4]+Pr[5])+(Pr[6]+7>>3),Pr})(z),ee=Oe(Z[7]<<9),re=0,R=0;{for(re=0;re<8;++re)ee.write_shift(1,he[re]);for(re=0;re<8;++re)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),re=0;re<3;++re)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,Z[2]),ee.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:J),ee.write_shift(4,Z[3]),ee.write_shift(-4,Z[1]?Z[0]-1:J),ee.write_shift(4,Z[1]),re=0;re<109;++re)ee.write_shift(-4,re<Z[2]?Z[1]+re:-1)}if(Z[1])for(R=0;R<Z[1];++R){for(;re<236+R*127;++re)ee.write_shift(-4,re<Z[2]?Z[1]+re:-1);ee.write_shift(-4,R===Z[1]-1?J:R+1)}var ce=function(Qe){for(R+=Qe;re<R-1;++re)ee.write_shift(-4,re+1);Qe&&(++re,ee.write_shift(-4,J))};for(R=re=0,R+=Z[1];re<R;++re)ee.write_shift(-4,be.DIFSECT);for(R+=Z[2];re<R;++re)ee.write_shift(-4,be.FATSECT);ce(Z[3]),ce(Z[4]);for(var oe=0,de=0,xe=z.FileIndex[0];oe<z.FileIndex.length;++oe)xe=z.FileIndex[oe],xe.content&&(de=xe.content.length,!(de<4096)&&(xe.start=R,ce(de+511>>9)));for(ce(Z[6]+7>>3);ee.l&511;)ee.write_shift(-4,be.ENDOFCHAIN);for(R=re=0,oe=0;oe<z.FileIndex.length;++oe)xe=z.FileIndex[oe],xe.content&&(de=xe.content.length,!(!de||de>=4096)&&(xe.start=R,ce(de+63>>6)));for(;ee.l&511;)ee.write_shift(-4,be.ENDOFCHAIN);for(re=0;re<Z[4]<<2;++re){var Pe=z.FullPaths[re];if(!Pe||Pe.length===0){for(oe=0;oe<17;++oe)ee.write_shift(4,0);for(oe=0;oe<3;++oe)ee.write_shift(4,-1);for(oe=0;oe<12;++oe)ee.write_shift(4,0);continue}xe=z.FileIndex[re],re===0&&(xe.start=xe.size?xe.start-1:J);var $e=re===0&&q.root||xe.name;if(de=2*($e.length+1),ee.write_shift(64,$e,"utf16le"),ee.write_shift(2,de),ee.write_shift(1,xe.type),ee.write_shift(1,xe.color),ee.write_shift(-4,xe.L),ee.write_shift(-4,xe.R),ee.write_shift(-4,xe.C),xe.clsid)ee.write_shift(16,xe.clsid,"hex");else for(oe=0;oe<4;++oe)ee.write_shift(4,0);ee.write_shift(4,xe.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,xe.start),ee.write_shift(4,xe.size),ee.write_shift(4,0)}for(re=1;re<z.FileIndex.length;++re)if(xe=z.FileIndex[re],xe.size>=4096)if(ee.l=xe.start+1<<9,Lt&&Buffer.isBuffer(xe.content))xe.content.copy(ee,ee.l,0,xe.size),ee.l+=xe.size+511&-512;else{for(oe=0;oe<xe.size;++oe)ee.write_shift(1,xe.content[oe]);for(;oe&511;++oe)ee.write_shift(1,0)}for(re=1;re<z.FileIndex.length;++re)if(xe=z.FileIndex[re],xe.size>0&&xe.size<4096)if(Lt&&Buffer.isBuffer(xe.content))xe.content.copy(ee,ee.l,0,xe.size),ee.l+=xe.size+63&-64;else{for(oe=0;oe<xe.size;++oe)ee.write_shift(1,xe.content[oe]);for(;oe&63;++oe)ee.write_shift(1,0)}if(Lt)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function V(z,Q){var q=z.FullPaths.map(function(oe){return oe.toUpperCase()}),Z=q.map(function(oe){var de=oe.split("/");return de[de.length-(oe.slice(-1)=="/"?2:1)]}),ee=!1;Q.charCodeAt(0)===47?(ee=!0,Q=q[0].slice(0,-1)+Q):ee=Q.indexOf("/")!==-1;var re=Q.toUpperCase(),R=ee===!0?q.indexOf(re):Z.indexOf(re);if(R!==-1)return z.FileIndex[R];var ce=!re.match(ah);for(re=re.replace(gu,""),ce&&(re=re.replace(ah,"!")),R=0;R<q.length;++R)if((ce?q[R].replace(ah,"!"):q[R]).replace(gu,"")==re||(ce?Z[R].replace(ah,"!"):Z[R]).replace(gu,"")==re)return z.FileIndex[R];return null}var U=64,J=-2,W="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:J,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(z,Q,q){m();var Z=M(z,q);u.writeFileSync(Q,Z)}function ve(z){for(var Q=new Array(z.length),q=0;q<z.length;++q)Q[q]=String.fromCharCode(z[q]);return Q.join("")}function me(z,Q){var q=M(z,Q);switch(Q&&Q.type||"buffer"){case"file":return m(),u.writeFileSync(Q.filename,q),q;case"binary":return typeof q=="string"?q:ve(q);case"base64":return Hu(typeof q=="string"?q:ve(q));case"buffer":if(Lt)return Buffer.isBuffer(q)?q:Xi(q);case"array":return typeof q=="string"?js(q):q}return q}var ae;function C(z){try{var Q=z.InflateRaw,q=new Q;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)ae=z;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function B(z,Q){if(!ae)return ja(z,Q);var q=ae.InflateRaw,Z=new q,ee=Z._processChunk(z.slice(z.l),Z._finishFlushFlag);return z.l+=Z.bytesRead,ee}function H(z){return ae?ae.deflateRawSync(z):Ie(z)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(z){var Q=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var L=typeof Uint8Array<"u",G=L?new Uint8Array(256):[],ge=0;ge<256;++ge)G[ge]=Se(ge);function le(z,Q){var q=G[z&255];return Q<=8?q>>>8-Q:(q=q<<8|G[z>>8&255],Q<=16?q>>>16-Q:(q=q<<8|G[z>>16&255],q>>>24-Q))}function Re(z,Q){var q=Q&7,Z=Q>>>3;return(z[Z]|(q<=6?0:z[Z+1]<<8))>>>q&3}function De(z,Q){var q=Q&7,Z=Q>>>3;return(z[Z]|(q<=5?0:z[Z+1]<<8))>>>q&7}function Ce(z,Q){var q=Q&7,Z=Q>>>3;return(z[Z]|(q<=4?0:z[Z+1]<<8))>>>q&15}function Ae(z,Q){var q=Q&7,Z=Q>>>3;return(z[Z]|(q<=3?0:z[Z+1]<<8))>>>q&31}function je(z,Q){var q=Q&7,Z=Q>>>3;return(z[Z]|(q<=1?0:z[Z+1]<<8))>>>q&127}function it(z,Q,q){var Z=Q&7,ee=Q>>>3,re=(1<<q)-1,R=z[ee]>>>Z;return q<8-Z||(R|=z[ee+1]<<8-Z,q<16-Z)||(R|=z[ee+2]<<16-Z,q<24-Z)||(R|=z[ee+3]<<24-Z),R&re}function Xe(z,Q,q){var Z=Q&7,ee=Q>>>3;return Z<=5?z[ee]|=(q&7)<<Z:(z[ee]|=q<<Z&255,z[ee+1]=(q&7)>>8-Z),Q+3}function gt(z,Q,q){var Z=Q&7,ee=Q>>>3;return q=(q&1)<<Z,z[ee]|=q,Q+1}function at(z,Q,q){var Z=Q&7,ee=Q>>>3;return q<<=Z,z[ee]|=q&255,q>>>=8,z[ee+1]=q,Q+8}function vt(z,Q,q){var Z=Q&7,ee=Q>>>3;return q<<=Z,z[ee]|=q&255,q>>>=8,z[ee+1]=q&255,z[ee+2]=q>>>8,Q+16}function St(z,Q){var q=z.length,Z=2*q>Q?2*q:Q+5,ee=0;if(q>=Q)return z;if(Lt){var re=TA(Z);if(z.copy)z.copy(re);else for(;ee<z.length;++ee)re[ee]=z[ee];return re}else if(L){var R=new Uint8Array(Z);if(R.set)R.set(z);else for(;ee<q;++ee)R[ee]=z[ee];return R}return z.length=Z,z}function yt(z){for(var Q=new Array(z),q=0;q<z;++q)Q[q]=0;return Q}function wr(z,Q,q){var Z=1,ee=0,re=0,R=0,ce=0,oe=z.length,de=L?new Uint16Array(32):yt(32);for(re=0;re<32;++re)de[re]=0;for(re=oe;re<q;++re)z[re]=0;oe=z.length;var xe=L?new Uint16Array(oe):yt(oe);for(re=0;re<oe;++re)de[ee=z[re]]++,Z<ee&&(Z=ee),xe[re]=0;for(de[0]=0,re=1;re<=Z;++re)de[re+16]=ce=ce+de[re-1]<<1;for(re=0;re<oe;++re)ce=z[re],ce!=0&&(xe[re]=de[ce+16]++);var Pe=0;for(re=0;re<oe;++re)if(Pe=z[re],Pe!=0)for(ce=le(xe[re],Z)>>Z-Pe,R=(1<<Z+4-Pe)-1;R>=0;--R)Q[ce|R<<Pe]=Pe&15|re<<4;return Z}var wt=L?new Uint16Array(512):yt(512),se=L?new Uint16Array(32):yt(32);if(!L){for(var Y=0;Y<512;++Y)wt[Y]=0;for(Y=0;Y<32;++Y)se[Y]=0}(function(){for(var z=[],Q=0;Q<32;Q++)z.push(5);wr(z,se,32);var q=[];for(Q=0;Q<=143;Q++)q.push(8);for(;Q<=255;Q++)q.push(9);for(;Q<=279;Q++)q.push(7);for(;Q<=287;Q++)q.push(8);wr(q,wt,288)})();var Te=(function(){for(var Q=L?new Uint8Array(32768):[],q=0,Z=0;q<ye.length-1;++q)for(;Z<ye[q+1];++Z)Q[Z]=q;for(;Z<32768;++Z)Q[Z]=29;var ee=L?new Uint8Array(259):[];for(q=0,Z=0;q<te.length-1;++q)for(;Z<te[q+1];++Z)ee[Z]=q;function re(ce,oe){for(var de=0;de<ce.length;){var xe=Math.min(65535,ce.length-de),Pe=de+xe==ce.length;for(oe.write_shift(1,+Pe),oe.write_shift(2,xe),oe.write_shift(2,~xe&65535);xe-- >0;)oe[oe.l++]=ce[de++]}return oe.l}function R(ce,oe){for(var de=0,xe=0,Pe=L?new Uint16Array(32768):[];xe<ce.length;){var $e=Math.min(65535,ce.length-xe);if($e<10){for(de=Xe(oe,de,+(xe+$e==ce.length)),de&7&&(de+=8-(de&7)),oe.l=de/8|0,oe.write_shift(2,$e),oe.write_shift(2,~$e&65535);$e-- >0;)oe[oe.l++]=ce[xe++];de=oe.l*8;continue}de=Xe(oe,de,+(xe+$e==ce.length)+2);for(var Qe=0;$e-- >0;){var He=ce[xe];Qe=(Qe<<5^He)&32767;var We=-1,jt=0;if((We=Pe[Qe])&&(We|=xe&-32768,We>xe&&(We-=32768),We<xe))for(;ce[We+jt]==ce[xe+jt]&&jt<250;)++jt;if(jt>2){He=ee[jt],He<=22?de=at(oe,de,G[He+1]>>1)-1:(at(oe,de,3),de+=5,at(oe,de,G[He-23]>>5),de+=3);var Zt=He<8?0:He-4>>2;Zt>0&&(vt(oe,de,jt-te[He]),de+=Zt),He=Q[xe-We],de=at(oe,de,G[He]>>3),de-=3;var tr=He<4?0:He-2>>1;tr>0&&(vt(oe,de,xe-We-ye[He]),de+=tr);for(var Tr=0;Tr<jt;++Tr)Pe[Qe]=xe&32767,Qe=(Qe<<5^ce[xe])&32767,++xe;$e-=jt-1}else He<=143?He=He+48:de=gt(oe,de,1),de=at(oe,de,G[He]),Pe[Qe]=xe&32767,++xe}de=at(oe,de,0)-1}return oe.l=(de+7)/8|0,oe.l}return function(oe,de){return oe.length<8?re(oe,de):R(oe,de)}})();function Ie(z){var Q=Oe(50+Math.floor(z.length*1.1)),q=Te(z,Q);return Q.slice(0,q)}var mt=L?new Uint16Array(32768):yt(32768),Et=L?new Uint16Array(32768):yt(32768),Ye=L?new Uint16Array(128):yt(128),Cr=1,Lr=1;function gr(z,Q){var q=Ae(z,Q)+257;Q+=5;var Z=Ae(z,Q)+1;Q+=5;var ee=Ce(z,Q)+4;Q+=4;for(var re=0,R=L?new Uint8Array(19):yt(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,de=L?new Uint8Array(8):yt(8),xe=L?new Uint8Array(8):yt(8),Pe=R.length,$e=0;$e<ee;++$e)R[K[$e]]=re=De(z,Q),oe<re&&(oe=re),de[re]++,Q+=3;var Qe=0;for(de[0]=0,$e=1;$e<=oe;++$e)xe[$e]=Qe=Qe+de[$e-1]<<1;for($e=0;$e<Pe;++$e)(Qe=R[$e])!=0&&(ce[$e]=xe[Qe]++);var He=0;for($e=0;$e<Pe;++$e)if(He=R[$e],He!=0){Qe=G[ce[$e]]>>8-He;for(var We=(1<<7-He)-1;We>=0;--We)Ye[Qe|We<<He]=He&7|$e<<3}var jt=[];for(oe=1;jt.length<q+Z;)switch(Qe=Ye[je(z,Q)],Q+=Qe&7,Qe>>>=3){case 16:for(re=3+Re(z,Q),Q+=2,Qe=jt[jt.length-1];re-- >0;)jt.push(Qe);break;case 17:for(re=3+De(z,Q),Q+=3;re-- >0;)jt.push(0);break;case 18:for(re=11+je(z,Q),Q+=7;re-- >0;)jt.push(0);break;default:jt.push(Qe),oe<Qe&&(oe=Qe);break}var Zt=jt.slice(0,q),tr=jt.slice(q);for($e=q;$e<286;++$e)Zt[$e]=0;for($e=Z;$e<30;++$e)tr[$e]=0;return Cr=wr(Zt,mt,286),Lr=wr(tr,Et,30),Q}function wa(z,Q){if(z[0]==3&&!(z[1]&3))return[Cl(Q),2];for(var q=0,Z=0,ee=TA(Q||1<<18),re=0,R=ee.length>>>0,ce=0,oe=0;(Z&1)==0;){if(Z=De(z,q),q+=3,Z>>>1)Z>>1==1?(ce=9,oe=5):(q=gr(z,q),ce=Cr,oe=Lr);else{q&7&&(q+=8-(q&7));var de=z[q>>>3]|z[(q>>>3)+1]<<8;if(q+=32,de>0)for(!Q&&R<re+de&&(ee=St(ee,re+de),R=ee.length);de-- >0;)ee[re++]=z[q>>>3],q+=8;continue}for(;;){!Q&&R<re+32767&&(ee=St(ee,re+32767),R=ee.length);var xe=it(z,q,ce),Pe=Z>>>1==1?wt[xe]:mt[xe];if(q+=Pe&15,Pe>>>=4,(Pe>>>8&255)===0)ee[re++]=Pe;else{if(Pe==256)break;Pe-=257;var $e=Pe<8?0:Pe-4>>2;$e>5&&($e=0);var Qe=re+te[Pe];$e>0&&(Qe+=it(z,q,$e),q+=$e),xe=it(z,q,oe),Pe=Z>>>1==1?se[xe]:Et[xe],q+=Pe&15,Pe>>>=4;var He=Pe<4?0:Pe-2>>1,We=ye[Pe];for(He>0&&(We+=it(z,q,He),q+=He),!Q&&R<Qe&&(ee=St(ee,Qe+100),R=ee.length);re<Qe;)ee[re]=ee[re-We],++re}}}return Q?[ee,q+7>>>3]:[ee.slice(0,re),q+7>>>3]}function ja(z,Q){var q=z.slice(z.l||0),Z=wa(q,Q);return z.l+=Z[1],Z[0]}function _a(z,Q){if(z)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function Hn(z,Q){var q=z;Ta(q,0);var Z=[],ee=[],re={FileIndex:Z,FullPaths:ee};O(re,{root:Q.root});for(var R=q.length-4;(q[R]!=80||q[R+1]!=75||q[R+2]!=5||q[R+3]!=6)&&R>=0;)--R;q.l=R+4,q.l+=4;var ce=q.read_shift(2);q.l+=6;var oe=q.read_shift(4);for(q.l=oe,R=0;R<ce;++R){q.l+=20;var de=q.read_shift(4),xe=q.read_shift(4),Pe=q.read_shift(2),$e=q.read_shift(2),Qe=q.read_shift(2);q.l+=8;var He=q.read_shift(4),We=c(q.slice(q.l+Pe,q.l+Pe+$e));q.l+=Pe+$e+Qe;var jt=q.l;q.l=He+4,ue(q,de,xe,re,We),q.l=jt}return re}function ue(z,Q,q,Z,ee){z.l+=2;var re=z.read_shift(2),R=z.read_shift(2),ce=o(z);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var oe=z.read_shift(4),de=z.read_shift(4),xe=z.read_shift(4),Pe=z.read_shift(2),$e=z.read_shift(2),Qe="",He=0;He<Pe;++He)Qe+=String.fromCharCode(z[z.l++]);if($e){var We=c(z.slice(z.l,z.l+$e));(We[21589]||{}).mt&&(ce=We[21589].mt),((ee||{})[21589]||{}).mt&&(ce=ee[21589].mt)}z.l+=$e;var jt=z.slice(z.l,z.l+de);switch(R){case 8:jt=B(z,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+R)}var Zt=!1;re&8&&(oe=z.read_shift(4),oe==134695760&&(oe=z.read_shift(4),Zt=!0),de=z.read_shift(4),xe=z.read_shift(4)),de!=Q&&_a(Zt,"Bad compressed size: "+Q+" != "+de),xe!=q&&_a(Zt,"Bad uncompressed size: "+q+" != "+xe),ia(Z,Qe,jt,{unsafe:!0,mt:ce})}function Ve(z,Q){var q=Q||{},Z=[],ee=[],re=Oe(1),R=q.compression?8:0,ce=0,oe=0,de=0,xe=0,Pe=0,$e=z.FullPaths[0],Qe=$e,He=z.FileIndex[0],We=[],jt=0;for(oe=1;oe<z.FullPaths.length;++oe)if(Qe=z.FullPaths[oe].slice($e.length),He=z.FileIndex[oe],!(!He.size||!He.content||Qe=="Sh33tJ5")){var Zt=xe,tr=Oe(Qe.length);for(de=0;de<Qe.length;++de)tr.write_shift(1,Qe.charCodeAt(de)&127);tr=tr.slice(0,tr.l),We[Pe]=rne.buf(He.content,0);var Tr=He.content;R==8&&(Tr=H(Tr)),re=Oe(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,ce),re.write_shift(2,R),He.mt?i(re,He.mt):re.write_shift(4,0),re.write_shift(-4,We[Pe]),re.write_shift(4,Tr.length),re.write_shift(4,He.content.length),re.write_shift(2,tr.length),re.write_shift(2,0),xe+=re.length,Z.push(re),xe+=tr.length,Z.push(tr),xe+=Tr.length,Z.push(Tr),re=Oe(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,ce),re.write_shift(2,R),re.write_shift(4,0),re.write_shift(-4,We[Pe]),re.write_shift(4,Tr.length),re.write_shift(4,He.content.length),re.write_shift(2,tr.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,Zt),jt+=re.l,ee.push(re),jt+=tr.length,ee.push(tr),++Pe}return re=Oe(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Pe),re.write_shift(2,Pe),re.write_shift(4,jt),re.write_shift(4,xe),re.write_shift(2,0),kn([kn(Z),kn(ee),re])}var ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ur(z,Q){if(z.ctype)return z.ctype;var q=z.name||"",Z=q.match(/\.([^\.]+)$/);return Z&&ft[Z[1]]||Q&&(Z=(q=Q).match(/[\.\\]([^\.\\])+$/),Z&&ft[Z[1]])?ft[Z[1]]:"application/octet-stream"}function It(z){for(var Q=Hu(z),q=[],Z=0;Z<Q.length;Z+=76)q.push(Q.slice(Z,Z+76));return q.join(`\r
`)+`\r
`}function Vr(z){var Q=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var xe=de.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],Z=Q.split(`\r
`),ee=0;ee<Z.length;++ee){var re=Z[ee];if(re.length==0){q.push("");continue}for(var R=0;R<re.length;){var ce=76,oe=re.slice(R,R+ce);oe.charAt(ce-1)=="="?ce--:oe.charAt(ce-2)=="="?ce-=2:oe.charAt(ce-3)=="="&&(ce-=3),oe=re.slice(R,R+ce),R+=ce,R<re.length&&(oe+="="),q.push(oe)}}return q.join(`\r
`)}function Pn(z){for(var Q=[],q=0;q<z.length;++q){for(var Z=z[q];q<=z.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+z[++q];Q.push(Z)}for(var ee=0;ee<Q.length;++ee)Q[ee]=Q[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return js(Q.join(`\r
`))}function sa(z,Q,q){for(var Z="",ee="",re="",R,ce=0;ce<10;++ce){var oe=Q[ce];if(!oe||oe.match(/^\s*$/))break;var de=oe.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":Z=de[2].trim();break;case"content-type":re=de[2].trim();break;case"content-transfer-encoding":ee=de[2].trim();break}}switch(++ce,ee.toLowerCase()){case"base64":R=js(Ri(Q.slice(ce).join("")));break;case"quoted-printable":R=Pn(Q.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var xe=ia(z,Z.slice(q.length),R,{unsafe:!0});re&&(xe.ctype=re)}function Kn(z,Q){if(ve(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Q&&Q.root||"",Z=(Lt&&Buffer.isBuffer(z)?z.toString("binary"):ve(z)).split(`\r
`),ee=0,re="";for(ee=0;ee<Z.length;++ee)if(re=Z[ee],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),q||(q=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),re.slice(0,q.length)!=q););var R=(Z[1]||"").match(/boundary="(.*?)"/);if(!R)throw new Error("MAD cannot find boundary");var ce="--"+(R[1]||""),oe=[],de=[],xe={FileIndex:oe,FullPaths:de};O(xe);var Pe,$e=0;for(ee=0;ee<Z.length;++ee){var Qe=Z[ee];Qe!==ce&&Qe!==ce+"--"||($e++&&sa(xe,Z.slice(Pe,ee),q),Pe=ee)}return xe}function On(z,Q){var q=Q||{},Z=q.boundary||"SheetJS";Z="------="+Z;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],re=z.FullPaths[0],R=re,ce=z.FileIndex[0],oe=1;oe<z.FullPaths.length;++oe)if(R=z.FullPaths[oe].slice(re.length),ce=z.FileIndex[oe],!(!ce.size||!ce.content||R=="Sh33tJ5")){R=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(jt){return"_x"+jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(jt){return"_u"+jt.charCodeAt(0).toString(16)+"_"});for(var de=ce.content,xe=Lt&&Buffer.isBuffer(de)?de.toString("binary"):ve(de),Pe=0,$e=Math.min(1024,xe.length),Qe=0,He=0;He<=$e;++He)(Qe=xe.charCodeAt(He))>=32&&Qe<128&&++Pe;var We=Pe>=$e*4/5;ee.push(Z),ee.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+R),ee.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),ee.push("Content-Type: "+ur(ce,R)),ee.push(""),ee.push(We?Vr(xe):It(xe))}return ee.push(Z+`--\r
`),ee.join(`\r
`)}function ds(z){var Q={};return O(Q,z),Q}function ia(z,Q,q,Z){var ee=Z&&Z.unsafe;ee||O(z);var re=!ee&&Xt.find(z,Q);if(!re){var R=z.FullPaths[0];Q.slice(0,R.length)==R?R=Q:(R.slice(-1)!="/"&&(R+="/"),R=(R+Q).replace("//","/")),re={name:s(Q),type:2},z.FileIndex.push(re),z.FullPaths.push(R),ee||Xt.utils.cfb_gc(z)}return re.content=q,re.size=q?q.length:0,Z&&(Z.CLSID&&(re.clsid=Z.CLSID),Z.mt&&(re.mt=Z.mt),Z.ct&&(re.ct=Z.ct)),re}function Uo(z,Q){O(z);var q=Xt.find(z,Q);if(q){for(var Z=0;Z<z.FileIndex.length;++Z)if(z.FileIndex[Z]==q)return z.FileIndex.splice(Z,1),z.FullPaths.splice(Z,1),!0}return!1}function As(z,Q,q){O(z);var Z=Xt.find(z,Q);if(Z){for(var ee=0;ee<z.FileIndex.length;++ee)if(z.FileIndex[ee]==Z)return z.FileIndex[ee].name=s(q),z.FullPaths[ee]=q,!0}return!1}function Cs(z){P(z,!0)}return t.find=V,t.read=I,t.parse=f,t.write=me,t.writeFile=ne,t.utils={cfb_new:ds,cfb_add:ia,cfb_del:Uo,cfb_mov:As,cfb_gc:Cs,ReadShift:yu,CheckField:H6,prep_blob:Ta,bconcat:kn,use_zlib:C,_deflateRaw:Ie,_inflateRaw:ja,consts:be},t})();function nne(e){return typeof e=="string"?Bp(e):Array.isArray(e)?Cre(e):e}function kf(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Bp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Vu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([nne(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=Sf(t)),c.write(t),c.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Cn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function RA(e,t){for(var r=[],a=Cn(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function xj(e){for(var t=[],r=Cn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function Hp(e){for(var t=[],r=Cn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function ane(e){for(var t=[],r=Cn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var P0=new Date(1899,11,30,0,0,0);function xa(e,t){var r=e.getTime(),a=P0.getTime()+(e.getTimezoneOffset()-P0.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var E6=new Date,sne=P0.getTime()+(E6.getTimezoneOffset()-P0.getTimezoneOffset())*6e4,$A=E6.getTimezoneOffset();function A6(e){var t=new Date;return t.setTime(e*24*60*60*1e3+sne),t.getTimezoneOffset()!==$A&&t.setTime(t.getTime()+(t.getTimezoneOffset()-$A)*6e4),t}var zA=new Date("2017-02-19T19:06:09.000Z"),C6=isNaN(zA.getFullYear())?new Date("2/19/17"):zA,ine=C6.getFullYear()==2017;function ea(e,t){var r=new Date(e);if(ine)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(C6.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Kp(e,t){if(Lt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function ga(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ga(e[r]));return t}function Sr(e,t){for(var r="";r.length<t;)r+=e;return r}function Si(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var one=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ku(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&one.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Lt?a=Xi(r):a=Tre(r),Xt.utils.cfb_add(e,t,a)}Xt.utils.cfb_add(e,t,r)}else e.file(t,r)}function gj(){return Xt.utils.cfb_new()}var Kr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,lne={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vj=xj(lne),yj=/[&<>'"]/g,cne=/[\u0000-\u0008\u000b-\u001f]/g;function Vt(e){var t=e+"";return t.replace(yj,function(r){return vj[r]}).replace(cne,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function BA(e){return Vt(e).replace(/ /g,"_x0020_")}var T6=/[\u0000-\u001f]/g;function dne(e){var t=e+"";return t.replace(yj,function(r){return vj[r]}).replace(/\n/g,"<br/>").replace(T6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function une(e){var t=e+"";return t.replace(yj,function(r){return vj[r]}).replace(T6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function fne(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function mne(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ny(e){for(var t="",r=0,a=0,s=0,i=0,o=0,c=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function UA(e){var t=Cl(2*e.length),r,a,s=1,i=0,o=0,c;for(a=0;a<e.length;a+=s)s=1,(c=e.charCodeAt(a))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(a+1)&63),s=2):c<240?(r=(c&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(c&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function WA(e){return Xi(e,"binary").toString("utf8")}var ih="foo bar baz",vu=Lt&&(WA(ih)==Ny(ih)&&WA||UA(ih)==Ny(ih)&&UA)||Ny,Vu=Lt?function(e){return Xi(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},hne=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}})(),P6=/(^\s|\s$|\n)/;function En(e,t){return"<"+e+(t.match(P6)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function qu(e){return Cn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qe(e,t,r){return"<"+e+(r!=null?qu(r):"")+(t!=null?(t.match(P6)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function K1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function pne(e,t){switch(typeof e){case"string":var r=qe("vt:lpwstr",Vt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return qe((e|0)==e?"vt:i4":"vt:r8",Vt(String(e)));case"boolean":return qe("vt:bool",e?"true":"false")}if(e instanceof Date)return qe("vt:filetime",K1(e));throw new Error("Unable to serialize "+e)}var mn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},md=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Pa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function xne(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function gne(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[r+c]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var HA=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},KA=Lt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Xi(t)})):HA(e)}:HA,VA=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(fu(e,s)));return a.join("").replace(gu,"")},bj=Lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(gu,""):VA(e,t,r)}:VA,qA=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},O6=Lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):qA(e,t,r)}:qA,GA=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(wc(e,s)));return a.join("")},Ef=Lt?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):GA(t,r,a)}:GA,I6=function(e,t){var r=Oa(e,t);return r>0?Ef(e,t+4,t+4+r-1):""},D6=I6,M6=function(e,t){var r=Oa(e,t);return r>0?Ef(e,t+4,t+4+r-1):""},F6=M6,L6=function(e,t){var r=2*Oa(e,t);return r>0?Ef(e,t+4,t+4+r-1):""},R6=L6,$6=function(t,r){var a=Oa(t,r);return a>0?bj(t,r+4,r+4+a):""},z6=$6,B6=function(e,t){var r=Oa(e,t);return r>0?Ef(e,t+4,t+4+r):""},U6=B6,W6=function(e,t){return xne(e,t)},O0=W6,wj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Lt&&(D6=function(t,r){if(!Buffer.isBuffer(t))return I6(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},F6=function(t,r){if(!Buffer.isBuffer(t))return M6(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},R6=function(t,r){if(!Buffer.isBuffer(t))return L6(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},z6=function(t,r){if(!Buffer.isBuffer(t))return $6(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},U6=function(t,r){if(!Buffer.isBuffer(t))return B6(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},O0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):W6(t,r)},wj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var wc=function(e,t){return e[t]},fu=function(e,t){return e[t+1]*256+e[t]},vne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Oa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},cl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},yne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yu(e,t){var r="",a,s,i=[],o,c,u,m;switch(t){case"dbcs":if(m=this.l,Lt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(fu(this,m)),m+=2;e*=2;break;case"utf8":r=Ef(this,this.l,this.l+e);break;case"utf16le":e*=2,r=bj(this,this.l,this.l+e);break;case"wstr":return yu.call(this,e,"dbcs");case"lpstr-ansi":r=D6(this,this.l),e=4+Oa(this,this.l);break;case"lpstr-cp":r=F6(this,this.l),e=4+Oa(this,this.l);break;case"lpwstr":r=R6(this,this.l),e=4+2*Oa(this,this.l);break;case"lpp4":e=4+Oa(this,this.l),r=z6(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Oa(this,this.l),r=U6(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=wc(this,this.l+e++))!==0;)i.push(nh(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=fu(this,this.l+e))!==0;)i.push(nh(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",m=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(m)!==-1)return o=wc(this,m),this.l=m+1,c=yu.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(nh(fu(this,m))),m+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",m=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(m)!==-1)return o=wc(this,m),this.l=m+1,c=yu.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(nh(wc(this,m))),m+=1}r=i.join("");break;default:switch(e){case 1:return a=wc(this,this.l),this.l++,a;case 2:return a=(t==="i"?vne:fu)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?cl:yne)(this,this.l),this.l+=4,a):(s=Oa(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=O0(this,this.l):s=O0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=O6(this,this.l,e);break}}return this.l+=e,r}var bne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},wne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},jne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function _ne(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)jne(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,bne(this,t,this.l);break;case 8:if(a=8,r==="f"){gne(this,t,this.l);break}case 16:break;case-4:a=4,wne(this,t,this.l);break}return this.l+=a,this}function H6(e,t){var r=O6(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ta(e,t){e.l=t,e.read_shift=yu,e.chk=H6,e.write_shift=_ne}function Ys(e,t){e.l+=t}function Oe(e){var t=Cl(e);return Ta(t,0),t}function ha(){var e=[],t=Lt?256:2048,r=function(m){var f=Oe(m);return Ta(f,0),f},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(m){return a&&m<a.length-a.l?a:(s(),a=r(Math.max(m+1,t)))},o=function(){return s(),kn(e)},c=function(m){s(),a=m,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:c,end:o,_bufs:e}}function Me(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=xce[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&wj(r)&&e.push(r)}}function bu(e,t,r){var a=ga(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function XA(e,t,r){var a=ga(e);return a.s=bu(a.s,t.s,r),a.e=bu(a.e,t.s,r),a}function wu(e,t){if(e.cRel&&e.c<0)for(e=ga(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ga(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=qt(e);return!e.cRel&&e.cRel!=null&&(r=kne(r)),!e.rRel&&e.rRel!=null&&(r=Nne(r)),r}function Sy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Bn(e.s.c)+":"+(e.e.cRel?"":"$")+Bn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+An(e.s.r)+":"+(e.e.rRel?"":"$")+An(e.e.r):wu(e.s,t.biff)+":"+wu(e.e,t.biff)}function jj(e){return parseInt(Sne(e),10)-1}function An(e){return""+(e+1)}function Nne(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Sne(e){return e.replace(/\$(\d+)$/,"$1")}function _j(e){for(var t=Ene(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Bn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function kne(e){return e.replace(/^([A-Z])/,"$$$1")}function Ene(e){return e.replace(/^\$([A-Z])/,"$1")}function Ane(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pn(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function qt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ua(e){var t=e.indexOf(":");return t==-1?{s:pn(e),e:pn(e)}:{s:pn(e.slice(0,t)),e:pn(e.slice(t+1))}}function Hr(e,t){return typeof t>"u"||typeof t=="number"?Hr(e.s,e.e):(typeof e!="string"&&(e=qt(e)),typeof t!="string"&&(t=qt(t)),e==t?e:e+":"+t)}function dr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function YA(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Do(e.z,r?xa(t):t)}catch{}try{return e.w=Do((e.XF||{}).numFmtId||(r?14:0),r?xa(t):t)}catch{return""+t}}function $i(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Af[e.v]||e.v:t==null?YA(e,e.v):YA(e,t))}function Ml(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function K6(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,c=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?pn(a.origin):a.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=dr(i["!ref"]);m.s.c=f.s.c,m.s.r=f.s.r,m.e.c=Math.max(m.e.c,f.e.c),m.e.r=Math.max(m.e.r,f.e.r),o==-1&&(m.e.r=o=f.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(!(typeof t[h][g]>"u")){var x={v:t[h][g]},w=o+h,y=c+g;if(m.s.r>w&&(m.s.r=w),m.s.c>y&&(m.s.c=y),m.e.r<w&&(m.e.r=w),m.e.c<y&&(m.e.c=y),t[h][g]&&typeof t[h][g]=="object"&&!Array.isArray(t[h][g])&&!(t[h][g]instanceof Date))x=t[h][g];else if(Array.isArray(x.v)&&(x.f=t[h][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(a.nullError)x.t="e",x.v=0;else if(a.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=a.dateNF||kr[14],a.cellDates?(x.t="d",x.w=Do(x.z,xa(x.v))):(x.t="n",x.v=xa(x.v),x.w=Do(x.z,x.v))):x.t="s";if(s)i[w]||(i[w]=[]),i[w][y]&&i[w][y].z&&(x.z=i[w][y].z),i[w][y]=x;else{var b=qt({c:y,r:w});i[b]&&i[b].z&&(x.z=i[b].z),i[b]=x}}}return m.s.c<1e7&&(i["!ref"]=Hr(m)),i}function hd(e,t){return K6(null,e,t)}function Cne(e){return e.read_shift(4,"i")}function Ss(e,t){return t||(t=Oe(4)),t.write_shift(4,e),t}function Un(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xn(e,t){var r=!1;return t==null&&(r=!0,t=Oe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Tne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Pne(e,t){return t||(t=Oe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Nj(e,t){var r=e.l,a=e.read_shift(1),s=Un(e),i=[],o={t:s,h:s};if((a&1)!==0){for(var c=e.read_shift(4),u=0;u!=c;++u)i.push(Tne(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function One(e,t){var r=!1;return t==null&&(r=!0,t=Oe(15+4*e.t.length)),t.write_shift(1,0),xn(e.t,t),r?t.slice(0,t.l):t}var Ine=Nj;function Dne(e,t){var r=!1;return t==null&&(r=!0,t=Oe(23+4*e.t.length)),t.write_shift(1,1),xn(e.t,t),t.write_shift(4,1),Pne({},t),r?t.slice(0,t.l):t}function cs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Fl(e,t){return t==null&&(t=Oe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ll(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Rl(e,t){return t==null&&(t=Oe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Mne=Un,V6=xn;function Sj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function I0(e,t){var r=!1;return t==null&&(r=!0,t=Oe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Fne=Un,V1=Sj,kj=I0;function q6(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?O0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cl(t,0)>>2;return r?s/100:s}function G6(e,t){t==null&&(t=Oe(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function X6(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Lne(e,t){return t||(t=Oe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var $l=X6,pd=Lne;function xd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Tl(e,t){return(t||Oe(8)).write_shift(8,e,"f")}function Rne(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var m=qne[s];m&&(t.rgb=oC(m));break;case 2:t.rgb=oC([o,c,u]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function D0(e,t){if(t||(t=Oe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function $ne(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function zne(e,t){t||(t=Oe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Y6=2,Aa=3,oh=11,M0=19,lh=64,Bne=65,Une=71,Wne=4108,Hne=4126,Sn=80,JA={1:{n:"CodePage",t:Y6},2:{n:"Category",t:Sn},3:{n:"PresentationFormat",t:Sn},4:{n:"ByteCount",t:Aa},5:{n:"LineCount",t:Aa},6:{n:"ParagraphCount",t:Aa},7:{n:"SlideCount",t:Aa},8:{n:"NoteCount",t:Aa},9:{n:"HiddenCount",t:Aa},10:{n:"MultimediaClipCount",t:Aa},11:{n:"ScaleCrop",t:oh},12:{n:"HeadingPairs",t:Wne},13:{n:"TitlesOfParts",t:Hne},14:{n:"Manager",t:Sn},15:{n:"Company",t:Sn},16:{n:"LinksUpToDate",t:oh},17:{n:"CharacterCount",t:Aa},19:{n:"SharedDoc",t:oh},22:{n:"HyperlinksChanged",t:oh},23:{n:"AppVersion",t:Aa,p:"version"},24:{n:"DigSig",t:Bne},26:{n:"ContentType",t:Sn},27:{n:"ContentStatus",t:Sn},28:{n:"Language",t:Sn},29:{n:"Version",t:Sn},255:{},2147483648:{n:"Locale",t:M0},2147483651:{n:"Behavior",t:M0},1919054434:{}},ZA={1:{n:"CodePage",t:Y6},2:{n:"Title",t:Sn},3:{n:"Subject",t:Sn},4:{n:"Author",t:Sn},5:{n:"Keywords",t:Sn},6:{n:"Comments",t:Sn},7:{n:"Template",t:Sn},8:{n:"LastAuthor",t:Sn},9:{n:"RevNumber",t:Sn},10:{n:"EditTime",t:lh},11:{n:"LastPrinted",t:lh},12:{n:"CreatedDate",t:lh},13:{n:"ModifiedDate",t:lh},14:{n:"PageCount",t:Aa},15:{n:"WordCount",t:Aa},16:{n:"CharCount",t:Aa},17:{n:"Thumbnail",t:Une},18:{n:"Application",t:Sn},19:{n:"DocSecurity",t:Aa},255:{},2147483648:{n:"Locale",t:M0},2147483651:{n:"Behavior",t:M0},1919054434:{}};function Kne(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Vne=Kne([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qne=ga(Vne),Af={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Gne={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ch={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function J6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Z6(e,t){var r=ane(Gne),a=[],s;a[a.length]=Kr,a[a.length]=qe("Types",null,{xmlns:mn.CT,"xmlns:xsd":mn.xsd,"xmlns:xsi":mn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return qe("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(s=e[u][0],a[a.length]=qe("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:ch[u][t.bookType]||ch[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(m){a[a.length]=qe("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:ch[u][t.bookType]||ch[u].xlsx})})},c=function(u){(e[u]||[]).forEach(function(m){a[a.length]=qe("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:r[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Q6(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Oc(e){var t=[Kr,qe("Relationships",null,{xmlns:mn.RELS})];return Cn(e["!id"]).forEach(function(r){t[t.length]=qe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ht(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[Mt.HLINK,Mt.XPATH,Mt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Xne(e){var t=[Kr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function QA(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Yne(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Jne(e){var t=[Kr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(QA(e[r][0],e[r][1])),t.push(Yne("",e[r][0]));return t.push(QA("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function eI(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+k0.version+"</meta:generator></office:meta></office:document-meta>"}var yl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ky(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Vt(t),a[a.length]=r?qe(e,t,r):En(e,t))}function tI(e,t){var r=t||{},a=[Kr,qe("cp:coreProperties",null,{"xmlns:cp":mn.CORE_PROPS,"xmlns:dc":mn.dc,"xmlns:dcterms":mn.dcterms,"xmlns:dcmitype":mn.dcmitype,"xmlns:xsi":mn.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&ky("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:K1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&ky("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:K1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=yl.length;++i){var o=yl[i],c=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&ky(o[0],c,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Ic=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],rI=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function nI(e){var t=[],r=qe;return e||(e={}),e.Application="SheetJS",t[t.length]=Kr,t[t.length]=qe("Properties",null,{xmlns:mn.EXT_PROPS,"xmlns:vt":mn.vt}),Ic.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=Vt(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Vt(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function aI(e){var t=[Kr,qe("Properties",null,{xmlns:mn.CUST_PROPS,"xmlns:vt":mn.vt})];if(!e)return t.join("");var r=1;return Cn(e).forEach(function(s){++r,t[t.length]=qe("property",pne(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Vt(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var eC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Zne(e,t){var r=[];return Cn(eC).map(function(a){for(var s=0;s<yl.length;++s)if(yl[s][1]==a)return yl[s];for(s=0;s<Ic.length;++s)if(Ic[s][1]==a)return Ic[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];a[2]==="date"&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(En(eC[a[1]]||a[1],s))}}),qe("DocumentProperties",r.join(""),{xmlns:Pa.o})}function Qne(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&Cn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<yl.length;++o)if(i==yl[o][1])return;for(o=0;o<Ic.length;++o)if(i==Ic[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var c=e[i],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),s.push(qe(BA(i),c,{"dt:dt":u}))}}),t&&Cn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(qe(BA(i),o,{"dt:dt":c}))}}),"<"+a+' xmlns="'+Pa.o+'">'+s.join("")+"</"+a+">"}function eae(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=Oe(8);return o.write_shift(4,a),o.write_shift(4,s),o}function tC(e,t){var r=Oe(4),a=Oe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Oe(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=eae(t);break;case 31:case 80:for(a=Oe(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return kn([r,a])}var sI=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function tae(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function rC(e,t,r){var a=Oe(8),s=[],i=[],o=8,c=0,u=Oe(8),m=Oe(8);if(u.write_shift(4,2),u.write_shift(4,1200),m.write_shift(4,1),i.push(u),s.push(m),o+=8+u.length,!t){m=Oe(8),m.write_shift(4,0),s.unshift(m);var f=[Oe(4)];for(f[0].write_shift(4,e.length),c=0;c<e.length;++c){var h=e[c][0];for(u=Oe(8+2*(h.length+1)+(h.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,h.length+1),u.write_shift(0,h,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=kn(f),i.unshift(u),o+=8+u.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(sI.indexOf(e[c][0])>-1||rI.indexOf(e[c][0])>-1)&&e[c][1]!=null){var g=e[c][1],x=0;if(t){x=+t[e[c][0]];var w=r[x];if(w.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}u=tC(w.t,g)}else{var b=tae(g);b==-1&&(b=31,g=String(g)),u=tC(b,g)}i.push(u),m=Oe(8),m.write_shift(4,t?x:2+c),s.push(m),o+=8+u.length}var N=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,N),N+=i[c].length;return a.write_shift(4,o),a.write_shift(4,i.length),kn([a].concat(s).concat(i))}function nC(e,t,r,a,s,i){var o=Oe(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Xt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var u=rC(e,r,a);if(c.push(u),s){var m=rC(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),c.push(m)}return kn(c)}function rae(e,t){t||(t=Oe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function nae(e,t){return e.read_shift(t)===1}function Xn(e,t){return t||(t=Oe(2)),t.write_shift(2,+!!e),t}function iI(e){return e.read_shift(2,"u")}function rs(e,t){return t||(t=Oe(2)),t.write_shift(2,e),t}function oI(e,t,r){return r||(r=Oe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function lI(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function aae(e){var t=e.t||"",r=Oe(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Oe(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return kn(s)}function sae(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function iae(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):sae(e,a,r)}function oae(e,t,r){if(r.biff>5)return iae(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function cI(e,t,r){return r||(r=Oe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function aC(e,t){t||(t=Oe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function lae(e){var t=Oe(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),aC(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var c=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)t.write_shift(2,c.charCodeAt(r));t.write_shift(2,0),i&8&&aC(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Pl(e,t,r,a){return a||(a=Oe(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function cae(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function dae(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function dI(e,t){return t||(t=Oe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ej(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Oe(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function uae(e,t){var r=!t||t.biff==8,a=Oe(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function fae(e,t){var r=!t||t.biff>=8?2:1,a=Oe(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function mae(e,t){var r=Oe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=aae(e[s]);var i=kn([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function hae(){var e=Oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function pae(e){var t=Oe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function xae(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=Oe(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function gae(e,t,r,a){var s=Oe(10);return Pl(e,t,a,s),s.write_shift(4,r),s}function vae(e,t,r,a,s){var i=!s||s.biff==8,o=Oe(8+ +i+(1+i)*r.length);return Pl(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function yae(e,t,r,a){var s=r&&r.biff==5;a||(a=Oe(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function bae(e,t){var r=t.biff==8||!t.biff?4:2,a=Oe(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function sC(e,t,r,a){var s=r&&r.biff==5;a||(a=Oe(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function wae(e){var t=Oe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function jae(e,t,r,a,s,i){var o=Oe(8);return Pl(e,t,a,o),oI(r,i,o),o}function _ae(e,t,r,a){var s=Oe(14);return Pl(e,t,a,s),Tl(r,s),s}function Nae(e,t,r){if(r.biff<8)return Sae(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(cae(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function Sae(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=lI(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function kae(e){var t=Oe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)dI(e[r],t);return t}function Eae(e){var t=Oe(24),r=pn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return kn([t,lae(e[1])])}function Aae(e){var t=e[1].Tooltip,r=Oe(10+2*(t.length+1));r.write_shift(2,2048);var a=pn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function Cae(e){return e||(e=Oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Tae(e,t,r){if(!r.cellStyles)return Ys(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var m={s,e:i,w:o,ixfe:c,flags:u};return(r.biff>=5||!r.biff)&&(m.level=u>>8&7),m}function Pae(e,t){var r=Oe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Oae(e){for(var t=Oe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Iae(e,t,r){var a=Oe(15);return Tf(a,e,t),a.write_shift(8,r,"f"),a}function Dae(e,t,r){var a=Oe(9);return Tf(a,e,t),a.write_shift(2,r),a}var Mae=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=xj({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,u){var m=[],f=Cl(1);switch(u.type){case"base64":f=js(Ri(c));break;case"binary":f=js(c);break;case"buffer":case"array":f=c;break}Ta(f,0);var h=f.read_shift(1),g=!!(h&136),x=!1,w=!1;switch(h){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var y=0,b=521;h==2&&(y=f.read_shift(2)),f.l+=3,h!=2&&(y=f.read_shift(4)),y>1048576&&(y=1e6),h!=2&&(b=f.read_shift(2));var N=f.read_shift(2),_=u.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(_=e[f[f.l]]),f.l+=1,f.l+=2),w&&(f.l+=36);for(var k=[],A={},T=Math.min(f.length,h==2?521:b-10-(x?264:0)),I=w?32:11;f.l<T&&f[f.l]!=13;)switch(A={},A.name=E0.utils.decode(_,f.slice(f.l,f.l+I)).replace(/[\u0000\r\n].*$/g,""),f.l+=I,A.type=String.fromCharCode(f.read_shift(1)),h!=2&&!w&&(A.offset=f.read_shift(4)),A.len=f.read_shift(1),h==2&&(A.offset=f.read_shift(2)),A.dec=f.read_shift(1),A.name.length&&k.push(A),h!=2&&(f.l+=w?13:14),A.type){case"B":(!x||A.len!=8)&&u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(f[f.l]!==13&&(f.l=b-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=b;var O=0,D=0;for(m[0]=[],D=0;D!=k.length;++D)m[0][D]=k[D].name;for(;y-- >0;){if(f[f.l]===42){f.l+=N;continue}for(++f.l,m[++O]=[],D=0,D=0;D!=k.length;++D){var P=f.slice(f.l,f.l+k[D].len);f.l+=k[D].len,Ta(P,0);var M=E0.utils.decode(_,P);switch(k[D].type){case"C":M.trim().length&&(m[O][D]=M.replace(/\s+$/,""));break;case"D":M.length===8?m[O][D]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):m[O][D]=M;break;case"F":m[O][D]=parseFloat(M.trim());break;case"+":case"I":m[O][D]=w?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":m[O][D]=!0;break;case"N":case"F":m[O][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));m[O][D]="##MEMO##"+(w?parseInt(M.trim(),10):P.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(m[O][D]=+M||0);break;case"@":m[O][D]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":m[O][D]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":m[O][D]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[O][D]=-P.read_shift(-8,"f");break;case"B":if(x&&k[D].len==8){m[O][D]=P.read_shift(8,"f");break}case"G":case"P":P.l+=k[D].len;break;case"0":if(k[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[D].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(m=m.slice(0,u.sheetRows)),u.DBF=k,m}function a(c,u){var m=u||{};m.dateNF||(m.dateNF="yyyymmdd");var f=hd(r(c,m),m);return f["!cols"]=m.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete m.DBF,f}function s(c,u){try{return Ml(a(c,u),u)}catch(m){if(u&&u.WTF)throw m}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var m=u||{};if(+m.codepage>=0&&Wu(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var f=ha(),h=z0(c,{header:1,raw:!0,cellDates:!0}),g=h[0],x=h.slice(1),w=c["!cols"]||[],y=0,b=0,N=0,_=1;for(y=0;y<g.length;++y){if(((w[y]||{}).DBF||{}).name){g[y]=w[y].DBF.name,++N;continue}if(g[y]!=null){if(++N,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(b=0;b<1024;++b)if(g.indexOf(g[y]+"_"+b)==-1){g[y]+="_"+b;break}}}}var k=dr(c["!ref"]),A=[],T=[],I=[];for(y=0;y<=k.e.c-k.s.c;++y){var O="",D="",P=0,M=[];for(b=0;b<x.length;++b)x[b][y]!=null&&M.push(x[b][y]);if(M.length==0||g[y]==null){A[y]="?";continue}for(b=0;b<M.length;++b){switch(typeof M[b]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=M[b]instanceof Date?"D":"C";break;default:D="C"}P=Math.max(P,String(M[b]).length),O=O&&O!=D?"C":D}P>250&&(P=250),D=((w[y]||{}).DBF||{}).type,D=="C"&&w[y].DBF.len>P&&(P=w[y].DBF.len),O=="B"&&D=="N"&&(O="N",I[y]=w[y].DBF.dec,P=w[y].DBF.len),T[y]=O=="C"||D=="N"?P:i[O]||0,_+=T[y],A[y]=O}var V=f.next(32);for(V.write_shift(4,318902576),V.write_shift(4,x.length),V.write_shift(2,296+32*N),V.write_shift(2,_),y=0;y<4;++y)V.write_shift(4,0);for(V.write_shift(4,0|(+t[f6]||3)<<8),y=0,b=0;y<g.length;++y)if(g[y]!=null){var U=f.next(32),J=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,J,"sbcs"),U.write_shift(1,A[y]=="?"?"C":A[y],"sbcs"),U.write_shift(4,b),U.write_shift(1,T[y]||i[A[y]]||0),U.write_shift(1,I[y]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),b+=T[y]||i[A[y]]||0}var W=f.next(264);for(W.write_shift(4,13),y=0;y<65;++y)W.write_shift(4,0);for(y=0;y<x.length;++y){var he=f.next(_);for(he.write_shift(1,0),b=0;b<g.length;++b)if(g[b]!=null)switch(A[b]){case"L":he.write_shift(1,x[y][b]==null?63:x[y][b]?84:70);break;case"B":he.write_shift(8,x[y][b]||0,"f");break;case"N":var X="0";for(typeof x[y][b]=="number"&&(X=x[y][b].toFixed(I[b]||0)),N=0;N<T[b]-X.length;++N)he.write_shift(1,32);he.write_shift(1,X,"sbcs");break;case"D":x[y][b]?(he.write_shift(4,("0000"+x[y][b].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(x[y][b].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+x[y][b].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var be=String(x[y][b]!=null?x[y][b]:"").slice(0,T[b]);for(he.write_shift(1,be,"sbcs"),N=0;N<T[b]-be.length;++N)he.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}})(),Fae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Cn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var w=e[x];return typeof w=="number"?CA(w):w},a=function(g,x,w){var y=x.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?g:CA(y)};e["|"]=254;function s(g,x){switch(x.type){case"base64":return i(Ri(g),x);case"binary":return i(g,x);case"buffer":return i(Lt&&Buffer.isBuffer(g)?g.toString("binary"):Sf(g),x);case"array":return i(Kp(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var w=g.split(/[\n\r]+/),y=-1,b=-1,N=0,_=0,k=[],A=[],T=null,I={},O=[],D=[],P=[],M=0,V;for(+x.codepage>=0&&Wu(+x.codepage);N!==w.length;++N){M=0;var U=w[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),J=U.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),W=J[0],he;if(U.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":J[1].charAt(0)=="P"&&A.push(U.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,be=!1,ne=!1,ve=!1,me=-1,ae=-1;for(_=1;_<J.length;++_)switch(J[_].charAt(0)){case"A":break;case"X":b=parseInt(J[_].slice(1))-1,be=!0;break;case"Y":for(y=parseInt(J[_].slice(1))-1,be||(b=0),V=k.length;V<=y;++V)k[V]=[];break;case"K":he=J[_].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(Si(he))?isNaN(Ku(he).getDate())||(he=ea(he)):(he=Si(he),T!==null&&N6(T)&&(he=A6(he))),X=!0;break;case"E":ve=!0;var C=Dse(J[_].slice(1),{r:y,c:b});k[y][b]=[k[y][b],C];break;case"S":ne=!0,k[y][b]=[k[y][b],"S5S"];break;case"G":break;case"R":me=parseInt(J[_].slice(1))-1;break;case"C":ae=parseInt(J[_].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(X&&(k[y][b]&&k[y][b].length==2?k[y][b][0]=he:k[y][b]=he,T=null),ne){if(ve)throw new Error("SYLK shared formula cannot have own formula");var B=me>-1&&k[me][ae];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");k[y][b][1]=Mse(B[1],{r:y-me,c:b-ae})}break;case"F":var H=0;for(_=1;_<J.length;++_)switch(J[_].charAt(0)){case"X":b=parseInt(J[_].slice(1))-1,++H;break;case"Y":for(y=parseInt(J[_].slice(1))-1,V=k.length;V<=y;++V)k[V]=[];break;case"M":M=parseInt(J[_].slice(1))/20;break;case"F":break;case"G":break;case"P":T=A[parseInt(J[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=J[_].slice(1).split(" "),V=parseInt(P[0],10);V<=parseInt(P[1],10);++V)M=parseInt(P[2],10),D[V-1]=M===0?{hidden:!0}:{wch:M},Aj(D[V-1]);break;case"C":b=parseInt(J[_].slice(1))-1,D[b]||(D[b]={});break;case"R":y=parseInt(J[_].slice(1))-1,O[y]||(O[y]={}),M>0?(O[y].hpt=M,O[y].hpx=pI(M)):M===0&&(O[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}H<1&&(T=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return O.length>0&&(I["!rows"]=O),D.length>0&&(I["!cols"]=D),x&&x.sheetRows&&(k=k.slice(0,x.sheetRows)),[k,I]}function o(g,x){var w=s(g,x),y=w[0],b=w[1],N=hd(y,x);return Cn(b).forEach(function(_){N[_]=b[_]}),N}function c(g,x){return Ml(o(g,x),x)}function u(g,x,w,y){var b="C;Y"+(w+1)+";X"+(y+1)+";K";switch(g.t){case"n":b+=g.v||0,g.f&&!g.F&&(b+=";E"+Tj(g.f,{r:w,c:y}));break;case"b":b+=g.v?"TRUE":"FALSE";break;case"e":b+=g.w||g.v;break;case"d":b+='"'+(g.w||g.v)+'"';break;case"s":b+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function m(g,x){x.forEach(function(w,y){var b="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?b+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=F0(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=L0(w.wpx)),typeof w.wch=="number"&&(b+=Math.round(w.wch))),b.charAt(b.length-1)!=" "&&g.push(b)})}function f(g,x){x.forEach(function(w,y){var b="F;";w.hidden?b+="M0;":w.hpt?b+="M"+20*w.hpt+";":w.hpx&&(b+="M"+20*R0(w.hpx)+";"),b.length>2&&g.push(b+"R"+(y+1))})}function h(g,x){var w=["ID;PWXL;N;E"],y=[],b=dr(g["!ref"]),N,_=Array.isArray(g),k=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&m(w,g["!cols"]),g["!rows"]&&f(w,g["!rows"]),w.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var A=b.s.r;A<=b.e.r;++A)for(var T=b.s.c;T<=b.e.c;++T){var I=qt({r:A,c:T});N=_?(g[A]||[])[T]:g[I],!(!N||N.v==null&&(!N.f||N.F))&&y.push(u(N,g,A,T))}return w.join(k)+k+y.join(k)+k+"E"+k}return{to_workbook:c,to_sheet:o,from_sheet:h}})(),Lae=(function(){function e(i,o){switch(o.type){case"base64":return t(Ri(i),o);case"binary":return t(i,o);case"buffer":return t(Lt&&Buffer.isBuffer(i)?i.toString("binary"):Sf(i),o);case"array":return t(Kp(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var c=i.split(`
`),u=-1,m=-1,f=0,h=[];f!==c.length;++f){if(c[f].trim()==="BOT"){h[++u]=[],m=0;continue}if(!(u<0)){var g=c[f].trim().split(","),x=g[0],w=g[1];++f;for(var y=c[f]||"";(y.match(/["]/g)||[]).length&1&&f<c.length-1;)y+=`
`+c[++f];switch(y=y.trim(),+x){case-1:if(y==="BOT"){h[++u]=[],m=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?h[u][m]=!0:y==="FALSE"?h[u][m]=!1:isNaN(Si(w))?isNaN(Ku(w).getDate())?h[u][m]=w:h[u][m]=ea(w):h[u][m]=Si(w),++m;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),h[u][m++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return hd(e(i,o),o)}function a(i,o){return Ml(r(i,o),o)}var s=(function(){var i=function(u,m,f,h,g){u.push(m),u.push(f+","+h),u.push('"'+g.replace(/"/g,'""')+'"')},o=function(u,m,f,h){u.push(m+","+f),u.push(m==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(u){var m=[],f=dr(u["!ref"]),h,g=Array.isArray(u);i(m,"TABLE",0,1,"sheetjs"),i(m,"VECTORS",0,f.e.r-f.s.r+1,""),i(m,"TUPLES",0,f.e.c-f.s.c+1,""),i(m,"DATA",0,0,"");for(var x=f.s.r;x<=f.e.r;++x){o(m,-1,0,"BOT");for(var w=f.s.c;w<=f.e.c;++w){var y=qt({r:x,c:w});if(h=g?(u[x]||[])[w]:u[y],!h){o(m,1,0,"");continue}switch(h.t){case"n":var b=h.w;!b&&h.v!=null&&(b=h.v),b==null?h.f&&!h.F?o(m,1,0,"="+h.f):o(m,1,0,""):o(m,0,b,"V");break;case"b":o(m,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(m,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Do(h.z||kr[14],xa(ea(h.v)))),o(m,0,h.w,"V");break;default:o(m,1,0,"")}}}o(m,-1,0,"EOD");var N=`\r
`,_=m.join(N);return _}})();return{to_workbook:a,to_sheet:r,from_sheet:s}})(),uI=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){for(var x=h.split(`
`),w=-1,y=-1,b=0,N=[];b!==x.length;++b){var _=x[b].trim().split(":");if(_[0]==="cell"){var k=pn(_[1]);if(N.length<=k.r)for(w=N.length;w<=k.r;++w)N[w]||(N[w]=[]);switch(w=k.r,y=k.c,_[2]){case"t":N[w][y]=e(_[3]);break;case"v":N[w][y]=+_[3];break;case"vtf":var A=_[_.length-1];case"vtc":_[3]==="nl"?N[w][y]=!!+_[4]:N[w][y]=+_[4],_[2]=="vtf"&&(N[w][y]=[N[w][y],A])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function a(h,g){return hd(r(h,g),g)}function s(h,g){return Ml(a(h,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function m(h){if(!h||!h["!ref"])return"";for(var g=[],x=[],w,y="",b=Ua(h["!ref"]),N=Array.isArray(h),_=b.s.r;_<=b.e.r;++_)for(var k=b.s.c;k<=b.e.c;++k)if(y=qt({r:_,c:k}),w=N?(h[_]||[])[k]:h[y],!(!w||w.v==null||w.t==="z")){switch(x=["cell",y,"t"],w.t){case"s":case"str":x.push(t(w.v));break;case"n":w.f?(x[2]="vtf",x[3]="n",x[4]=w.v,x[5]=t(w.f)):(x[2]="v",x[3]=w.v);break;case"b":x[2]="vt"+(w.f?"f":"c"),x[3]="nl",x[4]=w.v?"1":"0",x[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var A=xa(ea(w.v));x[2]="vtc",x[3]="nd",x[4]=""+A,x[5]=w.w||Do(w.z||kr[14],A);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(h){return[i,o,c,o,m(h),u].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:f}})(),Rae=(function(){function e(f,h,g,x,w){w.raw?h[g][x]=f:f===""||(f==="TRUE"?h[g][x]=!0:f==="FALSE"?h[g][x]=!1:isNaN(Si(f))?isNaN(Ku(f).getDate())?h[g][x]=f:h[g][x]=ea(f):h[g][x]=Si(f))}function t(f,h){var g=h||{},x=[];if(!f||f.length===0)return x;for(var w=f.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var b=10,N=0,_=0;_<=y;++_)N=w[_].indexOf(" "),N==-1?N=w[_].length:N++,b=Math.max(b,N);for(_=0;_<=y;++_){x[_]=[];var k=0;for(e(w[_].slice(0,b).trim(),x,_,k,g),k=1;k<=(w[_].length-b)/10+1;++k)e(w[_].slice(b+(k-1)*10,b+k*10).trim(),x,_,k,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(f){for(var h={},g=!1,x=0,w=0;x<f.length;++x)(w=f.charCodeAt(x))==34?g=!g:!g&&w in r&&(h[w]=(h[w]||0)+1);w=[];for(x in h)Object.prototype.hasOwnProperty.call(h,x)&&w.push([h[x],x]);if(!w.length){h=a;for(x in h)Object.prototype.hasOwnProperty.call(h,x)&&w.push([h[x],x])}return w.sort(function(y,b){return y[0]-b[0]||a[y[1]]-a[b[1]]}),r[w.pop()[1]]||44}function i(f,h){var g=h||{},x="",w=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(x=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(x=f.charAt(4),f=f.slice(6)):x=s(f.slice(0,1024)):g&&g.FS?x=g.FS:x=s(f.slice(0,1024));var b=0,N=0,_=0,k=0,A=0,T=x.charCodeAt(0),I=!1,O=0,D=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var P=g.dateNF!=null?ene(g.dateNF):null;function M(){var V=f.slice(k,A),U={};if(V.charAt(0)=='"'&&V.charAt(V.length-1)=='"'&&(V=V.slice(1,-1).replace(/""/g,'"')),V.length===0)U.t="z";else if(g.raw)U.t="s",U.v=V;else if(V.trim().length===0)U.t="s",U.v=V;else if(V.charCodeAt(0)==61)V.charCodeAt(1)==34&&V.charCodeAt(V.length-1)==34?(U.t="s",U.v=V.slice(2,-1).replace(/""/g,'"')):Fse(V)?(U.t="n",U.f=V.slice(1)):(U.t="s",U.v=V);else if(V=="TRUE")U.t="b",U.v=!0;else if(V=="FALSE")U.t="b",U.v=!1;else if(!isNaN(_=Si(V)))U.t="n",g.cellText!==!1&&(U.w=V),U.v=_;else if(!isNaN(Ku(V).getDate())||P&&V.match(P)){U.z=g.dateNF||kr[14];var J=0;P&&V.match(P)&&(V=tne(V,g.dateNF,V.match(P)||[]),J=1),g.cellDates?(U.t="d",U.v=ea(V,J)):(U.t="n",U.v=xa(ea(V,J))),g.cellText!==!1&&(U.w=Do(U.z,U.v instanceof Date?xa(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=V;if(U.t=="z"||(g.dense?(w[b]||(w[b]=[]),w[b][N]=U):w[qt({c:N,r:b})]=U),k=A+1,D=f.charCodeAt(k),y.e.c<N&&(y.e.c=N),y.e.r<b&&(y.e.r=b),O==T)++N;else if(N=0,++b,g.sheetRows&&g.sheetRows<=b)return!0}e:for(;A<f.length;++A)switch(O=f.charCodeAt(A)){case 34:D===34&&(I=!I);break;case T:case 10:case 13:if(!I&&M())break e;break}return A-k>0&&M(),w["!ref"]=Hr(y),w}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):hd(t(f,h),h)}function c(f,h){var g="",x=h.type=="string"?[0,0,0,0]:Yce(f,h);switch(h.type){case"base64":g=Ri(f);break;case"binary":g=f;break;case"buffer":h.codepage==65001?g=f.toString("utf8"):h.codepage&&typeof E0<"u"||(g=Lt&&Buffer.isBuffer(f)?f.toString("binary"):Sf(f));break;case"array":g=Kp(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+h.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=vu(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=vu(g):h.type=="binary"&&typeof E0<"u",g.slice(0,19)=="socialcalc:version:"?uI.to_sheet(h.type=="string"?g:vu(g),h):o(g,h)}function u(f,h){return Ml(c(f,h),h)}function m(f){for(var h=[],g=dr(f["!ref"]),x,w=Array.isArray(f),y=g.s.r;y<=g.e.r;++y){for(var b=[],N=g.s.c;N<=g.e.c;++N){var _=qt({r:y,c:N});if(x=w?(f[y]||[])[N]:f[_],!x||x.v==null){b.push("          ");continue}for(var k=(x.w||($i(x),x.w)||"").slice(0,10);k.length<10;)k+=" ";b.push(k+(N===0?" ":""))}h.push(b.join(""))}return h.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:m}})(),iC=(function(){function e(C,B,H){if(C){Ta(C,C.l||0);for(var K=H.Enum||me;C.l<C.length;){var te=C.read_shift(2),ye=K[te]||K[65535],Se=C.read_shift(2),L=C.l+Se,G=ye.f&&ye.f(C,Se,H);if(C.l=L,B(G,ye,te))return}}}function t(C,B){switch(B.type){case"base64":return r(js(Ri(C)),B);case"binary":return r(js(C),B);case"buffer":case"array":return r(C,B)}throw"Unsupported type "+B.type}function r(C,B){if(!C)return C;var H=B||{},K=H.dense?[]:{},te="Sheet1",ye="",Se=0,L={},G=[],ge=[],le={s:{r:0,c:0},e:{r:0,c:0}},Re=H.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)H.Enum=me,e(C,function(je,it,Xe){switch(Xe){case 0:H.vers=je,je>=4096&&(H.qpro=!0);break;case 6:le=je;break;case 204:je&&(ye=je);break;case 222:ye=je;break;case 15:case 51:H.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:Xe==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=H.dateNF||kr[14],H.cellDates&&(je[1].t="d",je[1].v=A6(je[1].v))),H.qpro&&je[3]>Se&&(K["!ref"]=Hr(le),L[te]=K,G.push(te),K=H.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},Se=je[3],te=ye||"Sheet"+(Se+1),ye="");var gt=H.dense?(K[je[0].r]||[])[je[0].c]:K[qt(je[0])];if(gt){gt.t=je[1].t,gt.v=je[1].v,je[1].z!=null&&(gt.z=je[1].z),je[1].f!=null&&(gt.f=je[1].f);break}H.dense?(K[je[0].r]||(K[je[0].r]=[]),K[je[0].r][je[0].c]=je[1]):K[qt(je[0])]=je[1];break}},H);else if(C[2]==26||C[2]==14)H.Enum=ae,C[2]==14&&(H.qpro=!0,C.l=0),e(C,function(je,it,Xe){switch(Xe){case 204:te=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>Se&&(K["!ref"]=Hr(le),L[te]=K,G.push(te),K=H.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},Se=je[3],te="Sheet"+(Se+1)),Re>0&&je[0].r>=Re)break;H.dense?(K[je[0].r]||(K[je[0].r]=[]),K[je[0].r][je[0].c]=je[1]):K[qt(je[0])]=je[1],le.e.c<je[0].c&&(le.e.c=je[0].c),le.e.r<je[0].r&&(le.e.r=je[0].r);break;case 27:je[14e3]&&(ge[je[14e3][0]]=je[14e3][1]);break;case 1537:ge[je[0]]=je[1],je[0]==Se&&(te=je[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(K["!ref"]=Hr(le),L[ye||te]=K,G.push(ye||te),!ge.length)return{SheetNames:G,Sheets:L};for(var De={},Ce=[],Ae=0;Ae<ge.length;++Ae)L[G[Ae]]?(Ce.push(ge[Ae]||G[Ae]),De[ge[Ae]]=L[ge[Ae]]||L[G[Ae]]):(Ce.push(ge[Ae]),De[ge[Ae]]={"!ref":"A1"});return{SheetNames:Ce,Sheets:De}}function a(C,B){var H=B||{};if(+H.codepage>=0&&Wu(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var K=ha(),te=dr(C["!ref"]),ye=Array.isArray(C),Se=[];Ge(K,0,i(1030)),Ge(K,6,u(te));for(var L=Math.min(te.e.r,8191),G=te.s.r;G<=L;++G)for(var ge=An(G),le=te.s.c;le<=te.e.c;++le){G===te.s.r&&(Se[le]=Bn(le));var Re=Se[le]+ge,De=ye?(C[G]||[])[le]:C[Re];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?Ge(K,13,x(G,le,De.v)):Ge(K,14,y(G,le,De.v));else{var Ce=$i(De);Ge(K,15,h(G,le,Ce.slice(0,239)))}}return Ge(K,1),K.end()}function s(C,B){var H=B||{};if(+H.codepage>=0&&Wu(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var K=ha();Ge(K,0,o(C));for(var te=0,ye=0;te<C.SheetNames.length;++te)(C.Sheets[C.SheetNames[te]]||{})["!ref"]&&Ge(K,27,ve(C.SheetNames[te],ye++));var Se=0;for(te=0;te<C.SheetNames.length;++te){var L=C.Sheets[C.SheetNames[te]];if(!(!L||!L["!ref"])){for(var G=dr(L["!ref"]),ge=Array.isArray(L),le=[],Re=Math.min(G.e.r,8191),De=G.s.r;De<=Re;++De)for(var Ce=An(De),Ae=G.s.c;Ae<=G.e.c;++Ae){De===G.s.r&&(le[Ae]=Bn(Ae));var je=le[Ae]+Ce,it=ge?(L[De]||[])[Ae]:L[je];if(!(!it||it.t=="z"))if(it.t=="n")Ge(K,23,M(De,Ae,Se,it.v));else{var Xe=$i(it);Ge(K,22,O(De,Ae,Se,Xe.slice(0,239)))}}++Se}}return Ge(K,1),K.end()}function i(C){var B=Oe(2);return B.write_shift(2,C),B}function o(C){var B=Oe(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var H=0,K=0,te=0,ye=0;ye<C.SheetNames.length;++ye){var Se=C.SheetNames[ye],L=C.Sheets[Se];if(!(!L||!L["!ref"])){++te;var G=Ua(L["!ref"]);H<G.e.r&&(H=G.e.r),K<G.e.c&&(K=G.e.c)}}return H>8191&&(H=8191),B.write_shift(2,H),B.write_shift(1,te),B.write_shift(1,K),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function c(C,B,H){var K={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&H.qpro?(K.s.c=C.read_shift(1),C.l++,K.s.r=C.read_shift(2),K.e.c=C.read_shift(1),C.l++,K.e.r=C.read_shift(2),K):(K.s.c=C.read_shift(2),K.s.r=C.read_shift(2),B==12&&H.qpro&&(C.l+=2),K.e.c=C.read_shift(2),K.e.r=C.read_shift(2),B==12&&H.qpro&&(C.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function u(C){var B=Oe(8);return B.write_shift(2,C.s.c),B.write_shift(2,C.s.r),B.write_shift(2,C.e.c),B.write_shift(2,C.e.r),B}function m(C,B,H){var K=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(K[0].c=C.read_shift(1),K[3]=C.read_shift(1),K[0].r=C.read_shift(2),C.l+=2):(K[2]=C.read_shift(1),K[0].c=C.read_shift(2),K[0].r=C.read_shift(2)),K}function f(C,B,H){var K=C.l+B,te=m(C,B,H);if(te[1].t="s",H.vers==20768){C.l++;var ye=C.read_shift(1);return te[1].v=C.read_shift(ye,"utf8"),te}return H.qpro&&C.l++,te[1].v=C.read_shift(K-C.l,"cstr"),te}function h(C,B,H){var K=Oe(7+H.length);K.write_shift(1,255),K.write_shift(2,B),K.write_shift(2,C),K.write_shift(1,39);for(var te=0;te<K.length;++te){var ye=H.charCodeAt(te);K.write_shift(1,ye>=128?95:ye)}return K.write_shift(1,0),K}function g(C,B,H){var K=m(C,B,H);return K[1].v=C.read_shift(2,"i"),K}function x(C,B,H){var K=Oe(7);return K.write_shift(1,255),K.write_shift(2,B),K.write_shift(2,C),K.write_shift(2,H,"i"),K}function w(C,B,H){var K=m(C,B,H);return K[1].v=C.read_shift(8,"f"),K}function y(C,B,H){var K=Oe(13);return K.write_shift(1,255),K.write_shift(2,B),K.write_shift(2,C),K.write_shift(8,H,"f"),K}function b(C,B,H){var K=C.l+B,te=m(C,B,H);if(te[1].v=C.read_shift(8,"f"),H.qpro)C.l=K;else{var ye=C.read_shift(2);A(C.slice(C.l,C.l+ye),te),C.l+=ye}return te}function N(C,B,H){var K=B&32768;return B&=-32769,B=(K?C:0)+(B>=8192?B-16384:B),(K?"":"$")+(H?Bn(B):An(B))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(C,B){Ta(C,0);for(var H=[],K=0,te="",ye="",Se="",L="";C.l<C.length;){var G=C[C.l++];switch(G){case 0:H.push(C.read_shift(8,"f"));break;case 1:ye=N(B[0].c,C.read_shift(2),!0),te=N(B[0].r,C.read_shift(2),!1),H.push(ye+te);break;case 2:{var ge=N(B[0].c,C.read_shift(2),!0),le=N(B[0].r,C.read_shift(2),!1);ye=N(B[0].c,C.read_shift(2),!0),te=N(B[0].r,C.read_shift(2),!1),H.push(ge+le+":"+ye+te)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(C.read_shift(2));break;case 6:{for(var Re="";G=C[C.l++];)Re+=String.fromCharCode(G);H.push('"'+Re.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:L=H.pop(),Se=H.pop(),H.push(["AND","OR"][G-20]+"("+Se+","+L+")");break;default:if(G<32&&k[G])L=H.pop(),Se=H.pop(),H.push(Se+k[G]+L);else if(_[G]){if(K=_[G][1],K==69&&(K=C[C.l++]),K>H.length){console.error("WK1 bad formula parse 0x"+G.toString(16)+":|"+H.join("|")+"|");return}var De=H.slice(-K);H.length-=K,H.push(_[G][0]+"("+De.join(",")+")")}else return G<=7?console.error("WK1 invalid opcode "+G.toString(16)):G<=24?console.error("WK1 unsupported op "+G.toString(16)):G<=30?console.error("WK1 invalid opcode "+G.toString(16)):G<=115?console.error("WK1 unsupported function opcode "+G.toString(16)):console.error("WK1 unrecognized opcode "+G.toString(16))}}H.length==1?B[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function T(C){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=C.read_shift(2),B[3]=C[C.l++],B[0].c=C[C.l++],B}function I(C,B){var H=T(C);return H[1].t="s",H[1].v=C.read_shift(B-4,"cstr"),H}function O(C,B,H,K){var te=Oe(6+K.length);te.write_shift(2,C),te.write_shift(1,H),te.write_shift(1,B),te.write_shift(1,39);for(var ye=0;ye<K.length;++ye){var Se=K.charCodeAt(ye);te.write_shift(1,Se>=128?95:Se)}return te.write_shift(1,0),te}function D(C,B){var H=T(C);H[1].v=C.read_shift(2);var K=H[1].v>>1;if(H[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return H[1].v=K,H}function P(C,B){var H=T(C),K=C.read_shift(4),te=C.read_shift(4),ye=C.read_shift(2);if(ye==65535)return K===0&&te===3221225472?(H[1].t="e",H[1].v=15):K===0&&te===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var Se=ye&32768;return ye=(ye&32767)-16446,H[1].v=(1-Se*2)*(te*Math.pow(2,ye+32)+K*Math.pow(2,ye)),H}function M(C,B,H,K){var te=Oe(14);if(te.write_shift(2,C),te.write_shift(1,H),te.write_shift(1,B),K==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ye=0,Se=0,L=0,G=0;return K<0&&(ye=1,K=-K),Se=Math.log2(K)|0,K/=Math.pow(2,Se-31),G=K>>>0,(G&2147483648)==0&&(K/=2,++Se,G=K>>>0),K-=G,G|=2147483648,G>>>=0,K*=Math.pow(2,32),L=K>>>0,te.write_shift(4,L),te.write_shift(4,G),Se+=16383+(ye?32768:0),te.write_shift(2,Se),te}function V(C,B){var H=P(C);return C.l+=B-14,H}function U(C,B){var H=T(C),K=C.read_shift(4);return H[1].v=K>>6,H}function J(C,B){var H=T(C),K=C.read_shift(8,"f");return H[1].v=K,H}function W(C,B){var H=J(C);return C.l+=B-10,H}function he(C,B){return C[C.l+B-1]==0?C.read_shift(B,"cstr"):""}function X(C,B){var H=C[C.l++];H>B-1&&(H=B-1);for(var K="";K.length<H;)K+=String.fromCharCode(C[C.l++]);return K}function be(C,B,H){if(!(!H.qpro||B<21)){var K=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var te=C.read_shift(B-21,"cstr");return[K,te]}}function ne(C,B){for(var H={},K=C.l+B;C.l<K;){var te=C.read_shift(2);if(te==14e3){for(H[te]=[0,""],H[te][0]=C.read_shift(2);C[C.l];)H[te][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return H}function ve(C,B){var H=Oe(5+C.length);H.write_shift(2,14e3),H.write_shift(2,B);for(var K=0;K<C.length;++K){var te=C.charCodeAt(K);H[H.l++]=te>127?95:te}return H[H.l++]=0,H}var me={0:{n:"BOF",f:iI},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:J},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}})(),$ae=/^\s|\s$|[\t\n\r]/;function fI(e,t){if(!t.bookSST)return"";var r=[Kr];r[r.length]=qe("sst",null,{xmlns:md[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match($ae)&&(i+=' xml:space="preserve"'),i+=">"+Vt(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function zae(e){return[e.read_shift(4),e.read_shift(4)]}function Bae(e,t){return t||(t=Oe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Uae=One;function Wae(e){var t=ha();Me(t,159,Bae(e));for(var r=0;r<e.length;++r)Me(t,19,Uae(e[r]));return Me(t,160),t.end()}function Hae(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function mI(e){var t=0,r,a=Hae(e),s=a.length+1,i,o,c,u,m;for(r=Cl(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],c=(t&16384)===0?0:1,u=t<<1&32767,m=c|u,t=m^o;return t^52811}var Kae=(function(){function e(s,i){switch(i.type){case"base64":return t(Ri(s),i);case"binary":return t(s,i);case"buffer":return t(Lt&&Buffer.isBuffer(s)?s.toString("binary"):Sf(s),i);case"array":return t(Kp(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,h){Array.isArray(c)&&(c[h]=[]);for(var g=/\\\w+\b/g,x=0,w,y=-1;w=g.exec(f);){switch(w[0]){case"\\cell":var b=f.slice(x,g.lastIndex-w[0].length);if(b[0]==" "&&(b=b.slice(1)),++y,b.length){var N={v:b,t:"s"};Array.isArray(c)?c[h][y]=N:c[qt({r:h,c:y})]=N}break}x=g.lastIndex}y>m.e.c&&(m.e.c=y)}),c["!ref"]=Hr(m),c}function r(s,i){return Ml(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=dr(s["!ref"]),c,u=Array.isArray(s),m=o.s.r;m<=o.e.r;++m){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=qt({r:m,c:f});c=u?(s[m]||[])[f]:s[h],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||($i(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function oC(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Vae=6,ki=Vae;function F0(e){return Math.floor((e+Math.round(128/ki)/256)*ki)}function L0(e){return Math.floor((e-5)/ki*100+.5)/100}function q1(e){return Math.round((e*ki+5)/ki*256)/256}function Aj(e){e.width?(e.wpx=F0(e.width),e.wch=L0(e.wpx),e.MDW=ki):e.wpx?(e.wch=L0(e.wpx),e.width=q1(e.wch),e.MDW=ki):typeof e.wch=="number"&&(e.width=q1(e.wch),e.wpx=F0(e.width),e.MDW=ki),e.customWidth&&delete e.customWidth}var qae=96,hI=qae;function R0(e){return e*96/hI}function pI(e){return e*hI/96}function Gae(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=qe("numFmt",null,{numFmtId:a,formatCode:Vt(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Xae(e){var t=[];return t[t.length]=qe("cellXfs",null),e.forEach(function(r){t[t.length]=qe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function xI(e,t){var r=[Kr,qe("styleSheet",null,{xmlns:md[0],"xmlns:vt":mn.vt})],a;return e.SSF&&(a=Gae(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Xae(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Yae(e,t){var r=e.read_shift(2),a=Un(e);return[r,a]}function Jae(e,t,r){r||(r=Oe(6+4*t.length)),r.write_shift(2,e),xn(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function Zae(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=$ne(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var c=e.read_shift(1);c>0&&(a.family=c);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=Rne(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Un(e),a}function Qae(e,t){t||(t=Oe(153)),t.write_shift(2,e.sz*20),zne(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),D0(e.color,t);var a=0;return a=2,t.write_shift(1,a),xn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var ese=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ey,tse=Ys;function lC(e,t){t||(t=Oe(84)),Ey||(Ey=xj(ese));var r=Ey[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(D0({auto:1},t),D0({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function rse(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function gI(e,t,r){r||(r=Oe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function lu(e,t){return t||(t=Oe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var nse=Ys;function ase(e,t){return t||(t=Oe(51)),t.write_shift(1,0),lu(null,t),lu(null,t),lu(null,t),lu(null,t),lu(null,t),t.length>t.l?t.slice(0,t.l):t}function sse(e,t){return t||(t=Oe(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),I0(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ise(e,t,r){var a=Oe(2052);return a.write_shift(4,e),I0(t,a),I0(r,a),a.length>a.l?a.slice(0,a.l):a}function ose(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(Me(e,615,Ss(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Me(e,44,Jae(s,t[s]))}),Me(e,616))}}function lse(e){var t=1;Me(e,611,Ss(t)),Me(e,43,Qae({sz:12,color:{theme:1},name:"Calibri",family:2})),Me(e,612)}function cse(e){var t=2;Me(e,603,Ss(t)),Me(e,45,lC({patternType:"none"})),Me(e,45,lC({patternType:"gray125"})),Me(e,604)}function dse(e){var t=1;Me(e,613,Ss(t)),Me(e,46,ase()),Me(e,614)}function use(e){var t=1;Me(e,626,Ss(t)),Me(e,47,gI({numFmtId:0},65535)),Me(e,627)}function fse(e,t){Me(e,617,Ss(t.length)),t.forEach(function(r){Me(e,47,gI(r,0))}),Me(e,618)}function mse(e){var t=1;Me(e,619,Ss(t)),Me(e,48,sse({xfId:0,name:"Normal"})),Me(e,620)}function hse(e){var t=0;Me(e,505,Ss(t)),Me(e,506)}function pse(e){var t=0;Me(e,508,ise(t,"TableStyleMedium9","PivotStyleMedium4")),Me(e,509)}function xse(e,t){var r=ha();return Me(r,278),ose(r,e.SSF),lse(r),cse(r),dse(r),use(r),fse(r,t.cellXfs),mse(r),hse(r),pse(r),Me(r,279),r.end()}function vI(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Kr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function gse(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Un(e)}}function vse(e){var t=Oe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xn(e.name,t),t.slice(0,t.l)}function yse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function bse(e){var t=Oe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function wse(e,t){var r=Oe(8+2*t.length);return r.write_shift(4,e),xn(t,r),r.slice(0,r.l)}function jse(e){return e.l+=4,e.read_shift(4)!=0}function _se(e,t){var r=Oe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Nse(){var e=ha();return Me(e,332),Me(e,334,Ss(1)),Me(e,335,vse({name:"XLDAPR",version:12e4,flags:3496657072})),Me(e,336),Me(e,339,wse(1,"XLDAPR")),Me(e,52),Me(e,35,Ss(514)),Me(e,4096,Ss(0)),Me(e,4097,rs(1)),Me(e,36),Me(e,53),Me(e,340),Me(e,337,_se(1)),Me(e,51,bse([[1,0]])),Me(e,338),Me(e,333),e.end()}function yI(){var e=[Kr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Sse(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=qt(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var kc=1024;function bI(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[qe("xml",null,{"xmlns:v":Pa.v,"xmlns:o":Pa.o,"xmlns:x":Pa.x,"xmlns:mv":Pa.mv}).replace(/\/>/,">"),qe("o:shapelayout",qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qe("v:shapetype",[qe("v:stroke",null,{joinstyle:"miter"}),qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];kc<e*1e3;)kc+=1e3;return t.forEach(function(i){var o=pn(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=qe("v:fill",u,c),f={on:"t",obscured:"t"};++kc,s=s.concat(["<v:shape"+qu({id:"_x0000_s"+kc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,qe("v:shadow",null,f),qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",En("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),En("x:AutoFill","False"),En("x:Row",String(o.r)),En("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function wI(e){var t=[Kr,qe("comments",null,{xmlns:md[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=Vt(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(s=r.indexOf(Vt(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(En("t",Vt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)o+=`Reply:
    `+i[c]+`
`;t.push(En("t",Vt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function kse(e,t,r){var a=[Kr,qe("ThreadedComments",null,{xmlns:mn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(qe("threadedComment",En("text",o.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function Ese(e){var t=[Kr,qe("personList",null,{xmlns:mn.TCMNT,"xmlns:x":md[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Ase(e){var t={};t.iauthor=e.read_shift(4);var r=$l(e);return t.rfx=r.s,t.ref=qt(r.s),e.l+=16,t}function Cse(e,t){return t==null&&(t=Oe(36)),t.write_shift(4,e[1].iauthor),pd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Tse=Un;function Pse(e){return xn(e.slice(0,54))}function Ose(e){var t=ha(),r=[];return Me(t,628),Me(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Me(t,632,Pse(s.a)))})}),Me(t,631),Me(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:pn(a[0]),e:pn(a[0])};Me(t,635,Cse([i,s])),s.t&&s.t.length>0&&Me(t,637,Dne(s)),Me(t,636),delete s.iauthor})}),Me(t,634),Me(t,629),t.end()}function Ise(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Xt.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var jI=["xlsb","xlsm","xlam","biff8","xla"],Dse=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var m=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=t.c:--f,u?m+=t.r:--m,s+(c?"":"$")+Bn(f)+(u?"":"$")+An(m)}return function(s,i){return t=i,s.replace(e,r)}})(),Cj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Tj=(function(){return function(t,r){return t.replace(Cj,function(a,s,i,o,c,u){var m=_j(o)-(i?0:r.c),f=jj(u)-(c?0:r.r),h=f==0?"":c?f+1:"["+f+"]",g=m==0?"":i?m+1:"["+m+"]";return s+"R"+h+"C"+g})}})();function Mse(e,t){return e.replace(Cj,function(r,a,s,i,o,c){return a+(s=="$"?s+i:Bn(_j(i)+t.c))+(o=="$"?o+c:An(jj(c)+t.r))})}function Fse(e){return e.length!=1}function $r(e){e.l+=1}function Mo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function _I(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return NI(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=Mo(e),c=Mo(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function NI(e){var t=Mo(e),r=Mo(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Lse(e,t,r){if(r.biff<8)return NI(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=Mo(e),o=Mo(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function SI(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Rse(e);var a=e.read_shift(r&&r.biff==12?4:2),s=Mo(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function Rse(e){var t=Mo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function $se(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function zse(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return Bse(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function Bse(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function Use(e,t,r){var a=(e[e.l++]&96)>>5,s=_I(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function Wse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=_I(e,i,r);return[a,s,o]}function Hse(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function Kse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function Vse(e,t,r){var a=(e[e.l++]&96)>>5,s=Lse(e,t-1,r);return[a,s]}function qse(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function cC(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Gse(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Xse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Yse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Jse(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Zse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function kI(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Qse(e){return e.read_shift(2),kI(e)}function eie(e){return e.read_shift(2),kI(e)}function tie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=SI(e,0,r);return[a,s]}function rie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=zse(e,0,r);return[a,s]}function nie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=SI(e,0,r);return[a,s,i]}function aie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[aoe[s],CI[s],a]}function sie(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:iie(e);return[s,(i[0]===0?CI:noe)[i[1]]]}function iie(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function oie(e,t,r){e.l+=r&&r.biff==2?3:4}function lie(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function cie(e){return e.l++,Af[e.read_shift(1)]}function die(e){return e.l++,e.read_shift(2)}function uie(e){return e.l++,e.read_shift(1)!==0}function fie(e){return e.l++,xd(e)}function mie(e,t,r){return e.l++,lI(e,t-1,r)}function hie(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=nae(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Af[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=xd(e);break;case 2:r[1]=oae(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function pie(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?$l:dae)(e));return s}function xie(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=hie(e,r.biff);return o}function gie(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function vie(e,t,r){if(r.biff==5)return yie(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function yie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function bie(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function wie(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function jie(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function _ie(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var Nie=Ys,Sie=Ys,kie=Ys;function Cf(e,t,r){return e.l+=2,[$se(e)]}function Pj(e){return e.l+=6,[]}var Eie=Cf,Aie=Pj,Cie=Pj,Tie=Cf;function EI(e){return e.l+=2,[iI(e),e.read_shift(2)&1]}var Pie=Cf,Oie=EI,Iie=Pj,Die=Cf,Mie=Cf,Fie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Lie(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=Fie[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function Rie(e){return e.l+=2,[e.read_shift(4)]}function $ie(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function zie(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Bie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Uie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Wie(e){return e.l+=4,[0,0]}var dC={1:{n:"PtgExp",f:lie},2:{n:"PtgTbl",f:kie},3:{n:"PtgAdd",f:$r},4:{n:"PtgSub",f:$r},5:{n:"PtgMul",f:$r},6:{n:"PtgDiv",f:$r},7:{n:"PtgPower",f:$r},8:{n:"PtgConcat",f:$r},9:{n:"PtgLt",f:$r},10:{n:"PtgLe",f:$r},11:{n:"PtgEq",f:$r},12:{n:"PtgGe",f:$r},13:{n:"PtgGt",f:$r},14:{n:"PtgNe",f:$r},15:{n:"PtgIsect",f:$r},16:{n:"PtgUnion",f:$r},17:{n:"PtgRange",f:$r},18:{n:"PtgUplus",f:$r},19:{n:"PtgUminus",f:$r},20:{n:"PtgPercent",f:$r},21:{n:"PtgParen",f:$r},22:{n:"PtgMissArg",f:$r},23:{n:"PtgStr",f:mie},26:{n:"PtgSheet",f:$ie},27:{n:"PtgEndSheet",f:zie},28:{n:"PtgErr",f:cie},29:{n:"PtgBool",f:uie},30:{n:"PtgInt",f:die},31:{n:"PtgNum",f:fie},32:{n:"PtgArray",f:qse},33:{n:"PtgFunc",f:aie},34:{n:"PtgFuncVar",f:sie},35:{n:"PtgName",f:gie},36:{n:"PtgRef",f:tie},37:{n:"PtgArea",f:Use},38:{n:"PtgMemArea",f:bie},39:{n:"PtgMemErr",f:Nie},40:{n:"PtgMemNoMem",f:Sie},41:{n:"PtgMemFunc",f:wie},42:{n:"PtgRefErr",f:jie},43:{n:"PtgAreaErr",f:Hse},44:{n:"PtgRefN",f:rie},45:{n:"PtgAreaN",f:Vse},46:{n:"PtgMemAreaN",f:Bie},47:{n:"PtgMemNoMemN",f:Uie},57:{n:"PtgNameX",f:vie},58:{n:"PtgRef3d",f:nie},59:{n:"PtgArea3d",f:Wse},60:{n:"PtgRefErr3d",f:_ie},61:{n:"PtgAreaErr3d",f:Kse},255:{}},Hie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Kie={1:{n:"PtgElfLel",f:EI},2:{n:"PtgElfRw",f:Die},3:{n:"PtgElfCol",f:Eie},6:{n:"PtgElfRwV",f:Mie},7:{n:"PtgElfColV",f:Tie},10:{n:"PtgElfRadical",f:Pie},11:{n:"PtgElfRadicalS",f:Iie},13:{n:"PtgElfColS",f:Aie},15:{n:"PtgElfColSV",f:Cie},16:{n:"PtgElfRadicalLel",f:Oie},25:{n:"PtgList",f:Lie},29:{n:"PtgSxName",f:Rie},255:{}},Vie={0:{n:"PtgAttrNoop",f:Wie},1:{n:"PtgAttrSemi",f:Zse},2:{n:"PtgAttrIf",f:Yse},4:{n:"PtgAttrChoose",f:Gse},8:{n:"PtgAttrGoto",f:Xse},16:{n:"PtgAttrSum",f:oie},32:{n:"PtgAttrBaxcel",f:cC},33:{n:"PtgAttrBaxcel",f:cC},64:{n:"PtgAttrSpace",f:Qse},65:{n:"PtgAttrSpaceSemi",f:eie},128:{n:"PtgAttrIfError",f:Jse},255:{}};function qie(e,t,r,a){if(a.biff<8)return Ys(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=xie(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=pie(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Ys(e,t)),i}function Gie(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=dC[i]||dC[Hie[i]],(i===24||i===25)&&(s=(i===24?Kie:Vie)[e[e.l+1]]),!s||!s.f?Ys(e,t):o.push([s.n,s.f(e,t,r)]);return o}function Xie(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];o?o[0]===2?s.push('"'+o[1].replace(/"/g,'""')+'"'):s.push(o[1]):s.push("")}t.push(s.join(","))}return t.join(";")}var Yie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Jie(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function AI(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function uC(e,t,r){var a=AI(e,t,r);return a=="#REF"?a:Jie(a,r)}function Kc(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],u,m,f,h=0,g=0,x,w="";if(!e[0]||!e[0][0])return"";for(var y=-1,b="",N=0,_=e[0].length;N<_;++N){var k=e[0][N];switch(k[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),m=c.pop(),y>=0){switch(e[0][y][1][0]){case 0:b=Sr(" ",e[0][y][1][1]);break;case 1:b=Sr("\r",e[0][y][1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}m=m+b,y=-1}c.push(m+Yie[k[0]]+u);break;case"PtgIsect":u=c.pop(),m=c.pop(),c.push(m+" "+u);break;case"PtgUnion":u=c.pop(),m=c.pop(),c.push(m+","+u);break;case"PtgRange":u=c.pop(),m=c.pop(),c.push(m+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=bu(k[1][1],o,s),c.push(wu(f,i));break;case"PtgRefN":f=r?bu(k[1][1],r,s):k[1][1],c.push(wu(f,i));break;case"PtgRef3d":h=k[1][1],f=bu(k[1][2],o,s),w=uC(a,h,s),c.push(w+"!"+wu(f,i));break;case"PtgFunc":case"PtgFuncVar":var A=k[1][0],T=k[1][1];A||(A=0),A&=127;var I=A==0?[]:c.slice(-A);c.length-=A,T==="User"&&(T=I.shift()),c.push(T+"("+I.join(",")+")");break;case"PtgBool":c.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(k[1]);break;case"PtgNum":c.push(String(k[1]));break;case"PtgStr":c.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(k[1]);break;case"PtgAreaN":x=XA(k[1][1],r?{s:r}:o,s),c.push(Sy(x,s));break;case"PtgArea":x=XA(k[1][1],o,s),c.push(Sy(x,s));break;case"PtgArea3d":h=k[1][1],x=k[1][2],w=uC(a,h,s),c.push(w+"!"+Sy(x,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=k[1][2];var O=(a.names||[])[g-1]||(a[0]||[])[g],D=O?O.Name:"SH33TJSNAME"+String(g);D&&D.slice(0,6)=="_xlfn."&&!s.xlfn&&(D=D.slice(6)),c.push(D);break;case"PtgNameX":var P=k[1][1];g=k[1][2];var M;if(s.biff<=5)P<0&&(P=-P),a[P]&&(M=a[P][g]);else{var V="";if(((a[P]||[])[0]||[])[0]==14849||(((a[P]||[])[0]||[])[0]==1025?a[P][g]&&a[P][g].itab>0&&(V=a.SheetNames[a[P][g].itab-1]+"!"):V=a.SheetNames[g-1]+"!"),a[P]&&a[P][g])V+=a[P][g].Name;else if(a[0]&&a[0][g])V+=a[0][g].Name;else{var U=(AI(a,P,s)||"").split(";;");U[g-1]?V=U[g-1]:V+="SH33TJSERRX"}c.push(V);break}M||(M={Name:"SH33TJSERRY"}),c.push(M.Name);break;case"PtgParen":var J="(",W=")";if(y>=0){switch(b="",e[0][y][1][0]){case 2:J=Sr(" ",e[0][y][1][1])+J;break;case 3:J=Sr("\r",e[0][y][1][1])+J;break;case 4:W=Sr(" ",e[0][y][1][1])+W;break;case 5:W=Sr("\r",e[0][y][1][1])+W;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}c.push(J+c.pop()+W);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:k[1][1],r:k[1][0]};var he={c:r.c,r:r.r};if(a.sharedf[qt(f)]){var X=a.sharedf[qt(f)];c.push(Kc(X,o,he,a,s))}else{var be=!1;for(u=0;u!=a.arrayf.length;++u)if(m=a.arrayf[u],!(f.c<m[0].s.c||f.c>m[0].e.c)&&!(f.r<m[0].s.r||f.r>m[0].e.r)){c.push(Kc(m[1],o,he,a,s)),be=!0;break}be||c.push(k[1])}break;case"PtgArray":c.push("{"+Xie(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&ne.indexOf(e[0][N][0])==-1){k=e[0][y];var ve=!0;switch(k[1][0]){case 4:ve=!1;case 0:b=Sr(" ",k[1][1]);break;case 5:ve=!1;case 1:b=Sr("\r",k[1][1]);break;default:if(b="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}c.push((ve?b:"")+c.pop()+(ve?"":b)),y=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function Zie(e){if(e==null){var t=Oe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Tl(e);return Tl(0)}function Qie(e,t,r,a,s){var i=Pl(t,r,s),o=Zie(e.v),c=Oe(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var m=Oe(e.bf.length),f=0;f<e.bf.length;++f)m[f]=e.bf[f];var h=kn([i,o,c,m]);return h}function Vp(e,t,r){var a=e.read_shift(4),s=Gie(e,a,r),i=e.read_shift(4),o=i>0?qie(e,i,s,r):null;return[s,o]}var eoe=Vp,qp=Vp,toe=Vp,roe=Vp,noe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},CI={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},aoe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function soe(e){var t="of:="+e.replace(Cj,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function ioe(e){return e.replace(/\./,"!")}var ju=typeof Map<"u";function Oj(e,t,r){var a=0,s=e.length;if(r){if(ju?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=ju?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(ju?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function Gp(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(ki=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=L0(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=q1(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function TI(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Bo(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){S6(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function ooe(e,t,r){if(e&&e["!ref"]){var a=dr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function loe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Hr(e[r])+'"/>';return t+"</mergeCells>"}function coe(e,t,r,a,s){var i=!1,o={},c=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,o.codeName=Vu(Vt(u))}if(e&&e["!outline"]){var m={summaryBelow:1,summaryRight:1};e["!outline"].above&&(m.summaryBelow=0),e["!outline"].left&&(m.summaryRight=0),c=(c||"")+qe("outlinePr",null,m)}!i&&!c||(s[s.length]=qe("sheetPr",c,o))}var doe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],uoe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function foe(e){var t={sheet:1};return doe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),uoe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=mI(e.password).toString(16).toUpperCase()),qe("sheetProtection",null,t)}function moe(e){return TI(e),qe("pageMargins",null,e)}function hoe(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=qe("col",null,Gp(s,a)));return r[r.length]="</cols>",r.join("")}function poe(e,t,r,a){var s=typeof e.ref=="string"?e.ref:Hr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ua(s);o.s.r==o.e.r&&(o.e.r=Ua(t["!ref"]).e.r,s=Hr(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),qe("autoFilter",null,{ref:s})}function xoe(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),qe("sheetViews",qe("sheetView",null,s),{})}function goe(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Af[e.v];break;case"d":a&&a.cellDates?s=ea(e.v,-1).toISOString():(e=ga(e),e.t="n",s=""+(e.v=xa(ea(e.v)))),typeof e.z>"u"&&(e.z=kr[14]);break;default:s=e.v;break}var c=En("v",Vt(s)),u={r:t},m=Bo(a.cellXfs,e,a);switch(m!==0&&(u.s=m),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){c=En("v",""+Oj(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=qe("f",Vt(e.f),f)+(e.v!=null?c:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),qe("c",c,u)}function voe(e,t,r,a){var s=[],i=[],o=dr(e["!ref"]),c="",u,m="",f=[],h=0,g=0,x=e["!rows"],w=Array.isArray(e),y={r:m},b,N=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=Bn(g);for(h=o.s.r;h<=o.e.r;++h){for(i=[],m=An(h),g=o.s.c;g<=o.e.c;++g){u=f[g]+m;var _=w?(e[h]||[])[g]:e[u];_!==void 0&&(c=goe(_,u,e,t))!=null&&i.push(c)}(i.length>0||x&&x[h])&&(y={r:m},x&&x[h]&&(b=x[h],b.hidden&&(y.hidden=1),N=-1,b.hpx?N=R0(b.hpx):b.hpt&&(N=b.hpt),N>-1&&(y.ht=N,y.customHeight=1),b.level&&(y.outlineLevel=b.level)),s[s.length]=qe("row",i.join(""),y))}if(x)for(;h<x.length;++h)x&&x[h]&&(y={r:h+1},b=x[h],b.hidden&&(y.hidden=1),N=-1,b.hpx?N=R0(b.hpx):b.hpt&&(N=b.hpt),N>-1&&(y.ht=N,y.customHeight=1),b.level&&(y.outlineLevel=b.level),s[s.length]=qe("row","",y));return s.join("")}function PI(e,t,r,a){var s=[Kr,qe("worksheet",null,{xmlns:md[0],"xmlns:r":mn.r})],i=r.SheetNames[e],o=0,c="",u=r.Sheets[i];u==null&&(u={});var m=u["!ref"]||"A1",f=dr(m);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),m=Hr(f)}a||(a={}),u["!comments"]=[];var h=[];coe(u,r,e,t,s),s[s.length]=qe("dimension",null,{ref:m}),s[s.length]=xoe(u,t,e,r),t.sheetFormat&&(s[s.length]=qe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(s[s.length]=hoe(u,u["!cols"])),s[o=s.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=voe(u,t),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),u["!protect"]&&(s[s.length]=foe(u["!protect"])),u["!autofilter"]!=null&&(s[s.length]=poe(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(s[s.length]=loe(u["!merges"]));var g=-1,x,w=-1;return u["!links"].length>0&&(s[s.length]="<hyperlinks>",u["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(w=Ht(a,-1,Vt(y[1].Target).replace(/#.*$/,""),Mt.HLINK),x["r:id"]="rId"+w),(g=y[1].Target.indexOf("#"))>-1&&(x.location=Vt(y[1].Target.slice(g+1))),y[1].Tooltip&&(x.tooltip=Vt(y[1].Tooltip)),s[s.length]=qe("hyperlink",null,x))}),s[s.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(s[s.length]=moe(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=En("ignoredErrors",qe("ignoredError",null,{numberStoredAsText:1,sqref:m}))),h.length>0&&(w=Ht(a,-1,"../drawings/drawing"+(e+1)+".xml",Mt.DRAW),s[s.length]=qe("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=h),u["!comments"].length>0&&(w=Ht(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Mt.VML),s[s.length]=qe("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function yoe(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function boe(e,t,r){var a=Oe(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=R0(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var c=0,u=a.l;a.l+=4;for(var m={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,g=-1,x=f<<10;x<f+1<<10;++x){m.c=x;var w=Array.isArray(r)?(r[m.r]||[])[m.c]:r[qt(m)];w&&(h<0&&(h=x),g=x)}h<0||(++c,a.write_shift(4,h),a.write_shift(4,g))}var y=a.l;return a.l=u,a.write_shift(4,c),a.l=y,a.length>a.l?a.slice(0,a.l):a}function woe(e,t,r,a){var s=boe(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&Me(e,0,s)}var joe=$l,_oe=pd;function Noe(){}function Soe(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Mne(e),r}function koe(e,t,r){r==null&&(r=Oe(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return D0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),V6(e,r),r.slice(0,r.l)}function Eoe(e){var t=cs(e);return[t]}function Aoe(e,t,r){return r==null&&(r=Oe(8)),Fl(t,r)}function Coe(e){var t=Ll(e);return[t]}function Toe(e,t,r){return r==null&&(r=Oe(4)),Rl(t,r)}function Poe(e){var t=cs(e),r=e.read_shift(1);return[t,r,"b"]}function Ooe(e,t,r){return r==null&&(r=Oe(9)),Fl(t,r),r.write_shift(1,e.v?1:0),r}function Ioe(e){var t=Ll(e),r=e.read_shift(1);return[t,r,"b"]}function Doe(e,t,r){return r==null&&(r=Oe(5)),Rl(t,r),r.write_shift(1,e.v?1:0),r}function Moe(e){var t=cs(e),r=e.read_shift(1);return[t,r,"e"]}function Foe(e,t,r){return r==null&&(r=Oe(9)),Fl(t,r),r.write_shift(1,e.v),r}function Loe(e){var t=Ll(e),r=e.read_shift(1);return[t,r,"e"]}function Roe(e,t,r){return r==null&&(r=Oe(8)),Rl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function $oe(e){var t=cs(e),r=e.read_shift(4);return[t,r,"s"]}function zoe(e,t,r){return r==null&&(r=Oe(12)),Fl(t,r),r.write_shift(4,t.v),r}function Boe(e){var t=Ll(e),r=e.read_shift(4);return[t,r,"s"]}function Uoe(e,t,r){return r==null&&(r=Oe(8)),Rl(t,r),r.write_shift(4,t.v),r}function Woe(e){var t=cs(e),r=xd(e);return[t,r,"n"]}function Hoe(e,t,r){return r==null&&(r=Oe(16)),Fl(t,r),Tl(e.v,r),r}function Koe(e){var t=Ll(e),r=xd(e);return[t,r,"n"]}function Voe(e,t,r){return r==null&&(r=Oe(12)),Rl(t,r),Tl(e.v,r),r}function qoe(e){var t=cs(e),r=q6(e);return[t,r,"n"]}function Goe(e,t,r){return r==null&&(r=Oe(12)),Fl(t,r),G6(e.v,r),r}function Xoe(e){var t=Ll(e),r=q6(e);return[t,r,"n"]}function Yoe(e,t,r){return r==null&&(r=Oe(8)),Rl(t,r),G6(e.v,r),r}function Joe(e){var t=cs(e),r=Nj(e);return[t,r,"is"]}function Zoe(e){var t=cs(e),r=Un(e);return[t,r,"str"]}function Qoe(e,t,r){return r==null&&(r=Oe(12+4*e.v.length)),Fl(t,r),xn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ele(e){var t=Ll(e),r=Un(e);return[t,r,"str"]}function tle(e,t,r){return r==null&&(r=Oe(8+4*e.v.length)),Rl(t,r),xn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function rle(e,t,r){var a=e.l+t,s=cs(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var c=qp(e,a-e.l,r);o[3]=Kc(c,null,s,r.supbooks,r)}else e.l=a;return o}function nle(e,t,r){var a=e.l+t,s=cs(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var c=qp(e,a-e.l,r);o[3]=Kc(c,null,s,r.supbooks,r)}else e.l=a;return o}function ale(e,t,r){var a=e.l+t,s=cs(e);s.r=r["!row"];var i=xd(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var c=qp(e,a-e.l,r);o[3]=Kc(c,null,s,r.supbooks,r)}else e.l=a;return o}function sle(e,t,r){var a=e.l+t,s=cs(e);s.r=r["!row"];var i=Un(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var c=qp(e,a-e.l,r);o[3]=Kc(c,null,s,r.supbooks,r)}else e.l=a;return o}var ile=$l,ole=pd;function lle(e,t){return t==null&&(t=Oe(4)),t.write_shift(4,e),t}function cle(e,t){var r=e.l+t,a=$l(e),s=Sj(e),i=Un(e),o=Un(e),c=Un(e);e.l=r;var u={rfx:a,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function dle(e,t){var r=Oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));pd({s:pn(e[0]),e:pn(e[0])},r),kj("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return xn(s||"",r),xn(e[1].Tooltip||"",r),xn("",r),r.slice(0,r.l)}function ule(){}function fle(e,t,r){var a=e.l+t,s=X6(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var c=eoe(e,a-e.l,r);o[1]=c}else e.l=a;return o}function mle(e,t,r){var a=e.l+t,s=$l(e),i=[s];if(r.cellFormula){var o=roe(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function hle(e,t,r){r==null&&(r=Oe(18));var a=Gp(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var OI=["left","right","top","bottom","header","footer"];function ple(e){var t={};return OI.forEach(function(r){t[r]=xd(e)}),t}function xle(e,t){return t==null&&(t=Oe(48)),TI(e),OI.forEach(function(r){Tl(e[r],t)}),t}function gle(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function vle(e,t,r){r==null&&(r=Oe(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function yle(e){var t=Oe(24);return t.write_shift(4,4),t.write_shift(4,1),pd(e,t),t}function ble(e,t){return t==null&&(t=Oe(66)),t.write_shift(2,e.password?mI(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function wle(){}function jle(){}function _le(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=ga(t),t.z=t.z||kr[14],t.v=xa(ea(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var u={r,c:a};switch(u.s=Bo(s.cellXfs,t,s),t.l&&i["!links"].push([qt(u),t.l]),t.c&&i["!comments"].push([qt(u),t.c]),t.t){case"s":case"str":return s.bookSST?(c=Oj(s.Strings,t.v,s.revStrings),u.t="s",u.v=c,o?Me(e,18,Uoe(t,u)):Me(e,7,zoe(t,u))):(u.t="str",o?Me(e,17,tle(t,u)):Me(e,6,Qoe(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Me(e,13,Yoe(t,u)):Me(e,2,Goe(t,u)):o?Me(e,16,Voe(t,u)):Me(e,5,Hoe(t,u)),!0;case"b":return u.t="b",o?Me(e,15,Doe(t,u)):Me(e,4,Ooe(t,u)),!0;case"e":return u.t="e",o?Me(e,14,Roe(t,u)):Me(e,3,Foe(t,u)),!0}return o?Me(e,12,Toe(t,u)):Me(e,1,Aoe(t,u)),!0}function Nle(e,t,r,a){var s=dr(t["!ref"]||"A1"),i,o="",c=[];Me(e,145);var u=Array.isArray(t),m=s.e.r;t["!rows"]&&(m=Math.max(s.e.r,t["!rows"].length-1));for(var f=s.s.r;f<=m;++f){o=An(f),woe(e,t,s,f);var h=!1;if(f<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){f===s.s.r&&(c[g]=Bn(g)),i=c[g]+o;var x=u?(t[f]||[])[g]:t[i];if(!x){h=!1;continue}h=_le(e,x,f,g,a,t,h)}}Me(e,146)}function Sle(e,t){!t||!t["!merges"]||(Me(e,177,lle(t["!merges"].length)),t["!merges"].forEach(function(r){Me(e,176,ole(r))}),Me(e,178))}function kle(e,t){!t||!t["!cols"]||(Me(e,390),t["!cols"].forEach(function(r,a){r&&Me(e,60,hle(a,r))}),Me(e,391))}function Ele(e,t){!t||!t["!ref"]||(Me(e,648),Me(e,649,yle(dr(t["!ref"]))),Me(e,650))}function Ale(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=Ht(r,-1,a[1].Target.replace(/#.*$/,""),Mt.HLINK);Me(e,494,dle(a,s))}}),delete t["!links"]}function Cle(e,t,r,a){if(t["!comments"].length>0){var s=Ht(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Mt.VML);Me(e,551,kj("rId"+s)),t["!legacy"]=s}}function Tle(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Hr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=Ua(i);c.s.r==c.e.r&&(c.e.r=Ua(t["!ref"]).e.r,i=Hr(c));for(var u=0;u<o.length;++u){var m=o[u];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==a){m.Ref="'"+r.SheetNames[a]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),Me(e,161,pd(dr(i))),Me(e,162)}}function Ple(e,t,r){Me(e,133),Me(e,137,vle(t,r)),Me(e,138),Me(e,134)}function Ole(e,t){t["!protect"]&&Me(e,535,ble(t["!protect"]))}function Ile(e,t,r,a){var s=ha(),i=r.SheetNames[e],o=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[e].CodeName||c)}catch{}var u=dr(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Me(s,129),(r.vbaraw||o["!outline"])&&Me(s,147,koe(c,o["!outline"])),Me(s,148,_oe(u)),Ple(s,o,r.Workbook),kle(s,o),Nle(s,o,e,t),Ole(s,o),Tle(s,o,r,e),Sle(s,o),Ale(s,o,a),o["!margins"]&&Me(s,476,xle(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Ele(s,o),Cle(s,o,e,a),Me(s,130),s.end()}function Dle(e,t){e.l+=10;var r=Un(e);return{name:r}}var Mle=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Fle(e){return!e.Workbook||!e.Workbook.WBProps?"false":mne(e.Workbook.WBProps.date1904)?"true":"false"}var Lle="][*?/\\".split("");function II(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Lle.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Rle(e,t,r){e.forEach(function(a,s){II(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function $le(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Rle(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)ooe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function DI(e){var t=[Kr];t[t.length]=qe("workbook",null,{xmlns:md[0],"xmlns:r":mn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Mle.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(a[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=qe("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Vt(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=qe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(t[t.length]=qe("definedName",Vt(c.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function zle(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=V1(e),r.name=Un(e),r}function Ble(e,t){return t||(t=Oe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),kj(e.strRelID,t),xn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Ule(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Un(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function Wle(e,t){t||(t=Oe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),V6(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Hle(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Fne(e),o=toe(e,0,r),c=Sj(e);e.l=a;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function Kle(e,t){Me(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Me(e,156,Ble(s))}Me(e,144)}function Vle(e,t){t||(t=Oe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return xn("SheetJS",t),xn(k0.version,t),xn(k0.version,t),xn("7262",t),t.length>t.l?t.slice(0,t.l):t}function qle(e,t){t||(t=Oe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Gle(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(Me(e,135),Me(e,158,qle(s)),Me(e,136))}}function Xle(e,t){var r=ha();return Me(r,131),Me(r,128,Vle()),Me(r,153,Wle(e.Workbook&&e.Workbook.WBProps||null)),Gle(r,e),Kle(r,e),Me(r,132),r.end()}function Yle(e,t,r){return(t.slice(-4)===".bin"?Xle:DI)(e)}function Jle(e,t,r,a,s){return(t.slice(-4)===".bin"?Ile:PI)(e,r,a,s)}function Zle(e,t,r){return(t.slice(-4)===".bin"?xse:xI)(e,r)}function Qle(e,t,r){return(t.slice(-4)===".bin"?Wae:fI)(e,r)}function ece(e,t,r){return(t.slice(-4)===".bin"?Ose:wI)(e)}function tce(e){return(e.slice(-4)===".bin"?Nse:yI)()}function rce(e,t){var r=[];return e.Props&&r.push(Zne(e.Props,t)),e.Custprops&&r.push(Qne(e.Props,e.Custprops)),r.join("")}function nce(){return""}function ace(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(qe("NumberFormat",null,{"ss:Format":Vt(kr[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(qe("Style",i.join(""),o))}),qe("Styles",r.join(""))}function MI(e){return qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Tj(e.Ref,{r:0,c:0})})}function sce(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(MI(s)))}return qe("Names",r.join(""))}function ice(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(MI(c)))}return i.join("")}function oce(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(qe("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(qe("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(En("ProtectContents","True")),e["!protect"].objects&&s.push(En("ProtectObjects","True")),e["!protect"].scenarios&&s.push(En("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(En("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(En("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":qe("WorksheetOptions",s.join(""),{xmlns:Pa.x})}function lce(e){return e.map(function(t){var r=fne(t.t||""),a=qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return qe("Comment",a,{"ss:Author":t.a})}).join("")}function cce(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+Vt(Tj(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=pn(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=Vt(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=Vt(e.l.Tooltip))),r["!merges"])for(var m=r["!merges"],f=0;f!=m.length;++f)m[f].s.c!=o.c||m[f].s.r!=o.r||(m[f].e.c>m[f].s.c&&(c["ss:MergeAcross"]=m[f].e.c-m[f].s.c),m[f].e.r>m[f].s.r&&(c["ss:MergeDown"]=m[f].e.r-m[f].s.r));var h="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":h="Number",g=String(e.v);break;case"b":h="Boolean",g=e.v?"1":"0";break;case"e":h="Error",g=Af[e.v];break;case"d":h="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||kr[14]);break;case"s":h="String",g=une(e.v||"");break}var x=Bo(a.cellXfs,e,a);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=o.c+1;var w=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+h+'">'+w+"</Data>";return(e.c||[]).length>0&&(y+=lce(e.c)),qe("Cell",y,c)}function dce(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=pI(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function uce(e,t,r,a){if(!e["!ref"])return"";var s=dr(e["!ref"]),i=e["!merges"]||[],o=0,c=[];e["!cols"]&&e["!cols"].forEach(function(b,N){Aj(b);var _=!!b.width,k=Gp(N,b),A={"ss:Index":N+1};_&&(A["ss:Width"]=F0(k.width)),b.hidden&&(A["ss:Hidden"]="1"),c.push(qe("Column",null,A))});for(var u=Array.isArray(e),m=s.s.r;m<=s.e.r;++m){for(var f=[dce(m,(e["!rows"]||[])[m])],h=s.s.c;h<=s.e.c;++h){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>m)&&!(i[o].e.c<h)&&!(i[o].e.r<m)){(i[o].s.c!=h||i[o].s.r!=m)&&(g=!0);break}if(!g){var x={r:m,c:h},w=qt(x),y=u?(e[m]||[])[h]:e[w];f.push(cce(y,w,e,t,r,a,x))}}f.push("</Row>"),f.length>2&&c.push(f.join(""))}return c.join("")}function fce(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?ice(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?uce(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(oce(i,t,e,r)),a.join("")}function mce(e,t){t||(t={}),e.SSF||(e.SSF=ga(kr)),e.SSF&&(Wp(),Up(e.SSF),t.revssf=Hp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Bo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(rce(e,t)),r.push(nce()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(qe("Worksheet",fce(a,t,e),{"ss:Name":Vt(e.SheetNames[a])}));return r[2]=ace(e,t),r[3]=sce(e),Kr+qe("Workbook",r.join(""),{xmlns:Pa.ss,"xmlns:o":Pa.o,"xmlns:x":Pa.x,"xmlns:ss":Pa.ss,"xmlns:dt":Pa.dt,"xmlns:html":Pa.html})}var Ay={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hce(e,t){var r=[],a=[],s=[],i=0,o,c=RA(JA,"n"),u=RA(ZA,"n");if(e.Props)for(o=Cn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Cn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var m=[];for(i=0;i<s.length;++i)sI.indexOf(s[i][0])>-1||rI.indexOf(s[i][0])>-1||s[i][1]!=null&&m.push(s[i]);a.length&&Xt.utils.cfb_add(t,"/SummaryInformation",nC(a,Ay.SI,u,ZA)),(r.length||m.length)&&Xt.utils.cfb_add(t,"/DocumentSummaryInformation",nC(r,Ay.DSI,c,JA,m.length?m:null,Ay.UDI))}function pce(e,t){var r=t||{},a=Xt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Xt.utils.cfb_add(a,s,FI(e,r)),r.biff==8&&(e.Props||e.Custprops)&&hce(e,a),r.biff==8&&e.vbaraw&&Ise(a,Xt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var xce={0:{f:yoe},1:{f:Eoe},2:{f:qoe},3:{f:Moe},4:{f:Poe},5:{f:Woe},6:{f:Zoe},7:{f:$oe},8:{f:sle},9:{f:ale},10:{f:rle},11:{f:nle},12:{f:Coe},13:{f:Xoe},14:{f:Loe},15:{f:Ioe},16:{f:Koe},17:{f:ele},18:{f:Boe},19:{f:Nj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Hle},40:{},42:{},43:{f:Zae},44:{f:Yae},45:{f:tse},46:{f:nse},47:{f:rse},48:{},49:{f:Cne},50:{},51:{f:yse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Tae},62:{f:Joe},63:{f:Sse},64:{f:wle},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ys,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gle},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Soe},148:{f:joe,p:16},151:{f:ule},152:{},153:{f:Ule},154:{},155:{},156:{f:zle},157:{},158:{},159:{T:1,f:zae},160:{T:-1},161:{T:1,f:$l},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ile},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:gse},336:{T:-1},337:{f:jse,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:V1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Nae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fle},427:{f:mle},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ple},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Noe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cle},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:V1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Tse},633:{T:1},634:{T:-1},635:{T:1,f:Ase},636:{T:-1},637:{f:Ine},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Dle},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:jle},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ge(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&wj(r)&&e.push(r)}}function gce(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return Ge(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],c=0,u=0,m=0;m+(o[c]||8224)<=8224;)m+=o[c]||8224,c++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,m),e.push(r.slice(u,u+m)),u+=m;u<s;){for(f=e.next(4),f.write_shift(2,60),m=0;m+(o[c]||8224)<=8224;)m+=o[c]||8224,c++;f.write_shift(2,m),e.push(r.slice(u,u+m)),u+=m}}}function Tf(e,t,r){return e||(e=Oe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function vce(e,t,r,a){var s=Oe(9);return Tf(s,e,t),oI(r,a||"b",s),s}function yce(e,t,r){var a=Oe(8+2*r.length);return Tf(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function bce(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?xa(ea(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Ge(e,2,Dae(r,a,s)):Ge(e,3,Iae(r,a,s));return;case"b":case"e":Ge(e,5,vce(r,a,t.v,t.t));return;case"s":case"str":Ge(e,4,yce(r,a,(t.v||"").slice(0,255)));return}Ge(e,1,Tf(null,r,a))}function wce(e,t,r,a){var s=Array.isArray(t),i=dr(t["!ref"]||"A1"),o,c="",u=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Hr(i)}for(var m=i.s.r;m<=i.e.r;++m){c=An(m);for(var f=i.s.c;f<=i.e.c;++f){m===i.s.r&&(u[f]=Bn(f)),o=u[f]+c;var h=s?(t[m]||[])[f]:t[o];h&&bce(e,h,m,f)}}}function jce(e,t){for(var r=t||{},a=ha(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ge(a,r.biff==4?1033:r.biff==3?521:9,Ej(e,16,r)),wce(a,e.Sheets[e.SheetNames[s]],s,r),Ge(a,10),a.end()}function _ce(e,t,r){Ge(e,49,xae({sz:12,name:"Arial"},r))}function Nce(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Ge(e,1054,yae(s,t[s],r))})}function Sce(e,t){var r=Oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ge(e,2151,r),r=Oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),dI(dr(t["!ref"]||"A1"),r),r.write_shift(4,4),Ge(e,2152,r)}function kce(e,t){for(var r=0;r<16;++r)Ge(e,224,sC({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Ge(e,224,sC(a,0,t))})}function Ece(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];Ge(e,440,Eae(a)),a[1].Tooltip&&Ge(e,2048,Aae(a))}delete t["!links"]}function Ace(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&Ge(e,125,Pae(Gp(s,a),s))})}}function Cce(e,t,r,a,s){var i=16+Bo(s.cellXfs,t,s);if(t.v==null&&!t.bf){Ge(e,513,Pl(r,a,i));return}if(t.bf)Ge(e,6,Qie(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?xa(ea(t.v)):t.v;Ge(e,515,_ae(r,a,o,i));break;case"b":case"e":Ge(e,517,jae(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var c=Oj(s.Strings,t.v,s.revStrings);Ge(e,253,gae(r,a,c,i))}else Ge(e,516,vae(r,a,(t.v||"").slice(0,255),i,s));break;default:Ge(e,513,Pl(r,a,i))}}function Tce(e,t,r){var a=ha(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},c=(o.Sheets||[])[e]||{},u=Array.isArray(i),m=t.biff==8,f,h="",g=[],x=dr(i["!ref"]||"A1"),w=m?65536:16384;if(x.e.c>255||x.e.r>=w){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,w-1)}Ge(a,2057,Ej(r,16,t)),Ge(a,13,rs(1)),Ge(a,12,rs(100)),Ge(a,15,Xn(!0)),Ge(a,17,Xn(!1)),Ge(a,16,Tl(.001)),Ge(a,95,Xn(!0)),Ge(a,42,Xn(!1)),Ge(a,43,Xn(!1)),Ge(a,130,rs(1)),Ge(a,128,wae()),Ge(a,131,Xn(!1)),Ge(a,132,Xn(!1)),m&&Ace(a,i["!cols"]),Ge(a,512,bae(x,t)),m&&(i["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){h=An(y);for(var b=x.s.c;b<=x.e.c;++b){y===x.s.r&&(g[b]=Bn(b)),f=g[b]+h;var N=u?(i[y]||[])[b]:i[f];N&&(Cce(a,N,y,b,t),m&&N.l&&i["!links"].push([f,N.l]))}}var _=c.CodeName||c.name||s;return m&&Ge(a,574,pae((o.Views||[])[0])),m&&(i["!merges"]||[]).length&&Ge(a,229,kae(i["!merges"])),m&&Ece(a,i),Ge(a,442,cI(_)),m&&Sce(a,i),Ge(a,10),a.end()}function Pce(e,t,r){var a=ha(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},c=r.biff==8,u=r.biff==5;if(Ge(a,2057,Ej(e,5,r)),r.bookType=="xla"&&Ge(a,135),Ge(a,225,c?rs(1200):null),Ge(a,193,rae(2)),u&&Ge(a,191),u&&Ge(a,192),Ge(a,226),Ge(a,92,uae("SheetJS",r)),Ge(a,66,rs(c?1200:1252)),c&&Ge(a,353,rs(0)),c&&Ge(a,448),Ge(a,317,Oae(e.SheetNames.length)),c&&e.vbaraw&&Ge(a,211),c&&e.vbaraw){var m=o.CodeName||"ThisWorkbook";Ge(a,442,cI(m))}Ge(a,156,rs(17)),Ge(a,25,Xn(!1)),Ge(a,18,Xn(!1)),Ge(a,19,rs(0)),c&&Ge(a,431,Xn(!1)),c&&Ge(a,444,rs(0)),Ge(a,61,hae()),Ge(a,64,Xn(!1)),Ge(a,141,rs(0)),Ge(a,34,Xn(Fle(e)=="true")),Ge(a,14,Xn(!0)),c&&Ge(a,439,Xn(!1)),Ge(a,218,rs(0)),_ce(a,e,r),Nce(a,e.SSF,r),kce(a,r),c&&Ge(a,352,Xn(!1));var f=a.end(),h=ha();c&&Ge(h,140,Cae()),c&&r.Strings&&gce(h,252,mae(r.Strings)),Ge(h,10);var g=h.end(),x=ha(),w=0,y=0;for(y=0;y<e.SheetNames.length;++y)w+=(c?12:11)+(c?2:1)*e.SheetNames[y].length;var b=f.length+w+g.length;for(y=0;y<e.SheetNames.length;++y){var N=i[y]||{};Ge(x,133,fae({pos:b,hs:N.Hidden||0,dt:0,name:e.SheetNames[y]},r)),b+=t[y].length}var _=x.end();if(w!=_.length)throw new Error("BS8 "+w+" != "+_.length);var k=[];return f.length&&k.push(f),_.length&&k.push(_),g.length&&k.push(g),kn(k)}function Oce(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=ga(kr)),e&&e.SSF&&(Wp(),Up(e.SSF),r.revssf=Hp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ij(r),r.cellXfs=[],Bo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=Tce(s,r,e);return a.unshift(Pce(e,a,r)),kn(a)}function FI(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=Ua(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Oce(e,t);case 4:case 3:case 2:return jce(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Ice(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,u=0,m=0;m<s.length;++m)if(!(s[m].s.r>r||s[m].s.c>o)&&!(s[m].e.r<r||s[m].e.c<o)){if(s[m].s.r<r||s[m].s.c<o){c=-1;break}c=s[m].e.r-s[m].s.r+1,u=s[m].e.c-s[m].s.c+1;break}if(!(c<0)){var f=qt({r,c:o}),h=a.dense?(e[r]||[])[o]:e[f],g=h&&h.v!=null&&(h.h||dne(h.w||($i(h),h.w)||""))||"",x={};c>1&&(x.rowspan=c),u>1&&(x.colspan=u),a.editable?g='<span contenteditable="true">'+g+"</span>":h&&(x["data-t"]=h&&h.t||"z",h.v!=null&&(x["data-v"]=h.v),h.z!=null&&(x["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),x.id=(a.id||"sjs")+"-"+f,i.push(qe("td",g,x))}}var w="<tr>";return w+i.join("")+"</tr>"}var Dce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Mce="</body></html>";function Fce(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function LI(e,t){var r=t||{},a=r.header!=null?r.header:Dce,s=r.footer!=null?r.footer:Mce,i=[a],o=Ua(e["!ref"]);r.dense=Array.isArray(e),i.push(Fce(e,o,r));for(var c=o.s.r;c<=o.e.r;++c)i.push(Ice(e,o,c,r));return i.push("</table>"+s),i.join("")}function RI(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?pn(a.origin):a.origin;s=o.r,i=o.c}var c=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),m={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=Ua(e["!ref"]);m.s.r=Math.min(m.s.r,f.s.r),m.s.c=Math.min(m.s.c,f.s.c),m.e.r=Math.max(m.e.r,f.e.r),m.e.c=Math.max(m.e.c,f.e.c),s==-1&&(m.e.r=s=f.e.r+1)}var h=[],g=0,x=e["!rows"]||(e["!rows"]=[]),w=0,y=0,b=0,N=0,_=0,k=0;for(e["!cols"]||(e["!cols"]=[]);w<c.length&&y<u;++w){var A=c[w];if(fC(A)){if(a.display)continue;x[y]={hidden:!0}}var T=A.children;for(b=N=0;b<T.length;++b){var I=T[b];if(!(a.display&&fC(I))){var O=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):hne(I.innerHTML),D=I.getAttribute("data-z")||I.getAttribute("z");for(g=0;g<h.length;++g){var P=h[g];P.s.c==N+i&&P.s.r<y+s&&y+s<=P.e.r&&(N=P.e.c+1-i,g=-1)}k=+I.getAttribute("colspan")||1,((_=+I.getAttribute("rowspan")||1)>1||k>1)&&h.push({s:{r:y+s,c:N+i},e:{r:y+s+(_||1)-1,c:N+i+(k||1)-1}});var M={t:"s",v:O},V=I.getAttribute("data-t")||I.getAttribute("t")||"";O!=null&&(O.length==0?M.t=V||"z":a.raw||O.trim().length==0||V=="s"||(O==="TRUE"?M={t:"b",v:!0}:O==="FALSE"?M={t:"b",v:!1}:isNaN(Si(O))?isNaN(Ku(O).getDate())||(M={t:"d",v:ea(O)},a.cellDates||(M={t:"n",v:xa(M.v)}),M.z=a.dateNF||kr[14]):M={t:"n",v:Si(O)})),M.z===void 0&&D!=null&&(M.z=D);var U="",J=I.getElementsByTagName("A");if(J&&J.length)for(var W=0;W<J.length&&!(J[W].hasAttribute("href")&&(U=J[W].getAttribute("href"),U.charAt(0)!="#"));++W);U&&U.charAt(0)!="#"&&(M.l={Target:U}),a.dense?(e[y+s]||(e[y+s]=[]),e[y+s][N+i]=M):e[qt({c:N+i,r:y+s})]=M,m.e.c<N+i&&(m.e.c=N+i),N+=k}}++y}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),m.e.r=Math.max(m.e.r,y-1+s),e["!ref"]=Hr(m),y>=u&&(e["!fullref"]=Hr((m.e.r=c.length-w+y-1+s,m))),e}function $I(e,t){var r=t||{},a=r.dense?[]:{};return RI(a,e,t)}function Lce(e,t){return Ml($I(e,t),t)}function fC(e){var t="",r=Rce(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Rce(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var $ce=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+qu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Kr+t}})(),mC=(function(){var e=function(i){return Vt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,c){var u=[];u.push('      <table:table table:name="'+Vt(o.SheetNames[c])+`" table:style-name="ta1">
`);var m=0,f=0,h=Ua(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,w=Array.isArray(i);if(i["!cols"])for(f=0;f<=h.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var y="",b=i["!rows"]||[];for(m=0;m<h.s.r;++m)y=b[m]?' table:style-name="ro'+b[m].ods+'"':"",u.push("        <table:table-row"+y+`></table:table-row>
`);for(;m<=h.e.r;++m){for(y=b[m]?' table:style-name="ro'+b[m].ods+'"':"",u.push("        <table:table-row"+y+`>
`),f=0;f<h.s.c;++f)u.push(t);for(;f<=h.e.c;++f){var N=!1,_={},k="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>f)&&!(g[x].s.r>m)&&!(g[x].e.c<f)&&!(g[x].e.r<m)){(g[x].s.c!=f||g[x].s.r!=m)&&(N=!0),_["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,_["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){u.push(r);continue}var A=qt({r:m,c:f}),T=w?(i[m]||[])[f]:i[A];if(T&&T.f&&(_["table:formula"]=Vt(soe(T.f)),T.F&&T.F.slice(0,A.length)==A)){var I=Ua(T.F);_["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,_["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!T){u.push(t);continue}switch(T.t){case"b":k=T.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=T.v?"true":"false";break;case"n":k=T.w||String(T.v||0),_["office:value-type"]="float",_["office:value"]=T.v||0;break;case"s":case"str":k=T.v==null?"":T.v,_["office:value-type"]="string";break;case"d":k=T.w||ea(T.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=ea(T.v).toISOString(),_["table:style-name"]="ce1";break;default:u.push(t);continue}var O=e(k);if(T.l&&T.l.Target){var D=T.l.Target;D=D.charAt(0)=="#"?"#"+ioe(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),O=qe("text:a",O,{"xlink:href":D.replace(/&/g,"&amp;")})}u.push("          "+qe("table:table-cell",qe("text:p",O,{}),_)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(m){return o.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var f=0;f<m["!cols"].length;++f)if(m["!cols"][f]){var h=m["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Aj(h),h.ods=c;var g=m["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(m){return o.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var f=0;f<m["!rows"].length;++f)if(m["!rows"][f]){m["!rows"][f].ods=u;var h=m["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,c){var u=[Kr],m=qu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=qu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+m+f+`>
`),u.push(eI().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+m+`>
`),s(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)u.push(a(o.Sheets[o.SheetNames[h]],o,h));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function zI(e,t){if(t.bookType=="fods")return mC(e,t);var r=gj(),a="",s=[],i=[];return a="mimetype",kt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",kt(r,a,mC(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",kt(r,a,$ce(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",kt(r,a,Kr+eI()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",kt(r,a,Jne(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",kt(r,a,Xne(s)),r}function $0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zce(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):js(Vu(e))}function Bce(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function Fo(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function Uce(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Gu(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Wt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Dc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Yr(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=Gu(e,r),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);c=e.slice(u,r[0])}break;case 5:o=4,c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Gu(e,r),c=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var m={data:c,type:i};t[s]==null?t[s]=[m]:t[s].push(m)}return t}function jn(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(Wt(a*8+s.type)),s.type==2&&t.push(Wt(s.data.length)),t.push(s.data))})}),Fo(t)}function gs(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=Gu(e,a),i=Yr(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:Dc(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=Yr(c.data),m=Dc(u[3][0].data);o.messages.push({meta:u,data:e.slice(a[0],a[0]+m)}),a[0]+=m}),(t=i[3])!=null&&t[0]&&(o.merge=Dc(i[3][0].data)>>>0>0),r.push(o)}return r}function xc(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Wt(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Wt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Wt(o.data.length)}],a[2].push({data:jn(o.meta),type:2})});var i=jn(a);t.push(Wt(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),Fo(t)}function Wce(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Gu(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[r[0]],c>1&&(o|=t[r[0]+1]<<8),c>2&&(o|=t[r[0]+2]<<16),c>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var u=0,m=0;if(i==1?(m=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(m=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Fo(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(m>=u)for(s.push(s[0].slice(-u)),m-=u;m>=s[s.length-1].length;)s.push(s[s.length-1]),m-=s[s.length-1].length;s.push(s[0].slice(-u,-u+m))}}var f=Fo(s);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function vs(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Wce(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Fo(t)}function gc(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Wt(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return Fo(t)}function Cy(e,t){var r=new Uint8Array(32),a=$0(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Uce(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function Ty(e,t){var r=new Uint8Array(32),a=$0(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function vo(e){var t=Yr(e);return Gu(t[1][0].data)}function Hce(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Dc(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,m=$0(e[7][0].data),f=0,h=[],g=$0(e[4][0].data),x=0,w=[],y=0;y<t.length;++y){if(t[y]==null){m.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}m.setUint16(y*2,f,!0),g.setUint16(y*2,x,!0);var b,N;switch(typeof t[y]){case"string":b=Cy({t:"s",v:t[y]},r),N=Ty({t:"s",v:t[y]},r);break;case"number":b=Cy({t:"n",v:t[y]},r),N=Ty({t:"n",v:t[y]},r);break;case"boolean":b=Cy({t:"b",v:t[y]},r),N=Ty({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}h.push(b),f+=b.length,w.push(N),x+=N.length,++u}for(e[2][0].data=Wt(u);y<e[7][0].data.length/2;++y)m.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=Fo(h),e[3][0].data=Fo(w),u}function Kce(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Ua(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Hr(a)));var i=z0(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(B){return B.forEach(function(H){typeof H=="string"&&o.push(H)})});var c={},u=[],m=Xt.read(t.numbers,{type:"base64"});m.FileIndex.map(function(B,H){return[B,m.FullPaths[H]]}).forEach(function(B){var H=B[0],K=B[1];if(H.type==2&&H.name.match(/\.iwa/)){var te=H.content,ye=vs(te),Se=gs(ye);Se.forEach(function(L){u.push(L.id),c[L.id]={deps:[],location:K,type:Dc(L.messages[0].meta[1][0].data)}})}}),u.sort(function(B,H){return B-H});var f=u.filter(function(B){return B>1}).map(function(B){return[B,Wt(B)]});m.FileIndex.map(function(B,H){return[B,m.FullPaths[H]]}).forEach(function(B){var H=B[0];if(B[1],!!H.name.match(/\.iwa/)){var K=gs(vs(H.content));K.forEach(function(te){te.messages.forEach(function(ye){f.forEach(function(Se){te.messages.some(function(L){return Dc(L.meta[1][0].data)!=11006&&Bce(L.data,Se[1])})&&c[Se[0]].deps.push(te.id)})})})}});for(var h=Xt.find(m,c[1].location),g=gs(vs(h.content)),x,w=0;w<g.length;++w){var y=g[w];y.id==1&&(x=y)}var b=vo(Yr(x.messages[0].data)[1][0].data);for(h=Xt.find(m,c[b].location),g=gs(vs(h.content)),w=0;w<g.length;++w)y=g[w],y.id==b&&(x=y);for(b=vo(Yr(x.messages[0].data)[2][0].data),h=Xt.find(m,c[b].location),g=gs(vs(h.content)),w=0;w<g.length;++w)y=g[w],y.id==b&&(x=y);for(b=vo(Yr(x.messages[0].data)[2][0].data),h=Xt.find(m,c[b].location),g=gs(vs(h.content)),w=0;w<g.length;++w)y=g[w],y.id==b&&(x=y);var N=Yr(x.messages[0].data);{N[6][0].data=Wt(a.e.r+1),N[7][0].data=Wt(a.e.c+1);var _=vo(N[46][0].data),k=Xt.find(m,c[_].location),A=gs(vs(k.content));{for(var T=0;T<A.length&&A[T].id!=_;++T);if(A[T].id!=_)throw"Bad ColumnRowUIDMapArchive";var I=Yr(A[T].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var O=0;O<=a.e.c;++O){var D=[];D[1]=D[2]=[{type:0,data:Wt(O+420690)}],I[1].push({type:2,data:jn(D)}),I[2].push({type:0,data:Wt(O)}),I[3].push({type:0,data:Wt(O)})}I[4]=[],I[5]=[],I[6]=[];for(var P=0;P<=a.e.r;++P)D=[],D[1]=D[2]=[{type:0,data:Wt(P+726270)}],I[4].push({type:2,data:jn(D)}),I[5].push({type:0,data:Wt(P)}),I[6].push({type:0,data:Wt(P)});A[T].messages[0].data=jn(I)}k.content=gc(xc(A)),k.size=k.content.length,delete N[46];var M=Yr(N[4][0].data);{M[7][0].data=Wt(a.e.r+1);var V=Yr(M[1][0].data),U=vo(V[2][0].data);k=Xt.find(m,c[U].location),A=gs(vs(k.content));{if(A[0].id!=U)throw"Bad HeaderStorageBucket";var J=Yr(A[0].messages[0].data);for(P=0;P<i.length;++P){var W=Yr(J[2][0].data);W[1][0].data=Wt(P),W[4][0].data=Wt(i[P].length),J[2][P]={type:J[2][0].type,data:jn(W)}}A[0].messages[0].data=jn(J)}k.content=gc(xc(A)),k.size=k.content.length;var he=vo(M[2][0].data);k=Xt.find(m,c[he].location),A=gs(vs(k.content));{if(A[0].id!=he)throw"Bad HeaderStorageBucket";for(J=Yr(A[0].messages[0].data),O=0;O<=a.e.c;++O)W=Yr(J[2][0].data),W[1][0].data=Wt(O),W[4][0].data=Wt(a.e.r+1),J[2][O]={type:J[2][0].type,data:jn(W)};A[0].messages[0].data=jn(J)}k.content=gc(xc(A)),k.size=k.content.length;var X=vo(M[4][0].data);(function(){for(var B=Xt.find(m,c[X].location),H=gs(vs(B.content)),K,te=0;te<H.length;++te){var ye=H[te];ye.id==X&&(K=ye)}var Se=Yr(K.messages[0].data);{Se[3]=[];var L=[];o.forEach(function(le,Re){L[1]=[{type:0,data:Wt(Re)}],L[2]=[{type:0,data:Wt(1)}],L[3]=[{type:2,data:zce(le)}],Se[3].push({type:2,data:jn(L)})})}K.messages[0].data=jn(Se);var G=xc(H),ge=gc(G);B.content=ge,B.size=B.content.length})();var be=Yr(M[3][0].data);{var ne=be[1][0];delete be[2];var ve=Yr(ne.data);{var me=vo(ve[2][0].data);(function(){for(var B=Xt.find(m,c[me].location),H=gs(vs(B.content)),K,te=0;te<H.length;++te){var ye=H[te];ye.id==me&&(K=ye)}var Se=Yr(K.messages[0].data);{delete Se[6],delete be[7];var L=new Uint8Array(Se[5][0].data);Se[5]=[];for(var G=0,ge=0;ge<=a.e.r;++ge){var le=Yr(L);G+=Hce(le,i[ge],o),le[1][0].data=Wt(ge),Se[5].push({data:jn(le),type:2})}Se[1]=[{type:0,data:Wt(a.e.c+1)}],Se[2]=[{type:0,data:Wt(a.e.r+1)}],Se[3]=[{type:0,data:Wt(G)}],Se[4]=[{type:0,data:Wt(a.e.r+1)}]}K.messages[0].data=jn(Se);var Re=xc(H),De=gc(Re);B.content=De,B.size=B.content.length})()}ne.data=jn(ve)}M[3][0].data=jn(be)}N[4][0].data=jn(M)}x.messages[0].data=jn(N);var ae=xc(g),C=gc(ae);return h.content=C,h.size=h.content.length,m}function Vce(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Ij(e){Vce([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function qce(e,t){return t.bookType=="ods"?zI(e,t):t.bookType=="numbers"?Kce(e,t):t.bookType=="xlsb"?Gce(e,t):Xce(e,t)}function Gce(e,t){kc=1024,e&&!e.SSF&&(e.SSF=ga(kr)),e&&e.SSF&&(Wp(),Up(e.SSF),t.revssf=Hp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ju?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=jI.indexOf(t.bookType)>-1,s=J6();Ij(t=t||{});var i=gj(),o="",c=0;if(t.cellXfs=[],Bo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(i,o,tI(e.Props,t)),s.coreprops.push(o),Ht(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&u.push(e.SheetNames[m]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(i,o,nI(e.Props)),s.extprops.push(o),Ht(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&Cn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(i,o,aI(e.Custprops)),s.custprops.push(o),Ht(t.rels,4,o,Mt.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var f={"!id":{}},h=e.Sheets[e.SheetNames[c-1]],g=(h||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+c+"."+r,kt(i,o,Jle(c-1,o,t,e,f)),s.sheets.push(o),Ht(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Mt.WS[0]),h){var x=h["!comments"],w=!1,y="";x&&x.length>0&&(y="xl/comments"+c+"."+r,kt(i,y,ece(x,y)),s.comments.push(y),Ht(f,-1,"../comments"+c+"."+r,Mt.CMNT),w=!0),h["!legacy"]&&w&&kt(i,"xl/drawings/vmlDrawing"+c+".vml",bI(c,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&kt(i,Q6(o),Oc(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(i,o,Qle(t.Strings,o,t)),s.strs.push(o),Ht(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(i,o,Yle(e,o)),s.workbooks.push(o),Ht(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(i,o,vI(e.Themes,t)),s.themes.push(o),Ht(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(i,o,Zle(e,o,t)),s.styles.push(o),Ht(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",kt(i,o,e.vbaraw),s.vba.push(o),Ht(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(i,o,tce(o)),s.metadata.push(o),Ht(t.wbrels,-1,"metadata."+r,Mt.XLMETA),kt(i,"[Content_Types].xml",Z6(s,t)),kt(i,"_rels/.rels",Oc(t.rels)),kt(i,"xl/_rels/workbook."+r+".rels",Oc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Xce(e,t){kc=1024,e&&!e.SSF&&(e.SSF=ga(kr)),e&&e.SSF&&(Wp(),Up(e.SSF),t.revssf=Hp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ju?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=jI.indexOf(t.bookType)>-1,s=J6();Ij(t=t||{});var i=gj(),o="",c=0;if(t.cellXfs=[],Bo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(i,o,tI(e.Props,t)),s.coreprops.push(o),Ht(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&u.push(e.SheetNames[m]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,kt(i,o,nI(e.Props)),s.extprops.push(o),Ht(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&Cn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(i,o,aI(e.Custprops)),s.custprops.push(o),Ht(t.rels,4,o,Mt.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var h={"!id":{}},g=e.Sheets[e.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+c+"."+r,kt(i,o,PI(c-1,t,e,h)),s.sheets.push(o),Ht(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Mt.WS[0]),g){var w=g["!comments"],y=!1,b="";if(w&&w.length>0){var N=!1;w.forEach(function(_){_[1].forEach(function(k){k.T==!0&&(N=!0)})}),N&&(b="xl/threadedComments/threadedComment"+c+"."+r,kt(i,b,kse(w,f,t)),s.threadedcomments.push(b),Ht(h,-1,"../threadedComments/threadedComment"+c+"."+r,Mt.TCMNT)),b="xl/comments"+c+"."+r,kt(i,b,wI(w)),s.comments.push(b),Ht(h,-1,"../comments"+c+"."+r,Mt.CMNT),y=!0}g["!legacy"]&&y&&kt(i,"xl/drawings/vmlDrawing"+c+".vml",bI(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&kt(i,Q6(o),Oc(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(i,o,fI(t.Strings,t)),s.strs.push(o),Ht(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(i,o,DI(e)),s.workbooks.push(o),Ht(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(i,o,vI(e.Themes,t)),s.themes.push(o),Ht(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(i,o,xI(e,t)),s.styles.push(o),Ht(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",kt(i,o,e.vbaraw),s.vba.push(o),Ht(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(i,o,yI()),s.metadata.push(o),Ht(t.wbrels,-1,"metadata."+r,Mt.XLMETA),f.length>1&&(o="xl/persons/person.xml",kt(i,o,Ese(f)),s.people.push(o),Ht(t.wbrels,-1,"persons/person.xml",Mt.PEOPLE)),kt(i,"[Content_Types].xml",Z6(s,t)),kt(i,"_rels/.rels",Oc(t.rels)),kt(i,"xl/_rels/workbook."+r+".rels",Oc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Yce(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ri(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function BI(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return kf(t.file,Xt.write(e,{type:Lt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Xt.write(e,t)}function Jce(e,t){var r=ga(t||{}),a=qce(e,r);return Zce(a,r)}function Zce(e,t){var r={},a=Lt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Xt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(Bp(s))}return t.password&&typeof encrypt_agile<"u"?BI(encrypt_agile(s,t.password),t):t.type==="file"?kf(t.file,s):t.type=="string"?vu(s):s}function Qce(e,t){var r=t||{},a=pce(e,r);return BI(a,r)}function Ls(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return Hu(Vu(a));case"binary":return Vu(a);case"string":return e;case"file":return kf(t.file,a,"utf8");case"buffer":return Lt?Xi(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ls(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ede(e,t){switch(t.type){case"base64":return Hu(e);case"binary":return e;case"string":return e;case"file":return kf(t.file,e,"binary");case"buffer":return Lt?Xi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function dh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?Hu(r):t.type=="string"?vu(r):r;case"file":return kf(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function UI(e,t){Are(),$le(e);var r=ga(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=UI(e,r);return r.type="array",Bp(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ls(mce(e,r),r);case"slk":case"sylk":return Ls(Fae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Ls(LI(e.Sheets[e.SheetNames[s]],r),r);case"txt":return ede(WI(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Ls(Dj(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ls(Lae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return dh(Mae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Ls(Rae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Ls(Kae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Ls(uI.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Ls(zI(e,r),r);case"wk1":return dh(iC.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return dh(iC.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),dh(FI(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Qce(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Jce(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function tde(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function rde(e,t,r){var a={};return a.type="file",a.file=t,tde(a),UI(e,a)}function nde(e,t,r,a,s,i,o,c){var u=An(r),m=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),h=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var x=t.s.c;x<=t.e.c;++x){var w=o?e[r][x]:e[a[x]+u];if(w===void 0||w.t===void 0){if(m===void 0)continue;i[x]!=null&&(g[i[x]]=m);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[x]!=null){if(y==null)if(w.t=="e"&&y===null)g[i[x]]=null;else if(m!==void 0)g[i[x]]=m;else if(f&&y===null)g[i[x]]=null;else continue;else g[i[x]]=f&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?y:$i(w,y,c);y!=null&&(h=!1)}}return{row:g,isempty:h}}function z0(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},m=t||{},f=m.range!=null?m.range:e["!ref"];switch(m.header===1?a=1:m.header==="A"?a=2:Array.isArray(m.header)?a=3:m.header==null&&(a=0),typeof f){case"string":u=dr(f);break;case"number":u=dr(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(s=0);var h=An(u.s.r),g=[],x=[],w=0,y=0,b=Array.isArray(e),N=u.s.r,_=0,k={};b&&!e[N]&&(e[N]=[]);var A=m.skipHidden&&e["!cols"]||[],T=m.skipHidden&&e["!rows"]||[];for(_=u.s.c;_<=u.e.c;++_)if(!(A[_]||{}).hidden)switch(g[_]=Bn(_),r=b?e[N][_]:e[g[_]+h],a){case 1:i[_]=_-u.s.c;break;case 2:i[_]=g[_];break;case 3:i[_]=m.header[_-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=$i(r,null,m),y=k[o]||0,!y)k[o]=1;else{do c=o+"_"+y++;while(k[c]);k[o]=y,k[c]=1}i[_]=c}for(N=u.s.r+s;N<=u.e.r;++N)if(!(T[N]||{}).hidden){var I=nde(e,u,N,g,a,i,b,m);(I.isempty===!1||(a===1?m.blankrows!==!1:m.blankrows))&&(x[w++]=I.row)}return x.length=w,x}var hC=/"/g;function ade(e,t,r,a,s,i,o,c){for(var u=!0,m=[],f="",h=An(r),g=t.s.c;g<=t.e.c;++g)if(a[g]){var x=c.dense?(e[r]||[])[g]:e[a[g]+h];if(x==null)f="";else if(x.v!=null){u=!1,f=""+(c.rawNumbers&&x.t=="n"?x.v:$i(x,null,c));for(var w=0,y=0;w!==f.length;++w)if((y=f.charCodeAt(w))===s||y===i||y===34||c.forceQuotes){f='"'+f.replace(hC,'""')+'"';break}f=="ID"&&(f='"ID"')}else x.f!=null&&!x.F?(u=!1,f="="+x.f,f.indexOf(",")>=0&&(f='"'+f.replace(hC,'""')+'"')):f="";m.push(f)}return c.blankrows===!1&&u?null:m.join(o)}function Dj(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=dr(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),m=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],x=a.skipHidden&&e["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(g[w]||{}).hidden||(h[w]=Bn(w));for(var y=0,b=s.s.r;b<=s.e.r;++b)(x[b]||{}).hidden||(f=ade(e,s,b,h,o,u,i,a),f!=null&&(a.strip&&(f=f.replace(m,"")),(f||a.blankrows!==!1)&&r.push((y++?c:"")+f)));return delete a.dense,r.join("")}function WI(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Dj(e,t);return r}function sde(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=dr(e["!ref"]),i="",o=[],c,u=[],m=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)o[c]=Bn(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=An(f),c=s.s.c;c<=s.e.c;++c)if(t=o[c]+i,r=m?(e[f]||[])[c]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function HI(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?pn(a.origin):a.origin;o=u.r,c=u.c}var m,f={s:{c:0,r:0},e:{c,r:o+t.length-1+s}};if(i["!ref"]){var h=dr(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+t.length-1+s)}else o==-1&&(o=0,f.e.r=t.length-1+s);var g=a.header||[],x=0;t.forEach(function(y,b){Cn(y).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var _=y[N],k="z",A="",T=qt({c:c+x,r:o+b+s});m=Xu(i,T),_&&typeof _=="object"&&!(_ instanceof Date)?i[T]=_:(typeof _=="number"?k="n":typeof _=="boolean"?k="b":typeof _=="string"?k="s":_ instanceof Date?(k="d",a.cellDates||(k="n",_=xa(_)),A=a.dateNF||kr[14]):_===null&&a.nullError&&(k="e",_=0),m?(m.t=k,m.v=_,delete m.w,delete m.R,A&&(m.z=A)):i[T]=m={t:k,v:_},A&&(m.z=A))})}),f.e.c=Math.max(f.e.c,c+g.length-1);var w=An(o);if(s)for(x=0;x<g.length;++x)i[Bn(x+c)+w]={t:"s",v:g[x]};return i["!ref"]=Hr(f),i}function ide(e,t){return HI(null,e,t)}function Xu(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=pn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Xu(e,qt(t)):Xu(e,qt({r:t,c:r||0}))}function ode(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function lde(){return{SheetNames:[],Sheets:{}}}function cde(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(II(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function dde(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=ode(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function ude(e,t){return e.z=t,e}function KI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function fde(e,t,r){return KI(e,"#"+t,r)}function mde(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function hde(e,t,r,a){for(var s=typeof t!="string"?t:dr(t),i=typeof t=="string"?t:Hr(t),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=Xu(e,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=r,a&&(u.D=!0))}return e}var Py={encode_col:Bn,encode_row:An,encode_cell:qt,encode_range:Hr,decode_col:_j,decode_row:jj,split_cell:Ane,decode_cell:pn,decode_range:Ua,format_cell:$i,sheet_add_aoa:K6,sheet_add_json:HI,sheet_add_dom:RI,aoa_to_sheet:hd,json_to_sheet:ide,table_to_sheet:$I,table_to_book:Lce,sheet_to_csv:Dj,sheet_to_txt:WI,sheet_to_json:z0,sheet_to_html:LI,sheet_to_formulae:sde,sheet_to_row_object_array:z0,sheet_get_cell:Xu,book_new:lde,book_append_sheet:cde,book_set_sheet_visibility:dde,cell_set_number_format:ude,cell_set_hyperlink:KI,cell_set_internal_link:fde,cell_add_comment:mde,sheet_set_array_formula:hde,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const pde=e=>({id:e.id||0,name:e.full_name||e.name||"Unknown",email:e.email||"",phone:e.phone_number||e.phone||"",address:e.address||"",pincode:e.pincode||"",city:e.city||"",state:e.state||"",profile_image:e.profile_photo_url||e.profile_image||"",status:e.status==="active"||e.status==="inactive"||e.status==="suspended"?e.status:"active",email_verified:e.email_verified!==void 0?e.email_verified:!0,phone_verified:e.phone_verified!==void 0?e.phone_verified:!0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||e.created_at||new Date().toISOString(),last_login:e.last_login||e.updated_at||e.created_at||new Date().toISOString(),total_bookings:e.total_bookings||e.completed_appointments||0,total_spent:e.total_spent||0,recent_activities:(e.recent_activities||e.activities||[]).map(t=>({activity_type:t.activity_type||t.type||"unknown",description:t.description||"",ip_address:t.ip_address||"",created_at:t.created_at||new Date().toISOString()})),expanded:!1}),xde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(1),[u,m]=v.useState(new Set),f={name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0},h=5,{addToast:g}=Jt(),{user:x}=gn(),w=v.useCallback(async()=>{const O=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!O){g("Please login to view users","error"),a(!1);return}try{a(!0);const D=await fetch(`${ke}/admin/users`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!D.ok){if(D.status===401){g("Authentication failed. Please log in again.","error"),a(!1);return}throw new Error(`HTTP error! status: ${D.status}`)}const P=D.headers.get("content-type");if(!P||!P.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),t([]),a(!1);return}const M=await D.text();if(!M||M.trim()===""){console.warn("Empty response body, treating as empty list"),t([]),a(!1);return}let V;try{V=JSON.parse(M)}catch(W){throw console.error("JSON parse error:",W,"Response text:",M),new Error("Invalid JSON response from server")}let U=[];if(Array.isArray(V.data))U=V.data;else if(Array.isArray(V.users))U=V.users;else if(Array.isArray(V))U=V;else if(V.success===!1){console.warn("API returned error:",V.message),t([]),a(!1);return}else throw new Error(V.message||"Invalid response format from server");const J=U.map(W=>pde(W));t(J)}catch(D){console.error("Error fetching users:",D);const P=D instanceof Error?D.message:"Failed to fetch users";g(P,"error"),t([])}finally{a(!1)}},[g]);v.useEffect(()=>{w()},[w]);const y=e.filter(O=>O.name.toLowerCase().includes(s.toLowerCase())||O.email.toLowerCase().includes(s.toLowerCase())||O.phone.includes(s)||O.city.toLowerCase().includes(s.toLowerCase())),b=Math.ceil(y.length/h),N=(o-1)*h,_=y.slice(N,N+h),k=async(O,D)=>{const P=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!P){g("Please login to update user status","error");return}let M={};const V=x?.name||x?.full_name||"Admin User";D==="suspended"?M={action:"suspend",notes:"User suspended by admin",admin_name:V}:M={action:"activate"};try{t(e.map(X=>X.id===O?{...X,status:D,updated_at:new Date().toISOString()}:X));const U=await fetch(`${ke}/admin/users/${O}/status`,{method:"PUT",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify(M)});let J=null;const W=U.headers.get("content-type");if(W&&W.includes("application/json")&&U.status!==204)try{const X=await U.text();X&&X.trim()&&(J=JSON.parse(X))}catch(X){console.warn("Could not parse response:",X)}if(!U.ok){w();let X="Failed to update user status";throw J?X=J.message||J.error?.message||X:U.status===404?X="User status update endpoint not found. The API endpoint may not be implemented yet.":U.status===401?X="Authentication failed. Please log in again.":U.status===403?X="You do not have permission to update user status.":X=`Server error: ${U.status} ${U.statusText}`,new Error(X)}g(J?.message||`User status updated to ${D}`,"success"),w()}catch(U){console.error("Error updating user status:",U);const J=U instanceof Error?U.message:"Failed to update user status";g(J,"error"),w()}},A=O=>{e.find(P=>P.id===O)?.expanded||(m(P=>new Set(P).add(O)),setTimeout(()=>{m(P=>{const M=new Set(P);return M.delete(O),M})},300)),t(P=>P.map(M=>M.id===O?{...M,expanded:!M.expanded}:M))},T=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=()=>{try{const O=y.map(W=>({"User ID":W.id,Name:W.name,Email:W.email,Phone:W.phone,Address:W.address,City:W.city,State:W.state,Pincode:W.pincode,Status:W.status,"Email Verified":W.email_verified?"Yes":"No","Phone Verified":W.phone_verified?"Yes":"No","Total Bookings":W.total_bookings,"Total Spent ()":W.total_spent,"Created At":T(W.created_at),"Last Login":T(W.last_login),"Updated At":T(W.updated_at)})),D=Py.book_new(),P=Py.json_to_sheet(O),M=[{wch:10},{wch:25},{wch:30},{wch:15},{wch:40},{wch:20},{wch:20},{wch:10},{wch:12},{wch:15},{wch:15},{wch:15},{wch:15},{wch:20},{wch:20},{wch:20}];P["!cols"]=M,Py.book_append_sheet(D,P,"Users");const J=`Users_Export_${new Date().toISOString().split("T")[0]}.xlsx`;rde(D,J),g(`Excel file exported successfully: ${J}`,"success")}catch(O){console.error("Error exporting to Excel:",O),g("Failed to export Excel file","error")}};return n.jsxs(Yt,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Users"}),n.jsx("p",{className:"text-gray-600",children:"Manage user accounts, orders, and engagement activity."})]}),r?n.jsx(Uu,{}):n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(Nt,{children:"All Users"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(Be,{variant:"outline",size:"sm",onClick:I,className:"flex items-center space-x-2 border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary",disabled:y.length===0,children:[n.jsx(lb,{size:16}),n.jsx("span",{children:"Export to Excel"})]}),n.jsx(jre,{searchTerm:s,onSearchChange:i})]})]}),n.jsxs(tt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx(Nre,{columnVisibility:f}),n.jsx("tbody",{children:_.map(O=>n.jsxs(Zr.Fragment,{children:[n.jsx(Sre,{user:O,columnVisibility:f,expandingUsers:u,onStatusChange:k,onToggleDropdown:A,formatDate:T}),O.expanded&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(f).filter(Boolean).length,className:"py-6 px-6",children:n.jsx(_re,{user:O,formatDate:T})})})]},O.id))})]})}),b>1&&n.jsx(wre,{currentPage:o,totalPages:b,startIndex:N,itemsPerPage:h,totalItems:y.length,onPageChange:c})]})]})]})},gde=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Tn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),vde=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," categories"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Yc,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(Be,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]}),yde=({isOpen:e,onClose:t,onSave:r,category:a,isSubmitting:s=!1,initialImageUrl:i})=>{const[o,c]=v.useState({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),[u,m]=v.useState(null);v.useEffect(()=>{if(a){const h=a;c({name:a.name,description:"",icon:"",image:typeof i=="string"?i:"",status:"active",sort_order:0,show_on_homepage:h.show_on_homepage||!1}),m(typeof i=="string"&&i?i:null)}else c({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),m(null)},[a,e,i]);const f=h=>{h.preventDefault(),r(o)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:a?"Edit Category":"Add New Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",required:!0,value:o.name,onChange:h=>c({...o,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image (upload a file or paste a URL)"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{children:n.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsx(Fc,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Choose file"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h=>{const g=h.target.files&&h.target.files[0];if(g){const x=URL.createObjectURL(g);m(x),c({...o,image:g})}}})]})}),n.jsx("div",{children:n.jsx("input",{type:"url",value:typeof o.image=="string"?o.image:"",onChange:h=>{c({...o,image:h.target.value}),m(h.target.value||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"/public/images/cat.jpg or https://..."})})]}),u&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:u,alt:"Preview",className:"max-h-24 max-w-full rounded border"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.show_on_homepage||!1,onChange:h=>c({...o,show_on_homepage:h.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show on Homepage (Max 6 categories)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Only 6 categories with this checkbox checked will be displayed on the homepage"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(Be,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(Be,{type:"submit",disabled:s,className:"bg-primary hover:bg-primary/90 text-white",children:s?"Saving...":a?"Update":"Create"})]})]})]})}):null},pC=({isOpen:e,onClose:t,onConfirm:r,category:a,isSubmitting:s=!1})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delete Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',a?.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(Be,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(Be,{onClick:r,disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Deleting...":"Delete"})]})]})]})}):null,bde=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${nb}${r}`},uh=()=>{const{addToast:e}=Jt(),{user:t}=gn(),r=na();va();const a=t?.role==="admin",i=(()=>{const R=r.pathname;return R.includes("/inventory")?"inventory":R.includes("/generic")?"generic":R.includes("/branded")?"branded":"categories"})(),[o,c]=v.useState(0),[u,m]=v.useState(0),[f,h]=v.useState(!1),[g,x]=v.useState([]),[w,y]=v.useState([]),[b,N]=v.useState(!1),[_,k]=v.useState(!1),[A,T]=v.useState(""),[I,O]=v.useState(""),[D,P]=v.useState(1),[M,V]=v.useState(1),[U,J]=v.useState(!1),[W,he]=v.useState("add"),[X,be]=v.useState(null),[ne,ve]=v.useState(!1),[me,ae]=v.useState(!1),[C,B]=v.useState([]),[H,K]=v.useState(!1),[te,ye]=v.useState([]),[Se,L]=v.useState(!1),[G,ge]=v.useState(!1),[le,Re]=v.useState(null),[De,Ce]=v.useState("add"),[Ae,je]=v.useState(!1),[it,Xe]=v.useState(null),[gt,at]=v.useState([]),[vt,St]=v.useState(!1),[yt,wr]=v.useState(null),[wt,se]=v.useState("all"),[Y,Te]=v.useState("all"),[Ie,mt]=v.useState(!1),Et=10,Ye=async()=>{N(!0);try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),ce=await fetch(`${ke}/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}}}),oe=await ce.json();if(ce.ok&&oe.categories&&Array.isArray(oe.categories)){const xe=oe.categories.map(Pe=>({id:Pe.id,name:Pe.name,image_url:typeof Pe.image_url=="string"?Pe.image_url:"",show_on_homepage:Pe.show_on_homepage||!1,created_at:Pe.created_at||new Date().toISOString(),updated_at:Pe.updated_at||new Date().toISOString()}));x(xe)}else throw new Error(oe.message||"Failed to fetch categories")}catch(R){console.error("Error fetching categories:",R);const ce=R instanceof Error?R.message:"Failed to fetch categories";e(ce,"error")}finally{N(!1)}};v.useEffect(()=>{Ye()},[]),v.useEffect(()=>{(i==="inventory"||i==="generic"||i==="branded")&&gr(),(i==="generic"||i==="branded")&&Cr()},[i]);const Cr=async()=>{h(!0);try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),ce=await fetch(`${ke}/admin/commissions`,{method:"GET",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}});if(ce.ok){const oe=await ce.json();c(oe.generic_commission||0),m(oe.branded_commission||0)}}catch(R){console.error("Error fetching commissions:",R)}finally{h(!1)}},Lr=async(R,ce)=>{if(!a){e("Only super admin can update commission rates","error");return}h(!0);try{const oe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),de=await fetch(`${ke}/admin/commissions`,{method:"PUT",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"},body:JSON.stringify({[R==="generic"?"generic_commission":"branded_commission"]:ce})}),xe=await de.json();if(de.ok&&xe.success)c(xe.generic_commission||0),m(xe.branded_commission||0),e("Commission updated successfully","success");else{const Pe=xe?.error?.message||xe?.message||"Failed to update commission";console.error("Error updating commission:",xe),e(Pe,"error")}}catch(oe){console.error("Error updating commission:",oe);const de=oe?.message||"Failed to update commission. Please try again.";e(de,"error")}finally{h(!1)}},gr=async()=>{k(!0);try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),ce=new URLSearchParams;I&&ce.append("search",I);const oe=await fetch(`${ke}/admin/inventory?${ce.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}}});if(!oe.ok){const xe=await oe.json().catch(()=>({}));throw console.error("Inventory fetch error:",oe.status,xe),new Error(xe.error?.message||xe.message||`Failed to fetch inventory: ${oe.statusText}`)}const de=await oe.json();if(de.inventory&&Array.isArray(de.inventory)){const xe=de.inventory.map(Pe=>({...Pe,price:Number(Pe.price||0),discounted_price:Pe.discounted_price?Number(Pe.discounted_price):null,stock_quantity:Number(Pe.stock_quantity||0),low_stock_threshold:Number(Pe.low_stock_threshold||0)}));y(xe)}else console.warn("Unexpected inventory response format:",de),y([])}catch(R){console.error("Error fetching inventory:",R);const ce=R instanceof Error?R.message:"Failed to fetch inventory";e(ce,"error"),y([])}finally{k(!1)}},wa=async R=>{const ce=R.target.files?.[0];if(ce){if(!ce.name.toLowerCase().endsWith(".xlsx")&&!ce.name.toLowerCase().endsWith(".xls")){e("Please upload an Excel file (.xlsx or .xls)","error");return}ae(!0);try{const oe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),de=new FormData;de.append("inventory_file",ce);const xe=await fetch(`${ke}/admin/inventory/upload`,{method:"POST",headers:{...oe?{Authorization:`Bearer ${oe}`}:{}},body:de}),Pe=await xe.json();if(xe.ok)e(`Inventory uploaded: ${Pe.inserted} new, ${Pe.updated} updated`,"success"),gr();else throw new Error(Pe.error?.message||Pe.message||"Failed to upload inventory")}catch(oe){console.error("Error uploading inventory:",oe);const de=oe instanceof Error?oe.message:"Failed to upload inventory";e(de,"error")}finally{ae(!1),R.target.value=""}}},ja=R=>{Re(R),Ce("edit"),L(!0)},_a=async R=>{if(confirm(`Are you sure you want to delete "${R.medicine_name}"?`))try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!ce){e("Please login to delete inventory","error");return}const oe=await fetch(`${ke}/admin/inventory/${R.id}`,{method:"DELETE",headers:{...ce?{Authorization:`Bearer ${ce}`}:{}}}),de=await oe.json();if(oe.ok)e("Inventory item deleted successfully","success"),gr();else throw new Error(de.error?.message||de.message||"Failed to delete inventory item")}catch(ce){console.error("Error deleting inventory:",ce);const oe=ce instanceof Error?ce.message:"Failed to delete inventory item";e(oe,"error")}},Hn=async R=>{ge(!0);try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!ce){e("Please login to add inventory","error");return}const oe=De==="edit"&&le?"PUT":"POST",de=De==="edit"&&le?`${ke}/admin/inventory/${le.id}`:`${ke}/admin/inventory`,xe=await fetch(de,{method:oe,headers:{...ce?{Authorization:`Bearer ${ce}`}:{}},body:R}),Pe=await xe.json();if(xe.ok)e(`Inventory item ${De==="edit"?"updated":"added"} successfully`,"success"),L(!1),Re(null),Ce("add"),gr();else throw new Error(Pe.error?.message||Pe.message||`Failed to ${De==="edit"?"update":"add"} inventory item`)}catch(ce){console.error(`Error ${De==="edit"?"updating":"adding"} inventory:`,ce);const oe=ce instanceof Error?ce.message:`Failed to ${De==="edit"?"update":"add"} inventory item`;e(oe,"error")}finally{ge(!1)}},ue=async(R,ce)=>{try{const oe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),de=await fetch(`${ke}/admin/inventory/${R}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",...oe?{Authorization:`Bearer ${oe}`}:{}},body:JSON.stringify({category_ids:ce})}),xe=await de.json();if(de.ok)e("Categories assigned successfully","success"),gr();else throw new Error(xe.error?.message||xe.message||"Failed to assign categories")}catch(oe){console.error("Error assigning categories:",oe);const de=oe instanceof Error?oe.message:"Failed to assign categories";e(de,"error")}},Ve=async()=>{if(C.length===0||te.length===0){e("Please select inventory items and categories","error");return}try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),ce=await fetch(`${ke}/admin/inventory/bulk-assign-categories`,{method:"POST",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}},body:JSON.stringify({inventory_ids:C,category_ids:te})}),oe=await ce.json();if(ce.ok)e(`Categories assigned to ${oe.items_updated} items`,"success"),B([]),ye([]),K(!1),gr();else throw new Error(oe.error?.message||oe.message||"Failed to assign categories")}catch(R){console.error("Error bulk assigning categories:",R);const ce=R instanceof Error?R.message:"Failed to assign categories";e(ce,"error")}},ft=R=>{B(ce=>ce.includes(R)?ce.filter(oe=>oe!==R):[...ce,R])},ur=()=>{C.length===q.length?B([]):B(q.map(R=>R.id))},It=async()=>{if(C.length===0){e("Please select inventory items to delete","error");return}if(confirm(`Are you sure you want to delete ${C.length} inventory item(s)?`))try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!R){e("Please login to delete inventory","error");return}const ce=await fetch(`${ke}/admin/inventory/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}},body:JSON.stringify({inventory_ids:C})}),oe=await ce.json();if(ce.ok)e(`Successfully deleted ${oe.deleted_count} inventory item(s)`,"success"),B([]),gr();else throw new Error(oe.error?.message||oe.message||"Failed to delete inventory items")}catch(R){console.error("Error bulk deleting inventory:",R);const ce=R instanceof Error?R.message:"Failed to delete inventory items";e(ce,"error")}},Vr=()=>{wr(null),se("all"),Te("all"),mt(!1)},Pn=yt!==null||wt!=="all"||Y!=="all"||Ie,sa=()=>{he("add"),be(null),J(!0)},Kn=R=>{he("edit"),be(R),J(!0)},On=R=>{he("delete"),be(R),J(!0)},ds=async R=>{ve(!0);try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!ce){e("Please login to save category","error"),ve(!1);return}const oe=de=>{if(!de)return"Request failed";if(typeof de=="string")return de;if(de.message&&typeof de.message=="string")return de.message;if(de.error&&typeof de.error=="string")return de.error;if(de.errors&&typeof de.errors=="object"){const xe=Object.keys(de.errors)[0],Pe=Array.isArray(de.errors[xe])?de.errors[xe][0]:de.errors[xe];return typeof Pe=="string"?Pe:"Validation failed"}try{return JSON.stringify(de)}catch{return"Unknown error"}};if(W==="add"){let de;if(R.image instanceof File){const $e=new FormData;$e.append("name",R.name),$e.append("image",R.image),$e.append("show_on_homepage",R.show_on_homepage?"1":"0"),de=await fetch(`${ke}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${ce}`},body:$e})}else{const $e={name:R.name};typeof R.image=="string"&&R.image.trim()!==""&&($e.image=R.image),$e.show_on_homepage=R.show_on_homepage?1:0,de=await fetch(`${ke}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify($e)})}const xe=await de.text(),Pe=(()=>{try{return xe?JSON.parse(xe):{}}catch{return{raw:xe}}})();if(de.ok&&Pe.category)await Ye(),e("Category created successfully","success"),J(!1);else throw new Error(oe(Pe)||"Failed to create category")}else if(W==="edit"&&X){let de;if(R.image instanceof File){const $e=new FormData;$e.append("name",R.name),$e.append("image",R.image),$e.append("show_on_homepage",R.show_on_homepage?"1":"0"),de=await fetch(`${ke}/admin/categories/${X.id}`,{method:"PUT",headers:{Authorization:`Bearer ${ce}`},body:$e})}else{const $e={name:R.name};typeof R.image=="string"&&R.image.trim()!==""&&($e.image=R.image),$e.show_on_homepage=R.show_on_homepage?1:0,de=await fetch(`${ke}/admin/categories/${X.id}`,{method:"PUT",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify($e)})}const xe=await de.text(),Pe=(()=>{try{return xe?JSON.parse(xe):{}}catch{return{raw:xe}}})();if(de.ok&&Pe.category)await Ye(),e("Category updated successfully","success"),J(!1);else throw new Error(oe(Pe)||"Failed to update category")}}catch(ce){console.error("Error saving category:",ce);const oe=ce instanceof Error?ce.message:typeof ce=="string"?ce:"Failed to save category";e(oe,"error")}finally{ve(!1)}},ia=async()=>{if(X){ve(!0);try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!R){e("Please login to delete category","error"),ve(!1);return}const ce=await fetch(`${ke}/admin/categories/${X.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}}),oe=await ce.json();if(ce.ok)x(de=>de.filter(xe=>xe.id!==X.id)),e("Category deleted successfully","success"),J(!1),Ye();else throw new Error(oe.message||oe.error||"Failed to delete category")}catch(R){console.error("Error deleting category:",R);const ce=R instanceof Error?R.message:"Failed to delete category";e(ce,"error")}finally{ve(!1)}}},Uo=g.filter(R=>R.name.toLowerCase().includes(A.toLowerCase())),As=Math.ceil(Uo.length/Et),Cs=(D-1)*Et,z=Uo.slice(Cs,Cs+Et),Q=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),q=w.filter(R=>!(!(R.medicine_name.toLowerCase().includes(I.toLowerCase())||R.manufacturer_name?.toLowerCase().includes(I.toLowerCase()))||yt!==null&&!R.category_ids.includes(yt)||wt==="yes"&&!R.is_discontinued||wt==="no"&&R.is_discontinued||Y==="required"&&!R.prescription_required||Y==="not_required"&&R.prescription_required||Ie&&R.stock_quantity>(R.low_stock_threshold||0))),Z=Math.ceil(q.length/Et),ee=(M-1)*Et,re=q.slice(ee,ee+Et);return n.jsxs(Yt,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Medicine Categories"}),n.jsx("p",{className:"text-gray-600",children:"Manage categories and platform inventory with category assignment."})]}),i==="categories"&&n.jsxs(n.Fragment,{children:[b?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]}):n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(Nt,{children:"All Categories"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(gde,{searchTerm:A,onSearchChange:T}),n.jsxs(Be,{onClick:sa,className:"flex items-center space-x-2",children:[n.jsx(pa,{size:16}),n.jsx("span",{children:"Add Category"})]})]})]}),n.jsxs(tt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Image"}),n.jsx("th",{className:"text-left pb-4",children:"Name"}),n.jsx("th",{className:"text-left pb-4",children:"Published"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:z.map(R=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:R.image_url?n.jsx("img",{src:bde(R.image_url),alt:R.name,className:"h-10 w-10 rounded object-cover border",onError:ce=>{const oe=ce.currentTarget;oe.src!==R.image_url&&(oe.src=R.image_url)}}):n.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:R.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",R.id]})]}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:Q(R.created_at)})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:()=>Kn(R),children:"Edit"}),n.jsx(Be,{onClick:()=>On(R),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},R.id))})]})}),As>1&&n.jsx(vde,{currentPage:D,totalPages:As,startIndex:Cs,itemsPerPage:Et,totalItems:Uo.length,onPageChange:P})]})]}),(W==="add"||W==="edit")&&n.jsx(yde,{isOpen:U,onClose:()=>J(!1),onSave:ds,category:X?{id:X.id,name:X.name,description:"",icon:"",status:"active",total_services:0,created_at:X.created_at,updated_at:X.updated_at,show_on_homepage:X.show_on_homepage||!1}:void 0,initialImageUrl:X?.image_url,isSubmitting:ne}),W==="delete"&&n.jsx(pC,{isOpen:U,onClose:()=>J(!1),onConfirm:ia,category:X,isSubmitting:ne}),W==="delete"&&n.jsx(pC,{isOpen:U,onClose:()=>J(!1),onConfirm:ia,category:X,isSubmitting:ne})]}),i==="inventory"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"relative flex-1 max-w-md",children:n.jsx("input",{type:"text",placeholder:"Search inventory by name or manufacturer...",value:I,onChange:R=>O(R.target.value),className:"w-full px-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),C.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(Be,{onClick:()=>K(!0),className:"flex items-center gap-2",children:[n.jsx(A8,{size:16}),"Assign Categories (",C.length,")"]}),n.jsxs(Be,{onClick:It,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(Us,{size:16}),"Delete (",C.length,")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Be,{onClick:()=>St(!vt),className:`flex items-center gap-2 ${Pn?"bg-primary text-white":""}`,children:[n.jsx(W0,{size:16}),"Filters",Pn&&n.jsx("span",{className:"ml-1 bg-white text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:[yt!==null,wt!=="all",Y!=="all",Ie].filter(Boolean).length})]}),n.jsxs(Be,{onClick:()=>L(!0),className:"flex items-center gap-2",children:[n.jsx(pa,{size:16}),"Add Inventory"]}),n.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors cursor-pointer flex items-center gap-2",children:[n.jsx(Fc,{size:16}),me?"Uploading...":"Upload Excel",n.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:wa,className:"hidden",disabled:me})]})]})]}),vt&&n.jsxs(et,{className:"mb-6",children:[n.jsxs(_t,{className:"flex items-center justify-between pb-3",children:[n.jsx(Nt,{className:"text-lg",children:"Filters"}),n.jsxs("div",{className:"flex items-center gap-2",children:[Pn&&n.jsxs(Be,{onClick:Vr,className:"text-xs flex items-center gap-1",size:"sm",children:[n.jsx($n,{size:14}),"Clear All"]}),n.jsx("button",{onClick:()=>St(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]})]}),n.jsx(tt,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),n.jsxs("select",{value:yt||"",onChange:R=>wr(R.target.value?parseInt(R.target.value):null),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"All Categories"}),g.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discontinued"}),n.jsxs("select",{value:wt,onChange:R=>se(R.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Discontinued"}),n.jsx("option",{value:"no",children:"Active"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prescription"}),n.jsxs("select",{value:Y,onChange:R=>Te(R.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"required",children:"Required"}),n.jsx("option",{value:"not_required",children:"Not Required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Status"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Ie,onChange:R=>mt(R.target.checked),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Low Stock Only"})]})]})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]}):n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"Platform Inventory"})}),n.jsxs(tt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"text-left pb-4 px-2",children:n.jsx("input",{type:"checkbox",checked:C.length===q.length&&q.length>0,onChange:ur,className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Name"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Discounted Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Prescription Required or Not"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Marketed By"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Type"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Item Group"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Pack Size Label"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Stock Quantity"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Low Stock Threshold"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Justification (Active Ingredient & Class)"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Description"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Picture"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Categories"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Actions"})]})}),n.jsx("tbody",{children:re.map(R=>n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-2",children:n.jsx("input",{type:"checkbox",checked:C.includes(R.id),onChange:()=>ft(R.id),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"font-medium max-w-[150px] truncate",title:R.medicine_name,children:R.medicine_name})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("span",{className:"font-medium",children:["",Number(R.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-2",children:R.discounted_price&&R.discounted_price>0?n.jsxs("span",{className:"font-medium text-green-600",children:["",Number(R.discounted_price).toFixed(2)]}):"-"}),n.jsx("td",{className:"py-3 px-2",children:R.prescription_required?n.jsx("span",{className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded",children:"Required"}):n.jsx("span",{className:"text-xs text-gray-400",children:"Not Required"})}),n.jsx("td",{className:"py-3 px-2 text-sm text-gray-600 max-w-[120px]",children:R.manufacturer_name?n.jsx("div",{className:"truncate",title:R.manufacturer_name,children:R.manufacturer_name}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:R.medicine_type?n.jsx("div",{className:"truncate",title:R.medicine_type,children:R.medicine_type}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:R.category?n.jsx("div",{className:"truncate",title:R.category,children:R.category}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:R.pack_size_label?n.jsx("div",{className:"truncate",title:R.pack_size_label,children:R.pack_size_label}):"-"}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("span",{className:R.stock_quantity<=(R.low_stock_threshold||0)?"text-red-600 font-medium":"",children:R.stock_quantity})}),n.jsx("td",{className:"py-3 px-2 text-sm",children:R.low_stock_threshold||0}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:R.justification?n.jsx("div",{className:"truncate",title:R.justification,children:R.justification}):"-"}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:R.description?n.jsx("div",{className:"truncate",title:R.description,children:R.description}):"-"}),n.jsx("td",{className:"py-3 px-2",children:R.images?(()=>{const ce=Array.isArray(R.images)?R.images:typeof R.images=="string"?R.images.split(",").map(oe=>oe.trim()).filter(Boolean):[];return n.jsxs("div",{className:"flex gap-1",children:[ce.slice(0,2).map((oe,de)=>n.jsx("img",{src:oe,alt:`${R.medicine_name} ${de+1}`,className:"w-10 h-10 object-cover rounded border",onError:xe=>{xe.target.style.display="none"}},de)),ce.length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",ce.length-2]})]})})():"-"}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:R.category_names.length>0?R.category_names.map((ce,oe)=>n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary rounded-full",children:ce},oe)):n.jsx("span",{className:"text-xs text-gray-400",children:"No categories"})})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Be,{onClick:()=>{Xe(R),at(R.category_ids),je(!0)},className:"px-2 py-1 text-xs flex items-center gap-1 bg-primary hover:bg-primary-dark text-white",size:"sm",title:"Assign Categories",children:[n.jsx(Zn,{size:14}),"Categories"]}),n.jsxs(Be,{onClick:()=>ja(R),className:"px-2 py-1 text-xs flex items-center gap-1",size:"sm",children:[n.jsx(fb,{size:14}),"Edit"]}),n.jsxs(Be,{onClick:()=>_a(R),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white flex items-center gap-1",size:"sm",children:[n.jsx(Us,{size:14}),"Delete"]})]})})]},R.id))})]})}),Z>1&&n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",ee+1," to ",Math.min(ee+Et,q.length)," of ",q.length," items"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Be,{onClick:()=>V(R=>Math.max(1,R-1)),disabled:M===1,children:"Previous"}),n.jsx(Be,{onClick:()=>V(R=>Math.min(Z,R+1)),disabled:M===Z,children:"Next"})]})]}),q.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zn,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No inventory items found"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an Excel file to get started"})]})]})]}),H&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsxs(_t,{className:"flex items-center justify-between",children:[n.jsx(Nt,{children:"Bulk Assign Categories"}),n.jsx("button",{onClick:()=>{K(!1),ye([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Categories (",C.length," items selected)"]}),n.jsx("select",{multiple:!0,value:te.map(String),onChange:R=>{const ce=Array.from(R.target.selectedOptions,oe=>Number(oe.value));ye(ce)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(g.length,8),children:g.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Be,{onClick:()=>{K(!1),ye([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(Be,{onClick:Ve,className:"flex-1",disabled:te.length===0,children:"Assign"})]})]})]})}),Ae&&it&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsxs(_t,{className:"flex items-center justify-between",children:[n.jsxs(Nt,{children:["Assign Categories to ",it.medicine_name]}),n.jsx("button",{onClick:()=>{je(!1),Xe(null),at([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Categories"}),n.jsx("select",{multiple:!0,value:gt.map(String),onChange:R=>{const ce=Array.from(R.target.selectedOptions,oe=>Number(oe.value));at(ce)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(g.length,8),children:g.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Be,{onClick:()=>{je(!1),Xe(null),at([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(Be,{onClick:async()=>{it&&(await ue(it.id,gt),je(!1),Xe(null),at([]))},className:"flex-1",disabled:gt.length===0,children:"Assign"})]})]})]})}),Se&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(et,{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto",children:[n.jsx(_t,{children:n.jsx(Nt,{children:De==="edit"?"Edit Inventory Item":"Add New Inventory Item"})}),n.jsx(tt,{children:n.jsx(wde,{categories:g,onSubmit:Hn,onCancel:()=>{L(!1),Re(null),Ce("add")},isSubmitting:G,initialData:le,mode:De})})]})})]}),i==="generic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search generic medicines...",value:I,onChange:R=>O(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),a&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Generic Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:o,onChange:R=>{const ce=parseFloat(R.target.value)||0;c(ce)},onBlur:()=>Lr("generic",o),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:f}),n.jsx(Be,{onClick:()=>Lr("generic",o),size:"sm",disabled:f,children:n.jsx(zy,{size:16})})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading generic medicines..."})]}):n.jsx(et,{children:n.jsx(tt,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:w.filter(R=>R.medicine_type==="Generic").filter(R=>I===""||R.medicine_name.toLowerCase().includes(I.toLowerCase())).map(R=>{const ce=R.price*o/100,oe=R.price-ce;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:R.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(R.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[o.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",oe.toFixed(2)]})})]},R.id)})})]}),w.filter(R=>R.medicine_type==="Generic").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No generic medicines found"})]})})})]}),i==="branded"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search branded medicines...",value:I,onChange:R=>O(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),a&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Branded Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:u,onChange:R=>{const ce=parseFloat(R.target.value)||0;m(ce)},onBlur:()=>Lr("branded",u),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:f}),n.jsx(Be,{onClick:()=>Lr("branded",u),size:"sm",disabled:f,children:n.jsx(zy,{size:16})})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading branded medicines..."})]}):n.jsx(et,{children:n.jsx(tt,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:w.filter(R=>R.medicine_type==="Branded").filter(R=>I===""||R.medicine_name.toLowerCase().includes(I.toLowerCase())).map(R=>{const ce=R.price*u/100,oe=R.price-ce;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:R.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(R.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[u.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",oe.toFixed(2)]})})]},R.id)})})]}),w.filter(R=>R.medicine_type==="Branded").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No branded medicines found"})]})})})]})]})},wde=({categories:e,onSubmit:t,onCancel:r,isSubmitting:a,initialData:s,mode:i="add"})=>{const[o,c]=v.useState({medicine_name:s?.medicine_name||"",price:s?.price?.toString()||"",discounted_price:s?.discounted_price?s.discounted_price.toString():"",prescription_required:s?.prescription_required||!1,manufacturer_name:s?.manufacturer_name||"",medicine_type:s?.medicine_type||"",category:s?.category||"",pack_size_label:s?.pack_size_label||"",stock_quantity:s?.stock_quantity?.toString()||"",low_stock_threshold:s?.low_stock_threshold?.toString()||"",justification:s?.justification||"",description:s?.description||"",category_ids:s?.category_ids||[]}),[u,m]=v.useState([]),[f,h]=v.useState(s?.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(b=>b.trim()):[]);v.useEffect(()=>{s&&i==="edit"?(c({medicine_name:s.medicine_name||"",price:s.price?.toString()||"",discounted_price:s.discounted_price?s.discounted_price.toString():"",prescription_required:s.prescription_required||!1,manufacturer_name:s.manufacturer_name||"",medicine_type:s.medicine_type||"",category:s.category||"",pack_size_label:s.pack_size_label||"",stock_quantity:s.stock_quantity?.toString()||"",low_stock_threshold:s.low_stock_threshold?.toString()||"",justification:s.justification||"",description:s.description||"",category_ids:s.category_ids||[]}),h(s.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(b=>b.trim()):[])):i==="add"&&(c({medicine_name:"",price:"",discounted_price:"",prescription_required:!1,manufacturer_name:"",medicine_type:"",category:"",pack_size_label:"",stock_quantity:"",low_stock_threshold:"",justification:"",description:"",category_ids:[]}),h([]),m([]))},[s,i]);const g=b=>{b.preventDefault();const N=new FormData;Object.entries(o).forEach(([_,k])=>{_==="category_ids"?o.category_ids.forEach(A=>{N.append("category_ids",A.toString())}):_==="prescription_required"?N.append(_,k?"true":"false"):k!==""&&k!==null&&k!==void 0&&N.append(_,k.toString())}),u.forEach(_=>{N.append("images",_)}),i==="edit"&&f.length>0&&f.forEach(_=>{N.append("existing_images",_)}),t(N)},x=b=>{h(N=>N.filter((_,k)=>k!==b))},w=b=>{if(b.target.files){const N=Array.from(b.target.files);m(_=>[..._,...N])}},y=b=>{m(N=>N.filter((_,k)=>k!==b))};return n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Name *"}),n.jsx("input",{type:"text",required:!0,value:o.medicine_name,onChange:b=>c({...o,medicine_name:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),n.jsx("input",{type:"number",step:"0.01",required:!0,value:o.price,onChange:b=>c({...o,price:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discounted Price (Optional)"}),n.jsx("input",{type:"number",step:"0.01",value:o.discounted_price,onChange:b=>c({...o,discounted_price:b.target.value}),placeholder:"Leave empty if no discount",className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marketed By"}),n.jsx("input",{type:"text",value:o.manufacturer_name,onChange:b=>c({...o,manufacturer_name:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Type *"}),n.jsxs("select",{value:o.medicine_type,onChange:b=>c({...o,medicine_type:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"Generic",children:"Generic"}),n.jsx("option",{value:"Branded",children:"Branded"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select whether this is a Generic or Branded medicine"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item Group"}),n.jsx("input",{type:"text",value:o.category,onChange:b=>c({...o,category:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pack Size Label"}),n.jsx("input",{type:"text",value:o.pack_size_label,onChange:b=>c({...o,pack_size_label:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock Quantity"}),n.jsx("input",{type:"number",value:o.stock_quantity,onChange:b=>c({...o,stock_quantity:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Low Stock Threshold"}),n.jsx("input",{type:"number",value:o.low_stock_threshold,onChange:b=>c({...o,low_stock_threshold:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Justification (Active Ingredient & Class)"}),n.jsx("textarea",{value:o.justification,onChange:b=>c({...o,justification:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{value:o.description,onChange:b=>c({...o,description:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Picture"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),f.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Existing Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((b,N)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b.trim(),alt:`Existing ${N+1}`,className:"w-20 h-20 object-cover rounded border",onError:_=>{_.target.style.display="none"}}),n.jsx("button",{type:"button",onClick:()=>x(N),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`existing-${N}`))})]}),u.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"New Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((b,N)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(b),alt:`Preview ${N+1}`,className:"w-20 h-20 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:()=>y(N),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`new-${N}`))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categories"}),n.jsx("select",{multiple:!0,value:o.category_ids.map(String),onChange:b=>{const N=Array.from(b.target.selectedOptions,_=>Number(_.value));c({...o,category_ids:N})},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(e.length,5),children:e.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o.prescription_required,onChange:b=>c({...o,prescription_required:b.target.checked}),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Prescription Required or Not"})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(Be,{type:"button",onClick:r,variant:"outline",className:"flex-1 border-gray-300 bg-white text-gray-800 hover:bg-gray-100 hover:text-gray-900",disabled:a,children:"Cancel"}),n.jsx(Be,{type:"submit",className:"flex-1",disabled:a,children:a?i==="edit"?"Updating...":"Adding...":i==="edit"?"Update Inventory":"Add Inventory"})]})]})},fh=e=>{if(!e)return"N/A";try{const[t,r]=e.split(":"),a=parseInt(t,10),s=parseInt(r,10),i=a===0?12:a>12?a-12:a,o=a>=12?"PM":"AM",c=s.toString().padStart(2,"0");return`${i}:${c} ${o}`}catch{return e}},jde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(1),[c,u]=v.useState(null),[m,f]=v.useState(!1),[h,g]=v.useState(null),[x,w]=v.useState({status:"",notes:""}),[y,b]=v.useState(!1),[N,_]=v.useState(1),[k,A]=v.useState({}),[T,I]=v.useState({}),[O,D]=v.useState(!1),[P,M]=v.useState(null),[V,U]=v.useState({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0}),[J,W]=v.useState({status:"",payment_status:"",priority:"",date_from:"",date_to:"",city:"",assigned_provider:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),[he,X]=v.useState(!1),[be,ne]=v.useState(!1),[ve,me]=v.useState(null),[ae,C]=v.useState([]),[B,H]=v.useState(!1),[K,te]=v.useState(null),[ye,Se]=v.useState(!1),L=10,G=ke;v.useEffect(()=>{je()},[i,J]);const ge=se=>{const Y=[se.total_amount,se.payment_amount,se.service_price_discounted,se.service_price_original,se.amount,se.price,se.subcategory?.price,se.subcategory?.amount,se.service?.price_discounted,se.service?.price_original,se.service?.price];for(const Te of Y)if(!(Te==null||Te===""||Te==="0"||Te===0)){if(typeof Te=="number"){if(Number.isFinite(Te))return Te}else if(typeof Te=="string"){const Ie=parseFloat(Te.replace(/[,\s]/g,""));if(!isNaN(Ie))return Ie}}return 0},le=se=>se.assigned_provider_name||se.assigned_provider||se.provider?.full_name||se.provider?.name||(se.provider_id?`Provider #${se.provider_id}`:null),Re=se=>se.service_title||se.service?.service_name||se.service?.title||se.service_name||se.subcategory?.service_name||se.subcategory?.name||se.category?.name||"Unknown Service",De=async se=>{const Y=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(Y){I(Te=>({...Te,[se]:!0}));try{const Te=await fetch(`${G}/admin/booking/session-history/${se}`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(Te.ok){const Ie=await Te.json();A(mt=>({...mt,[se]:Ie.sessions||[]}))}}catch(Te){console.error("Failed to load session history:",Te),e("Failed to load session history","error")}finally{I(Te=>({...Te,[se]:!1}))}}},Ce=async se=>{const Y=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(Y)try{if((await fetch(`${G}/admin/booking/approve-completion/${se}`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({admin_username:"Admin"})})).ok)e("Booking completion approved","success"),await je();else throw new Error("Failed to approve")}catch{e("Failed to approve completion","error")}},Ae=async(se,Y)=>{const Te=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(Te)try{if((await fetch(`${G}/admin/booking/reject-completion/${se}`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({rejection_reason:Y,admin_username:"Admin"})})).ok)e("Booking completion rejected","success"),await je();else throw new Error("Failed to reject")}catch{e("Failed to reject completion","error")}},je=async()=>{const se=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!se){e("Please login to view bookings","error"),s(!1);return}try{s(!0);const Y=new URLSearchParams;Y.append("page",i.toString()),Y.append("limit",L.toString()),Object.entries(J).forEach(([Et,Ye])=>{Ye&&Y.append(Et,Ye.toString())});const Te=await fetch(`${G}/admin/appointments?${Y.toString()}`,{headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"}});if(!Te.ok){if(Te.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${Te.status}`)}const Ie=await Te.json(),mt=Ie.data||Ie.bookings||[];if(Array.isArray(mt)){const Et=mt.map(Ye=>({id:Ye.id,booking_date:Ye.preferred_date||Ye.booking_date,booking_time:Ye.preferred_time||Ye.booking_time,status:Ye.status,payment_status:Ye.payment_status||"pending",priority:Ye.priority||"normal",total_amount:ge(Ye),service_address:Ye.service_address||Ye.address||"N/A",pincode:Ye.pincode||"N/A",city:Ye.city||"N/A",contact_person:Ye.contact_person||Ye.user?.name||"N/A",contact_phone:Ye.contact_phone||Ye.user?.phone||"N/A",created_at:Ye.created_at||"",updated_at:Ye.updated_at||"",assigned_provider:le(Ye),user_name:Ye.user?.name||`User #${Ye.user_id||"N/A"}`,provider_name:Ye.provider?.name||`Provider #${Ye.provider_id||"N/A"}`,service_name:Re(Ye),service_description:Ye.service?.description||Ye.subcategory?.description||Ye.description||"",category_id:Ye.category_id||Ye.service?.category_id||Ye.subcategory?.category_id,subcategory_id:Ye.subcategory_id||Ye.service?.subcategory_id,is_overdue:Ye.is_overdue||!1,admin_notes:Ye.admin_notes,cancellation_reason:Ye.cancellation_reason,refund_amount:Ye.refund_amount,user_id:Ye.user_id,provider_id:Ye.provider_id,slot_type:Ye.slot_type,total_sessions:Ye.total_sessions,completed_sessions:Ye.completed_sessions,admin_approval_status:Ye.admin_approval_status,admin_rejection_reason:Ye.admin_rejection_reason}));if(r(Et),Ie.pagination){const Ye=Ie.pagination.total||Et.length,Cr=Ie.pagination.page_size||L;_(Math.ceil(Ye/Cr))}else _(1)}else console.error("Failed to fetch bookings: Invalid response format"),e("Failed to fetch bookings: Invalid response format","error"),r([]),_(1)}catch(Y){console.error("Error fetching bookings:",Y);const Te=Y instanceof Error?Y.message:"Failed to fetch bookings";e(Te,"error"),r([]),_(1)}finally{s(!1)}},it=(se,Y)=>{u(c===se.id?null:se.id)},Xe=async se=>{if(se.preventDefault(),!!h){b(!0);try{let Y="",Te={};switch(x.status){case"confirm":Y=`${G}/admin/bookings/${h.id}/status`,Te={status:"confirmed",notes:x.notes,reason:"Admin confirmed booking"};break;case"cancel":Y=`${G}/admin/bookings/${h.id}/cancel`,Te={reason:x.reason||"Cancelled by admin",refund_amount:x.refund_amount||0,notes:x.notes};break;case"assign":Y=`${G}/admin/bookings/${h.id}/assign`,Te={provider_id:x.provider_id,notes:x.notes};break;case"start":Y=`${G}/admin/bookings/${h.id}/status`,Te={status:"in_progress",notes:x.notes,reason:"Admin started the service"};break;case"complete":Y=`${G}/admin/bookings/${h.id}/status`,Te={status:"completed",notes:x.notes,reason:"Admin marked as completed"};break;default:throw new Error(`Unknown action: ${x.status}`)}const mt=await(await fetch(Y,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")}`,"Content-Type":"application/json"},body:JSON.stringify(Te)})).json();if(mt.success){const Et=mt.message||`Booking ${x.status}ed successfully`;e(Et,"success"),f(!1),je()}else e(mt.message||`Failed to ${x.status} booking`,"error")}catch(Y){console.error("Error processing booking:",Y),e("Error processing booking","error")}finally{b(!1)}}},gt=se=>{switch(se){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"confirmed":case"accepted":return"bg-primary/10 text-primary-dark";case"in_progress":return"bg-purple-100 text-purple-700";case"cancelled":return"bg-red-100 text-red-700";case"awaiting_payment":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},at=se=>{switch(se){case"paid":return"bg-green-100 text-green-700";case"refunded":return"bg-primary/10 text-primary-dark";case"pending":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},vt=se=>{switch(se){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"normal":return"bg-primary/10 text-primary-dark";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},St=se=>{["id","date","status","actions"].includes(se)||U(Y=>({...Y,[se]:!Y[se]}))},yt=()=>{U({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0})},wr=async se=>{me(se),ne(!0),H(!0),C([]),te(null);try{const Y=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!Y){e("Please login to assign provider","error");return}const Te=await fetch(`${G}/admin/bookings/${se.id}/available-providers`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(!Te.ok)throw new Error(`Failed to fetch providers: ${Te.status}`);const Ie=await Te.json();C(Ie.providers||[])}catch(Y){console.error("Error fetching available providers:",Y),e("Failed to fetch available providers","error")}finally{H(!1)}},wt=async()=>{if(!ve||!K){e("Please select a provider","error");return}Se(!0);try{const se=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!se){e("Please login to assign provider","error");return}const Y=await fetch(`${G}/admin/bookings/${ve.id}/assign-provider`,{method:"PUT",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:K,admin_name:"Admin"})}),Te=await Y.json();if(Y.ok)e("Provider assigned successfully","success"),ne(!1),me(null),te(null),je();else throw new Error(Te.message||Te.error?.message||"Failed to assign provider")}catch(se){console.error("Error assigning provider:",se);const Y=se instanceof Error?se.message:"Failed to assign provider";e(Y,"error")}finally{Se(!1)}};return n.jsxs("div",{children:[a?n.jsx(Uu,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-end mb-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(Be,{onClick:()=>X(!he),variant:"outline",className:"flex items-center space-x-1",children:[n.jsx($y,{size:14}),n.jsx("span",{children:"Columns"})]}),n.jsxs(Be,{onClick:je,className:"flex items-center space-x-1",children:[n.jsx(Yn,{size:14}),n.jsx("span",{children:"Refresh"})]})]})}),he&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Column Visibility"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:yt,variant:"outline",size:"sm",className:"text-xs",children:"Reset All"}),n.jsx(Be,{onClick:()=>X(!1),variant:"ghost",size:"sm",className:"text-xs",children:n.jsx(Rt,{size:14})})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(V).map(([se,Y])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Y,onChange:()=>St(se),disabled:["id","date","status","actions"].includes(se),className:"rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-50"}),n.jsx("span",{className:`text-sm ${["id","date","status","actions"].includes(se)?"text-gray-500":"text-gray-700"}`,children:se.charAt(0).toUpperCase()+se.slice(1).replace("_"," ")})]},se))})]}),n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"w-10 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),V.id&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),V.date&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),V.service&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),V.parties&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),V.location&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),V.amount&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),V.status&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),V.payment&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),V.priority&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),V.assigned&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),V.actions&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(se=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>it(se),className:"p-1 hover:bg-gray-100 rounded",children:c===se.id?n.jsx(Zs,{size:16,className:"text-gray-500"}):n.jsx(Ha,{size:16,className:"text-gray-500"})})}),V.id&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",se.id]}),se.is_overdue&&n.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[n.jsx(Qr,{size:12,className:"mr-1"}),"Overdue"]})]}),V.date&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:se.booking_date?new Date(se.booking_date).toLocaleDateString():"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:se.booking_time?fh(se.booking_time):"N/A"})]}),V.service&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:se.service_name})}),V.parties&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",se.user_name]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",se.provider_name]})]}),V.location&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:se.service_address}),n.jsxs("div",{className:"text-sm text-gray-500",children:[se.city," - ",se.pincode]})]}),V.amount&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["",se.total_amount.toFixed(2)]})}),V.status&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${gt(se.status)}`,children:se.status.split("_").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")})}),V.payment&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${at(se.payment_status)}`,children:se.payment_status.charAt(0).toUpperCase()+se.payment_status.slice(1)})}),V.priority&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${vt(se.priority)}`,children:se.priority.charAt(0).toUpperCase()+se.priority.slice(1)})}),V.assigned&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:se.assigned_provider||"Unassigned"})}),V.actions&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:()=>it(se),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:n.jsx(ya,{size:16})}),se.slot_type&&se.total_sessions&&n.jsx(Be,{onClick:()=>{M(se),D(!0)},variant:"ghost",size:"sm",className:"text-primary hover:text-blue-900",title:"View Report",children:n.jsx($y,{size:16})})]})})]}),c===se.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(V).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary",children:n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),n.jsxs("span",{className:"font-medium",children:["#",se.id]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${gt(se.status)}`,children:se.status.split("_").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${at(se.payment_status)}`,children:se.payment_status.charAt(0).toUpperCase()+se.payment_status.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Priority:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${vt(se.priority)}`,children:se.priority.charAt(0).toUpperCase()+se.priority.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["",se.total_amount.toFixed(2)]})]}),se.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shift Pattern:"}),n.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:[se.slot_type,se.slot_type==="MWF"&&" (Mon, Wed, Fri)",se.slot_type==="TTS"&&" (Tue, Thu, Sat)"]})]}),se.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[se.completed_sessions||0," / ",se.total_sessions]})]})]})]}),n.jsxs("div",{className:"space-y-4 md:col-span-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Service Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium",children:se.service_name})]}),se.service_description&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("span",{className:"text-gray-600 block mb-2",children:"Description:"}),n.jsx("div",{className:"text-sm text-gray-700 border border-gray-200 rounded p-3 bg-gray-50 service-description-html",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:se.service_description}})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"User:"}),n.jsx("span",{className:"font-medium",children:se.user_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Provider:"}),n.jsx("span",{className:"font-medium",children:se.provider_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assigned To:"}),n.jsx("span",{className:"font-medium",children:se.assigned_provider||"Unassigned"})]}),(!se.provider_id||se.status==="awaiting_assignment")&&n.jsx("div",{className:"mt-4",children:n.jsx(Be,{onClick:()=>wr(se),className:"bg-primary hover:bg-primary-dark text-white",size:"sm",children:"Assign Provider"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Location & Contact"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Address:"}),n.jsx("span",{className:"font-medium",children:se.service_address})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"City:"}),n.jsx("span",{className:"font-medium",children:se.city})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Pincode:"}),n.jsx("span",{className:"font-medium",children:se.pincode})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Person:"}),n.jsx("span",{className:"font-medium",children:se.contact_person})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),n.jsx("span",{className:"font-medium",children:se.contact_phone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Date & Time"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Date:"}),n.jsx("span",{className:"font-medium",children:se.booking_date?new Date(se.booking_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Time:"}),n.jsx("span",{className:"font-medium",children:se.booking_time?fh(se.booking_time):"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:se.created_at?new Date(se.created_at).toLocaleString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),n.jsx("span",{className:"font-medium",children:se.updated_at?new Date(se.updated_at).toLocaleString():"N/A"})]})]})]}),(se.slot_type||se.total_sessions)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Session Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[se.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Slot Type:"}),n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:se.slot_type})]}),se.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[se.completed_sessions||0," / ",se.total_sessions," completed"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Be,{onClick:()=>{M(se),D(!0),k[se.id]||De(se.id)},variant:"outline",size:"sm",className:"w-full",children:T[se.id]?"Loading...":"View Session History"})})]})]}),se.status==="pending_admin_approval"&&n.jsxs("div",{className:"space-y-4 col-span-full",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-900 border-b border-yellow-300 pb-2 bg-yellow-50 p-2 rounded",children:" Pending Admin Approval"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(Be,{onClick:()=>Ce(se.id),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:"Approve Completion"}),n.jsx(Be,{onClick:()=>{const Y=prompt("Please provide rejection reason:");Y&&Y.trim()&&Ae(se.id,Y.trim())},variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",size:"sm",children:"Reject Completion"})]}),se.admin_rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[n.jsx("strong",{children:"Previous Rejection:"})," ",se.admin_rejection_reason]})]}),(se.admin_notes||se.cancellation_reason||se.refund_amount)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Additional Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[se.admin_notes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Admin Notes:"}),n.jsx("span",{className:"font-medium",children:se.admin_notes})]}),se.cancellation_reason&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Cancellation Reason:"}),n.jsx("span",{className:"font-medium text-red-600",children:se.cancellation_reason})]}),se.refund_amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),n.jsxs("span",{className:"font-medium text-primary",children:["",se.refund_amount.toFixed(2)]})]})]})]})]})})})})]},se.id))})]})}),N>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",i," of ",N]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:()=>o(se=>Math.max(se-1,1)),disabled:i===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Yc,{size:16})}),n.jsx(Be,{onClick:()=>o(se=>Math.min(se+1,N)),disabled:i===N,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]})]}),m&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[x.status==="confirm"?"Confirm":x.status==="cancel"?"Cancel":x.status==="assign"?"Assign Provider":x.status==="start"?"Start Service":x.status==="complete"?"Complete":"View"," Booking"]}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Service:"})," ",h.service_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",new Date(h.booking_date).toLocaleDateString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Time:"})," ",fh(h.booking_time)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," ",h.total_amount.toFixed(2)]})]})]}),x.status==="confirm"&&n.jsx("div",{className:"bg-blue-50 border border-primary/20 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(ns,{className:"h-5 w-5 text-blue-400"})}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"text-sm text-primary-dark",children:[n.jsx("strong",{children:"Provider Assignment:"})," This booking already has a provider assigned. Confirmation will approve the booking for service."]})})]})}),x.status==="assign"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider ID *"}),n.jsx("input",{type:"number",required:!0,value:x.provider_id,onChange:se=>w({...x,provider_id:parseInt(se.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter provider ID"})]}),x.status==="cancel"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsx("input",{type:"text",required:!0,value:x.reason,onChange:se=>w({...x,reason:se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter cancellation reason"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount"}),n.jsx("input",{type:"number",value:x.refund_amount,onChange:se=>w({...x,refund_amount:parseFloat(se.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter refund amount"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{required:!0,value:x.notes,onChange:se=>w({...x,notes:se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${x.status}...`})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(Be,{type:"button",onClick:()=>f(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(Be,{type:"submit",disabled:y,className:`${x.status==="confirm"?"bg-primary hover:bg-primary-dark":x.status==="cancel"?"bg-red-600 hover:bg-red-700":x.status==="assign"?"bg-green-600 hover:bg-green-700":(x.status==="start","bg-primary hover:bg-primary-dark")} text-white`,children:y?"Processing...":x.status==="confirm"?"Confirm":x.status==="cancel"?"Cancel":x.status==="assign"?"Assign":x.status==="start"?"Start":x.status==="complete"?"Complete":"Submit"})]})]})]})}),O&&P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Session History - Booking #",P.id]}),n.jsx("button",{onClick:()=>{D(!1),M(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),T[P.id]?n.jsx("div",{className:"text-center py-8",children:"Loading sessions..."}):k[P.id]?.length>0?n.jsx("div",{className:"space-y-4",children:k[P.id].map(se=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium",children:["Session ",se.session_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(se.session_date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${se.status==="session_completed"?"bg-green-100 text-green-800":se.status==="session_started"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:se.status.replace("_"," ").replace(/\b\w/g,Y=>Y.toUpperCase())})]}),se.reached_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Reached: ",new Date(se.reached_at).toLocaleString()]}),se.started_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",new Date(se.started_at).toLocaleTimeString()]}),se.ended_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",new Date(se.ended_at).toLocaleTimeString()]}),se.picture_proof_url&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Proof:"}),n.jsx("img",{src:se.picture_proof_url,alt:`Session ${se.session_number} proof`,className:"max-w-xs rounded border border-gray-200 cursor-pointer hover:opacity-80",onClick:()=>window.open(se.picture_proof_url,"_blank")})]})]},se.id))}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sessions found"})]})}),be&&ve&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Assign Provider to Booking #",ve.id]}),n.jsx("button",{onClick:()=>{ne(!1),me(null),C([]),te(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium ml-2",children:ve.service_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Customer:"}),n.jsx("span",{className:"font-medium ml-2",children:ve.user_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsxs("span",{className:"font-medium ml-2",children:[ve.city,", ",ve.pincode]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsxs("span",{className:"font-medium ml-2",children:[ve.booking_date?new Date(ve.booking_date).toLocaleDateString():"N/A"," ",ve.booking_time?fh(ve.booking_time):""]})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Available Providers (Filtered by Service & Location)"}),B?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Uu,{})}):ae.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No available providers found for this service."}),n.jsx("p",{className:"text-sm mt-2",children:"Please check if there are approved providers who offer this service."})]}):n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ae.map(se=>n.jsx("div",{onClick:()=>te(se.id),className:`p-4 border rounded-lg cursor-pointer transition-colors ${K===se.id?"border-primary bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h5",{className:"font-semibold text-gray-900",children:se.full_name}),K===se.id&&n.jsx(ns,{size:16,className:"text-primary"})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",se.phone_number]}),se.email&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",se.email]}),se.city&&se.state&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",se.city,", ",se.state]}),se.average_rating&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Rating:"}),"  ",se.average_rating.toFixed(1)]}),se.completed_bookings!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Completed:"})," ",se.completed_bookings," bookings"]})]})]})})},se.id))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(Be,{type:"button",onClick:()=>{ne(!1),me(null),C([]),te(null)},className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(Be,{type:"button",onClick:wt,disabled:!K||ye||B,className:"bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",children:ye?"Assigning...":"Assign Provider"})]})]})})]})},_de=()=>n.jsx(Yt,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),n.jsx("p",{className:"text-gray-600",children:"Manage and monitor all bookings in the system"})]}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"All Bookings"})}),n.jsx(tt,{children:n.jsx(jde,{})})]})]})}),Nde=({invoice:e,onClose:t})=>{if(!e)return null;const r=e.order||{},a=e.items||[],s=e.invoice_number||`INV-${r.id||"0000"}-${new Date().toISOString().split("T")[0].replace(/-/g,"")}`,i=parseFloat(r.subtotal||0),o=parseFloat(r.discount||0),c=parseFloat(r.delivery_charges||0),u=parseFloat(r.total_amount||0),m=.18,f=i-o,h=(f*(m/2)).toFixed(2),g=(f*(m/2)).toFixed(2),x=b=>b?new Date(b).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",w=b=>b?new Date(b).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",y=()=>{window.print()};return n.jsx("div",{className:"invoice-overlay",onClick:t,children:n.jsx("div",{className:"invoice-modal",onClick:b=>b.stopPropagation(),children:n.jsxs("div",{className:"invoice-container",children:[n.jsxs("div",{className:"invoice-header",children:[n.jsxs("div",{className:"invoice-company-info",children:[n.jsx("div",{className:"invoice-logo",children:n.jsx("img",{src:"/KwikMedi-logo.png",alt:"KwikMedi Logo",onError:b=>{b.target.style.display="none"}})}),n.jsxs("div",{className:"invoice-company-details",children:[n.jsx("h1",{className:"invoice-company-name",children:"KwikMedi"}),n.jsxs("p",{className:"invoice-company-address",children:["Your Health Partner",n.jsx("br",{}),"India"]}),n.jsxs("p",{className:"invoice-company-contact",children:["Email: support@kwikmedi.com",n.jsx("br",{}),"Phone: +91-XXXXXXXXXX"]})]})]}),n.jsxs("div",{className:"invoice-title-section",children:[n.jsx("h2",{className:"invoice-title",children:"TAX INVOICE"}),n.jsxs("div",{className:"invoice-meta",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Invoice No:"})," ",s]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",x(r.created_at)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order ID:"})," #",r.id]})]})]})]}),n.jsxs("div",{className:"invoice-address-section",children:[n.jsxs("div",{className:"invoice-address-box",children:[n.jsx("h3",{className:"invoice-address-title",children:"Bill To:"}),n.jsx("p",{className:"invoice-address-name",children:r.user_name||r.full_name||"N/A"}),n.jsxs("p",{className:"invoice-address-text",children:[r.user_phone||r.phone||"",n.jsx("br",{}),r.user_email||r.email||""]})]}),n.jsxs("div",{className:"invoice-address-box",children:[n.jsx("h3",{className:"invoice-address-title",children:"Ship To:"}),n.jsx("p",{className:"invoice-address-name",children:r.user_name||r.full_name||"N/A"}),n.jsxs("p",{className:"invoice-address-text",children:[r.delivery_address||"N/A",n.jsx("br",{}),[r.delivery_city,r.delivery_state,r.delivery_pincode].filter(Boolean).join(", ")]})]})]}),n.jsx("div",{className:"invoice-items-section",children:n.jsxs("table",{className:"invoice-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"invoice-table-sno",children:"S.No"}),n.jsx("th",{className:"invoice-table-item",children:"Item Description"}),n.jsx("th",{className:"invoice-table-qty",children:"Qty"}),n.jsx("th",{className:"invoice-table-price",children:"Unit Price"}),n.jsx("th",{className:"invoice-table-amount",children:"Amount ()"})]})}),n.jsxs("tbody",{children:[a.map((b,N)=>n.jsxs("tr",{children:[n.jsx("td",{children:N+1}),n.jsxs("td",{className:"invoice-table-item-cell",children:[n.jsx("strong",{children:b.medicine_name||"Medicine"}),b.dosage&&n.jsxs("div",{className:"invoice-item-details",children:["Dosage: ",b.dosage]}),b.days&&n.jsxs("div",{className:"invoice-item-details",children:["Days: ",b.days]})]}),n.jsx("td",{children:b.quantity||0}),n.jsxs("td",{children:["",parseFloat(b.price||0).toFixed(2)]}),n.jsxs("td",{children:["",((b.price||0)*(b.quantity||0)).toFixed(2)]})]},b.id||N)),a.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"No items found"})})]})]})}),n.jsx("div",{className:"invoice-totals-section",children:n.jsxs("div",{className:"invoice-totals-box",children:[n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",i.toFixed(2)]})]}),o>0&&n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",o.toFixed(2)]})]}),n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Taxable Amount:"}),n.jsxs("span",{children:["",f.toFixed(2)]})]}),parseFloat(h)>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"CGST (9%):"}),n.jsxs("span",{children:["",h]})]}),n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"SGST (9%):"}),n.jsxs("span",{children:["",g]})]})]}),c>0&&n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Delivery Charges:"}),n.jsxs("span",{children:["",c.toFixed(2)]})]}),n.jsxs("div",{className:"invoice-total-row invoice-total-final",children:[n.jsx("span",{children:n.jsx("strong",{children:"Total Amount:"})}),n.jsx("span",{children:n.jsxs("strong",{children:["",u.toFixed(2)]})})]})]})}),n.jsx("div",{className:"invoice-payment-section",children:n.jsxs("div",{className:"invoice-payment-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Method:"})," ",r.payment_method==="cod"?"Cash on Delivery":"Online Payment"]}),r.payment_method==="online"&&r.payment_status&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Status:"})," ",r.payment_status]}),r.created_at&&n.jsxs("p",{children:[n.jsx("strong",{children:"Order Date:"})," ",w(r.created_at)]})]})}),n.jsxs("div",{className:"invoice-footer",children:[n.jsx("p",{className:"invoice-footer-note",children:"This is a computer-generated invoice and does not require a signature."}),n.jsx("p",{className:"invoice-footer-thanks",children:"Thank you for your business!"}),n.jsx("p",{className:"invoice-footer-support",children:"For any queries, please contact us at support@kwikmedi.com"})]}),n.jsxs("div",{className:"invoice-actions",children:[n.jsx("button",{onClick:y,className:"invoice-btn-print",children:"Print Invoice"}),n.jsx("button",{onClick:t,className:"invoice-btn-close",children:"Close"})]})]})})})},Sde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(1),[c,u]=v.useState(null),[m,f]=v.useState(1),[h,g]=v.useState(0),[x,w]=v.useState({id:!0,date:!0,user:!0,vendor:!0,medicines:!0,amount:!0,status:!0,payment:!0,actions:!0}),[y,b]=v.useState({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),[N,_]=v.useState(!1),[k,A]=v.useState(!1),[T,I]=v.useState(null),[O,D]=v.useState(!1),[P,M]=v.useState({}),[V,U]=v.useState({}),J=20,W=ke;v.useEffect(()=>{he()},[i,y]);const he=async()=>{const C=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!C){e("Please login to view orders","error"),s(!1);return}try{s(!0);const B=new URLSearchParams;B.append("page",i.toString()),B.append("limit",J.toString()),Object.entries(y).forEach(([te,ye])=>{ye&&B.append(te,ye.toString())});const H=await fetch(`${W}/admin/orders?${B.toString()}`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(!H.ok){if(H.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${H.status}`)}const K=await H.json();r(K.orders||[]),f(K.pagination?.total_pages||1),g(K.pagination?.total||0)}catch(B){console.error("Failed to fetch orders:",B),e(B.message||"Failed to fetch orders","error"),r([])}finally{s(!1)}},X=C=>{const H={placed:{label:"Placed",color:"text-primary-dark",bgColor:"bg-primary/10"},pending_vendor_response:{label:"Awaiting Vendor",color:"text-yellow-700",bgColor:"bg-yellow-100"},confirmed:{label:"Confirmed",color:"text-green-700",bgColor:"bg-green-100"},packed:{label:"Packed",color:"text-purple-700",bgColor:"bg-purple-100"},out_for_delivery:{label:"Out for Delivery",color:"text-indigo-700",bgColor:"bg-indigo-100"},delivered:{label:"Delivered",color:"text-green-700",bgColor:"bg-green-100"},rejected:{label:"Rejected",color:"text-red-700",bgColor:"bg-red-100"},cancelled:{label:"Cancelled",color:"text-gray-700",bgColor:"bg-gray-100"},no_vendor_available:{label:"No Vendor",color:"text-orange-700",bgColor:"bg-orange-100"}}[C]||{label:C,color:"text-gray-700",bgColor:"bg-gray-100"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.color} ${H.bgColor}`,children:H.label})},be=C=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C==="online"?"text-green-700 bg-green-100":"text-primary-dark bg-primary/10"}`,children:C==="online"?"Online":"COD"}),ne=C=>C?new Date(C).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ve=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C),me=C=>{u(c===C?null:C)},ae=async C=>{D(!0),A(!1),I(null);try{const B=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!B){e("Please login to view invoice","error");return}const H=await fetch(`${W}/admin/orders/${C}/invoice`,{method:"GET",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}}),K=await H.json();H.ok&&K.invoice?(I(K.invoice),A(!0)):e(K.error?.message||"Failed to load invoice","error")}catch(B){console.error("Error fetching invoice:",B),e("Failed to load invoice","error")}finally{D(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor all medicine orders and vendor assignments"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>_(!N),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx($y,{size:16}),"Columns"]}),n.jsxs("button",{onClick:he,disabled:a,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Yn,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:y.status,onChange:C=>b({...y,status:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"placed",children:"Placed"}),n.jsx("option",{value:"pending_vendor_response",children:"Awaiting Vendor"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"packed",children:"Packed"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:y.date_from,onChange:C=>b({...y,date_from:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:y.date_to,onChange:C=>b({...y,date_to:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>b({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Clear Filters"})})]})}),a?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(Uu,{})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx(Zn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No orders found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:Object.values(y).some(C=>C)?"Try adjusting your filters":"Orders will appear here once users place them"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[x.id&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),x.date&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),x.user&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),x.vendor&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),x.medicines&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicines"}),x.amount&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),x.status&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.payment&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),x.actions&&n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(C=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50",children:[x.id&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",C.id]}),x.date&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne(C.created_at)}),x.user&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:C.user_name||`User #${C.user_id}`}),n.jsx("div",{className:"text-gray-500",children:C.user_phone})]})}),x.vendor&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.provider_name?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:C.provider_name}),n.jsx("div",{className:"text-gray-500",children:C.provider_phone})]}):n.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})}),x.medicines&&n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsxs("div",{className:"max-w-xs",children:[C.items.length," item",C.items.length!==1?"s":"",C.items.length>0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[C.items[0].medicine_name,C.items.length>1&&` +${C.items.length-1} more`]})]})}),x.amount&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:ve(C.total_amount)}),C.discount>0&&n.jsxs("div",{className:"text-xs text-green-600",children:["-",ve(C.discount)]})]}),x.status&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X(C.status)}),x.payment&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(C.payment_method)}),x.actions&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("button",{onClick:()=>me(C.id),className:"text-primary hover:text-primary-dark flex items-center gap-1 ml-auto",children:[n.jsx(ya,{size:16}),c===C.id?"Hide":"View",c===C.id?n.jsx(Zs,{size:16}):n.jsx(Ha,{size:16})]})})]}),c===C.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(x).filter(B=>B).length,className:"px-6 py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Order ID"}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",C.id]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Status"}),n.jsx("div",{children:X(C.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Payment"}),n.jsx("div",{children:be(C.payment_method)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Total Amount"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve(C.total_amount)})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Delivery Address"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[C.full_name&&n.jsx("div",{className:"font-medium",children:C.full_name}),n.jsx("div",{children:C.delivery_address}),n.jsxs("div",{children:[C.delivery_city,", ",C.delivery_state||""," - ",C.delivery_pincode]}),C.phone&&n.jsxs("div",{className:"text-gray-500 mt-1",children:["Phone: ",C.phone]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2",children:["Medicines (",C.items.length,")"]}),n.jsx("div",{className:"space-y-2",children:C.items.map(B=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.medicine_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",B.quantity,"  ",ve(B.price)]})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve(B.price*B.quantity)}),n.jsx("div",{className:"ml-4",children:X(B.status)})]},B.id))})]}),C.provider_name&&n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsx("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Assigned Vendor"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("div",{className:"font-medium",children:C.provider_name}),n.jsx("div",{children:C.provider_phone}),C.pass_on_info&&n.jsxs("div",{className:"mt-2 text-xs text-primary",children:[C.pass_on_info.pass_on_type==="partial"?"Partially":"Fully"," passed on from another vendor"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),V[C.id]?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):P[C.id]&&P[C.id].length>0?n.jsxs("div",{className:"space-y-2",children:[P[C.id].map(B=>n.jsxs("div",{className:`p-3 rounded-lg border ${B.response_status==="accepted"?"bg-green-50 border-green-200":B.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.provider_name||B.provider_business_name||`Provider #${B.provider_id}`}),B.provider_phone&&n.jsx("div",{className:"text-xs text-gray-600",children:B.provider_phone})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.response_status==="accepted"?"bg-green-100 text-green-700":B.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:B.response_status==="accepted"?" Accepted":B.response_status==="rejected"?" Rejected":" Aborted"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[B.response_status==="accepted"&&B.response_at&&n.jsxs("div",{children:["Accepted at: ",ne(B.response_at)]}),B.response_status==="rejected"&&B.response_at&&n.jsxs("div",{children:["Rejected at: ",ne(B.response_at)]}),B.response_status==="aborted"&&n.jsx("div",{children:B.aborted_at?`Aborted at: ${ne(B.aborted_at)}`:"No response - deadline passed"}),n.jsxs("div",{className:"mt-1",children:["Notified: ",ne(B.notification_sent_at)]}),B.deadline_at&&n.jsxs("div",{children:["Deadline: ",ne(B.deadline_at)]})]})]},B.id)),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",P[C.id].length," | Accepted: ",P[C.id].filter(B=>B.response_status==="accepted").length," | Rejected: ",P[C.id].filter(B=>B.response_status==="rejected").length," | Aborted: ",P[C.id].filter(B=>B.response_status==="aborted").length]})]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),n.jsx("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:n.jsxs("button",{onClick:()=>ae(C.id),disabled:O,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Dr,{size:16}),O?"Loading...":"View Invoice"]})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),V[C.id]?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):P[C.id]&&P[C.id].length>0?n.jsxs("div",{className:"space-y-2",children:[P[C.id].map(B=>n.jsxs("div",{className:`p-3 rounded-lg border ${B.response_status==="accepted"?"bg-green-50 border-green-200":B.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.provider_name||B.provider_business_name||`Provider #${B.provider_id}`}),B.provider_phone&&n.jsx("div",{className:"text-xs text-gray-600",children:B.provider_phone})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.response_status==="accepted"?"bg-green-100 text-green-700":B.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:B.response_status==="accepted"?" Accepted":B.response_status==="rejected"?" Rejected":" Aborted"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[B.response_status==="accepted"&&B.response_at&&n.jsxs("div",{children:["Accepted at: ",ne(B.response_at)]}),B.response_status==="rejected"&&B.response_at&&n.jsxs("div",{children:["Rejected at: ",ne(B.response_at)]}),B.response_status==="aborted"&&n.jsx("div",{children:B.aborted_at?`Aborted at: ${ne(B.aborted_at)}`:"No response - deadline passed"}),n.jsxs("div",{className:"mt-1",children:["Notified: ",ne(B.notification_sent_at)]}),B.deadline_at&&n.jsxs("div",{children:["Deadline: ",ne(B.deadline_at)]})]})]},B.id)),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",P[C.id].length," | Accepted: ",P[C.id].filter(B=>B.response_status==="accepted").length," | Rejected: ",P[C.id].filter(B=>B.response_status==="rejected").length," | Aborted: ",P[C.id].filter(B=>B.response_status==="aborted").length]})]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Timeline"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{children:["Placed: ",ne(C.created_at)]}),C.confirmed_at&&n.jsxs("div",{children:["Confirmed: ",ne(C.confirmed_at)]}),C.packed_at&&n.jsxs("div",{children:["Packed: ",ne(C.packed_at)]}),C.out_for_delivery_at&&n.jsxs("div",{children:["Out for Delivery: ",ne(C.out_for_delivery_at)]}),C.delivered_at&&n.jsxs("div",{className:"text-green-600 font-medium",children:["Delivered: ",ne(C.delivered_at)]})]})]})]})})})]},C.id))})]})})}),m>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",i," of ",m," (",h," total orders)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>o(C=>Math.max(1,C-1)),disabled:i===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[n.jsx(Yc,{size:16}),"Previous"]}),n.jsxs("button",{onClick:()=>o(C=>Math.min(m,C+1)),disabled:i===m,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",n.jsx(Bi,{size:16})]})]})]})]}),k&&T&&n.jsx(Nde,{invoice:T,onClose:()=>{A(!1),I(null)}})]})},kde=()=>n.jsx(Yt,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and track all medicine orders from users"})]}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"All Orders"})}),n.jsx(tt,{children:n.jsx(Sde,{})})]})]})}),Ede=[{id:1,booking_id:101,complaint_type:"service_quality",description:"The groomer was late and didn't follow the instructions I provided for my dog's haircut.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-15T10:00:00Z",resolved_at:null,user_name:"Sarah Johnson",user_email:"sarah.johnson@example.com",user_phone:"+91 98765 43210",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Grooming",booking_date:"2025-01-14",booking_time:"14:00"},{id:2,booking_id:102,complaint_type:"provider_behavior",description:"The trainer was rude and unprofessional during the training session.",priority:"medium",status:"in_progress",admin_notes:"Contacted provider for their side of the story",created_at:"2025-01-14T15:30:00Z",resolved_at:null,user_name:"Michael Chen",user_email:"michael.chen@example.com",user_phone:"+91 98765 43211",provider_name:"Sarah Trainer",provider_email:"sarah.trainer@example.com",service_name:"Dog Training",booking_date:"2025-01-13",booking_time:"10:00"},{id:3,booking_id:103,complaint_type:"billing_dispute",description:"I was charged extra for services that were not provided.",priority:"high",status:"resolved",admin_notes:"Refund processed. Amount credited to user account.",created_at:"2025-01-12T09:20:00Z",resolved_at:"2025-01-13T11:00:00Z",user_name:"Emily Rodriguez",user_email:"emily.rodriguez@example.com",user_phone:"+91 98765 43212",provider_name:"Mike Handler",provider_email:"mike.handler@example.com",service_name:"Veterinary Care",booking_date:"2025-01-11",booking_time:"16:00"},{id:4,booking_id:104,complaint_type:"safety_concern",description:"The boarding facility didn't have proper safety measures for my pet.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-11T14:15:00Z",resolved_at:null,user_name:"David Wilson",user_email:"david.wilson@example.com",user_phone:"+91 98765 43213",provider_name:"Lisa Coach",provider_email:"lisa.coach@example.com",service_name:"Pet Boarding",booking_date:"2025-01-10",booking_time:"09:00"},{id:5,booking_id:105,complaint_type:"other",description:"General dissatisfaction with the service quality.",priority:"low",status:"closed",admin_notes:"Issue resolved after discussion with provider.",created_at:"2025-01-08T11:00:00Z",resolved_at:"2025-01-09T15:30:00Z",user_name:"Priya Sharma",user_email:"priya.sharma@example.com",user_phone:"+91 98765 43214",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Walking",booking_date:"2025-01-07",booking_time:"18:00"}],Ade={total_complaints:5,pending_complaints:2,in_progress_complaints:1,resolved_complaints:1,closed_complaints:1,high_priority_complaints:3,medium_priority_complaints:1,low_priority_complaints:1},Cde=()=>{const[e,t]=v.useState(Ede),[r,a]=v.useState(Ade),[s,i]=v.useState(!1),[o,c]=v.useState(null),[u,m]=v.useState("all"),[f,h]=v.useState("all"),[g,x]=v.useState(""),[w,y]=v.useState(!1),[b,N]=v.useState(""),[_,k]=v.useState(""),A=(P,M,V)=>{y(!0),setTimeout(()=>{t(e.map(J=>J.id===P?{...J,status:M,admin_notes:V,resolved_at:M==="resolved"||M==="closed"?new Date().toISOString():J.resolved_at}:J));const U=e.map(J=>J.id===P?{...J,status:M}:J);a({total_complaints:U.length,pending_complaints:U.filter(J=>J.status==="pending").length,in_progress_complaints:U.filter(J=>J.status==="in_progress").length,resolved_complaints:U.filter(J=>J.status==="resolved").length,closed_complaints:U.filter(J=>J.status==="closed").length,high_priority_complaints:U.filter(J=>J.priority==="high").length,medium_priority_complaints:U.filter(J=>J.priority==="medium").length,low_priority_complaints:U.filter(J=>J.priority==="low").length}),c(null),N(""),k(""),y(!1)},500)},T=P=>{switch(P){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},I=P=>{switch(P){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"in_progress":return"bg-primary/10 text-primary-dark border-primary/20";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},O=P=>({service_quality:"Service Quality Issue",provider_behavior:"Provider Behavior",billing_dispute:"Billing Dispute",safety_concern:"Safety Concern",equipment_damage:"Equipment Damage",other:"Other"})[P]||P,D=e.filter(P=>{const M=u==="all"||P.status===u,V=f==="all"||P.priority===f,U=g===""||P.user_name.toLowerCase().includes(g.toLowerCase())||P.provider_name.toLowerCase().includes(g.toLowerCase())||P.service_name.toLowerCase().includes(g.toLowerCase())||P.description.toLowerCase().includes(g.toLowerCase());return M&&V&&U});return s?n.jsx(Yt,{children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading complaints..."})]})}):n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complaint Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and resolve customer complaints"})]})}),r&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(et,{className:"border-0 shadow-lg",children:n.jsx(tt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Complaints"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.total_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Co,{size:24,className:"text-primary"})})]})})}),n.jsx(et,{className:"border-0 shadow-lg",children:n.jsx(tt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:r.pending_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:n.jsx(Qr,{size:24,className:"text-yellow-600"})})]})})}),n.jsx(et,{className:"border-0 shadow-lg",children:n.jsx(tt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-3xl font-bold text-primary",children:r.in_progress_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(db,{size:24,className:"text-primary"})})]})})}),n.jsx(et,{className:"border-0 shadow-lg",children:n.jsx(tt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.resolved_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Br,{size:24,className:"text-green-600"})})]})})})]}),n.jsx(et,{className:"border-0 shadow-lg",children:n.jsx(tt,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{size:20,className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search complaints...",value:g,onChange:P=>x(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{value:u,onChange:P=>m(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Priority"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]})]})]})})}),n.jsx("div",{className:"space-y-4",children:D.length===0?n.jsx(et,{className:"border-0 shadow-lg",children:n.jsxs(tt,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Co,{size:48,className:"text-gray-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Complaints Found"}),n.jsx("p",{className:"text-gray-600",children:g||u!=="all"||f!=="all"?"No complaints match your filter criteria.":"No complaints have been submitted yet."})]})}):D.map(P=>n.jsx(et,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:n.jsx(tt,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[n.jsxs("div",{className:"mb-4 lg:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O(P.complaint_type)}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${T(P.priority)}`,children:P.priority.toUpperCase()}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${I(P.status)}`,children:P.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-gray-600 mb-3",children:P.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ar,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:P.user_name})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx($a,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:P.user_phone})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fr,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:new Date(P.booking_date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ma,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:P.service_name})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(Be,{size:"sm",variant:"outline",onClick:()=>c(P),className:"border-primary/20 text-primary hover:bg-primary/5",children:[n.jsx(ya,{size:16,className:"mr-2"}),"View Details"]})})]})})},P.id))}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complaint Details"}),n.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx($n,{size:20,className:"text-gray-500"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complaint Type"}),n.jsx("p",{className:"text-gray-900",children:O(o.complaint_type)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Priority"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${T(o.priority)}`,children:o.priority.toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${I(o.status)}`,children:o.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.created_at).toLocaleString()})]}),o.resolved_at&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Resolved At"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.resolved_at).toLocaleString()})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-gray-50 rounded-lg",children:o.description})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Customer Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.user_phone]})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Provider Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",o.provider_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.provider_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Service:"})," ",o.service_name]})]})]})]}),o.admin_notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-yellow-50 rounded-lg",children:o.admin_notes})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Status"}),n.jsxs("select",{value:b,onChange:P=>N(P.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("textarea",{value:_,onChange:P=>k(P.target.value),placeholder:"Add notes about the resolution...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:3})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(Be,{onClick:()=>c(null),variant:"outline",className:"flex-1",children:"Cancel"}),n.jsx(Be,{onClick:()=>A(o.id,b,_),disabled:!b||w,className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary",children:w?"Updating...":"Update Status"})]})]})]})]})]})})]})})},Eo={New:{badge:"bg-primary/10 text-primary-dark border border-primary/20",dot:"bg-primary"},Contacted:{badge:"bg-yellow-100 text-yellow-700 border border-yellow-200",dot:"bg-yellow-500"},Converted:{badge:"bg-green-100 text-green-700 border border-green-200",dot:"bg-green-500"},Lost:{badge:"bg-red-100 text-red-700 border border-red-200",dot:"bg-red-500"}},Tde=e=>{let t=[];if(e.cart_items)try{typeof e.cart_items=="string"?t=JSON.parse(e.cart_items):Array.isArray(e.cart_items)&&(t=e.cart_items)}catch(r){console.error("Error parsing cart_items:",r),t=[]}return{id:e.id,userId:e.user_id||null,ownerName:e.owner_name||e.user_full_name||"",email:e.email||e.user_email||"",phone:e.phone||e.user_phone||"",petType:e.pet_type,serviceInterest:e.service_interest,location:e.location||e.user_city||"",createdAt:e.created_at,status:e.status,notes:e.notes||"",assignedTrainer:e.assigned_trainer,assigned_admin_id:e.assigned_admin_id||null,assigned_admin_name:e.assigned_admin_name||null,assigned_admin_username:e.assigned_admin_username||null,scheduled_date:e.scheduled_date||null,scheduled_time:e.scheduled_time||null,cartItems:t,cartTotal:e.cart_total?parseFloat(String(e.cart_total)):null,cartSubtotal:e.cart_subtotal?parseFloat(String(e.cart_subtotal)):null,cartDiscount:e.cart_discount?parseFloat(String(e.cart_discount)):null,cartCreatedAt:e.cart_created_at||null,cartUpdatedAt:e.cart_updated_at||null,leadSource:e.lead_source||"manual",userFullName:e.user_full_name||null,userPhone:e.user_phone||null,userEmail:e.user_email||null,userCity:e.user_city||null,userState:e.user_state||null,status_history:e.status_history||[]}},Pde=({lead:e,onClose:t,onUpdate:r,showHistory:a=!1})=>{const[s,i]=v.useState(e?.status??"New"),[o,c]=v.useState(e?.scheduled_date||""),[u,m]=v.useState(e?.scheduled_time||""),[f,h]=v.useState(!1),[g,x]=v.useState("details");if(v.useEffect(()=>{e&&(i(e.status),c(e.scheduled_date||""),m(e.scheduled_time||""))},[e]),!e)return null;const w=async()=>{h(!0);try{await r(e.id,{status:s,scheduledDate:o||null,scheduledTime:u||null}),t()}catch(b){console.error("Error updating lead:",b)}finally{h(!1)}},y=e;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] rounded-3xl bg-white shadow-2xl flex flex-col",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 z-10 rounded-full bg-secondary p-2 text-primary hover:bg-secondary/80 transition-colors",children:n.jsx(Rt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-primary px-8 py-6 text-white flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zs,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Manage status, assignment, and notes"})]})]})}),a&&n.jsx("div",{className:"px-8 pt-6 pb-4 border-b border-primary/20 flex-shrink-0",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>x("details"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${g==="details"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:"Details"}),n.jsx("button",{onClick:()=>x("history"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${g==="history"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D8,{size:16}),"Status History"]})})]})}),n.jsx("div",{className:"overflow-y-auto flex-1",children:g==="details"?n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(ar,{className:"text-primary-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-primary-900",children:e.ownerName})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Ra,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx($a,{size:16}),n.jsx("span",{children:e.phone})]}),e.userCity&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Ma,{size:16}),n.jsxs("span",{children:[e.userCity,e.userState?`, ${e.userState}`:""]})]}),e.assigned_admin_name&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Ws,{size:16}),n.jsxs("span",{children:["Assigned to: ",e.assigned_admin_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(ob,{size:16}),n.jsxs("span",{children:["Cart added ",e.cartCreatedAt?new Date(e.cartCreatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),e.cartItems&&e.cartItems.length>0&&n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Cart Items"}),n.jsx("div",{className:"space-y-2",children:e.cartItems.map((b,N)=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary-900",children:b.medicine_name||b.medicineName||"Item"}),n.jsxs("p",{className:"text-xs text-primary-400",children:["Quantity: ",b.quantity||1]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",((b.price||0)*(b.quantity||1)).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-primary-400",children:["",(b.price||0).toFixed(2)," each"]})]})]},N))}),n.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-white/90 p-3 border-t border-primary-100",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Subtotal:"}),n.jsxs("span",{className:"text-sm font-semibold text-primary-900",children:["",e.cartSubtotal?.toFixed(2)||"0.00"]})]}),e.cartDiscount&&e.cartDiscount>0&&n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Discount:"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["-",e.cartDiscount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-primary-100 p-3",children:[n.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"Total:"}),n.jsxs("span",{className:"text-lg font-bold text-primary-900",children:["",e.cartTotal?.toFixed(2)||"0.00"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500",children:"Lead Status"}),n.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost"].map(b=>n.jsxs("button",{onClick:()=>i(b),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${s===b?"border-primary-500 bg-primary-50 text-primary-700 shadow-sm":"border-primary-100 bg-white text-primary-500 hover:border-primary-200"}`,children:[n.jsx("span",{children:b}),b==="Converted"?n.jsx(ns,{size:18}):b==="Lost"?n.jsx(Co,{size:18}):n.jsx(zC,{size:18})]},b))})]}),n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Schedule"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Date"}),n.jsx("input",{type:"date",value:o,onChange:b=>c(b.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Time"}),n.jsx("input",{type:"time",value:u,onChange:b=>m(b.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]})]})]})]}):n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Status History"}),y.status_history&&y.status_history.length>0?n.jsx("div",{className:"space-y-3",children:y.status_history.map((b,N)=>n.jsx("div",{className:"rounded-xl border border-primary-100 bg-primary-50/40 p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Eo[b.status]?.badge||Eo.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Eo[b.status]?.dot||Eo.New.dot}`}),b.status]}),n.jsx("span",{className:"text-xs text-primary-600",children:new Date(b.created_at).toLocaleString()})]}),b.notes&&n.jsx("p",{className:"text-sm text-primary-700 mt-2",children:b.notes}),b.updated_by_name&&n.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["Updated by: ",b.updated_by_name]})]})})},b.id))}):n.jsx("p",{className:"text-sm text-primary-400 text-center py-8",children:"No status history available"})]})}),n.jsxs("div",{className:"px-8 pt-6 pb-8 border-t border-primary-100 bg-white flex-shrink-0",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5 mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Lead Notes"}),n.jsx("p",{className:"text-sm text-primary-900 leading-relaxed",children:e.notes||"No notes available"})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:t,disabled:f,className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:w,disabled:f,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},Ode=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(null),[i,o]=v.useState(""),[c,u]=v.useState("All"),[m,f]=v.useState(!1),[h,g]=v.useState(!1),[x,w]=v.useState(!1),[y,b]=v.useState([]),[N,_]=v.useState({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""}),[k,A]=v.useState({username:"",password:"",full_name:"",email:"",phone:""}),T=(W=!1)=>{const he=localStorage.getItem("KwikMedi_token"),X={};return he&&(X.Authorization=`Bearer ${he}`),W&&(X["Content-Type"]="application/json"),X},I=async()=>{f(!0);try{const W=c!=="All"?`?status=${c}`:"",X=await(await fetch(`${ke}/admin/leads${W}`,{headers:T()})).json();if(X.success&&Array.isArray(X.leads)){const be=X.leads.map(Tde);r(be)}else e("Failed to load leads","error")}catch(W){console.error("Error fetching leads:",W),e("Error loading leads","error")}finally{f(!1)}};v.useEffect(()=>{I()},[c]),v.useEffect(()=>{O()},[]);const O=async()=>{try{const he=await(await fetch(`${ke}/admin/lead-admins`,{headers:T()})).json();he.success&&Array.isArray(he.admins)&&b(he.admins)}catch(W){console.error("Error fetching lead admins:",W)}},D=async()=>{if(!k.username||!k.password){e("Username and password are required","error");return}try{const W=await fetch(`${ke}/admin/lead-admins`,{method:"POST",headers:T(!0),body:JSON.stringify(k)}),he=await W.json();W.ok&&he.success?(await O(),e("Lead admin created successfully","success"),A({username:"",password:"",full_name:"",email:"",phone:""})):e(he.error?.message||"Failed to create admin","error")}catch(W){console.error("Error creating admin:",W),e("Error creating admin","error")}},P=v.useMemo(()=>{const W=t.length,he=t.filter(me=>me.status==="New").length,X=t.filter(me=>me.status==="Contacted").length,be=t.filter(me=>me.status==="Converted").length;t.filter(me=>me.status==="Lost").length;const ne=W===0?0:Math.round(be/W*100),ve=t.filter(me=>me.leadSource==="cart").length;return[{label:"New Leads",value:he,icon:n.jsx(ub,{className:"text-white",size:22}),gradient:"bg-primary",subtitle:"From cart"},{label:"Contacted",value:X,icon:n.jsx(BC,{className:"text-primary-500",size:22}),gradient:"bg-yellow-500",subtitle:"In follow-up"},{label:"Converted",value:be,icon:n.jsx(ns,{className:"text-emerald-600",size:22}),gradient:"bg-green-500",subtitle:`${ne}% conversion`},{label:"Total Leads",value:W,icon:n.jsx(sb,{className:"text-primary-500",size:22}),gradient:"bg-primary",subtitle:`${ve} from cart`}]},[t]),M=t.filter(W=>{const he=W.ownerName.toLowerCase().includes(i.toLowerCase())||W.email.toLowerCase().includes(i.toLowerCase())||W.phone.toLowerCase().includes(i.toLowerCase()),X=c==="All"||W.status===c;return he&&X}),V=async(W,he)=>{try{const X={};he.status&&(X.status=he.status),he.assignedTrainer!==void 0&&(X.assigned_trainer=he.assignedTrainer),he.scheduledDate!==void 0&&(X.scheduled_date=he.scheduledDate),he.scheduledTime!==void 0&&(X.scheduled_time=he.scheduledTime);const be=await fetch(`${ke}/admin/leads/${W}`,{method:"PUT",headers:T(!0),body:JSON.stringify(X)}),ne=await be.json();if(be.ok&&ne.success)await I(),e("Lead updated successfully","success");else throw e(ne.error?.message||"Failed to update lead","error"),new Error(ne.error?.message||"Failed to update lead")}catch(X){throw console.error("Error updating lead:",X),e("Error updating lead","error"),X}},U=async()=>{try{const W=await fetch(`${ke}/admin/leads`,{method:"POST",headers:T(!0),body:JSON.stringify({owner_name:N.ownerName,email:N.email,phone:N.phone,pet_type:N.petType,service_interest:N.serviceInterest,location:N.location||null,notes:N.notes||null,status:N.status,assigned_trainer:N.assignedTrainer,scheduled_date:N.scheduledDate||null,scheduled_time:N.scheduledTime||null})}),he=await W.json();W.ok&&he.success?(await I(),e("Lead created successfully","success"),g(!1),_({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""})):e(he.error?.message||"Failed to create lead","error")}catch(W){console.error("Error creating lead:",W),e("Error creating lead","error")}},J=async W=>{if(confirm("Are you sure you want to delete this lead?"))try{const he=await fetch(`${ke}/admin/leads/${W}`,{method:"DELETE",headers:T()}),X=await he.json();he.ok&&X.success?(await I(),e("Lead deleted successfully","success")):e(X.error?.message||"Failed to delete lead","error")}catch(he){console.error("Error deleting lead:",he),e("Error deleting lead","error")}};return n.jsxs(Yt,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-primary px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-secondary/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"User Leads Dashboard"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-secondary/80",children:"Track inquiries from users, manage leads, and follow progress across the sales pipeline."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",className:"rounded-xl bg-secondary px-5 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-secondary/80 transition-colors flex items-center gap-2",onClick:()=>w(!0),children:[n.jsx(Ws,{size:16}),"Manage Admins"]}),n.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-primary-600 shadow-sm hover:bg-primary-50 transition-colors",onClick:()=>console.log("Export leads"),children:"Export Leads"}),n.jsxs("button",{type:"button",className:"rounded-xl bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 transition-colors flex items-center gap-2",onClick:()=>{},style:{display:"none"},children:[n.jsx(pa,{size:16}),"New Lead"]})]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:P.map(W=>n.jsx(et,{className:"overflow-hidden rounded-3xl border border-primary-100/60 bg-white/95 shadow-md",children:n.jsxs(tt,{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${W.gradient} shadow-sm`,children:W.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-primary-500",children:W.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-primary-900",children:W.value}),n.jsx("p",{className:"text-xs text-primary-400",children:W.subtitle})]})]})},W.label))}),n.jsx(et,{className:"rounded-3xl border border-primary-100/60 bg-white/95 shadow-lg",children:n.jsxs(tt,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-primary-100 bg-primary-50/60 px-4 py-2",children:[n.jsx(Tn,{size:18,className:"text-primary-400"}),n.jsx("input",{value:i,onChange:W=>o(W.target.value),placeholder:"Search users, email, or phone...",className:"flex-1 border-none bg-transparent text-sm text-primary-900 placeholder-orange-300 outline-none"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Contacted","Converted","Lost"].map(W=>n.jsxs("button",{onClick:()=>u(W),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${c===W?"border-primary-500 bg-primary-50 text-primary-600 shadow-sm":"border-primary-100 bg-white text-primary-400 hover:border-primary-200"}`,children:[n.jsx(W0,{size:14}),W==="All"?"All Leads":`${W} Leads`]},W))})]}),n.jsx("div",{className:"overflow-hidden rounded-2xl border border-primary-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-primary-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-primary-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:m?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-primary-400"})})})}):M.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-primary-400",children:"No leads found for the current filters."})}):M.map(W=>n.jsxs("tr",{className:"transition-colors hover:bg-primary-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(ar,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-primary-900",children:W.ownerName}),n.jsx("p",{className:"text-xs text-primary-400",children:W.email}),n.jsx("p",{className:"text-xs text-primary-400",children:W.phone})]})]})}),n.jsx("td",{className:"px-6 py-4",children:W.cartItems&&W.cartItems.length>0?n.jsxs("div",{className:"space-y-1",children:[W.cartItems.slice(0,3).map((he,X)=>n.jsxs("div",{className:"text-xs text-primary-700",children:[he.medicine_name||he.medicineName||"Item",he.quantity&&` x${he.quantity}`]},X)),W.cartItems.length>3&&n.jsxs("div",{className:"text-xs text-primary-400",children:["+",W.cartItems.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:W.cartTotal!==null&&W.cartTotal!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",W.cartTotal.toFixed(2)]}),W.cartDiscount&&W.cartDiscount>0&&n.jsxs("p",{className:"text-xs text-primary-400",children:["Discount: ",W.cartDiscount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-primary-600",children:W.cartCreatedAt?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fr,{size:14}),n.jsx("span",{children:new Date(W.cartCreatedAt).toLocaleDateString()})]}),W.cartUpdatedAt&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[n.jsx(Qr,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(W.cartUpdatedAt).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-primary-300",children:new Date(W.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Eo[W.status]?.badge||Eo.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Eo[W.status]?.dot||Eo.New.dot}`}),W.status]}),W.assigned_admin_name&&n.jsxs("div",{className:"text-xs text-primary-500",children:["Assigned to: ",W.assigned_admin_name]})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsxs("button",{onClick:()=>s(W),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(Bi,{size:14})]}),n.jsx("button",{onClick:()=>J(W.id),className:"inline-flex items-center gap-2 rounded-full border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-500 shadow-sm transition-all hover:bg-red-50",children:n.jsx(Us,{size:14})})]})})]},W.id))})]})})]})})]}),n.jsx(Pde,{lead:a,onClose:()=>s(null),onUpdate:V,showHistory:!0}),x&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:()=>w(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(Rt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ws,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Admin Management"}),n.jsx("p",{className:"text-sm text-primary-100/90",children:"Create and manage lead admin users"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Create New Lead Admin"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Username *"}),n.jsx("input",{type:"text",value:k.username,onChange:W=>A({...k,username:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Password *"}),n.jsx("input",{type:"password",value:k.password,onChange:W=>A({...k,password:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Full Name"}),n.jsx("input",{type:"text",value:k.full_name,onChange:W=>A({...k,full_name:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email"}),n.jsx("input",{type:"email",value:k.email,onChange:W=>A({...k,email:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone"}),n.jsx("input",{type:"tel",value:k.phone,onChange:W=>A({...k,phone:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsx("button",{onClick:D,disabled:!k.username||!k.password,className:"mt-4 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Admin"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Existing Lead Admins"}),n.jsx("div",{className:"space-y-2",children:y.map(W=>n.jsxs("div",{className:"rounded-xl border border-primary-100 bg-white p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-primary-900",children:W.username}),W.full_name&&n.jsx("p",{className:"text-sm text-primary-600",children:W.full_name}),W.email&&n.jsx("p",{className:"text-xs text-primary-500",children:W.email})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${W.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:W.is_active?"Active":"Inactive"})})]},W.id))})]})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:()=>g(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(Rt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pa,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Create New Lead"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Add a new user lead"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Owner Name *"}),n.jsx("input",{type:"text",value:N.ownerName,onChange:W=>_({...N,ownerName:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email *"}),n.jsx("input",{type:"email",value:N.email,onChange:W=>_({...N,email:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone *"}),n.jsx("input",{type:"tel",value:N.phone,onChange:W=>_({...N,phone:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Pet Type"}),n.jsxs("select",{value:N.petType,onChange:W=>_({...N,petType:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Dog"}),n.jsx("option",{children:"Cat"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Service Interest"}),n.jsxs("select",{value:N.serviceInterest,onChange:W=>_({...N,serviceInterest:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Vaccination"}),n.jsx("option",{children:"Healthcare"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Location"}),n.jsx("input",{type:"text",value:N.location,onChange:W=>_({...N,location:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Date"}),n.jsx("input",{type:"date",value:N.scheduledDate,onChange:W=>_({...N,scheduledDate:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Time"}),n.jsx("input",{type:"time",value:N.scheduledTime,onChange:W=>_({...N,scheduledTime:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Notes"}),n.jsx("textarea",{value:N.notes,onChange:W=>_({...N,notes:W.target.value}),rows:3,className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{onClick:()=>g(!1),className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:U,disabled:!N.ownerName||!N.email||!N.phone,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Lead"})]})]})]})})]})},Ide=()=>{const{addToast:e}=Jt(),{user:t}=gn(),[r]=d8(),a=r.get("tab")||"overview",[s,i]=v.useState(null),[o,c]=v.useState([]),[u,m]=v.useState([]),[f,h]=v.useState([]),[g,x]=v.useState([]),[w,y]=v.useState([]),[b,N]=v.useState([]),[_,k]=v.useState(!1),[A,T]=v.useState("30d"),[I,O]=v.useState(!1),[D,P]=v.useState({full_name:"",email:"",phone_number:"",password:""}),[M,V]=v.useState(null),[U,J]=v.useState(!1),[W,he]=v.useState(!1),[X,be]=v.useState(null),[ne,ve]=v.useState(null),[me,ae]=v.useState({reference_number:"",notes:""}),[C,B]=v.useState(!1),[H,K]=v.useState(!1),[te,ye]=v.useState(null),Se=t?.role==="admin",L=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});v.useEffect(()=>{a==="overview"?G():a==="settlements"?(ge(),Se&&vt()):a==="payouts"?je():a==="transactions"?Xe():a==="bookings"?wt():a==="vendors"?se():a==="staff"&&Se&&vt()},[a,A,Se]);const G=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Te=new Date;let Ie,mt=Te.toISOString().split("T")[0];switch(A){case"7d":Ie=new Date(Te.setDate(Te.getDate()-7)).toISOString().split("T")[0];break;case"30d":Ie=new Date(Te.setDate(Te.getDate()-30)).toISOString().split("T")[0];break;case"90d":Ie=new Date(Te.setDate(Te.getDate()-90)).toISOString().split("T")[0];break;case"1y":Ie=new Date(Te.setFullYear(Te.getFullYear()-1)).toISOString().split("T")[0];break;default:Ie=new Date(Te.setDate(Te.getDate()-30)).toISOString().split("T")[0]}const Et=await fetch(`${ke}/admin/finance/gmv?date_from=${Ie}&date_to=${mt}`,{headers:L()});if(Et.ok){const Ye=await Et.json();i({total_gmv:Ye.total_gmv||0,period:`${Ie} to ${mt}`})}else{const Ye=await Et.json().catch(()=>({}));console.error("GMV fetch error:",Et.status,Ye),e(`Failed to fetch GMV data: ${Ye.error?.message||Et.statusText}`,"error")}}catch(Y){console.error("GMV fetch exception:",Y),e(`Failed to fetch GMV data: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},ge=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Te=await fetch(`${ke}/admin/finance/settlements/pending`,{headers:L()});if(Te.ok){const Ie=await Te.json();console.log("Settlements data received:",Ie),console.log("Settlements array:",Ie.settlements),Ie.settlements&&Ie.settlements.length>0&&(console.log("First settlement:",Ie.settlements[0]),console.log("Allocation data:",{allocated_to_staff_id:Ie.settlements[0].allocated_to_staff_id,allocated_staff_name:Ie.settlements[0].allocated_staff_name,allocated_staff_email:Ie.settlements[0].allocated_staff_email})),c(Ie.settlements||[])}else{const Ie=await Te.json().catch(()=>({}));console.error("Settlements fetch error:",Te.status,Ie),e(`Failed to fetch settlements: ${Ie.error?.message||Te.statusText}`,"error")}}catch(Y){console.error("Settlements fetch exception:",Y),e(`Failed to fetch settlements: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},le=async Y=>{try{const Te=await fetch(`${ke}/admin/finance/settlements/vendor/${Y}/bank-details`,{headers:L()});if(Te.ok){const Ie=await Te.json();return ve(Ie),Ie}else{const Ie=await Te.json().catch(()=>({}));return e(`Failed to fetch bank details: ${Ie.error?.message||Te.statusText}`,"error"),null}}catch(Te){return console.error("Bank details fetch exception:",Te),e(`Failed to fetch bank details: ${Te instanceof Error?Te.message:"Network error"}`,"error"),null}},Re=async Y=>{be(Y),await le(Y.provider_id)&&J(!0)},De=()=>{J(!1),he(!0)},Ce=async()=>{if(X){if(!me.reference_number.trim()){e("Please enter a reference number","error");return}B(!0);try{const Y=await fetch(`${ke}/admin/finance/settlements/process`,{method:"POST",headers:L(),body:JSON.stringify({provider_id:X.provider_id,reference_number:me.reference_number.trim(),notes:me.notes.trim()||null})});if(Y.ok){const Te=await Y.json();e("Settlement processed successfully","success"),he(!1),be(null),ae({reference_number:"",notes:""}),ge()}else{const Te=await Y.json().catch(()=>({}));e(`Failed to process payment: ${Te.error?.message||Y.statusText}`,"error")}}catch(Y){console.error("Payment processing exception:",Y),e(`Failed to process payment: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{B(!1)}}},Ae=async(Y,Te)=>{if(!Y.id){e("Cannot allocate: Settlement ID missing","error");return}try{const Ie=await fetch(`${ke}/admin/finance/settlements/allocate`,{method:"POST",headers:L(),body:JSON.stringify({settlement_id:Y.id,staff_id:Te})});if(Ie.ok){const mt=await Ie.json();e(Te?"Settlement allocated successfully":"Settlement unallocated successfully","success"),ge()}else{const mt=await Ie.json().catch(()=>({}));e(`Failed to allocate settlement: ${mt.error?.message||Ie.statusText}`,"error")}}catch(Ie){console.error("Allocation exception:",Ie),e(`Failed to allocate settlement: ${Ie instanceof Error?Ie.message:"Network error"}`,"error")}},je=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Te=await fetch(`${ke}/admin/finance/payouts`,{headers:L()});if(Te.ok){const Ie=await Te.json();m(Ie.payouts||[])}else{const Ie=await Te.json().catch(()=>({}));console.error("Payouts fetch error:",Te.status,Ie),e(`Failed to fetch payouts: ${Ie.error?.message||Te.statusText}`,"error")}}catch(Y){console.error("Payouts fetch exception:",Y),e(`Failed to fetch payouts: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},it=Y=>{ye(Y),K(!0)},Xe=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Te=await fetch(`${ke}/admin/finance/transactions`,{headers:L()});if(Te.ok){const Ie=await Te.json();h(Ie.transactions||[])}else{const Ie=await Te.json().catch(()=>({}));console.error("Transactions fetch error:",Te.status,Ie),e(`Failed to fetch transactions: ${Ie.error?.message||Te.statusText}`,"error")}}catch(Y){console.error("Transactions fetch exception:",Y),e(`Failed to fetch transactions: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},gt=async()=>{ge()},at=async()=>{try{const Y=await fetch(`${ke}/admin/finance/gst-reports?period=${A}`,{headers:L()});if(Y.ok){const Te=await Y.blob(),Ie=window.URL.createObjectURL(Te),mt=document.createElement("a");mt.href=Ie,mt.download=`gst-report-${A}.pdf`,document.body.appendChild(mt),mt.click(),window.URL.revokeObjectURL(Ie),document.body.removeChild(mt),e("GST report downloaded","success")}}catch{e("Failed to download GST report","error")}},vt=async()=>{try{const Y=await fetch(`${ke}/admin/finance-staff`,{headers:L()});if(Y.ok){const Te=await Y.json();x(Te.staff||[])}}catch{e("Failed to fetch financial staff","error")}},St=async()=>{if(!D.full_name||!D.email||!D.phone_number){e("Please fill all required fields","error");return}k(!0);try{const Y=await fetch(`${ke}/admin/finance-staff`,{method:"POST",headers:L(),body:JSON.stringify(D)});if(Y.ok)e("Financial staff created successfully","success"),vt(),O(!1),P({full_name:"",email:"",phone_number:"",password:""}),V(null);else{const Te=await Y.json().catch(()=>({}));e(Te.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{k(!1)}},yt=async()=>{if(!M||!D.email){e("Please fill all fields","error");return}k(!0);try{const Y=await fetch(`${ke}/admin/finance-staff/${M.id}`,{method:"PUT",headers:L(),body:JSON.stringify({email:D.email,username:D.full_name})});if(Y.ok)e("Staff member updated successfully","success"),vt(),O(!1),P({full_name:"",email:"",phone_number:"",password:""}),V(null);else{const Te=await Y.json().catch(()=>({}));e(Te.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{k(!1)}},wr=async Y=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted from the database.")){k(!0);try{const Te=await fetch(`${ke}/admin/finance-staff/${Y}`,{method:"DELETE",headers:L()});if(Te.ok)e("Staff member removed successfully","success"),vt();else{const Ie=await Te.json().catch(()=>({}));e(Ie.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{k(!1)}}},wt=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Te=await fetch(`${ke}/admin/finance/bookings?date_range=${A}`,{headers:L()});if(Te.ok){const mt=(await Te.json()).bookings||[];y(mt),mt.length===0&&e("No bookings found","info")}else{const Ie=await Te.json().catch(()=>({}));console.error("Bookings fetch error:",Te.status,Ie),e(`Failed to fetch bookings: ${Ie.error?.message||Te.statusText}`,"error")}}catch(Y){console.error("Bookings fetch exception:",Y),e(`Failed to fetch bookings: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},se=async()=>{k(!0);try{const Y=await fetch(`${ke}/admin/providers`,{headers:L()});if(Y.ok){const Te=await Y.json(),Ie=Te.data||Te.providers||(Array.isArray(Te)?Te:[]);console.log("Vendors fetched:",Ie.length);const mt=await Promise.all(Ie.map(async Et=>{try{const Ye=await fetch(`${ke}/admin/orders?provider_id=${Et.id}&limit=1000`,{headers:L()});let Cr=0,Lr=0,gr=0;if(Ye.ok){const wa=await Ye.json(),ja=wa.orders||wa.data||[];console.log(`Provider ${Et.id}: Fetched ${ja.length} total orders`);const _a=["confirmed","packed","out_for_delivery","delivered","shipment"],Hn=ja.filter(ue=>_a.includes(ue.status));console.log(`Provider ${Et.id}: Found ${Hn.length} completed orders (statuses: ${_a.join(", ")})`),Lr=Hn.length,Hn.forEach(ue=>{const Ve=parseFloat(ue.total_amount||0);!isNaN(Ve)&&Ve>0&&(Cr+=Ve),(ue.items||[]).forEach(ur=>{const It=parseInt(ur.quantity||0);!isNaN(It)&&It>0&&(gr+=It)})})}return{...Et,total_revenue:Cr,total_orders:Lr,total_products_sold:gr}}catch(Ye){return console.error(`Error fetching sales for provider ${Et.id}:`,Ye),{...Et,total_revenue:0,total_orders:0,total_products_sold:0}}}));N(mt)}else{const Te=await Y.json().catch(()=>({}));console.error("Vendors fetch error:",Y.status,Te),e(`Failed to fetch vendors: ${Te.error?.message||Y.statusText}`,"error")}}catch(Y){console.error("Vendors fetch exception:",Y),e(`Failed to fetch vendors: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}};return n.jsxs(Yt,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage GMV, settlements, payouts, GST reports, and financial transactions."})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("select",{value:A,onChange:Y=>T(Y.target.value),className:"px-3 py-2 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"})]})})]}),_?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[a==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(et,{children:[n.jsx(_t,{children:n.jsxs(Nt,{className:"flex items-center gap-2",children:[n.jsx(Jc,{className:"text-primary",size:20}),"Total GMV"]})}),n.jsxs(tt,{children:[n.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",s?.total_gmv?.toLocaleString()||"0"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Period: ",A]})]})]}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsxs(Nt,{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"text-primary",size:20}),"Pending Settlements"]})}),n.jsxs(tt,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:o.filter(Y=>Y.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Awaiting processing"})]})]}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsxs(Nt,{className:"flex items-center gap-2",children:[n.jsx(Ai,{className:"text-primary",size:20}),"Pending Payouts"]})}),n.jsxs(tt,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:u.filter(Y=>Y.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Ready for execution"})]})]})]}),a==="settlements"&&n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[n.jsx(Nt,{children:"Settlements"}),n.jsxs("button",{onClick:gt,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsx(tt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),Se&&n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Allocated To"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:o.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:Se?6:5,className:"px-4 py-8 text-center text-gray-500",children:"No pending settlements found"})}):o.map((Y,Te)=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:Y.provider_name}),Y.orders&&Y.orders.length>0&&n.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[Y.orders.length," order(s)"]}),Y.orders.some(Ie=>Ie.order_status==="shipment")&&n.jsxs("span",{className:"text-xs text-primary font-medium",children:[Y.orders.filter(Ie=>Ie.order_status==="shipment").length," shipped"]}),Y.orders.some(Ie=>Ie.order_status==="delivered")&&n.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[Y.orders.filter(Ie=>Ie.order_status==="delivered").length," delivered"]})]})]})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",Y.settlement_amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="paid"?"bg-green-100 text-green-800":Y.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:Y.status})}),Se&&n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.jsxs("select",{value:Y.allocated_to_staff_id||"",onChange:Ie=>{const mt=Ie.target.value?parseInt(Ie.target.value):null;Ae(Y,mt)},className:"px-2 py-1 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary min-w-[150px]",children:[n.jsx("option",{value:"",children:"Not allocated"}),g.map(Ie=>n.jsx("option",{value:Ie.id,children:Ie.username||Ie.email},Ie.id))]}),Y.allocated_staff_email&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Y.allocated_staff_email})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.period_from?`${new Date(Y.period_from).toLocaleDateString()} - ${new Date(Y.period_to||Y.period_from).toLocaleDateString()}`:new Date(Y.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[Y.status==="pending"&&n.jsx("button",{onClick:()=>Re(Y),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"Process Payment"}),Y.orders&&Y.orders.length>0&&n.jsxs("button",{onClick:()=>{const Ie=Y.orders?.map(mt=>{const Et=mt.order_status||"unknown",Ye=Et==="shipment"?mt.shipped_at:mt.delivered_at,Cr=Et==="shipment"?"Shipped":"Delivered";return`Order #${mt.order_id}: ${mt.order_amount.toLocaleString()}
  Status: ${Et}
  ${Cr} At: ${Ye||"N/A"}
  Shipped by: ${mt.shipping_provider_name||"N/A"}
  Settlement: ${mt.settlement_amount.toLocaleString()}`}).join(`

`);alert(`Order Details:

${Ie}`)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",title:"View order details",children:["View Orders (",Y.orders.length,")"]})]})})]},Y.id||`settlement-${Te}`))})]})})})]}),a==="payouts"&&n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[n.jsx(Nt,{children:"Payouts"}),n.jsxs("button",{onClick:je,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsx(tt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Processed At"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:u.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No payouts found"})}):u.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:Y.vendor_name}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",Y.amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="completed"?"bg-green-100 text-green-800":Y.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.processed_at?new Date(Y.processed_at).toLocaleDateString():Y.executed_at?new Date(Y.executed_at).toLocaleDateString():"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>it(Y),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"View Details"})})]},Y.id))})]})})})]}),a==="gst"&&n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[n.jsx(Nt,{children:"GST Reports"}),n.jsxs("button",{onClick:at,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(lb,{size:18}),"Download Report"]})]}),n.jsx(tt,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Dr,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Generate and download GST compliance reports"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Select date range and click Download Report"})]})})]}),a==="transactions"&&n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[n.jsx(Nt,{children:"All Transactions"}),n.jsxs("button",{onClick:Xe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsx(tt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Method"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Razorpay Payment ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:f.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):f.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm font-medium capitalize",children:Y.transaction_type?.replace("_"," ")||"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.user_name||"N/A"}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",Y.final_amount?.toLocaleString()||Y.amount.toLocaleString(),Y.discount_amount&&Y.discount_amount>0&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(Discount: ",Y.discount_amount.toLocaleString(),")"]})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 capitalize",children:Y.payment_method||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 font-mono",children:Y.razorpay_payment_id?n.jsx("span",{className:"text-xs",children:Y.razorpay_payment_id}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="paid"?"bg-green-100 text-green-800":Y.status==="failed"?"bg-red-100 text-red-800":Y.status==="requested"?"bg-yellow-100 text-yellow-800":Y.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:Y.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(Y.created_at).toLocaleString()})]},Y.id))})]})})})]}),a==="bookings"&&n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[n.jsx(Nt,{children:"All Bookings"}),n.jsxs("button",{onClick:wt,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsx(tt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Shipping Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Settlement"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:w.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No bookings found"})}):w.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsxs("td",{className:"px-4 py-3",children:["#",Y.id]}),n.jsx("td",{className:"px-4 py-3",children:Y.user_name||Y.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3",children:Y.provider_name||"Unassigned"}),n.jsx("td",{className:"px-4 py-3",children:Y.shipping_provider_name?n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:Y.shipping_provider_name}),Y.shipment_status&&n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:Y.shipment_status})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",(Y.payment_amount||Y.total_amount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:Y.settlement_amount>0?n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-medium text-green-600",children:["",Y.settlement_amount.toLocaleString()]}),Y.commission>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Commission: ",Y.commission.toLocaleString()]})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.payment_status==="paid"?"bg-green-100 text-green-800":Y.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Y.payment_status||"pending"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="completed"||Y.status==="delivered"?"bg-green-100 text-green-800":Y.status==="shipment"?"bg-blue-100 text-blue-800":Y.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status||"pending"}),Y.status==="shipment"&&Y.shipped_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Shipped: ",new Date(Y.shipped_at).toLocaleDateString()]}),Y.status==="delivered"&&Y.delivered_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Delivered: ",new Date(Y.delivered_at).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(Y.created_at||Y.booking_date).toLocaleDateString()})]},Y.id))})]})})})]}),a==="vendors"&&n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between",children:[n.jsx(Nt,{children:"Vendors & Sales Data"}),n.jsxs("button",{onClick:se,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsx(tt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Orders"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Products Sold"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"})]})}),n.jsx("tbody",{children:b.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No vendors found"})}):b.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3 font-medium",children:Y.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.email||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.phone_number||"N/A"}),n.jsx("td",{className:"px-4 py-3 font-medium",children:Y.total_orders||0}),n.jsx("td",{className:"px-4 py-3 font-medium",children:Y.total_products_sold||0}),n.jsxs("td",{className:"px-4 py-3 font-medium text-primary",children:["",(Y.total_revenue||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="approved"?"bg-green-100 text-green-800":Y.status==="suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status||"pending"})})]},Y.id))})]})})})]}),a==="staff"&&Se&&n.jsxs(et,{children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Nt,{children:"Financial Staff Management"}),n.jsxs("button",{onClick:()=>{V(null),P({full_name:"",email:"",phone_number:"",password:""}),O(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(pa,{size:18}),"Add Staff"]})]})}),n.jsx(tt,{children:g.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No financial staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(Y=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 min-h-[2.5rem]",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium truncate",title:Y.username||Y.email,children:Y.username||Y.email}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:Y.email,children:Y.email})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs ${Y.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Y.status||"active"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Created: ",new Date(Y.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{V(Y),P({full_name:Y.username||"",email:Y.email,phone_number:"",password:""}),O(!0)},className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>wr(Y.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(Us,{size:14})})]})]},Y.id))})})]})]})]}),I&&Se&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsx(_t,{children:n.jsx(Nt,{children:M?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:D.full_name,onChange:Y=>P({...D,full_name:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:D.email,onChange:Y=>P({...D,email:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:D.phone_number,onChange:Y=>P({...D,phone_number:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!M&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:D.password||"",onChange:Y=>P({...D,password:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{O(!1),P({full_name:"",email:"",phone_number:"",password:""}),V(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:M?yt:St,disabled:_||!D.full_name||!D.email||!D.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:_?"Saving...":M?"Update":"Create"})]})]})]})}),U&&ne&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bank Details"}),n.jsx("button",{onClick:()=>{J(!1),ve(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900",children:ne.vendor_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder Name"}),n.jsx("p",{className:"text-gray-900",children:ne.account_holder_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),n.jsx("p",{className:"text-gray-900",children:ne.bank_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),n.jsx("p",{className:"text-gray-900",children:ne.account_number||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IFSC Code"}),n.jsx("p",{className:"text-gray-900",children:ne.ifsc_code||"N/A"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{J(!1),ve(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),n.jsx("button",{onClick:De,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Payment Complete"})]})]})]})}),W&&X&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payment Complete"}),n.jsx("button",{onClick:()=>{he(!1),be(null),ae({reference_number:"",notes:""})},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reference Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:me.reference_number,onChange:Y=>ae({...me,reference_number:Y.target.value}),placeholder:"Enter payment reference number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:me.notes,onChange:Y=>ae({...me,notes:Y.target.value}),placeholder:"Add any additional notes (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{he(!1),be(null),ae({reference_number:"",notes:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:C,children:"Cancel"}),n.jsx("button",{onClick:Ce,disabled:C||!me.reference_number.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Processing...":"Done"})]})]})]})}),H&&te&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payout Details"}),n.jsx("button",{onClick:()=>{K(!1),ye(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:te.vendor_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payout Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold text-lg",children:["",te.amount.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te.status==="completed"?"bg-green-100 text-green-800":te.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:te.status})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Processed At"}),n.jsx("p",{className:"text-gray-900",children:te.processed_at?new Date(te.processed_at).toLocaleString():te.executed_at?new Date(te.executed_at).toLocaleString():"-"})]})]}),te.settlement_amount!==void 0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Settlement Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Settlement Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",te.settlement_amount.toLocaleString()]})]}),te.commission_amount!==void 0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commission Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",te.commission_amount.toLocaleString()]})]}),te.period_from&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period"}),n.jsxs("p",{className:"text-gray-900",children:[new Date(te.period_from).toLocaleDateString()," - ",new Date(te.period_to||te.period_from).toLocaleDateString()]})]})]})]}),(te.reference_number||te.notes)&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Details"}),n.jsxs("div",{className:"space-y-3",children:[te.reference_number&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reference Number"}),n.jsx("p",{className:"text-gray-900",children:te.reference_number})]}),te.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:te.notes})]}),te.transaction_id&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transaction ID"}),n.jsx("p",{className:"text-gray-900",children:te.transaction_id})]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(te.created_at).toLocaleString()})]})}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>{K(!1),ye(null)},className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Close"})})]})]})})]})},Dde=()=>{const{addToast:e}=Jt(),{user:t}=gn(),[r,a]=v.useState([]),[s,i]=v.useState(!1),[o,c]=v.useState(""),[u,m]=v.useState(!1),[f,h]=v.useState({full_name:"",email:"",phone_number:"",password:""}),[g,x]=v.useState(null),w=t?.role==="admin",y=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});v.useEffect(()=>{b()},[]);const b=async()=>{i(!0);try{const T=await fetch(`${ke}/admin/finance-staff`,{headers:y()});if(T.ok){const I=await T.json();a(I.staff||[])}else e("Failed to fetch financial staff","error")}catch{e("Failed to fetch financial staff","error")}finally{i(!1)}},N=async()=>{if(!f.full_name||!f.email||!f.phone_number){e("Please fill all required fields","error");return}i(!0);try{const T=await fetch(`${ke}/admin/finance-staff`,{method:"POST",headers:y(),body:JSON.stringify(f)});if(T.ok)e("Financial staff created successfully","success"),b(),m(!1),h({full_name:"",email:"",phone_number:"",password:""}),x(null);else{const I=await T.json().catch(()=>({}));e(I.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{i(!1)}},_=async()=>{if(!g||!f.email){e("Please fill all fields","error");return}i(!0);try{const T=await fetch(`${ke}/admin/finance-staff/${g.id}`,{method:"PUT",headers:y(),body:JSON.stringify({email:f.email,username:f.full_name,phone_number:f.phone_number})});if(T.ok)e("Staff member updated successfully","success"),b(),m(!1),h({full_name:"",email:"",phone_number:"",password:""}),x(null);else{const I=await T.json().catch(()=>({}));e(I.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{i(!1)}},k=async T=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted from the database.")){i(!0);try{const I=await fetch(`${ke}/admin/finance-staff/${T}`,{method:"DELETE",headers:y()});if(I.ok)e("Staff member removed successfully","success"),b();else{const O=await I.json().catch(()=>({}));e(O.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{i(!1)}}},A=r.filter(T=>T.username?.toLowerCase().includes(o.toLowerCase())||T.email?.toLowerCase().includes(o.toLowerCase()));return n.jsx(Yt,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Staff Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage finance staff who will handle your finance panel"})]}),w&&n.jsxs("button",{onClick:()=>{x(null),h({full_name:"",email:"",phone_number:"",password:""}),m(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(pa,{size:18}),"Add Finance Staff"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:o,onChange:T=>c(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("button",{onClick:b,className:"px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Staff: ",n.jsx("span",{className:"font-semibold text-primary",children:A.length})]})]}),s&&r.length===0?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):A.length===0?n.jsx(et,{children:n.jsxs(tt,{className:"py-12 text-center",children:[n.jsx(ar,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("p",{className:"text-gray-500 text-lg mb-2",children:o?"No staff members found matching your search":"No financial staff members yet"}),w&&!o&&n.jsxs("button",{onClick:()=>{x(null),h({full_name:"",email:"",phone_number:"",password:""}),m(!0)},className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors inline-flex items-center gap-2",children:[n.jsx(pa,{size:18}),"Add Your First Finance Staff"]})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(T=>n.jsx(et,{className:"hover:shadow-lg transition-shadow",children:n.jsxs(tt,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4 min-h-[3rem]",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-12 h-12 shrink-0 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ar,{className:"text-primary",size:24})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg truncate",title:T.username||T.email,children:T.username||T.email}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:T.email,children:T.email})]})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs font-medium ${T.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.status||"active"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Role:"}),n.jsx("span",{className:"font-medium",children:T.role_type||"Finance Admin"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:new Date(T.created_at).toLocaleDateString()})]})]}),w&&n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-primary/10",children:[n.jsxs("button",{onClick:()=>{x(T),h({full_name:T.username||"",email:T.email,phone_number:"",password:""}),m(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[n.jsx(fb,{size:14}),"Edit"]}),n.jsx("button",{onClick:()=>k(T.id),className:"px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:n.jsx(Us,{size:14})})]})]})},T.id))}),u&&w&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsx(_t,{children:n.jsx(Nt,{children:g?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",value:f.full_name,onChange:T=>h({...f,full_name:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:f.email,onChange:T=>h({...f,email:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:f.phone_number,onChange:T=>h({...f,phone_number:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!g&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:f.password||"",onChange:T=>h({...f,password:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{m(!1),h({full_name:"",email:"",phone_number:"",password:""}),x(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:g?_:N,disabled:s||!f.full_name||!f.email||!f.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:s?"Saving...":g?"Update":"Create"})]})]})]})})]})})},cu=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${nb}${r}`},yo=e=>{if(typeof e=="number"&&!isNaN(e))return e;const t=parseFloat(String(e??0));return isNaN(t)?0:t},Oy=e=>{if(!e)return null;try{if(Array.isArray(e))return e.length>0?cu(e[0]):null;if(typeof e=="string"&&e.startsWith("[")&&e.endsWith("]")){const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return cu(t[0])}if(typeof e=="string"&&e.includes(",")){const t=e.split(",").map(r=>r.trim());if(t.length>0)return cu(t[0])}return cu(e)}catch{return cu(e)}},Iy=()=>{const{addToast:e}=Jt(),{user:t}=gn(),r=na(),a=va(),[s,i]=v.useState([]),[o,c]=v.useState([]),[u,m]=v.useState([]),[f,h]=v.useState(!1),[g,x]=v.useState(!1),y=r.pathname.includes("/orders")?"orders":"prescriptions",b=t?.role==="admin",[N,_]=v.useState(""),[k,A]=v.useState("all"),[T,I]=v.useState(null),[O,D]=v.useState(null),[P,M]=v.useState(!1),[V,U]=v.useState(!1),[J,W]=v.useState(""),[he,X]=v.useState(!1),[be,ne]=v.useState(!1),[ve,me]=v.useState(!1),[ae,C]=v.useState(!1),[B,H]=v.useState(!1),[K,te]=v.useState([]),[ye,Se]=v.useState([]),[L,G]=v.useState(!1),[ge,le]=v.useState({}),[Re,De]=v.useState(null),[Ce,Ae]=v.useState({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),[je,it]=v.useState(null),Xe=v.useRef(null),gt=v.useRef(null),at=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});v.useEffect(()=>(y==="prescriptions"?vt():y==="orders"&&Cr(),b&&St(),yt(),gt.current=window.setInterval(()=>{yt(!0)},5e3),()=>{gt.current&&window.clearInterval(gt.current)}),[k,b,y,r.pathname]);const vt=async()=>{h(!0);try{const ue=t?.role||"",Ve=ue==="helping_staff"||ue==="helping_staff_admin";let ft;Ve?ft=k==="all"?`${ke}/admin/helping-staff/prescriptions`:`${ke}/admin/helping-staff/prescriptions?status=${k}`:ft=k==="all"?`${ke}/admin/prescriptions`:`${ke}/admin/prescriptions?status=${k}`;const ur=at();console.log("Fetching prescriptions from:",ft),console.log("User role:",t?.role,"isHelpingStaff:",Ve);const It=await fetch(ft,{headers:ur});if(console.log("Response status:",It.status),It.ok){const Vr=await It.json();console.log("Fetched prescriptions:",Vr),i(Vr.prescriptions||[])}else if(It.status===404)if(Ve){console.log("Helping staff endpoint not found, trying admin endpoint");const Vr=k==="all"?`${ke}/admin/prescriptions`:`${ke}/admin/prescriptions?status=${k}`,Pn=await fetch(Vr,{headers:ur});if(Pn.ok){const sa=await Pn.json();i(sa.prescriptions||[])}else i([])}else i([]);else if(It.status===401){const Vr=await It.json().catch(()=>({}));console.error("Authentication failed:",Vr),e("Authentication failed. Please log in again.","error"),i([])}else{const Vr=await It.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",It.status,Vr),e(Vr.error?.message||`Failed to fetch prescriptions (${It.status})`,"error"),i([])}}catch(ue){console.error("Error fetching prescriptions:",ue),e(ue?.message||"Failed to fetch prescriptions. Please check your connection.","error"),i([])}finally{h(!1)}},St=async()=>{try{const ue=await fetch(`${ke}/admin/helping-staff`,{headers:at()});if(ue.ok){const Ve=await ue.json();console.log("Fetched staff members:",Ve),c(Ve.staff||[])}else{const Ve=await ue.json().catch(()=>({}));console.error("Failed to fetch staff members:",Ve),c([])}}catch(ue){console.error("Error fetching staff members:",ue),c([])}},yt=async(ue=!1,Ve=!1)=>{try{const ft=Ve||B?`${ke}/admin/helping-staff/notifications`:`${ke}/admin/helping-staff/notifications?unread_only=true`,ur=await fetch(ft,{headers:at()});if(ur.ok){const Pn=((await ur.json()).notifications||[]).filter((Kn,On,ds)=>On===ds.findIndex(ia=>ia.id===Kn.id)),sa=K.filter(Kn=>Kn.status==="sent").length;if(!ue){const Kn=Pn.filter(On=>On.status==="sent").length;if(Kn>sa){if(Xe.current)try{Xe.current.currentTime=0,await Xe.current.play()}catch(ds){console.log("Audio play failed:",ds)}const On=Kn-sa;e(`${On} new notification${On>1?"s":""}!`,"success")}}te(Pn)}}catch(ft){console.error("Failed to fetch notifications",ft)}},wr=async(ue,Ve)=>{try{(await fetch(`${ke}/admin/helping-staff/notifications/${ue}/read`,{method:"PUT",headers:at()})).ok&&(te(ur=>ur.map(It=>It.id===ue?{...It,status:"read",read_at:new Date().toISOString()}:It)),Ve&&(y!=="orders"?(a("/admin/helping-staff-panel/orders"),await Cr()):u.length===0&&await Cr(),setTimeout(()=>{const ur=document.getElementById(`order-${Ve}`);ur?(ur.scrollIntoView({behavior:"smooth",block:"center"}),ur.classList.add("ring-4","ring-primary"),setTimeout(()=>{ur.classList.remove("ring-4","ring-primary")},2e3)):setTimeout(()=>{const It=document.getElementById(`order-${Ve}`);It&&(It.scrollIntoView({behavior:"smooth",block:"center"}),It.classList.add("ring-4","ring-primary"),setTimeout(()=>{It.classList.remove("ring-4","ring-primary")},2e3))},1e3)},500)))}catch(ft){console.error("Failed to mark notification as read",ft),e("Failed to mark notification as read","error")}},wt=async()=>{try{(await fetch(`${ke}/admin/helping-staff/notifications/read-all`,{method:"PUT",headers:at()})).ok&&(te(Ve=>Ve.map(ft=>({...ft,status:"read",read_at:ft.read_at||new Date().toISOString()}))),e("All notifications marked as read","success"))}catch(ue){console.error("Failed to mark all notifications as read",ue),e("Failed to mark all notifications as read","error")}};v.useEffect(()=>{B&&(async()=>{try{const Ve=await fetch(`${ke}/admin/helping-staff/notifications`,{headers:at()});if(Ve.ok){const It=((await Ve.json()).notifications||[]).filter((Vr,Pn,sa)=>Pn===sa.findIndex(Kn=>Kn.id===Vr.id));te(It)}}catch(Ve){console.error("Failed to fetch all notifications",Ve)}})()},[B]);const se=async()=>{if(!Ce.full_name||!Ce.email||!Ce.phone_number){e("Please fill all required fields","error");return}h(!0);try{const ue=await fetch(`${ke}/admin/helping-staff`,{method:"POST",headers:at(),body:JSON.stringify(Ce)});if(ue.ok)e("Staff member created successfully","success"),St(),C(!1),Ae({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),it(null);else{const Ve=await ue.json().catch(()=>({}));e(Ve.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{h(!1)}},Y=async()=>{if(!je||!Ce.full_name||!Ce.email||!Ce.phone_number){e("Please fill all fields","error");return}h(!0);try{const ue=await fetch(`${ke}/admin/helping-staff/${je.id}`,{method:"PUT",headers:at(),body:JSON.stringify(Ce)});if(ue.ok)e("Staff member updated successfully","success"),St(),C(!1),Ae({full_name:"",email:"",phone_number:"",drug_license:""}),it(null);else{const Ve=await ue.json().catch(()=>({}));e(Ve.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{h(!1)}},Te=async ue=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted (or deactivated if they have pending prescriptions) from the database.")){h(!0);try{const Ve=await fetch(`${ke}/admin/helping-staff/${ue}`,{method:"DELETE",headers:at()});if(Ve.ok)e("Staff member removed successfully","success"),St();else{const ft=await Ve.json().catch(()=>({}));e(ft.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{h(!1)}}},Ie=ue=>{ue?(it(ue),Ae({full_name:ue.full_name,email:ue.email,phone_number:ue.phone_number||"",drug_license:ue.drug_license||"",password:""})):(it(null),Ae({full_name:"",email:"",phone_number:"",drug_license:"",password:""})),C(!0)},mt=async(ue,Ve)=>{h(!0);try{(await fetch(`${ke}/admin/prescription/assign`,{method:"PUT",headers:at(),body:JSON.stringify({prescription_id:ue,staff_id:Ve})})).ok?(e("Prescription assigned successfully","success"),vt(),me(!1),I(null)):e("Failed to assign prescription","error")}catch{e("Failed to assign prescription","error")}finally{h(!1)}},Et=async ue=>{G(!0);try{const Ve=await fetch(`${ke}/admin/prescription/${ue}/medicine-list`,{headers:at()});if(Ve.ok){const ft=await Ve.json();Se(ft.medicines||[]),le({})}else{const ft=await Ve.json().catch(()=>({}));e(ft.error?.message||"Failed to fetch medicine list","error")}}catch{e("Failed to fetch medicine list","error")}finally{G(!1)}},Ye=async ue=>{h(!0);try{if(Object.keys(ge).length!==ye.length){e(`Please approve or reject all ${ye.length} medicines`,"error"),h(!1);return}const Ve=await fetch(`${ke}/admin/prescription/${ue}/approve-medicines`,{method:"POST",headers:at(),body:JSON.stringify({medicine_approvals:ge})});if(Ve.ok)e("Prescription medicines approved and released to vendors","success"),vt(),ne(!1),I(null),Se([]),le({});else{const ft=await Ve.json().catch(()=>({}));e(ft.error?.message||"Failed to approve medicines","error")}}catch{e("Failed to approve medicines","error")}finally{h(!1)}},Cr=async()=>{x(!0);try{const ue=await fetch(`${ke}/admin/helping-staff/orders/pending-approval`,{headers:at()});if(ue.ok){const Ve=await ue.json();m(Ve.orders||[])}else{const Ve=await ue.json().catch(()=>({}));console.error("Failed to fetch pending orders:",Ve),e(Ve.error?.message||"Failed to fetch pending orders","error"),m([])}}catch(ue){console.error("Error fetching pending orders:",ue),e(ue?.message||"Failed to fetch pending orders","error"),m([])}finally{x(!1)}},[Lr,gr]=v.useState({}),wa=async ue=>{x(!0);try{const Ve=await fetch(`${ke}/admin/helping-staff/orders/${ue}/approve`,{method:"POST",headers:at(),body:JSON.stringify({medicine_approvals:Lr})});if(Ve.ok)e("Order approved successfully","success"),Cr(),M(!1),D(null),gr({});else{const ft=await Ve.json().catch(()=>({}));e(ft.error?.message||"Failed to approve order","error")}}catch(Ve){console.error("Error approving order:",Ve),e("Failed to approve order","error")}finally{x(!1)}},ja=async(ue,Ve)=>{x(!0);try{const ft=await fetch(`${ke}/admin/helping-staff/orders/${ue}/reject`,{method:"POST",headers:at(),body:JSON.stringify({reason:Ve})});if(ft.ok)e("Order rejected successfully","success"),Cr(),M(!1),X(!1),D(null),W("");else{const ur=await ft.json().catch(()=>({}));e(ur.error?.message||"Failed to reject order","error")}}catch(ft){console.error("Error rejecting order:",ft),e("Failed to reject order","error")}finally{x(!1)}},_a=ue=>({uploaded:"bg-secondary text-primary border border-primary/20",assigned:"bg-primary/20 text-primary",digitized:"bg-secondary text-primary border border-primary/20",released_to_vendor:"bg-primary/20 text-primary",fulfilled:"bg-secondary text-primary border border-primary/20",rejected:"bg-primary/20 text-primary"})[ue]||"bg-primary/20 text-primary",Hn=s.filter(ue=>ue.user_name?.toLowerCase().includes(N.toLowerCase())||ue.id.toString().includes(N));return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helping Staff Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage prescription processing, assignment, and digitization."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>H(!B),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2 relative",children:[n.jsx(Mc,{size:18}),"Notifications",K.filter(ue=>ue.status==="sent").length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:K.filter(ue=>ue.status==="sent").length})]}),b&&n.jsxs("button",{onClick:()=>Ie(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(pa,{size:18}),"Add Staff"]}),n.jsxs("button",{onClick:()=>{y==="prescriptions"?vt():Cr()},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]})]}),B&&n.jsxs(et,{className:"mb-6",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nt,{children:"Notifications"}),K.filter(ue=>ue.status==="sent").length>0&&n.jsxs("span",{className:"text-sm text-gray-500",children:[K.filter(ue=>ue.status==="sent").length," unread"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[K.filter(ue=>ue.status==="sent").length>0&&n.jsx("button",{onClick:wt,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all as read"}),n.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(Rt,{size:20})})]})]})}),n.jsx(tt,{children:K.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:K.map((ue,Ve)=>{const ft=ue.status==="sent";return n.jsx("div",{onClick:()=>wr(ue.id,ue.order_id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${ft?"bg-primary/5 border-primary/20 hover:bg-primary/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:ue.title}),ft&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ue.message}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(ue.created_at).toLocaleString()})]})})},`notification-${ue.id}-${ue.created_at||Ve}`)})})})]}),b&&n.jsxs(et,{className:"mb-6",children:[n.jsx(_t,{children:n.jsx(Nt,{children:"Staff Members"})}),n.jsx(tt,{children:o.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(ue=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 min-h-[2.5rem]",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium truncate",title:ue.full_name,children:ue.full_name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:ue.email,children:ue.email})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs ${ue.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ue.status||"active"})]}),ue.phone_number&&n.jsx("p",{className:"text-sm text-gray-600 mb-1 truncate",title:ue.phone_number,children:ue.phone_number}),ue.pending_prescriptions_count!==void 0&&n.jsxs("p",{className:"text-xs text-primary mb-2",children:["Pending: ",ue.pending_prescriptions_count]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>Ie(ue),className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>Te(ue.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(Us,{size:14})})]})]},ue.id))})})]}),y==="prescriptions"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user name or prescription ID...",value:N,onChange:ue=>_(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:k,onChange:ue=>A(ue.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Hn.map(ue=>n.jsxs(et,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Nt,{className:"text-lg",children:["Prescription #",ue.id]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_a(ue.status)}`,children:ue.status==="digitized"?"Approved":ue.status.replace("_"," ")})]})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ar,{size:16,className:"text-primary"}),n.jsx("span",{children:ue.user_name||`User #${ue.user_id}`})]}),ue.assigned_staff_name&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Assigned to: ",ue.assigned_staff_name]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Qr,{size:14}),new Date(ue.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[ue.status==="uploaded"&&n.jsxs("button",{onClick:()=>{I(ue),me(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(ar,{size:14}),"Assign"]}),ue.status==="assigned"&&n.jsxs("button",{onClick:()=>{I(ue),Et(ue.id),ne(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Zn,{size:14}),"Medicine List"]}),n.jsxs("button",{onClick:()=>{I(ue),window.open(ue.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Dr,{size:14}),"View"]})]})]})]},ue.id))}),Hn.length===0&&!f&&n.jsx(et,{children:n.jsxs(tt,{className:"text-center py-12",children:[n.jsx(Dr,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]}),y==="orders"&&n.jsxs(n.Fragment,{children:[g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(ue=>n.jsxs(et,{id:`order-${ue.id}`,className:"hover:shadow-lg transition-shadow",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Nt,{className:"text-lg",children:["Order #",ue.id]}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Pending Approval"})]})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ar,{size:16,className:"text-primary"}),n.jsx("span",{children:ue.user_name||`User #${ue.user_id}`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",ue.items_count]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," ",yo(ue.total_amount).toFixed(2)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",ue.delivery_address,", ",ue.delivery_city," - ",ue.delivery_pincode]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Qr,{size:14}),new Date(ue.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[n.jsxs("button",{onClick:()=>{D(ue),gr({}),U(!1),M(!0)},className:"flex-1 min-w-[7rem] px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Dr,{size:14}),"View Details"]}),(ue.prescription_required_count??0)===0?n.jsxs("button",{onClick:()=>{gr({}),wa(ue.id)},disabled:g,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[n.jsx(Br,{size:14}),"Approve"]}):null,n.jsxs("button",{onClick:()=>{D(ue),W(""),X(!0)},disabled:g,className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[n.jsx($n,{size:14}),"Reject"]})]})]})]},ue.id))}),u.length===0&&!g&&n.jsx(et,{children:n.jsxs(tt,{className:"text-center py-12",children:[n.jsx(Zn,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No orders pending approval"})]})})]}),ve&&T&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsx(_t,{children:n.jsx(Nt,{children:"Assign Prescription"})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Staff Member"}),n.jsxs("select",{value:Re||"",onChange:ue=>De(Number(ue.target.value)),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"Select staff member..."}),o.map(ue=>n.jsxs("option",{value:ue.id,children:[ue.full_name," (",ue.email,")"]},ue.id))]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{me(!1),I(null),De(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{Re&&mt(T.id,Re)},disabled:!Re||f,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:"Assign"})]})]})]})}),be&&T&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(et,{className:"w-full max-w-4xl",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Nt,{children:["Medicine List - Prescription #",T.id]}),n.jsx("button",{onClick:()=>{ne(!1),I(null),Se([]),le({})},className:"text-gray-500 hover:text-gray-700",children:n.jsx(Rt,{size:24})})]})}),n.jsxs(tt,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Image"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:T.prescription_url?n.jsx("img",{src:T.prescription_url,alt:"Prescription",className:"max-w-full max-h-80 h-auto rounded-lg border border-gray-200 object-contain",onError:ue=>{const Ve=ue.target;Ve.style.display="none";const ft=Ve.parentElement;ft&&(ft.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):n.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Approve or Reject"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription image and approve or reject each medicine. Approved medicines will be sent to vendors."})}),L?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Manufacturer"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:ye.map(ue=>{const Ve=Oy(ue.images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Ve&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Ve,alt:ue.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:ft=>{ft.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ue.medicine_name}),ue.medicine_type&&n.jsx("div",{className:"text-xs text-gray-500",children:ue.medicine_type}),!Ve&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ue.manufacturer_name||"-"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",parseFloat(ue.price||0).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{le({...ge,[ue.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${ge[ue.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(Br,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{le({...ge,[ue.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${ge[ue.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx($n,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},ue.id)})})]})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsx("button",{onClick:()=>{ne(!1),I(null),Se([]),le({})},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:()=>{T&&Ye(T.id)},disabled:f||Object.keys(ge).length!==ye.length,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[n.jsx(Br,{size:18}),Object.keys(ge).length>0?`Approve & Send to Vendors (${Object.keys(ge).length}/${ye.length})`:"Approve & Send to Vendors"]})]})]})]})}),ae&&b&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsx(_t,{children:n.jsx(Nt,{children:je?"Edit Staff Member":"Add Staff Member"})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:Ce.full_name,onChange:ue=>Ae({...Ce,full_name:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:Ce.email,onChange:ue=>Ae({...Ce,email:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:Ce.phone_number,onChange:ue=>Ae({...Ce,phone_number:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Drug License"}),n.jsx("input",{type:"text",value:Ce.drug_license,onChange:ue=>Ae({...Ce,drug_license:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter drug license number"})]}),!je&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: HelpingStaff@123)"})]}),n.jsx("input",{type:"password",value:Ce.password||"",onChange:ue=>Ae({...Ce,password:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (leave empty for default)"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If left empty, default password "HelpingStaff@123" will be set'})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{C(!1),Ae({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),it(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:je?Y:se,disabled:f,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:je?"Update":"Create"})]})]})]})}),P&&O&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(et,{className:"w-full max-w-4xl",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Nt,{children:["Order #",O.id," - Prescription Verification"]}),n.jsx("button",{onClick:()=>{M(!1),D(null),gr({}),U(!1)},className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:n.jsx(Rt,{size:24})})]})}),n.jsxs(tt,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",O.full_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",O.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",O.phone]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User ID:"})," ",O.user_id]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsx("p",{children:O.delivery_address}),n.jsxs("p",{children:[O.delivery_city," - ",O.delivery_pincode]})]})]})]}),O.prescription_required_items&&O.prescription_required_items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Verify & Approve"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription and approve or reject each medicine. All medicines must be verified before the order can be released to vendors."})}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:O.prescription_required_items.map(ue=>{const Ve=Oy(ue.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Ve&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Ve,alt:ue.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:ft=>{ft.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ue.medicine_name}),!Ve&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:yo(ue.quantity)}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",yo(ue.price).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{gr({...Lr,[ue.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Lr[ue.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(Br,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{gr({...Lr,[ue.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Lr[ue.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx($n,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},ue.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"All Order Items"}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),n.jsxs("tbody",{children:[O.items?.map(ue=>{const Ve=Oy(ue.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Ve&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Ve,alt:ue.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:ft=>{ft.target.style.display="none"}}),ue.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ue.medicine_name}),!Ve&&ue.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:yo(ue.quantity)}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",yo(ue.price).toFixed(2)]}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",(yo(ue.price)*yo(ue.quantity)).toFixed(2)]})]},ue.id)}),n.jsxs("tr",{className:"border-t-2 border-primary/20 font-semibold",children:[n.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Total Amount:"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",yo(O.total_amount).toFixed(2)]})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:O.prescription_url&&!V?n.jsx("img",{src:O.prescription_url,alt:"Prescription",className:"max-w-full h-auto rounded-lg border border-gray-200 object-contain",onError:()=>U(!0)}):n.jsx("p",{className:"text-gray-500",children:O.prescription_url&&V?"Failed to load prescription image":"Prescription image not available"})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsxs("button",{onClick:()=>{X(!0)},className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",disabled:g,children:[n.jsx($n,{size:18}),"Reject Order"]}),n.jsxs("button",{onClick:()=>{const ue=O.prescription_required_items?.length||0,Ve=Object.keys(Lr).length;if(ue>0&&Ve!==ue){e(`Please approve or reject all ${ue} prescription-required medicines`,"error");return}wa(O.id)},className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",disabled:g,children:[n.jsx(Br,{size:18}),O.prescription_required_items&&O.prescription_required_items.length>0?`Approve Order (${Object.keys(Lr).length}/${O.prescription_required_items.length})`:"Approve Order"]})]})]})]})}),he&&O&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(et,{className:"w-full max-w-md mx-4",children:[n.jsx(_t,{children:n.jsxs(Nt,{children:["Reject Order #",O.id]})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rejection Reason"}),n.jsx("textarea",{value:J,onChange:ue=>W(ue.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",rows:4,placeholder:"Enter reason for rejection..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{X(!1),W("")},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{O&&ja(O.id,J||"Prescription verification failed")},disabled:g,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:"Reject Order"})]})]})]})}),n.jsx("audio",{ref:Xe,preload:"auto",children:n.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OSfTQ8MUKfj8LZjHAY4kdfyzHksBSR3x/DdkEAKFF606euoVRQKRp/g8r5sIQUrgc7y2Yk2CBtpvfDkn00PDFCn4/C2YxwGOJHX8sx5LAUkd8fw3ZBAC",type:"audio/wav"})})]})})},Mde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!1),[i,o]=v.useState(""),[c,u]=v.useState("all"),m=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});v.useEffect(()=>{f()},[c]);const f=async()=>{s(!0);try{const x=c==="all"?`${ke}/admin/prescriptions`:`${ke}/admin/prescriptions?status=${c}`,w=await fetch(x,{headers:m()});if(w.ok){const y=await w.json();console.log("Fetched prescriptions:",y),r(y.prescriptions||[])}else{const y=await w.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",y),e(y.error?.message||"Failed to fetch prescriptions","error"),r([])}}catch(x){console.error("Error fetching prescriptions:",x),e("Failed to fetch prescriptions","error"),r([])}finally{s(!1)}},h=x=>({uploaded:"bg-yellow-100 text-yellow-800 border border-yellow-300",assigned:"bg-primary/10 text-primary-dark border border-primary/20",digitized:"bg-green-100 text-green-800 border border-green-300",released_to_vendor:"bg-purple-100 text-purple-800 border border-purple-300",fulfilled:"bg-gray-100 text-gray-800 border border-gray-300",rejected:"bg-red-100 text-red-800 border border-red-300"})[x]||"bg-gray-100 text-gray-800 border border-gray-300",g=t.filter(x=>x.user_name?.toLowerCase().includes(i.toLowerCase())||x.id.toString().includes(i)||x.assigned_staff_name?.toLowerCase().includes(i.toLowerCase())||x.assigned_staff_drug_license?.toLowerCase().includes(i.toLowerCase())||x.digitized_by_staff_name?.toLowerCase().includes(i.toLowerCase())||x.digitized_by_staff_drug_license?.toLowerCase().includes(i.toLowerCase())||x.assigned_vendor_name?.toLowerCase().includes(i.toLowerCase()));return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"All Prescriptions"}),n.jsx("p",{className:"text-gray-600",children:"View all prescriptions with staff and vendor assignments"})]}),n.jsxs("button",{onClick:f,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user, staff, vendor, or prescription ID...",value:i,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.map(x=>n.jsxs(et,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Nt,{className:"text-lg",children:["Prescription #",x.id]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(x.status)}`,children:x.status==="digitized"?"APPROVED":x.status.replace(/_/g," ").toUpperCase()})]})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ar,{size:16,className:"text-primary"}),n.jsx("span",{className:"font-medium",children:"User:"}),n.jsx("span",{children:x.user_name||`User #${x.user_id}`})]}),x.assigned_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(WC,{size:16,className:"text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Staff:"}),n.jsx("span",{children:x.assigned_staff_name}),x.assigned_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",x.assigned_staff_drug_license,")"]}),x.assigned_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(x.assigned_at).toLocaleString(),")"]})]}),x.digitized_by_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Br,{size:16,className:"text-green-500"}),n.jsx("span",{className:"font-medium",children:"Approved By:"}),n.jsx("span",{children:x.digitized_by_staff_name}),x.digitized_by_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",x.digitized_by_staff_drug_license,")"]}),x.digitized_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(x.digitized_at).toLocaleString(),")"]})]}),x.assigned_vendor_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(E8,{size:16,className:"text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Vendor:"}),n.jsx("span",{children:x.assigned_vendor_name}),x.assigned_vendor_email&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",x.assigned_vendor_email,")"]})]}),x.items&&x.items.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Medicine Items:"}),n.jsx("div",{className:"space-y-1",children:x.items.map((w,y)=>n.jsxs("div",{className:"text-xs text-gray-600",children:[" ",w.medicine_name," - Qty: ",w.quantity,", Days: ",w.days,w.dosage&&`, Dosage: ${w.dosage}`]},y))})]}),n.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qr,{size:12}),n.jsxs("span",{children:["Created: ",new Date(x.created_at).toLocaleString()]})]})}),n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>{window.open(x.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Dr,{size:14}),"View Image"]})})]})]},x.id))}),g.length===0&&!a&&n.jsx(et,{children:n.jsxs(tt,{className:"text-center py-12",children:[n.jsx(Dr,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]})})},Fde=({transaction:e,expandedTransaction:t,onToggleDetails:r,formatDate:a,formatCurrency:s})=>{const i=c=>{switch(c){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},o=c=>{switch(c){case"card":return n.jsx(Ai,{size:16,className:"text-gray-500"});case"upi":return n.jsx(J8,{size:16,className:"text-gray-500"});case"net_banking":return n.jsx(_8,{size:16,className:"text-gray-500"});default:return null}};return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.transaction_id}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",e.booking_id]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.provider_business_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[e.user_name,"  ",e.provider_name]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:s(e.amount)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Platform: ",s(e.platform_fee)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.failure_reason&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:e.failure_reason})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-sm text-gray-600",children:a(e.created_at)}),e.completed_at&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",a(e.completed_at)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[o(e.payment_method),n.jsx("span",{className:"text-sm text-gray-600",children:e.payment_method.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ")})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsx("td",{className:"py-4",children:n.jsxs(Be,{onClick:()=>r(e.id),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white",children:[n.jsx(ya,{size:14}),n.jsx("span",{children:"Details"}),t===e.id?n.jsx(Zs,{size:14}):n.jsx(Ha,{size:14})]})})]})},Lde=({transaction:e,formatDate:t,formatCurrency:r})=>n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ai,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Transaction Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"#"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),n.jsx("p",{className:"text-sm font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded",children:e.transaction_id||`TXN-${e.id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r(e.amount)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.status})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Payment Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.payment_method}),n.jsxs("p",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fees"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-800",children:["Platform: ",r(e.platform_fee||0)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Gateway: ",r(e.gateway_fee||0)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Provider: ",r(e.provider_amount||0)]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"User & Provider"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.user.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.email}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.phone})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-pink-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.provider.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.business_name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.email})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Booking Details"})]}),n.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-orange-100",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:t(e.booking.date)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.booking.time})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-sm text-gray-900",children:r(e.booking.amount)})]})]})})]}),e.refunds&&e.refunds.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-lg p-4 border border-red-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Refunds"})]}),n.jsxs("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.refunds.length," Refund",e.refunds.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Refund ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Reason"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Processed At"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.refunds.map(a=>n.jsxs("tr",{className:"hover:bg-red-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.refund_id})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(a.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:a.reason})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(a.processed_at)})})]},a.id))})]})})})]}),e.wallet_transactions&&e.wallet_transactions.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-4 border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Wallet Transactions"})]}),n.jsxs("div",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.wallet_transactions.length," Transaction",e.wallet_transactions.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-cyan-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-cyan-50 border-b border-cyan-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Balance After"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Date"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.wallet_transactions.map(a=>n.jsxs("tr",{className:"hover:bg-cyan-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:`text-sm font-medium ${a.type==="credit"?"text-green-600":"text-red-600"}`,children:r(a.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:a.category})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:a.description})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(a.balance_after)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(a.created_at)})})]},a.id))})]})})})]})]})})}),Rde=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Tn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),$de=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," transactions"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Yc,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(Be,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]}),zde=({isOpen:e,onClose:t,onSubmit:r,transaction:a,isSubmitting:s,formatCurrency:i})=>{const[o,c]=Zr.useState({amount:a.amount,reason:"",reason_description:""}),u=m=>{m.preventDefault(),r(o)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Process Refund"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:20})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Amount"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:i(a.amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount *"}),n.jsx("input",{type:"number",required:!0,min:"0",max:a.amount,step:"0.01",value:o.amount,onChange:m=>c({...o,amount:parseFloat(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsxs("select",{required:!0,value:o.reason,onChange:m=>c({...o,reason:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"customer_request",children:"Customer Request"}),n.jsx("option",{value:"service_not_provided",children:"Service Not Provided"}),n.jsx("option",{value:"quality_issues",children:"Quality Issues"}),n.jsx("option",{value:"duplicate_payment",children:"Duplicate Payment"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason Description *"}),n.jsx("textarea",{required:!0,value:o.reason_description,onChange:m=>c({...o,reason_description:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Provide additional details about the refund reason..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(Be,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(Be,{type:"submit",disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Processing...":"Process Refund"})]})]})]})}):null},Bde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(""),[c,u]=v.useState(1),[m,f]=v.useState(null),[h,g]=v.useState(null),[x,w]=v.useState(!1),[y,b]=v.useState(!1),[N,_]=v.useState(null),[k,A]=v.useState(null),[T,I]=v.useState(1),[O,D]=v.useState(0),[P,M]=v.useState({status:"",payment_status:"",user_id:"",provider_id:"",booking_id:""}),V=10;v.useEffect(()=>{U()},[c,P]);const U=async()=>{const me=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!me){e("Please login to view transactions","error"),s(!1);return}try{s(!0);const ae=new URLSearchParams;ae.append("page",c.toString()),ae.append("limit",V.toString()),i&&ae.append("search",i),Object.entries(P).forEach(([K,te])=>{te&&ae.append(K,te.toString())});const C=await fetch(`${ke}/admin/transactions?${ae.toString()}`,{headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"}});if(!C.ok){if(C.status===401){e("Authentication failed. Please log in again.","error");return}if(C.status===404){console.warn("Transactions endpoint not found. Backend may not be implemented yet."),r([]),I(1),D(0),s(!1);return}throw new Error(`HTTP error! status: ${C.status}`)}const B=await C.json(),H=B.data||B.transactions||[];Array.isArray(H)?(r(H),I(B.pagination?.total_pages||Math.ceil(H.length/V)||1),D(B.pagination?.total||H.length||0)):(r([]),I(1),D(0))}catch(ae){console.error("Error fetching transactions:",ae),e("Failed to fetch transactions. The backend endpoint may not be implemented yet.","error"),r([]),I(1),D(0)}finally{s(!1)}},J=async me=>{const ae=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!ae)return e("Please login to view transaction details","error"),null;try{const C=await fetch(`${ke}/admin/transactions/${me}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!C.ok){if(C.status===404)return e("Transaction details not found","error"),null;throw new Error(`HTTP error! status: ${C.status}`)}const B=await C.json(),H=B.transaction||B.data;return H?{id:H.id||0,transaction_id:H.transaction_id||H.razorpay_payment_id||H.payment_order_id||`TXN-${H.id||0}`,user_id:H.user_id||0,provider_id:H.provider_id||0,booking_id:H.booking_id||0,amount:parseFloat(String(H.amount||H.final_amount||0)),platform_fee:(()=>{const te=parseFloat(String(H.final_amount||H.amount||0));return parseFloat(String(H.platform_fee||te*.1||0))})(),gateway_fee:parseFloat(String(H.gateway_fee||0)),provider_amount:(()=>{const te=parseFloat(String(H.final_amount||H.amount||0)),ye=parseFloat(String(H.platform_fee||te*.1||0)),Se=parseFloat(String(H.gateway_fee||0));return parseFloat(String(H.provider_amount||te-ye-Se||0))})(),currency:H.currency||"INR",payment_method:H.payment_method||"online",payment_gateway:H.payment_gateway||"Razorpay",gateway_transaction_id:H.gateway_transaction_id||H.razorpay_payment_id||H.payment_order_id||"",status:H.status||"pending",payment_status:H.payment_status||H.status||"pending",description:H.description||H.notes||"",metadata:H.metadata||{},created_at:H.created_at||"",completed_at:H.completed_at||H.updated_at||"",user:{name:H.user?.name||H.user?.full_name||"Unknown User",email:H.user?.email||"",phone:H.user?.phone||H.user?.phone_number||""},provider:{name:H.provider?.name||H.provider?.full_name||"Unassigned",business_name:H.provider?.business_name||"",email:H.provider?.email||""},booking:{date:H.booking?.date||H.created_at||"",time:H.booking?.time||"",amount:parseFloat(H.booking?.amount||H.final_amount||H.amount||0)},refunds:H.refunds||[],wallet_transactions:H.wallet_transactions||[]}:null}catch(C){return console.error("Error fetching transaction details:",C),e("Failed to fetch transaction details","error"),null}},W=async me=>{if(m===me)f(null),g(null),A(null);else{f(me),_(me),A(null),g(null);const ae=await J(me);if(ae)g(ae),A(null);else{A(me);const C=t.find(B=>B.id===me);if(C){const B=C.amount||0,H=C.platform_fee||B*.1,K=C.gateway_fee||0,te=C.provider_amount||B-H-K,ye={id:C.id,transaction_id:C.transaction_id||`TXN-${C.id}`,user_id:0,provider_id:0,booking_id:C.booking_id,amount:B,platform_fee:H,gateway_fee:K,provider_amount:te,currency:"INR",payment_method:C.payment_method||"online",payment_gateway:C.payment_gateway||"Razorpay",gateway_transaction_id:"",status:C.status,payment_status:C.payment_status,description:"",metadata:{},created_at:C.created_at,completed_at:C.completed_at||"",user:{name:C.user_name||"Unknown User",email:C.user_email||"",phone:""},provider:{name:C.provider_name||"Unassigned",business_name:C.provider_business_name||"",email:""},booking:{date:C.created_at,time:"",amount:B},refunds:[],wallet_transactions:[]};g(ye)}}_(null)}},he=async me=>{if(!h)return;b(!0);const ae=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");try{const C=await fetch(`${ke}/admin/transactions/${h.id}/refund`,{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify(me)});if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const B=await C.json();e(B.message||"Refund processed successfully","success"),w(!1),g(null),U()}catch(C){console.error("Error processing refund:",C),e("Failed to process refund","error")}finally{b(!1)}},X=me=>{if(!me)return"N/A";try{return new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return me}},be=me=>{const ae=typeof me=="number"&&!isNaN(me)?me:0;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(ae)},ne=(me,ae)=>{M(C=>({...C,[me]:ae})),u(1)},ve=t.filter(me=>{if(!i)return!0;const ae=i.toLowerCase();return me.transaction_id.toLowerCase().includes(ae)||me.user_name.toLowerCase().includes(ae)||me.provider_name.toLowerCase().includes(ae)||me.booking_id.toString().includes(ae)});return n.jsx(Yt,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage all payment transactions"})]}),n.jsxs(et,{children:[n.jsxs(_t,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Nt,{children:"All Transactions"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(Rde,{searchTerm:i,onSearchChange:o})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[n.jsxs("select",{value:P.status,onChange:me=>ne("status",me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("select",{value:P.payment_status,onChange:me=>ne("payment_status",me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Payment Status"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]})]})]}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):ve.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg",children:t.length===0?"No transactions found.":"No transactions match your search criteria."}),t.length===0&&n.jsx("p",{className:"text-gray-400 text-sm mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Transaction ID"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"User / Provider"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Amount"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Payment Method"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:ve.map(me=>n.jsxs(Zr.Fragment,{children:[n.jsx(Fde,{transaction:me,expandedTransaction:m,onToggleDetails:W,formatDate:X,formatCurrency:be}),m===me.id&&n.jsx(n.Fragment,{children:N===me.id?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),n.jsx("span",{className:"text-gray-600",children:"Loading transaction details..."})]})})}):h?n.jsxs(n.Fragment,{children:[k===me.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-2 bg-yellow-50 border-b",children:n.jsxs("div",{className:"flex items-center justify-center text-yellow-700 text-sm",children:[n.jsx("span",{className:"mr-2",children:""}),n.jsx("span",{children:"Could not fetch full details from API. Showing basic transaction information."})]})})}),n.jsx(Lde,{transaction:h,formatDate:X,formatCurrency:be})]}):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-center text-red-600",children:[n.jsx("span",{className:"mr-2",children:""}),n.jsx("span",{children:"Failed to load transaction details. Please try again."})]})})})})]},me.id))})]})}),n.jsx($de,{currentPage:c,totalPages:T,startIndex:(c-1)*V,itemsPerPage:V,totalItems:O,onPageChange:u})]})})]}),x&&h&&n.jsx(zde,{isOpen:x,transaction:h,onClose:()=>w(!1),onSubmit:he,isSubmitting:y,formatCurrency:be})]})})},bo=({label:e,error:t,fullWidth:r=!1,className:a="",id:s,...i})=>{const o=s||`input-${Math.random().toString(36).substring(2,9)}`;return n.jsxs("div",{className:`${r?"w-full":""} mb-4`,children:[e&&n.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsx("input",{id:o,className:`px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${t?"border-error":""} ${r?"w-full":""} ${a}`,...i}),t&&n.jsx("p",{className:"mt-1 text-sm text-error",children:t})]})},Ude=({open:e,onClose:t,children:r})=>e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity",onClick:t}),n.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:r})]})}):null,Wde=({children:e})=>n.jsx("div",{className:"mt-3 text-center sm:mt-5",children:e}),Hde=({children:e})=>n.jsx("div",{className:"mb-4",children:e}),Kde=({children:e})=>n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:e}),Dy=()=>{const{addToast:e}=Jt(),t=na(),[r,a]=v.useState([]),[s,i]=v.useState(!1),[o,c]=v.useState(""),[u,m]=v.useState(!1),[f,h]=v.useState("add"),[g,x]=v.useState(null),[w,y]=v.useState(!1),N=(()=>{const X=t.pathname;return X.includes("/medicine")?"medicine":X.includes("/lab-test")?"lab-test":"all"})(),[_,k]=v.useState({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:"",coupon_category:N==="medicine"?"medicine":N==="lab-test"?"lab_test":""}),[A,T]=v.useState({}),I=async()=>{i(!0);try{const X=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),be=await fetch(`${ke}/admin/coupons`,{method:"GET",headers:{"Content-Type":"application/json",...X?{Authorization:`Bearer ${X}`}:{}}}),ne=await be.json();if(be.ok&&ne.coupons&&Array.isArray(ne.coupons)){let ve=ne.coupons;N==="medicine"?ve=ne.coupons.filter(me=>!me.coupon_category||me.coupon_category==="medicine"):N==="lab-test"&&(ve=ne.coupons.filter(me=>!me.coupon_category||me.coupon_category==="lab_test")),a(ve)}else throw new Error(ne.message||ne.error?.message||"Failed to fetch coupons")}catch(X){console.error("Error fetching coupons:",X);const be=X instanceof Error?X.message:"Failed to fetch coupons";e(be,"error")}finally{i(!1)}};v.useEffect(()=>{I()},[N]);const O=()=>{h("add"),x(null),k({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:"",coupon_category:N==="medicine"?"medicine":N==="lab-test"?"lab_test":""}),T({}),m(!0)},D=X=>{h("edit"),x(X),k({coupon_name:X.coupon_name,coupon_title:X.coupon_title,discount_type:"percentage",discount_percentage:X.discount_percentage||0,total_coupons:X.total_coupons,is_active:X.is_active,is_featured:X.is_featured,is_one_time:X.is_one_time||!1,valid_from:X.valid_from?X.valid_from.split("T")[0]:"",valid_until:X.valid_until?X.valid_until.split("T")[0]:"",min_order_amount:X.min_order_amount||"",max_order_amount:X.max_order_amount||"",coupon_category:X.coupon_category||""}),T({}),m(!0)},P=()=>{const X={};return _.coupon_name.trim()?_.coupon_name.trim().length<3&&(X.coupon_name="Coupon code must be at least 3 characters"):X.coupon_name="Coupon code is required",_.coupon_title.trim()||(X.coupon_title="Coupon title is required"),_.coupon_category||(X.coupon_category="Coupon category is required"),(_.discount_percentage<=0||_.discount_percentage>100)&&(X.discount_percentage="Discount percentage must be between 1 and 100"),(!_.min_order_amount||Number(_.min_order_amount)<=0)&&(X.min_order_amount="Minimum order amount is required and must be greater than 0"),_.max_order_amount&&Number(_.max_order_amount)<=0&&(X.max_order_amount="Maximum order amount must be greater than 0"),_.min_order_amount&&_.max_order_amount&&Number(_.min_order_amount)>=Number(_.max_order_amount)&&(X.max_order_amount="Max order amount must be greater than min order amount"),_.total_coupons<=0&&(X.total_coupons="Total coupons must be greater than 0"),_.valid_from&&_.valid_until&&new Date(_.valid_from)>new Date(_.valid_until)&&(X.valid_until="Valid until date must be after valid from date"),T(X),Object.keys(X).length===0},M=async X=>{if(X.preventDefault(),!!P()){y(!0);try{const be=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!be){e("Please login to save coupon","error"),y(!1);return}const ne={coupon_name:_.coupon_name.trim().toUpperCase(),coupon_title:_.coupon_title.trim(),discount_type:"percentage",discount_percentage:_.discount_percentage,total_coupons:_.total_coupons,is_active:_.is_active,is_featured:_.is_featured,is_one_time:_.is_one_time,min_order_amount:Number(_.min_order_amount),max_order_amount:_.max_order_amount?Number(_.max_order_amount):null,coupon_category:_.coupon_category||null};_.valid_from&&(ne.valid_from=`${_.valid_from}T00:00:00Z`),_.valid_until&&(ne.valid_until=`${_.valid_until}T23:59:59Z`);const ve=f==="add"?`${ke}/admin/coupons`:`${ke}/admin/coupons/${g?.id}`,me=await fetch(ve,{method:f==="add"?"POST":"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify(ne)}),ae=await me.json();if(me.ok)await I(),e(`Coupon ${f==="add"?"created":"updated"} successfully`,"success"),m(!1);else{const C=ae.error?.message||ae.message||`Failed to ${f==="add"?"create":"update"} coupon`;throw new Error(C)}}catch(be){console.error(`Error ${f==="add"?"creating":"updating"} coupon:`,be);const ne=be instanceof Error?be.message:`Failed to ${f==="add"?"create":"update"} coupon`;e(ne,"error")}finally{y(!1)}}},V=async X=>{if(confirm(`Are you sure you want to delete coupon "${X.coupon_name}"?`)){y(!0);try{const be=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!be){e("Please login to delete coupon","error"),y(!1);return}const ne=await fetch(`${ke}/admin/coupons/${X.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),ve=await ne.json();if(ne.ok)a(me=>me.filter(ae=>ae.id!==X.id)),e("Coupon deleted successfully","success");else throw new Error(ve.error?.message||ve.message||"Failed to delete coupon")}catch(be){console.error("Error deleting coupon:",be);const ne=be instanceof Error?be.message:"Failed to delete coupon";e(ne,"error")}finally{y(!1)}}},U=async X=>{try{const be=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!be){e("Please login to update coupon","error");return}const ne=await fetch(`${ke}/admin/coupons/${X.id}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),ve=await ne.json();if(ne.ok)await I(),e(`Coupon ${X.is_active?"deactivated":"activated"} successfully`,"success");else throw new Error(ve.error?.message||ve.message||"Failed to update coupon")}catch(be){console.error("Error toggling coupon active status:",be);const ne=be instanceof Error?be.message:"Failed to update coupon";e(ne,"error")}},J=async X=>{try{const be=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!be){e("Please login to update coupon","error");return}const ne=await fetch(`${ke}/admin/coupons/${X.id}/toggle-featured`,{method:"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),ve=await ne.json();if(ne.ok)await I(),e(`Coupon ${X.is_featured?"unfeatured":"featured"} successfully`,"success");else throw new Error(ve.error?.message||ve.message||"Failed to update coupon")}catch(be){console.error("Error toggling coupon featured status:",be);const ne=be instanceof Error?be.message:"Failed to update coupon";e(ne,"error")}},W=r.filter(X=>{const be=X.coupon_name.toLowerCase().includes(o.toLowerCase())||X.coupon_title.toLowerCase().includes(o.toLowerCase());return N==="medicine"?be&&(!X.coupon_category||X.coupon_category==="medicine"):N==="lab-test"?be&&(!X.coupon_category||X.coupon_category==="lab_test"):be}),he=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n.jsxs(Yt,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coupon Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons for users"})]}),s?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading coupons..."})]}):n.jsxs(et,{children:[n.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(Nt,{children:"All Coupons"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search coupons...",value:o,onChange:X=>c(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs(Be,{onClick:O,className:"flex items-center space-x-2",children:[n.jsx(pa,{size:16}),n.jsx("span",{children:"Add Coupon"})]})]})]}),n.jsx(tt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Code"}),n.jsx("th",{className:"text-left pb-4",children:"Title"}),n.jsx("th",{className:"text-left pb-4",children:"Category"}),n.jsx("th",{className:"text-left pb-4",children:"Discount"}),n.jsx("th",{className:"text-left pb-4",children:"Usage"}),n.jsx("th",{className:"text-left pb-4",children:"Status"}),n.jsx("th",{className:"text-left pb-4",children:"Valid Dates"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:W.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"py-8 text-center text-gray-500",children:o?"No coupons found matching your search":"No coupons found. Create your first coupon!"})}):W.map(X=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-bold text-primary text-lg",children:X.coupon_name}),X.is_featured&&n.jsx(Ti,{className:"text-yellow-500 fill-yellow-500",size:16}),X.is_one_time&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded-full",children:"One Time"})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-gray-900 font-medium",children:X.coupon_title})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{children:X.coupon_category?n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X.coupon_category==="medicine"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:X.coupon_category==="medicine"?"Medicine":"Lab Test"}):n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"All"})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{children:[n.jsxs("span",{className:"text-lg font-bold text-green-600",children:[X.discount_percentage||0,"%"]}),(X.min_order_amount||X.max_order_amount)&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Order Range: ",X.min_order_amount||0," - ",X.max_order_amount||""]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[X.used_count," / ",X.total_coupons]}),n.jsxs("div",{className:"text-gray-500 text-xs",children:[X.remaining_count||X.total_coupons-X.used_count," remaining"]})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("button",{onClick:()=>U(X),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors ${X.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[X.is_active?n.jsx(X8,{size:14}):n.jsx(By,{size:14}),X.is_active?"Active":"Inactive"]})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{children:["From: ",he(X.valid_from)]}),n.jsxs("div",{children:["Until: ",he(X.valid_until)]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>J(X),className:`p-2 rounded transition-colors ${X.is_featured?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:X.is_featured?"Unfeature":"Feature",children:X.is_featured?n.jsx(Ti,{className:"fill-current",size:16}):n.jsx(q8,{size:16})}),n.jsx(Be,{onClick:()=>D(X),variant:"outline",size:"sm",children:n.jsx(B8,{size:14})}),n.jsx(Be,{onClick:()=>V(X),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:X.used_count>0,title:X.used_count>0?"Cannot delete used coupon":"Delete coupon",children:n.jsx(Us,{size:14})})]})})]},X.id))})]})})})]}),n.jsx(Ude,{open:u,onClose:()=>m(!1),children:n.jsxs(Wde,{children:[n.jsx(Hde,{children:n.jsx(Kde,{children:f==="add"?"Add New Coupon":"Edit Coupon"})}),n.jsxs("form",{onSubmit:M,className:"space-y-4",children:[n.jsx(bo,{label:"Coupon Code *",type:"text",value:_.coupon_name,onChange:X=>{k({..._,coupon_name:X.target.value.toUpperCase()}),A.coupon_name&&T({...A,coupon_name:""})},error:A.coupon_name,placeholder:"SAVE10",disabled:f==="edit",fullWidth:!0}),n.jsx(bo,{label:"Coupon Title *",type:"text",value:_.coupon_title,onChange:X=>{k({..._,coupon_title:X.target.value}),A.coupon_title&&T({...A,coupon_title:""})},error:A.coupon_title,placeholder:"Save 10 on booking",fullWidth:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(bo,{label:"Discount Percentage (%) *",type:"number",step:"0.01",min:"0",max:"100",value:_.discount_percentage,onChange:X=>{k({..._,discount_percentage:parseFloat(X.target.value)||0}),A.discount_percentage&&T({...A,discount_percentage:""})},error:A.discount_percentage,placeholder:"e.g., 10",fullWidth:!0}),n.jsx(bo,{label:"Total Coupons *",type:"number",min:"1",value:_.total_coupons,onChange:X=>{k({..._,total_coupons:parseInt(X.target.value)||1}),A.total_coupons&&T({...A,total_coupons:""})},error:A.total_coupons,fullWidth:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(bo,{label:"Min Order Amount () *",type:"number",step:"0.01",min:"0",value:_.min_order_amount,onChange:X=>{k({..._,min_order_amount:X.target.value?parseFloat(X.target.value):""}),A.min_order_amount&&T({...A,min_order_amount:""})},error:A.min_order_amount,placeholder:"e.g., 200",fullWidth:!0}),n.jsx(bo,{label:"Max Order Amount ()",type:"number",step:"0.01",min:"0",value:_.max_order_amount,onChange:X=>{k({..._,max_order_amount:X.target.value?parseFloat(X.target.value):""}),A.max_order_amount&&T({...A,max_order_amount:""})},error:A.max_order_amount,placeholder:"e.g., 1000 (optional)",fullWidth:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coupon Category *"}),n.jsxs("select",{value:_.coupon_category,onChange:X=>{k({..._,coupon_category:X.target.value}),A.coupon_category&&T({...A,coupon_category:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),n.jsx("option",{value:"medicine",children:"Medicine Booking"}),n.jsx("option",{value:"lab_test",children:"Lab Test"})]}),A.coupon_category&&n.jsx("p",{className:"text-sm text-red-600",children:A.coupon_category})]}),_.min_order_amount&&_.discount_percentage>0&&_.coupon_category&&n.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["This coupon will apply ",n.jsxs("strong",{children:[_.discount_percentage,"%"]})," discount on ",_.coupon_category==="medicine"?"medicine orders":"lab test bookings"," for orders ",_.max_order_amount?`between ${_.min_order_amount} - ${_.max_order_amount}`:`of ${_.min_order_amount} and above`]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(bo,{label:"Valid From (Optional)",type:"date",value:_.valid_from,onChange:X=>{k({..._,valid_from:X.target.value}),A.valid_from&&T({...A,valid_from:""})},error:A.valid_from,fullWidth:!0}),n.jsx(bo,{label:"Valid Until (Optional)",type:"date",value:_.valid_until,onChange:X=>{k({..._,valid_until:X.target.value}),A.valid_until&&T({...A,valid_until:""})},error:A.valid_until,fullWidth:!0})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_.is_active,onChange:X=>k({..._,is_active:X.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_.is_featured,onChange:X=>k({..._,is_featured:X.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_.is_one_time,onChange:X=>k({..._,is_one_time:X.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"One Time Use"})]})]}),_.is_one_time&&n.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"One Time Use:"})," This coupon can only be used once per user. Once a user uses this coupon, they cannot use it again."]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(Be,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:w,children:"Cancel"}),n.jsx(Be,{type:"submit",disabled:w,isLoading:w,children:f==="add"?"Create Coupon":"Update Coupon"})]})]})]})})]})},Vde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!1),[i,o]=v.useState(""),[c,u]=v.useState("all"),[m,f]=v.useState("all"),h=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"});v.useEffect(()=>{g()},[c,m]);const g=async()=>{s(!0);try{const _=new URLSearchParams;c!=="all"&&_.append("status",c),m!=="all"&&_.append("type",m);const k=await fetch(`${ke}/admin/helpdesk/tickets?${_.toString()}`,{headers:h()});if(k.ok){const A=await k.json();r(A.tickets||[])}else e("Failed to fetch tickets","error"),r([])}catch{e("Failed to fetch tickets","error"),r([])}finally{s(!1)}},x=async(_,k,A)=>{try{const T=new URLSearchParams({type:k});A&&T.set("source",A),(await fetch(`${ke}/admin/helpdesk/tickets/${_}/solve?${T}`,{method:"PUT",headers:h()})).ok?(e("Ticket marked as solved","success"),r(O=>O.map(D=>D.id===_&&D.type===k&&(D.source||"user_helpdesk")===A?{...D,status:"resolved"}:D)),await g()):e("Failed to mark ticket as solved","error")}catch{e("Failed to mark ticket as solved","error")}},w=_=>({open:"bg-primary/20 text-primary",resolved:"bg-green-100 text-green-800 border border-green-200",solved:"bg-green-100 text-green-800 border border-green-200",closed:"bg-gray-100 text-gray-700 border border-gray-200"})[_]||"bg-primary/20 text-primary",y=_=>_==="resolved"||_==="solved"||_==="closed",b=_=>y(_)?"Resolved":_==="open"?"Open":_,N=t.filter(_=>_.subject.toLowerCase().includes(i.toLowerCase())||_.message.toLowerCase().includes(i.toLowerCase())||_.user_name?.toLowerCase().includes(i.toLowerCase())||_.provider_name?.toLowerCase().includes(i.toLowerCase()));return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helpdesk Management"}),n.jsx("p",{className:"text-gray-600",children:"View and manage support tickets from users and vendors."})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by subject, message, or user/vendor name...",value:i,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"solved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:m,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"user",children:"User Tickets"}),n.jsx("option",{value:"vendor",children:"Vendor Tickets"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"space-y-4",children:N.map(_=>n.jsxs(et,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(_t,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[_.type==="user"?n.jsx(ar,{className:"text-primary",size:20}):n.jsx(Nu,{className:"text-primary",size:20}),n.jsx(Nt,{className:"text-lg",children:_.subject})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(_.status)}`,children:b(_.status)}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-secondary text-primary border border-primary/20",children:_.type==="user"?"User":"Vendor"})]})]})}),n.jsxs(tt,{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-700",children:n.jsx("p",{className:"mb-2",children:_.message})}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[_.type==="user"?n.jsx(n.Fragment,{children:_.user_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ar,{size:14}),n.jsx("span",{children:_.user_name}),_.user_email&&n.jsxs("span",{className:"text-gray-400",children:["(",_.user_email,")"]})]})}):n.jsx(n.Fragment,{children:_.provider_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nu,{size:14}),n.jsx("span",{children:_.provider_name}),_.provider_email&&n.jsxs("span",{className:"text-gray-400",children:["(",_.provider_email,")"]})]})}),_.order_id&&n.jsxs("div",{className:"text-gray-500",children:["Order ID: #",_.order_id]}),n.jsx("div",{className:"text-gray-500",children:new Date(_.created_at).toLocaleDateString()})]}),!y(_.status)&&n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>x(_.id,_.type,_.source||(_.type==="vendor"?"vendor_helpdesk":"user_helpdesk")),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Br,{size:16}),"Mark as Solved"]})})]})]},`${_.source||"user_helpdesk"}-${_.type}-${_.id}`))}),N.length===0&&!a&&n.jsx(et,{children:n.jsxs(tt,{className:"text-center py-12",children:[n.jsx(db,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No tickets found"})]})})]})})},qde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState([]),[i,o]=v.useState(!0),[c,u]=v.useState(!1),[m,f]=v.useState(!1),[h,g]=v.useState(null),[x,w]=v.useState(!1),[y,b]=v.useState(""),[N,_]=v.useState(null),[k,A]=v.useState({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),[T,I]=v.useState({user_id:"",provider_id:"",booking_id:"",payment_status:""}),[O,D]=v.useState(!1),[P,M]=v.useState(null),[V,U]=v.useState(!1),[J,W]=v.useState(""),[he,X]=v.useState(!1),be=v.useRef(null),ne=v.useRef(null);v.useEffect(()=>{const G=ge=>{ne.current&&!ne.current.contains(ge.target)&&be.current&&!be.current.contains(ge.target)&&X(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]),v.useEffect(()=>{ve(),me()},[T]);const ve=async()=>{const G=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(G){o(!0);try{const ge=new URLSearchParams;Object.entries(T).forEach(([Re,De])=>{De&&ge.append(Re,De)});const le=await fetch(`${ke}/admin/bills?${ge.toString()}`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(le.ok){const Re=await le.json();r(Re.bills||[])}}catch{e("Failed to load bills","error")}finally{o(!1)}}},me=async()=>{const G=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(G)try{const ge=await fetch(`${ke}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(ge.ok){const le=await ge.json(),Re=le.data||le.bookings||[];s(Re.map(De=>({id:De.id,user_id:De.user_id,provider_id:De.provider_id,service_name:De.service_name||De.service_title||"Service",user_name:De.user_name||De.user?.full_name||De.user?.name||`User #${De.user_id}`,provider_name:De.provider_name||De.provider?.full_name||De.provider?.name||(De.provider_id?`Provider #${De.provider_id}`:"Unassigned"),payment_amount:De.payment_amount||De.total_amount||0})))}}catch(ge){console.error("Failed to load bookings:",ge)}},ae=async G=>{const ge=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ge){U(!0),M(null);try{let le=null,Re=[],De={total_amount:0,paid_amount:0,outstanding_amount:0};const Ce=a.find(Ae=>Ae.id===G);Ce&&(le={id:Ce.id,user_id:Ce.user_id,provider_id:Ce.provider_id,service_name:Ce.service_name,service_title:Ce.service_name,user_name:Ce.user_name,provider_name:Ce.provider_name,payment_amount:Ce.payment_amount||0,user_full_name:Ce.user_name,provider_full_name:Ce.provider_name});try{const Ae=await fetch(`${ke}/admin/bills/booking/${G}`,{headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(Ae.ok){const je=await Ae.json();je.booking&&(le={id:je.booking.id,user_id:je.booking.user_id,provider_id:je.booking.provider_id,service_name:je.booking.service_title||je.booking.service_name||"Service",service_title:je.booking.service_title,user_name:je.booking.user_full_name||je.booking.user_name||`User #${je.booking.user_id}`,provider_name:je.booking.provider_full_name||je.booking.provider_name||(je.booking.provider_id?`Provider #${je.booking.provider_id}`:"Unassigned"),payment_amount:je.booking.payment_amount||je.booking.service_price_discounted||je.booking.service_price_original||0,user_full_name:je.booking.user_full_name,provider_full_name:je.booking.provider_full_name}),De=je.outstanding_info||{total_amount:le?.payment_amount||0,paid_amount:0,outstanding_amount:le?.payment_amount||0},Re=je.bills||[]}else if(Ae.status===404)console.log("Booking not found in bills endpoint, using data from bookings list");else{const je=await Ae.json().catch(()=>({}));console.error("Bills endpoint error:",je)}}catch(Ae){console.error("Error fetching from bills endpoint:",Ae)}if(!le)try{const Ae=await fetch(`${ke}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(Ae.ok){const je=await Ae.json(),Xe=(je.data||je.bookings||[]).find(gt=>gt.id===G);Xe&&(le={id:Xe.id,user_id:Xe.user_id,provider_id:Xe.provider_id,service_name:Xe.service_title||Xe.service_name||"Service",service_title:Xe.service_title,user_name:Xe.user_full_name||Xe.user_name||`User #${Xe.user_id}`,provider_name:Xe.provider_full_name||Xe.provider_name||(Xe.provider_id?`Provider #${Xe.provider_id}`:"Unassigned"),payment_amount:Xe.payment_amount||Xe.service_price_discounted||Xe.service_price_original||0,user_full_name:Xe.user_full_name,provider_full_name:Xe.provider_full_name})}}catch(Ae){console.error("Error fetching from appointments endpoint:",Ae)}le?(De.total_amount===0&&le.payment_amount&&(De={total_amount:le.payment_amount,paid_amount:Re.reduce((Ae,je)=>Ae+je.bill_amount,0),outstanding_amount:le.payment_amount-Re.reduce((Ae,je)=>Ae+je.bill_amount,0)}),M({booking:le,outstanding_info:De,bills:Re}),De.outstanding_amount>0&&A(Ae=>({...Ae,bill_amount:De.outstanding_amount.toString()}))):(e(`Booking #${G} not found. Please check the booking ID.`,"error"),M(null))}catch(le){console.error("Failed to load booking details:",le),e("Failed to load booking details. Please try again.","error"),M(null)}finally{U(!1)}}},C=G=>{const ge=parseInt(G);if(isNaN(ge)){e("Please enter a valid booking ID","error");return}A({...k,booking_id:G});const le=a.find(Re=>Re.id===ge);W(le?`#${le.id} - ${le.service_name} - ${le.user_name}`:`#${ge}`),X(!1),ae(ge)},B=a.filter(G=>{if(!J)return!1;const ge=J.toLowerCase();return G.id.toString().includes(ge)||G.service_name.toLowerCase().includes(ge)||G.user_name.toLowerCase().includes(ge)||G.provider_name.toLowerCase().includes(ge)}),H=async G=>{G.preventDefault();const ge=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ge){if(!P){e("Please select a booking first","error");return}D(!0);try{const le=await fetch(`${ke}/admin/bills/generate`,{method:"POST",headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"},body:JSON.stringify({booking_id:parseInt(k.booking_id),user_id:P.booking.user_id,provider_id:P.booking.provider_id||null,bill_amount:parseFloat(k.bill_amount),generated_by:"Admin",notes:k.notes})});if(le.ok)e("Bill generated successfully","success"),u(!1),A({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),W(""),M(null),ve(),P&&P.booking.id&&ae(P.booking.id);else{const Re=await le.json();throw new Error(Re.error?.message||"Failed to generate bill")}}catch(le){e(le.message||"Failed to generate bill","error")}finally{D(!1)}}},K=async G=>{const ge=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ge)try{const le=await fetch(`${ke}/admin/bills/${G}`,{headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(le.ok){const Re=await le.json();g(Re.bill),f(!0)}}catch{e("Failed to load bill details","error")}},te=async(G,ge,le)=>{const Re=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(Re)try{const De={payment_status:ge};ge==="partial"&&le!==void 0&&(De.paid_amount=le);const Ce=await fetch(`${ke}/admin/bills/${G}/update-payment-status`,{method:"POST",headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"},body:JSON.stringify(De)});if(Ce.ok){if(e("Payment status updated","success"),ve(),h?.id===G){const Ae=await Ce.json();g(Ae.bill)}P&&P.booking.id&&ae(P.booking.id)}else{const Ae=await Ce.json();e(Ae.error?.message||"Failed to update payment status","error")}}catch{e("Failed to update payment status","error")}},ye=()=>{if(!N)return;const G=parseFloat(y);if(isNaN(G)||G<=0){e("Please enter a valid payment amount","error");return}te(N,"partial",G),w(!1),b(""),_(null)},Se=G=>`${G.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,L=G=>new Date(G).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return n.jsx(Yt,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bill Management"}),n.jsx("p",{className:"text-gray-600",children:"Generate and manage bills for bookings"})]}),n.jsxs(Be,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[n.jsx(pa,{size:16}),"Generate Bill"]})]}),n.jsx(et,{className:"mb-6",children:n.jsx(tt,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User ID"}),n.jsx("input",{type:"number",value:T.user_id,onChange:G=>I({...T,user_id:G.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by user"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider ID"}),n.jsx("input",{type:"number",value:T.provider_id,onChange:G=>I({...T,provider_id:G.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by provider"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID"}),n.jsx("input",{type:"number",value:T.booking_id,onChange:G=>I({...T,booking_id:G.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by booking"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),n.jsxs("select",{value:T.payment_status,onChange:G=>I({...T,payment_status:G.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"partial",children:"Partial"})]})]})]})})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"All Bills"})}),n.jsx(tt,{children:i?n.jsx(Uu,{}):t.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bills found"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bill Number"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Outstanding"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(G=>{const ge=a.find(le=>le.id===G.booking_id);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:G.bill_number}),n.jsxs("td",{className:"px-4 py-3 text-sm",children:["#",G.booking_id]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:ge?.user_name||`User #${G.user_id}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:Se(G.bill_amount)}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:G.current_outstanding_amount!==void 0?Se(G.current_outstanding_amount):Se(G.outstanding_amount)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G.payment_status==="paid"?"bg-green-100 text-green-800":G.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.payment_status})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:L(G.generated_at)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(Be,{onClick:()=>K(G.id),variant:"ghost",size:"sm",children:n.jsx(ya,{size:16})})})]},G.id)})})]})})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Generate Bill"}),n.jsx("button",{onClick:()=>u(!1),children:n.jsx(Rt,{size:20})})]}),n.jsxs("form",{onSubmit:H,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID / Select Booking"}),n.jsxs("div",{className:"relative",ref:ne,children:[n.jsx("input",{ref:be,type:"text",value:J,onChange:G=>{const ge=G.target.value;W(ge),X(ge.length>0);const le=ge.match(/^#?(\d+)$/);if(le){const Re=parseInt(le[1]);A({...k,booking_id:Re.toString()})}else ge.length===0&&(A({...k,booking_id:""}),M(null))},onKeyDown:G=>{if(G.key==="Enter"){G.preventDefault();const ge=J.match(/^#?(\d+)$/);if(ge){const le=parseInt(ge[1]);C(le.toString())}else k.booking_id&&C(k.booking_id)}G.key==="Escape"&&X(!1)},onFocus:()=>{J&&X(!0)},placeholder:"Enter booking ID (e.g., 65) or search by service/user name...",className:"w-full px-3 py-2 border rounded-md",required:!0}),he&&J&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:B.length>0?B.slice(0,10).map(G=>n.jsxs("div",{onClick:()=>C(G.id.toString()),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",children:[n.jsxs("div",{className:"font-medium",children:["#",G.id," - ",G.service_name]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[G.user_name,"  ",G.provider_name]})]},G.id)):n.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No bookings found. You can enter booking ID directly (e.g., 65) and press Enter."})})]}),k.booking_id&&n.jsx("input",{type:"hidden",name:"booking_id",value:k.booking_id})]}),P&&n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-lg p-5 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between border-b-2 border-blue-200 pb-3",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900",children:" Booking Details"}),n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:["ID: #",P.booking.id||k.booking_id]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Service"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:P.booking.service_name||P.booking.service_title||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Booking ID"}),n.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["#",P.booking.id||k.booking_id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"User"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:P.booking.user_full_name||P.booking.user_name||`User #${P.booking.user_id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Provider"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:P.booking.provider_full_name||P.booking.provider_name||(P.booking.provider_id?`Provider #${P.booking.provider_id}`:"Unassigned")})]})]}),n.jsxs("div",{className:"bg-white rounded p-3 border border-primary/20",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Booking Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-gray-900",children:Se(P.outstanding_info.total_amount)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Billed Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-green-600",children:Se(P.bills.reduce((G,ge)=>G+ge.bill_amount,0))}),P.bills.length>0&&n.jsxs("span",{className:"text-xs text-gray-500 block mt-1",children:["(",P.bills.length," ",P.bills.length===1?"bill":"bills",")"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Outstanding Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-red-600",children:Se(P.outstanding_info.outstanding_amount)}),n.jsx("span",{className:"text-xs text-gray-500 block mt-1",children:"(Remaining to bill)"})]})]}),n.jsx("div",{className:"border-t pt-2 mt-2 text-xs text-gray-600",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Calculation:"}),n.jsxs("span",{className:"font-medium",children:["Total (",Se(P.outstanding_info.total_amount),") - Billed (",Se(P.bills.reduce((G,ge)=>G+ge.bill_amount,0)),") = Outstanding (",Se(P.outstanding_info.outstanding_amount),")"]})]})})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-2",children:["Bill History",P.bills.length>0&&n.jsxs("span",{className:"text-gray-500 font-normal",children:["(",P.bills.length," ",P.bills.length===1?"bill":"bills",")"]})]}),P.bills.length>0?n.jsx("div",{className:"bg-white rounded border border-gray-200 max-h-48 overflow-y-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Bill #"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Amount"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Status"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Generated Date"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Paid Date"})]})}),n.jsx("tbody",{children:P.bills.map((G,ge)=>n.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ge===P.bills.length-1?"border-b-2 border-primary/20":""}`,children:[n.jsx("td",{className:"px-3 py-2 font-medium",children:G.bill_number}),n.jsx("td",{className:"px-3 py-2 font-semibold",children:Se(G.bill_amount)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G.payment_status==="paid"?"bg-green-100 text-green-800":G.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.payment_status.charAt(0).toUpperCase()+G.payment_status.slice(1)})}),n.jsx("td",{className:"px-3 py-2",children:L(G.generated_at)}),n.jsx("td",{className:"px-3 py-2",children:G.paid_at?n.jsx("span",{className:"text-green-600",children:L(G.paid_at)}):n.jsx("span",{className:"text-gray-400",children:"-"})})]},G.id))}),n.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-primary/20",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:2,className:"px-3 py-2 font-semibold text-right",children:"Total Billed:"}),n.jsx("td",{colSpan:3,className:"px-3 py-2 font-bold text-lg",children:Se(P.bills.reduce((G,ge)=>G+ge.bill_amount,0))})]})})]})}):n.jsx("div",{className:"bg-white rounded border border-gray-200 p-4 text-center text-gray-500 text-sm",children:"No bills generated yet for this booking. The outstanding amount shown above is the total booking amount."})]})]}),V&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading booking details..."}),P&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User"}),n.jsx("input",{type:"text",value:P.booking.user_full_name||P.booking.user_name||`User #${P.booking.user_id}`,readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),n.jsx("input",{type:"hidden",name:"user_id",value:P.booking.user_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider"}),n.jsx("input",{type:"text",value:P.booking.provider_full_name||P.booking.provider_name||(P.booking.provider_id?`Provider #${P.booking.provider_id}`:"Unassigned"),readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),P.booking.provider_id&&n.jsx("input",{type:"hidden",name:"provider_id",value:P.booking.provider_id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bill Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:k.bill_amount,onChange:G=>A({...k,bill_amount:G.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (Optional)"}),n.jsx("textarea",{value:k.notes,onChange:G=>A({...k,notes:G.target.value}),className:"w-full px-3 py-2 border rounded-md",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(Be,{type:"button",variant:"outline",onClick:()=>{u(!1),A({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),W(""),M(null),X(!1)},onBlur:()=>setTimeout(()=>X(!1),200),children:"Cancel"}),n.jsx(Be,{type:"submit",disabled:O,children:O?"Generating...":"Generate Bill"})]})]})]})}),x&&N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Enter Partial Payment Amount"}),n.jsx("button",{onClick:()=>{w(!1),b(""),_(null)},children:n.jsx(Rt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[h&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Bill Amount:"}),n.jsx("div",{className:"text-lg font-semibold",children:Se(h.bill_amount)}),h.outstanding_amount>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Outstanding:"}),n.jsx("div",{className:"text-base font-medium text-red-600",children:Se(h.outstanding_amount)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Paid ()"}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",max:h?.outstanding_amount||h?.bill_amount||0,value:y,onChange:G=>b(G.target.value),placeholder:"Enter amount being paid",className:"w-full px-3 py-2 border rounded-md",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),ye())}}),h&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",Se(h.outstanding_amount||h.bill_amount)]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(Be,{type:"button",variant:"outline",onClick:()=>{w(!1),b(""),_(null)},children:"Cancel"}),n.jsx(Be,{onClick:ye,disabled:!y||parseFloat(y)<=0,children:"Confirm Partial Payment"})]})]})]})}),m&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Bill Details - ",h.bill_number]}),n.jsx("button",{onClick:()=>f(!1),children:n.jsx(Rt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bill Number"}),n.jsx("p",{className:"text-lg font-semibold",children:h.bill_number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:Se(h.bill_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),n.jsx("p",{className:"text-lg font-semibold",children:Se(h.outstanding_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("p",{className:"text-lg",children:n.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${h.payment_status==="paid"?"bg-green-100 text-green-800":h.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.payment_status})})]})]}),h.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notes"}),n.jsx("p",{className:"text-sm",children:h.notes})]}),n.jsx("div",{className:"flex gap-3 pt-4 border-t",children:n.jsx(Be,{onClick:()=>te(h.id,"paid"),className:"bg-green-600 hover:bg-green-700",disabled:h.payment_status==="paid",children:"Mark as Paid"})})]})]})})]})})},mh=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${nb}${r}`},Gde={Draft:"bg-amber-100 text-amber-700 border border-amber-200",Published:"bg-emerald-100 text-emerald-700 border border-emerald-200",Active:"bg-orange-100 text-orange-700 border border-orange-200",Inactive:"bg-rose-100 text-rose-500 border border-rose-200"},My=()=>{const{addToast:e}=Jt(),a=na().pathname.includes("/banners")?"banners":"blogs",[s,i]=v.useState([]),[o,c]=v.useState([]),[u,m]=v.useState([]),[f,h]=v.useState([]),[g,x]=v.useState(!1),[w,y]=v.useState(!1),[b,N]=v.useState(!1),[_,k]=v.useState(!1),[A,T]=v.useState(null),[I,O]=v.useState(null),[D,P]=v.useState({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),[M,V]=v.useState({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),[U,J]=v.useState(null),W=(L=!1)=>{const G=localStorage.getItem("KwikMedi_token"),ge={};return G&&(ge.Authorization=`Bearer ${G}`),L&&(ge["Content-Type"]="application/json"),ge},he=async()=>{x(!0);try{const L=await fetch(`${ke}/admin/blogs`,{headers:W()});if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const G=await L.json();G.success&&Array.isArray(G.blogs)?i(G.blogs):e("Failed to load blogs","error")}catch(L){console.error("Error fetching blogs:",L),e(`Error loading blogs: ${L instanceof Error?L.message:"Unknown error"}`,"error")}finally{x(!1)}},X=async()=>{x(!0);try{const L=await fetch(`${ke}/admin/banners`,{headers:W()});if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const G=await L.json();G.success&&Array.isArray(G.banners)?c(G.banners):e("Failed to load banners","error")}catch(L){console.error("Error fetching banners:",L),e(`Error loading banners: ${L instanceof Error?L.message:"Unknown error"}`,"error")}finally{x(!1)}},be=async()=>{try{const L=await fetch(`${ke}/admin/categories`,{headers:W()});if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const G=await L.json();Array.isArray(G.categories)&&m(G.categories)}catch(L){console.error("Error fetching categories:",L)}},ne=async()=>{try{const L=await fetch(`${ke}/admin/inventory?is_discontinued=0`,{headers:W()});if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const G=await L.json();if(Array.isArray(G.inventory)){const ge=G.inventory.filter(le=>!le.is_discontinued&&le.stock_quantity>0);h(ge)}}catch(L){console.error("Error fetching products:",L)}};v.useEffect(()=>{he(),X(),be(),ne()},[]);const ve=v.useMemo(()=>{const L=s.length,G=s.filter(le=>le.status==="Published").length,ge=s.filter(le=>le.status==="Draft").length;return[{label:"Total Posts",value:L,subtitle:"Across pet care categories",icon:n.jsx(Lg,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Published",value:G,subtitle:"Live on the site",icon:n.jsx(ns,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Drafts",value:ge,subtitle:"Ready for review",icon:n.jsx(Qr,{className:"text-amber-500",size:22}),gradient:"from-amber-100 to-orange-50"}]},[]),me=v.useMemo(()=>{const L=o.length,G=o.filter(le=>le.status==="Active").length,ge=o.filter(le=>le.status==="Inactive").length;return[{label:"Total Banners",value:L,subtitle:"Displayed across pages",icon:n.jsx(z8,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Active",value:G,subtitle:"Currently visible",icon:n.jsx(Rg,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Inactive",value:ge,subtitle:"Hidden banners",icon:n.jsx(By,{className:"text-rose-500",size:22}),gradient:"from-rose-100 to-rose-50"}]},[]),ae=async L=>{L.preventDefault(),y(!0);try{const G=localStorage.getItem("KwikMedi_token");let ge;if(D.image instanceof File){const Re=new FormData;Re.append("title",D.title),Re.append("category",D.category),Re.append("status",D.status),D.author&&Re.append("author",D.author),D.excerpt&&Re.append("excerpt",D.excerpt),D.content&&Re.append("content",D.content),Re.append("image",D.image),ge=await fetch(`${ke}/admin/blogs${A?`/${A.id}`:""}`,{method:A?"PUT":"POST",headers:{Authorization:`Bearer ${G}`},body:Re})}else{const Re={title:D.title,category:D.category,status:D.status};D.author&&(Re.author=D.author),D.excerpt&&(Re.excerpt=D.excerpt),D.content&&(Re.content=D.content),typeof D.image=="string"&&D.image&&(Re.image=D.image),ge=await fetch(`${ke}/admin/blogs${A?`/${A.id}`:""}`,{method:A?"PUT":"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(Re)})}const le=await ge.json();ge.ok&&le.success?(await he(),e(A?"Blog updated successfully":"Blog created successfully","success"),N(!1),K()):e(le.error?.message||"Failed to save blog","error")}catch(G){console.error("Error saving blog:",G),e("Error saving blog","error")}finally{y(!1)}},C=async L=>{if(L.preventDefault(),M.link_type==="category"){if(!M.category_id||M.category_id===0){e("Please select a category","error");return}}else if(M.link_type==="product"&&(!M.product_id||M.product_id===0)){e("Please select a product","error");return}y(!0);try{const G=localStorage.getItem("KwikMedi_token");let ge;if(M.image instanceof File){const Re=new FormData;Re.append("link_type",M.link_type),M.link_type==="category"?Re.append("category_id",M.category_id.toString()):M.link_type==="product"&&Re.append("product_id",M.product_id.toString()),Re.append("sequence",M.sequence.toString()),Re.append("image",M.image),ge=await fetch(`${ke}/admin/banners${I?`/${I.id}`:""}`,{method:I?"PUT":"POST",headers:{Authorization:`Bearer ${G}`},body:Re})}else{const Re={link_type:M.link_type,sequence:M.sequence};M.link_type==="category"?Re.category_id=M.category_id:M.link_type==="product"&&(Re.product_id=M.product_id),typeof M.image=="string"&&M.image&&(Re.image=M.image),ge=await fetch(`${ke}/admin/banners${I?`/${I.id}`:""}`,{method:I?"PUT":"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(Re)})}const le=await ge.json();ge.ok&&le.success?(await X(),e(I?"Banner updated successfully":"Banner created successfully","success"),k(!1),te()):e(le.error?.message||"Failed to save banner","error")}catch(G){console.error("Error saving banner:",G),e("Error saving banner","error")}finally{y(!1)}},B=async L=>{if(confirm("Are you sure you want to delete this blog post?"))try{const G=localStorage.getItem("KwikMedi_token"),ge=await fetch(`${ke}/admin/blogs/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}}),le=await ge.json();ge.ok&&le.success?(await he(),e("Blog deleted successfully","success")):e(le.error?.message||"Failed to delete blog","error")}catch(G){console.error("Error deleting blog:",G),e("Error deleting blog","error")}},H=async L=>{if(confirm("Are you sure you want to delete this banner?"))try{const G=localStorage.getItem("KwikMedi_token"),ge=await fetch(`${ke}/admin/banners/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}}),le=await ge.json();ge.ok&&le.success?(await X(),e("Banner deleted successfully","success")):e(le.error?.message||"Failed to delete banner","error")}catch(G){console.error("Error deleting banner:",G),e("Error deleting banner","error")}},K=()=>{P({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),T(null),J(null)},te=()=>{V({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),O(null),J(null)},ye=L=>{T(L),P({title:L.title,category:L.category,status:L.status,author:L.author||"",excerpt:L.excerpt||"",content:L.content||"",image:L.image_url}),J(L.image_url?mh(L.image_url):null),N(!0)},Se=L=>{O(L);const G=L.link_type||(L.category_id?"category":L.product_id?"product":"category");V({link_type:G,category_id:L.category_id||0,product_id:L.product_id||0,sequence:L.sequence||0,image:L.image_url}),J(L.image_url?mh(L.image_url):null),k(!0)};return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsx("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Site Experience"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"Site Management Studio"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:"Manage the KwikMedi story with fresh blog posts, vibrant banners, and curated experiences for pet parents exploring training, grooming, healthcare, and nutrition."})]})})}),n.jsx(et,{className:"rounded-3xl border border-orange-100/70 bg-white/95 shadow-lg",children:n.jsxs(tt,{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Manage"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-orange-900",children:"Content Hubs"})]})}),a==="blogs"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:ve.map(L=>n.jsx(et,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(tt,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${L.gradient}`,children:L.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:L.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:L.value}),n.jsx("p",{className:"text-xs text-orange-400",children:L.subtitle})]})]})},L.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[n.jsx(et,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(tt,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(Lg,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Create New Blog Post"}),n.jsx("p",{className:"text-sm text-orange-500",children:"Draft insights, publish stories, and keep pet parents inspired."})]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:ae,children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Title"}),n.jsx("input",{type:"text",placeholder:"Enter engaging headline",value:D.title,onChange:L=>P({...D,title:L.target.value}),required:!0,className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(ll,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:D.category,onChange:L=>P({...D,category:L.target.value}),className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Healthcare"}),n.jsx("option",{children:"Nutrition"})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Featured Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jc,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx(Fc,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:L=>{const G=L.target.files?.[0];if(G){const ge=URL.createObjectURL(G);J(ge),P({...D,image:G})}}})]})]}),n.jsx("input",{type:"url",value:typeof D.image=="string"?D.image:"",onChange:L=>{P({...D,image:L.target.value}),J(L.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),U&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:U,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Status"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900",children:[n.jsx(By,{size:18,className:"text-orange-400"}),n.jsxs("select",{value:D.status,onChange:L=>P({...D,status:L.target.value}),className:"flex-1 bg-transparent outline-none",children:[n.jsx("option",{children:"Draft"}),n.jsx("option",{children:"Published"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Excerpt"}),n.jsx("textarea",{rows:3,placeholder:"Short summary for preview cards...",value:D.excerpt,onChange:L=>P({...D,excerpt:L.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Content (optional)"}),n.jsx("textarea",{rows:5,placeholder:"Full blog content...",value:D.content,onChange:L=>P({...D,content:L.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Author (optional)"}),n.jsx("input",{type:"text",placeholder:"Author name",value:D.author,onChange:L=>P({...D,author:L.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>N(!1),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:w?"Saving...":A?"Update Post":"Publish Post"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-orange-400"})}):s.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(Lg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No blog posts yet. Create your first post!"})]}):s.map(L=>n.jsx(et,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(tt,{className:"flex flex-col gap-4 p-5 sm:flex-row sm:gap-5",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 sm:w-44",children:L.image_url?n.jsx("img",{src:mh(L.image_url),alt:L.title,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(jc,{className:"text-orange-300",size:32})})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[n.jsx(k8,{size:14}),L.category]}),n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Gde[L.status]}`,children:L.status})]}),n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:L.title}),n.jsx("p",{className:"text-sm text-orange-500",children:L.excerpt||"No excerpt"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-orange-400",children:[L.author&&n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(ar,{size:14}),L.author]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Fr,{size:14}),L.published_at?new Date(L.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not published"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-end sm:flex-col sm:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>ye(L),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx($g,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>B(L.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(Us,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},L.id))})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-orange-900",children:"Banner Management"}),n.jsx("p",{className:"mt-1 text-sm text-orange-500",children:"Create and manage site banners"})]}),n.jsxs("button",{type:"button",onClick:()=>{te()},className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500",children:[n.jsx(pa,{size:18}),"Add New Banner"]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:me.map(L=>n.jsx(et,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(tt,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${L.gradient}`,children:L.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:L.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:L.value}),n.jsx("p",{className:"text-xs text-orange-400",children:L.subtitle})]})]})},L.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[0.9fr,1.1fr]",children:[n.jsx(et,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(tt,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(Rg,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:I?"Edit Banner":"Create New Banner"}),n.jsx("p",{className:"text-sm text-orange-500",children:I?"Update banner details and settings":"Craft hero banners with tailored CTAs for each section."})]})]}),I&&n.jsxs("button",{type:"button",onClick:()=>te(),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(Rt,{size:14,className:"inline mr-1"}),"Cancel Edit"]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:C,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Link Type"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(R8,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.link_type,onChange:L=>{const G=L.target.value;V({...M,link_type:G,category_id:G==="category"?M.category_id:0,product_id:G==="product"?M.product_id:0})},className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"category",children:"Category"}),n.jsx("option",{value:"product",children:"Product"})]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Choose what the banner should link to"})]}),M.link_type==="category"?n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(ll,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.category_id,onChange:L=>V({...M,category_id:parseInt(L.target.value)||0}),required:M.link_type==="category",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a category"}),u.map(L=>n.jsx("option",{value:L.id,children:L.name},L.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to services in this category"})]}):n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Product"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(ll,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.product_id,onChange:L=>V({...M,product_id:parseInt(L.target.value)||0}),required:M.link_type==="product",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a product"}),f.map(L=>n.jsxs("option",{value:L.id,children:[L.medicine_name," (",L.price,")"]},L.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link directly to this product"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Sequence"}),n.jsx("input",{type:"number",min:"0",placeholder:"0",value:M.sequence,onChange:L=>V({...M,sequence:parseInt(L.target.value)||0}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Lower numbers appear first"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Banner Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jc,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx(Fc,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:L=>{const G=L.target.files?.[0];if(G){const ge=URL.createObjectURL(G);J(ge),V({...M,image:G})}}})]})]}),n.jsx("input",{type:"url",value:typeof M.image=="string"?M.image:"",onChange:L=>{V({...M,image:L.target.value}),J(L.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),U&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:U,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[I&&n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>te(),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:w?"Saving...":I?"Update Banner":"Create Banner"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-orange-400"})}):o.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(Rg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No banners yet. Create your first banner!"})]}):o.map(L=>n.jsx(et,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(tt,{className:"flex flex-col gap-4 p-5 md:flex-row md:items-center md:gap-6",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 md:w-48",children:L.image_url?n.jsx("img",{src:mh(L.image_url),alt:L.category_name||`Banner ${L.id}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(jc,{className:"text-orange-300",size:32})})}),n.jsx("div",{className:"flex-1 space-y-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[L.link_type==="product"&&L.product_id?n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-600",children:[n.jsx(ll,{size:14}),"Product: ",L.product_name||`ID: ${L.product_id}`]}):n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold text-orange-600",children:[n.jsx(ll,{size:14}),"Category: ",L.category_name||`ID: ${L.category_id}`]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 text-xs font-semibold text-primary",children:["Sequence: ",L.sequence||0]})]})}),n.jsxs("div",{className:"flex items-center gap-2 self-end md:flex-col md:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>Se(L),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx($g,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>H(L.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(Us,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},L.id))})]})]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Style Guides"}),n.jsx("h3",{className:"text-xl font-semibold text-orange-900",children:"KwikMedi Content Principles"}),n.jsx("p",{className:"mt-2 max-w-2xl text-sm text-orange-500",children:"Gilroy for headings, Inter for supporting text, and a warm orange-to-amber palette create a playful yet professional brand for pet parents and trainers."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-sm font-semibold text-orange-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(ub,{size:16}),"Brand Ready"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx($g,{size:16}),"Copywriting Polished"]})]})]})})]})})},Xde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(""),[f,h]=v.useState(1),[g,x]=v.useState(1),[w,y]=v.useState(0),b=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),N=async()=>{a(!0),i("");try{const A=new URLSearchParams({page:f.toString(),page_size:"50"});o&&A.append("search",o),u&&A.append("status",u);const T=await fetch(`${ke}/admin/lab-tests/bookings?${A}`,{headers:b()}),I=await T.json();T.ok?(t(I.bookings||[]),y(I.total||0),x(I.total_pages||1)):i(I.error?.message||"Failed to fetch bookings")}catch(A){i(A.message||"Failed to fetch bookings")}finally{a(!1)}};v.useEffect(()=>{N()},[f,u]),v.useEffect(()=>{const A=setTimeout(()=>{f===1?N():h(1)},500);return()=>clearTimeout(A)},[o]);const _=A=>{const T={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",failed:"bg-gray-100 text-gray-800"};return T[A]||T.pending},k=A=>{switch(A){case"confirmed":return n.jsx(Br,{size:16});case"cancelled":case"failed":return n.jsx($n,{size:16});case"completed":return n.jsx(Br,{size:16});default:return n.jsx(Qr,{size:16})}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search by name, phone, or booking ID...",value:o,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:u,onChange:A=>m(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(W0,{size:18}),"Refresh"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Bookings"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Pending"}),n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(A=>A.status==="pending").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Confirmed"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(A=>A.status==="confirmed").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Completed"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(A=>A.status==="completed").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Failed"}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(A=>A.status==="failed").length})]})]}),r?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading bookings..."})]}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx(Ol,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(Fr,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No bookings found"})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Packages"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",A.id]}),A.redcliffe_booking_id&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Redcliffe: ",A.redcliffe_booking_id]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.customer_name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx($a,{size:12}),A.customer_phonenumber]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Ra,{size:12}),A.email]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:new Date(A.collection_date).toLocaleDateString()}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Slot: ",A.collection_slot]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.package_codes?.slice(0,3).map((T,I)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:[n.jsx(Zn,{size:12,className:"mr-1"}),T]},I)),A.package_codes?.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",A.package_codes.length-3," more"]})]}),A.additional_members?.length>0&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",A.additional_members.length," additional member(s)"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${_(A.status)}`,children:[k(A.status),A.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(A.created_at).toLocaleString()})]},A.id))})]})}),g>1&&n.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",f," of ",g]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>h(A=>Math.max(1,A-1)),disabled:f===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsx("button",{onClick:()=>h(A=>Math.min(g,A+1)),disabled:f===g,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},Yde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(null),[u,m]=v.useState(!1),[f,h]=v.useState({name:"",image_url:"",show_on_homepage:!1,display_order:0}),[g,x]=v.useState(null),[w,y]=v.useState([]),[b,N]=v.useState(!1),[_,k]=v.useState([]),[A,T]=v.useState(""),[I,O]=v.useState(!1),[D,P]=v.useState(""),[M,V]=v.useState(""),U=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),J=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`}),W=async()=>{a(!0),i("");try{const K=await fetch(`${ke}/admin/lab-tests/categories`,{headers:U()}),te=await K.json();K.ok?t(te.categories||[]):i(te.error?.message||"Failed to fetch categories")}catch(K){i(K.message||"Failed to fetch categories")}finally{a(!1)}},he=async(K,te)=>{m(!0);try{const ye=new FormData;ye.append("image",K);const Se=await fetch(`${ke}/admin/lab-tests/categories/upload-image`,{method:"POST",headers:J(),body:ye}),L=await Se.json();Se.ok?await X(te,{image_url:L.image_url}):i(L.error?.message||"Failed to upload image")}catch(ye){i(ye.message||"Failed to upload image")}finally{m(!1)}},X=async(K,te)=>{try{const ye={...f,...te,show_on_homepage:f.show_on_homepage?1:0},Se=await fetch(`${ke}/admin/lab-tests/categories/${K}`,{method:"PUT",headers:U(),body:JSON.stringify(ye)}),L=await Se.json();Se.ok?(await W(),c(null),i("")):i(L.error?.message||"Failed to update category")}catch(ye){i(ye.message||"Failed to update category")}},be=K=>{c(K.id),h({name:K.name,image_url:K.image_url||"",show_on_homepage:K.show_on_homepage||!1,display_order:K.display_order||0})},ne=()=>{o&&X(o,{})},ve=()=>{c(null),h({name:"",image_url:"",show_on_homepage:!1,display_order:0})},me=async K=>{N(!0);try{const te=await fetch(`${ke}/admin/lab-tests/categories/${K}/packages`,{headers:U()}),ye=await te.json();te.ok?y(ye.packages||[]):i(ye.error?.message||"Failed to fetch packages")}catch(te){i(te.message||"Failed to fetch packages")}finally{N(!1)}},ae=async(K="")=>{try{const te=new URLSearchParams({page:"1",page_size:"100"});K&&te.append("search",K);const ye=await fetch(`${ke}/admin/lab-tests/packages?${te}`,{headers:U()}),Se=await ye.json();if(ye.ok){let L=[];Se.data&&Array.isArray(Se.data)?L=Se.data:Se.results&&Array.isArray(Se.results)?L=Se.results:Array.isArray(Se)&&(L=Se);const G=L.map(ge=>({code:ge.code||ge.package_code||"",name:ge.name||ge.package_name||ge.title||""})).filter(ge=>ge.code&&ge.code.trim()!=="");k(G),console.log(`Loaded ${G.length} available packages`)}else console.error("Failed to fetch packages:",Se),i(Se.error?.message||"Failed to fetch available packages")}catch(te){console.error("Failed to fetch available packages:",te),i(te.message||"Failed to fetch available packages")}},C=async K=>{x(K),await me(K),await ae()},B=async()=>{if(!(!D||!g)){O(!0),i("");try{const K=await fetch(`${ke}/admin/lab-tests/categories/${g}/packages`,{method:"POST",headers:U(),body:JSON.stringify({package_code:D,package_name:M||D,display_order:w.length})}),te=await K.json();K.ok?(await me(g),await W(),P(""),V(""),T(""),i("")):i(te.error?.message||"Failed to add package")}catch(K){i(K.message||"Failed to add package")}finally{O(!1)}}},H=async K=>{if(g&&window.confirm("Are you sure you want to remove this package from the category?")){i("");try{const te=await fetch(`${ke}/admin/lab-tests/categories/${g}/packages/${K}`,{method:"DELETE",headers:U()}),ye=await te.json();te.ok?(await me(g),await W(),i("")):i(ye.error?.message||"Failed to remove package")}catch(te){i(te.message||"Failed to remove package")}}};return v.useEffect(()=>{W()},[]),v.useEffect(()=>{if(g){const K=setTimeout(()=>{ae(A)},500);return()=>clearTimeout(K)}},[A,g]),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Test Categories"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage static lab test categories and assign packages to them"})]}),n.jsxs("button",{onClick:W,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]}),r?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading categories..."})]}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx(Ol,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(mu,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No categories found"})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Categories: ",n.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(K=>n.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${K.show_on_homepage?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(mu,{className:"text-blue-600",size:20}),n.jsx("h3",{className:"font-semibold text-gray-900",children:K.name}),K.show_on_homepage&&n.jsx(Ti,{className:"text-yellow-500",size:16,fill:"currentColor"})]}),K.package_count!==void 0&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[n.jsx(Zn,{size:14}),n.jsxs("span",{children:[K.package_count," package(s)"]})]}),K.display_order!==void 0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Order: ",K.display_order]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>C(K.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Manage packages",children:n.jsx(Zn,{size:18})}),n.jsx("button",{onClick:()=>be(K),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit category",children:n.jsx(fb,{size:18})})]})]}),K.image_url&&n.jsx("div",{className:"mb-3",children:n.jsx("img",{src:K.image_url,alt:K.name,className:"w-full h-32 object-cover rounded border border-gray-200",onError:te=>{te.target.style.display="none"}})}),o===K.id&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded border border-gray-200 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`image-upload-${K.id}`,onChange:te=>{const ye=te.target.files?.[0];ye&&he(ye,K.id)}}),n.jsxs("label",{htmlFor:`image-upload-${K.id}`,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 rounded text-xs cursor-pointer hover:bg-gray-50",children:[n.jsx(Fc,{size:14}),u?"Uploading...":"Upload Image"]}),n.jsx("input",{type:"url",value:f.image_url,onChange:te=>h({...f,image_url:te.target.value}),placeholder:"Or paste image URL",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),f.image_url&&n.jsx("img",{src:f.image_url,alt:"Preview",className:"mt-2 w-full h-20 object-cover rounded border border-gray-200",onError:te=>{te.target.style.display="none"}})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.show_on_homepage,onChange:te=>h({...f,show_on_homepage:te.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Show on Homepage (Max 6)"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",value:f.display_order,onChange:te=>h({...f,display_order:parseInt(te.target.value)||0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:ne,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:[n.jsx(W8,{size:14}),"Save"]}),n.jsx("button",{onClick:ve,className:"px-3 py-1.5 border border-gray-300 text-xs rounded hover:bg-gray-50",children:"Cancel"})]})]}),g===K.id&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded border border-gray-200 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Manage Packages"}),n.jsx("button",{onClick:()=>{x(null),y([])},className:"p-1 text-gray-400 hover:text-gray-600",children:n.jsx(Rt,{size:18})})]}),n.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Tn,{size:16,className:"text-gray-400"}),n.jsx("input",{type:"text",value:A,onChange:te=>T(te.target.value),placeholder:"Search packages...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),_.length>0&&n.jsxs("select",{value:D,onChange:te=>{const ye=_.find(Se=>Se.code===te.target.value);P(te.target.value),V(ye?.name||"")},className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select a package..."}),_.slice(0,50).map(te=>n.jsx("option",{value:te.code,children:te.name||te.code},te.code))]}),n.jsxs("button",{onClick:B,disabled:!D||I,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[n.jsx(pa,{size:14}),I?"Adding...":"Add Package"]})]}),b?n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Loading packages..."}):w.length===0?n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"No packages in this category"}):n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:w.map(te=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:te.package_name||te.package_code}),n.jsx("div",{className:"text-xs text-gray-500",children:te.package_code})]}),n.jsx("button",{onClick:()=>H(te.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove package",children:n.jsx(Us,{size:14})})]},te.id))})]})]},K.id))})]})]})},Jde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(1),[f,h]=v.useState(1),[g,x]=v.useState(0),w=async()=>{a(!0),i("");try{const y=new URLSearchParams({page:u.toString(),page_size:"50"});o&&y.append("search",o);const b=await fetch(`${ke}/admin/lab-tests/packages?${y}`),N=await b.json();if(b.ok){const _=N.data||N.results||[];t(_),x(N.count||_.length),h(Math.ceil((N.count||_.length)/50))}else i(N.error?.message||"Failed to fetch packages")}catch(y){i(y.message||"Failed to fetch packages")}finally{a(!1)}};return v.useEffect(()=>{w()},[u]),v.useEffect(()=>{const y=setTimeout(()=>{u===1?w():m(1)},500);return()=>clearTimeout(y)},[o]),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search packages by name or code...",value:o,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Yn,{size:18}),"Refresh"]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Packages: ",n.jsx("span",{className:"font-semibold text-gray-900",children:g})]})}),r?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading packages..."})]}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx(Ol,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(Zn,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No packages found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const b=y.package_center_prices?.offer_price||y.package_center_prices?.package_price||0;return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Zn,{className:"text-blue-600",size:18}),n.jsx("h3",{className:"font-semibold text-gray-900",children:y.name})]}),n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Code: ",y.code]})]})}),y.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[n.jsx("div",{className:"flex items-center gap-1 text-sm font-semibold text-green-600",children:n.jsxs("span",{children:["",b]})}),y.parameter&&n.jsxs("div",{className:"text-xs text-gray-500",children:[y.parameter," test",y.parameter>1?"s":""]})]}),y.category_for_web&&y.category_for_web.length>0&&n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[y.category_for_web.slice(0,2).map((N,_)=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:N.name},_)),y.category_for_web.length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",y.category_for_web.length-2," more"]})]})]},y.id)})}),f>1&&n.jsxs("div",{className:"bg-white px-6 py-3 rounded-lg shadow-sm flex items-center justify-between border border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",u," of ",f]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>m(y=>Math.max(1,y-1)),disabled:u===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsx("button",{onClick:()=>m(y=>Math.min(f,y+1)),disabled:u===f,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},hh=()=>{const e=na(),r=(()=>{const a=e.pathname;return a.includes("/bookings")?"bookings":a.includes("/categories")?"categories":a.includes("/packages")?"packages":"bookings"})();return n.jsx(Yt,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ec,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Tests"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage lab test bookings, categories, and packages"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r==="bookings"&&n.jsx(Xde,{}),r==="categories"&&n.jsx(Yde,{}),r==="packages"&&n.jsx(Jde,{})]})]})})},Zde=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending"),[c,u]=v.useState(new Set),m=v.useCallback(async x=>{s(!0);const w=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{const y=await fetch(`${ke}/admin/doctors?list=${x}`,{headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch doctors");const b=await y.json();r(b.data||[])}catch(y){console.error("Error fetching doctors:",y),e("Failed to fetch doctors","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(x,w,y)=>{const b=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{if(!(await fetch(`${ke}/admin/doctors/status`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({doctor_id:x,status:w,rejection_reason:y})})).ok)throw new Error("Failed to update status");e(`Doctor ${w==="approved"?"approved":"rejected"} successfully`,"success"),m(i)}catch(N){console.error("Error updating status:",N),e("Failed to update status","error")}},h=x=>{const w=new Set(c);w.has(x)?w.delete(x):w.add(x),u(w)},g=x=>x?new Date(x).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(UC,{className:"text-primary",size:24})," Doctor Management"]})}),n.jsx(_f,{value:i,onValueChange:x=>o(x),children:n.jsxs(Nf,{children:[n.jsx(Xs,{value:"pending",children:"Pending Approval"}),n.jsx(Xs,{value:"approved",children:"Approved Doctors"})]})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:i==="pending"?"Pending Requests":"Approved Doctors"})}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," doctors found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor Info"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Speciality"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Registered On"})]})}),n.jsx("tbody",{children:t.map(x=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>h(x.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(ya,{size:14}),c.has(x.id)?"Hide":"Details",c.has(x.id)?n.jsx(Zs,{size:14}):n.jsx(Ha,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:x.full_name}),n.jsx("div",{className:"text-sm text-gray-500",children:x.email}),n.jsx("div",{className:"text-sm text-gray-500",children:x.phone_number})]}),n.jsxs("td",{className:"py-4 px-4 text-sm",children:[n.jsx("div",{className:"font-medium",children:x.speciality}),n.jsx("div",{className:"text-gray-500 text-xs",children:x.qualification})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.status==="approved"?"bg-green-100 text-green-700":x.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:x.status.replace("_"," ")})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:g(x.created_at)})]}),c.has(x.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Professional Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(za,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Registration Number"}),n.jsx("p",{className:"font-medium",children:x.registration_number||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ar,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Gender"}),n.jsx("p",{className:"font-medium",children:x.gender||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ma,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Clinic Address"}),n.jsx("p",{className:"text-sm",children:x.clinic_address||"N/A"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Identification Documents"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.ima_registration_certificate_url&&n.jsxs("a",{href:x.ima_registration_certificate_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Dr,{size:16})," IMA Registration Cert"]}),x.aadhar_card_url&&n.jsxs("a",{href:x.aadhar_card_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Dr,{size:16})," Aadhar Card"]}),x.pan_card_url&&n.jsxs("a",{href:x.pan_card_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Dr,{size:16})," PAN Card"]}),x.driving_license_url&&n.jsxs("a",{href:x.driving_license_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Dr,{size:16})," Driving License"]}),x.voter_id_passport_url&&n.jsxs("a",{href:x.voter_id_passport_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Dr,{size:16})," Voter ID / Passport"]}),n.jsxs("a",{href:x.degree_proof_url||"#",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Dr,{size:16})," Degree Proof"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Actions"}),x.status==="pending_approval"?n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(Be,{className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",onClick:()=>f(x.id,"approved"),children:[n.jsx(Sh,{size:18})," Approve Registration"]}),n.jsxs(Be,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{const w=prompt("Reason for rejection:");w&&f(x.id,"rejected",w)},children:[n.jsx(Rt,{size:18})," Reject"]})]}):x.status==="approved"?n.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[n.jsx(Sh,{size:16})," Approved on ",g(x.approved_at||"")," ",x.approved_by?`by ${x.approved_by}`:""]}):n.jsxs("div",{className:"text-sm text-red-600",children:[n.jsx("p",{className:"font-medium",children:"Rejected"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Reason: ",x.rejection_reason]})]})]})]})})})]},x.id))})]})})})]})]})})},Qde=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=va(),{addToast:c}=Jt(),u=async m=>{m.preventDefault(),i(!0);try{const f=await fetch(`${ke}/lead-admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),h=await f.json();f.ok&&h.success?(localStorage.setItem("lead_admin_token",h.token),localStorage.setItem("lead_admin_user",JSON.stringify(h.admin)),c("Login successful!","success"),o("/lead-admin/dashboard",{replace:!0})):c(h.error?.message||"Invalid username or password","error")}catch(f){console.error("Login error:",f),c("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 px-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-400 mb-4",children:n.jsx(zs,{className:"text-white",size:32})}),n.jsx("h1",{className:"text-3xl font-bold text-orange-900 mb-2",children:"Lead Admin Login"}),n.jsx("p",{className:"text-sm text-orange-600",children:"Access your lead management dashboard"})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your username",required:!0,disabled:s})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:r,onChange:m=>a(m.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your password",required:!0,disabled:s})]}),n.jsx("button",{type:"submit",disabled:s||!e||!r,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-3 text-white font-semibold shadow-lg hover:from-orange-600 hover:to-amber-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Login"})]})]})})})},ph={New:{badge:"bg-orange-100 text-orange-700 border border-orange-200",dot:"bg-orange-500"},Contacted:{badge:"bg-amber-100 text-amber-700 border border-amber-200",dot:"bg-amber-500"},Converted:{badge:"bg-emerald-100 text-emerald-700 border border-emerald-200",dot:"bg-emerald-500"},Lost:{badge:"bg-rose-100 text-rose-600 border border-rose-200",dot:"bg-rose-500"},Available:{badge:"bg-secondary text-primary border border-primary/20",dot:"bg-primary"},"Not connected":{badge:"bg-gray-100 text-gray-700 border border-gray-200",dot:"bg-gray-500"}},xh=(e=!1)=>{const t=localStorage.getItem("lead_admin_token"),r={};return t&&(r.Authorization=`Bearer ${t}`),e&&(r["Content-Type"]="application/json"),r},eue=({lead:e,onClose:t,onUpdate:r})=>{const[a,s]=v.useState(e?.status??"New"),[i,o]=v.useState(e?.notes||""),[c,u]=v.useState(!1);if(v.useEffect(()=>{e&&(s(e.status),o(e.notes||""))},[e]),!e)return null;const m=async()=>{u(!0);try{await r(e.id,{status:a,notes:i}),t()}catch(f){console.error("Error updating lead:",f)}finally{u(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-orange-100 p-2 text-orange-600 hover:bg-orange-200 transition-colors z-10",children:n.jsx(Rt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white sticky top-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zs,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-orange-100/90",children:"Update status and add notes"})]})]})}),n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(ar,{className:"text-orange-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-orange-900",children:e.owner_name})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Ra,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx($a,{size:16}),n.jsx("span",{children:e.phone})]}),e.location&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Ma,{size:16}),n.jsx("span",{children:e.location})]}),e.scheduled_date&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(ob,{size:16}),n.jsxs("span",{children:["Scheduled: ",new Date(e.scheduled_date).toLocaleDateString(),e.scheduled_time&&` at ${e.scheduled_time}`]})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"rounded-2xl border border-orange-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Lead Status"}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost","Available","Not connected"].map(f=>n.jsxs("button",{onClick:()=>s(f),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${a===f?"border-orange-500 bg-orange-50 text-orange-700 shadow-sm":"border-orange-100 bg-white text-orange-500 hover:border-orange-200"}`,children:[n.jsx("span",{children:f}),f==="Converted"?n.jsx(ns,{size:18}):f==="Lost"?n.jsx(Co,{size:18}):n.jsx(zC,{size:18})]},f))})]})})]}),n.jsxs("div",{className:"px-8 pb-8",children:[n.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Notes"}),n.jsx("textarea",{value:i,onChange:f=>o(f.target.value),rows:4,className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-2 text-sm text-orange-900 outline-none focus:border-orange-400",placeholder:"Add notes about this lead..."})]}),n.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:t,disabled:c,className:"rounded-xl border border-orange-200 px-5 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:c,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},tue=({leads:e,onClose:t,onViewLead:r})=>n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-red-100 p-2 text-red-600 hover:bg-red-200 transition-colors",children:n.jsx(Rt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mc,{size:28,className:"animate-pulse"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Alarm: Upcoming Calls"}),n.jsxs("p",{className:"text-sm text-red-100/90",children:["You have ",e.length," lead(s) scheduled within 10 minutes"]})]})]})}),n.jsx("div",{className:"px-8 py-6 max-h-96 overflow-y-auto",children:e.length===0?n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No upcoming calls"}):n.jsx("div",{className:"space-y-3",children:e.map(a=>n.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50/50 p-4 hover:bg-red-50 transition-colors cursor-pointer",onClick:()=>{r(a),t()},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-red-900",children:a.owner_name}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.phone}),a.scheduled_date&&a.scheduled_time&&n.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[n.jsx(Qr,{size:12}),new Date(a.scheduled_date).toLocaleDateString()," at ",a.scheduled_time]})]}),n.jsx(Bi,{className:"text-red-500",size:20})]})},a.id))})})]})}),rue=()=>{const e=va(),{addToast:t}=Jt(),[r,a]=v.useState([]),[s,i]=v.useState(null),[o,c]=v.useState(""),[u,m]=v.useState("All"),[f,h]=v.useState(!1),[g,x]=v.useState(""),[w,y]=v.useState([]),[b,N]=v.useState(!1);v.useEffect(()=>{if(!localStorage.getItem("lead_admin_token")){e("/lead-admin/login",{replace:!0});return}_(),k();const V=setInterval(k,6e4);return()=>clearInterval(V)},[e]);const _=async()=>{h(!0);try{const M=g?`${ke}/lead-admin/leads/by-date?date=${g}`:`${ke}/lead-admin/leads${u!=="All"?`?status=${u}`:""}`,U=await(await fetch(M,{headers:xh()})).json();if(U.success&&Array.isArray(U.leads)){const J=U.leads.map(W=>{if(W.cart_items)try{typeof W.cart_items=="string"&&(W.cart_items=JSON.parse(W.cart_items)),Array.isArray(W.cart_items)||(W.cart_items=[])}catch{W.cart_items=[]}else W.cart_items=[];return W});a(J)}else t("Failed to load leads","error")}catch(M){console.error("Error fetching leads:",M),t("Error loading leads","error")}finally{h(!1)}},k=async()=>{try{const V=await(await fetch(`${ke}/lead-admin/alarms`,{headers:xh()})).json();V.success&&Array.isArray(V.leads)&&V.leads.length>0&&(y(V.leads),N(!0))}catch(M){console.error("Error checking alarms:",M)}};v.useEffect(()=>{_()},[u,g]);const A=()=>{localStorage.removeItem("lead_admin_token"),localStorage.removeItem("lead_admin_user"),e("/lead-admin/login",{replace:!0})},T=async(M,V)=>{try{const U=await fetch(`${ke}/lead-admin/leads/${M}/update-status`,{method:"PUT",headers:xh(!0),body:JSON.stringify(V)}),J=await U.json();if(U.ok&&J.success)await _(),t("Lead updated successfully","success");else throw t(J.error?.message||"Failed to update lead","error"),new Error(J.error?.message||"Failed to update lead")}catch(U){throw console.error("Error updating lead:",U),t("Error updating lead","error"),U}},I=async M=>{try{const V=await fetch(`${ke}/lead-admin/leads/${M}/set-available`,{method:"PUT",headers:xh()}),U=await V.json();V.ok&&U.success?(await _(),t("Lead marked as available","success")):t(U.error?.message||"Failed to update lead","error")}catch(V){console.error("Error updating lead:",V),t("Error updating lead","error")}},O=v.useMemo(()=>{r.length;const M=r.filter(W=>W.status==="New").length,V=r.filter(W=>W.status==="Contacted").length,U=r.filter(W=>W.status==="Converted").length,J=r.filter(W=>W.status==="Available").length;return[{label:"New Leads",value:M,icon:n.jsx(ub,{className:"text-white",size:22}),gradient:"from-orange-500 to-amber-400"},{label:"Contacted",value:V,icon:n.jsx(BC,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Converted",value:U,icon:n.jsx(ns,{className:"text-emerald-600",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Available",value:J,icon:n.jsx(sb,{className:"text-primary",size:22}),gradient:"bg-secondary"}]},[r]),D=r.filter(M=>{const V=(M.owner_name||"").toLowerCase().includes(o.toLowerCase())||(M.email||"").toLowerCase().includes(o.toLowerCase())||(M.phone||"").toLowerCase().includes(o.toLowerCase())||(M.user_full_name||"").toLowerCase().includes(o.toLowerCase())||(M.user_email||"").toLowerCase().includes(o.toLowerCase())||(M.user_phone||"").toLowerCase().includes(o.toLowerCase()),U=u==="All"||M.status===u;return V&&U}),P=JSON.parse(localStorage.getItem("lead_admin_user")||"{}");return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100",children:[n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"My Leads Dashboard"}),n.jsxs("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:["Welcome, ",P.full_name||P.username]})]}),n.jsxs("button",{onClick:A,className:"flex items-center gap-2 rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm hover:bg-orange-50 transition-colors",children:[n.jsx(cb,{size:16}),"Logout"]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:O.map(M=>n.jsx("div",{className:"overflow-hidden rounded-3xl border border-orange-100/60 bg-white/95 shadow-md",children:n.jsxs("div",{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${M.gradient} shadow-sm`,children:M.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-orange-500",children:M.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:M.value})]})]})},M.label))}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-orange-100 bg-orange-50/60 px-4 py-2",children:[n.jsx(Tn,{size:18,className:"text-orange-400"}),n.jsx("input",{value:o,onChange:M=>c(M.target.value),placeholder:"Search leads...",className:"flex-1 border-none bg-transparent text-sm text-orange-900 placeholder-orange-300 outline-none"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-orange-100 bg-white px-4 py-2",children:[n.jsx(Fr,{size:16,className:"text-orange-500"}),n.jsx("input",{type:"date",value:g,onChange:M=>x(M.target.value),className:"text-sm text-orange-900 outline-none"}),g&&n.jsx("button",{onClick:()=>x(""),className:"text-orange-400 hover:text-orange-600",children:n.jsx(Rt,{size:14})})]}),["All","New","Contacted","Converted","Lost","Available","Not connected"].map(M=>n.jsxs("button",{onClick:()=>m(M),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${u===M?"border-orange-500 bg-orange-50 text-orange-600 shadow-sm":"border-orange-100 bg-white text-orange-400 hover:border-orange-200"}`,children:[n.jsx(W0,{size:14}),M]},M))]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg",children:n.jsx("div",{className:"overflow-hidden rounded-2xl border border-orange-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-orange-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-orange-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:f?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-orange-400"})})})}):D.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-orange-400",children:"No leads found for the current filters."})}):D.map(M=>{const V=Array.isArray(M.cart_items)?M.cart_items:[];return n.jsxs("tr",{className:"transition-colors hover:bg-orange-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(zs,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-orange-900",children:M.owner_name||M.user_full_name||"N/A"}),n.jsx("p",{className:"text-xs text-orange-400",children:M.email||M.user_email||""}),n.jsx("p",{className:"text-xs text-orange-400",children:M.phone||M.user_phone||""})]})]})}),n.jsx("td",{className:"px-6 py-4",children:V.length>0?n.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map((U,J)=>n.jsxs("div",{className:"text-xs text-orange-700",children:[U.medicine_name||U.medicineName||"Item",U.quantity&&` x${U.quantity}`]},J)),V.length>3&&n.jsxs("div",{className:"text-xs text-orange-400",children:["+",V.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-orange-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:M.cart_total!==null&&M.cart_total!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-orange-900",children:["",M.cart_total.toFixed(2)]}),M.cart_discount&&M.cart_discount>0&&n.jsxs("p",{className:"text-xs text-orange-400",children:["Discount: ",M.cart_discount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-orange-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-orange-600",children:M.cart_created_at?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fr,{size:14}),n.jsx("span",{children:new Date(M.cart_created_at).toLocaleDateString()})]}),M.cart_updated_at&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-400",children:[n.jsx(Qr,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(M.cart_updated_at).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-orange-300",children:new Date(M.created_at).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${ph[M.status]?.badge||ph.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${ph[M.status]?.dot||ph.New.dot}`}),M.status]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[M.scheduled_date&&n.jsx("button",{onClick:()=>I(M.id),className:"inline-flex items-center gap-2 rounded-full bg-primary px-3 py-1 text-xs font-semibold text-white shadow-sm hover:bg-primary-dark transition-colors",children:"Mark Available"}),n.jsxs("button",{onClick:()=>i(M),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(Bi,{size:14})]})]})})]},M.id)})})]})})})]}),n.jsx(eue,{lead:s,onClose:()=>i(null),onUpdate:T}),b&&n.jsx(tue,{leads:w,onClose:()=>N(!1),onViewLead:M=>i(M)})]})},nue=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=va(),{addToast:c}=Jt(),{isAuthenticated:u,user:m}=gn();v.useEffect(()=>{console.log("HelpingStaffLogin component mounted"),console.log("Current path:",window.location.pathname),console.log("isAuthenticated:",u),console.log("user:",m)},[u,m]),v.useEffect(()=>{u&&(m?.role==="helping_staff"||m?.role==="helping_staff_admin")&&o("/admin/helping-staff-panel",{replace:!0})},[u,m,o]);const f=async h=>{h.preventDefault(),i(!0);try{const g=await fetch(`${ke}/helping-staff/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),x=await g.json();if(g.ok&&x.success){const w=x.staff||x.admin;if(w)w.role="helping_staff";else{const y=x.admin||{};y.role="helping_staff",localStorage.setItem("KwikMedi_user",JSON.stringify(y))}localStorage.setItem("KwikMedi_token",x.token),w&&localStorage.setItem("KwikMedi_user",JSON.stringify(w)),localStorage.setItem("KwikMedi_role","helping_staff"),c("Login successful!","success"),setTimeout(()=>{window.location.href="/admin/helping-staff-panel"},500)}else{const w=x.error?.message||"Login failed. Please check your credentials.";c(w,"error")}}catch(g){console.error("Helping staff login error:",g),c("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(ab,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(ar,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Helping Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the prescription processing panel"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email or Phone"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email or Phone Number",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:h=>a(h.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},aue=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=va(),{addToast:c}=Jt(),{isAuthenticated:u,user:m}=gn();v.useEffect(()=>{u&&(m?.role==="finance_admin"||m?.role==="admin")&&o("/admin/finance-panel",{replace:!0})},[u,m,o]);const f=async h=>{h.preventDefault(),i(!0);try{const g=await fetch(`${ke}/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),x=await g.json();if(g.ok&&x.token){const w=x.admin?.role||"";if(w!=="finance_admin"&&w!=="super_admin"){c("Access denied. This login is for financial staff only.","error"),i(!1);return}const y=x.admin;y&&(y.role=w==="super_admin"?"admin":w),localStorage.setItem("KwikMedi_token",x.token),localStorage.setItem("KwikMedi_user",JSON.stringify(y)),localStorage.setItem("KwikMedi_role",y.role),c("Login successful!","success"),window.location.href="/admin/finance-panel"}else{const w=x.error?.message||"Login failed. Please check your credentials.";c(w,"error")}}catch(g){console.error("Financial staff login error:",g),c("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(ab,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(Jc,{className:"h-8 w-8 text-green-600"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Financial Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the finance panel and payment management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username or Email"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Username or Email",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:h=>a(h.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},xC=()=>{va();const e=[{id:"super_admin",title:"Super Admin",description:"Full system access and management",icon:za,route:"/admin/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"}];return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl w-full",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"KwikMedi Admin Portal"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Select your role to continue"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(t=>{const r=t.icon;return n.jsxs(tb,{to:t.route,onClick:()=>{console.log("Navigating to:",t.route,"from LoginSelection")},className:`${t.color} text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 p-8 flex flex-col items-center space-y-4 no-underline`,children:[n.jsx("div",{className:"bg-white/20 rounded-full p-4",children:n.jsx(r,{className:"h-10 w-10"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),n.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]},t.id)})}),n.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:n.jsx("p",{children:"Choose the appropriate login option based on your role"})})]})})},sue=()=>{const{addToast:e}=Jt(),[t,r]=v.useState(""),[a,s]=v.useState(""),[i,o]=v.useState("all"),[c,u]=v.useState([]),[m,f]=v.useState([]),[h,g]=v.useState([]),[x,w]=v.useState([]),[y,b]=v.useState(!1),[N,_]=v.useState(!1),[k,A]=v.useState(null);v.useEffect(()=>{I(),O()},[]);const T=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"}),I=async()=>{try{b(!0);const J=await fetch(`${ke}/admin/push-notifications/users`,{headers:T()});if(!J.ok)throw new Error("Failed to load users");const W=await J.json();g(W.users||[])}catch(J){console.error("Error loading users:",J),e("Failed to load users","error")}finally{b(!1)}},O=async()=>{try{b(!0);const J=await fetch(`${ke}/admin/push-notifications/providers`,{headers:T()});if(!J.ok)throw new Error("Failed to load providers");const W=await J.json();w(W.providers||[])}catch(J){console.error("Error loading providers:",J),e("Failed to load providers","error")}finally{b(!1)}},D=async()=>{if(!t.trim()||!a.trim()){e("Please enter both title and message","error");return}if(i==="selected"&&c.length===0&&m.length===0){e("Please select at least one user or provider","error");return}try{_(!0);const J={title:t.trim(),body:a.trim(),target_type:i};i==="selected"&&(c.length>0&&(J.user_ids=c),m.length>0&&(J.provider_ids=m));const W=await fetch(`${ke}/admin/push-notifications/send`,{method:"POST",headers:T(),body:JSON.stringify(J)});if(!W.ok){const X=await W.json();throw new Error(X.error?.message||"Failed to send notification")}const he=await W.json();A({sent:he.sent||0,failed:he.failed||0,total:he.total_tokens||0}),he.sent===0&&he.total_tokens===0?e(he.message||"No FCM tokens found. Users/providers need to register tokens first by logging into the app.","warning"):e(`Notification sent to ${he.sent} device(s)`,"success"),r(""),s(""),u([]),f([]),o("all")}catch(J){console.error("Error sending notification:",J),e(J.message||"Failed to send notification","error")}finally{_(!1)}},P=J=>{u(W=>W.includes(J)?W.filter(he=>he!==J):[...W,J])},M=J=>{f(W=>W.includes(J)?W.filter(he=>he!==J):[...W,J])},V=()=>{c.length===h.length?u([]):u(h.map(J=>J.id))},U=()=>{m.length===x.length?f([]):f(x.map(J=>J.id))};return n.jsx(Yt,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mc,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send push notifications to users and providers"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compose Notification"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",value:t,onChange:J=>r(J.target.value),placeholder:"Enter notification title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:100}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.length,"/100"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),n.jsx("textarea",{value:a,onChange:J=>s(J.target.value),placeholder:"Enter notification message",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:500}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.length,"/500"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience *"}),n.jsxs("select",{value:i,onChange:J=>o(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Users & Providers"}),n.jsx("option",{value:"users",children:"All Users Only"}),n.jsx("option",{value:"providers",children:"All Providers Only"}),n.jsx("option",{value:"selected",children:"Selected Users/Providers"})]})]}),i==="selected"&&n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Users"}),n.jsx("button",{onClick:V,className:"text-sm text-blue-600 hover:text-blue-700",children:c.length===h.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:h.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No users available"}):h.map(J=>n.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.includes(J.id),onChange:()=>P(J.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 flex-1",children:J.full_name}),J.has_fcm_token&&n.jsx(ns,{className:"w-4 h-4 text-green-500"})]},J.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Providers"}),n.jsx("button",{onClick:U,className:"text-sm text-blue-600 hover:text-blue-700",children:m.length===x.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:x.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No providers available"}):x.map(J=>n.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.includes(J.id),onChange:()=>M(J.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 flex-1",children:J.full_name}),J.has_fcm_token&&n.jsx(ns,{className:"w-4 h-4 text-green-500"})]},J.id))})]})]}),n.jsx("button",{onClick:D,disabled:N||!t.trim()||!a.trim(),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(H8,{className:"w-5 h-5"}),"Send Notification"]})})]})]}),k&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Last Notification Result"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.sent}),n.jsx("div",{className:"text-sm text-gray-600",children:"Sent"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:k.failed}),n.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:k.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Tokens"})]})]}),k.total===0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:" No FCM tokens registered:"})," Users and providers need to log into the mobile/web app first to register their FCM tokens. Once they log in, their tokens will be automatically registered and they will appear in the statistics above."]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ws,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Users"})]}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:h.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ns,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Users with FCM"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:h.filter(J=>J.has_fcm_token).length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zs,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Providers"})]}),n.jsx("span",{className:"text-lg font-bold text-purple-600",children:x.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ns,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Providers with FCM"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:x.filter(J=>J.has_fcm_token).length})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:" Tips"}),n.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Keep titles under 50 characters"}),n.jsx("li",{children:" Keep messages concise and clear"}),n.jsx("li",{children:" Only users/providers with FCM tokens will receive notifications"}),n.jsx("li",{children:" Green checkmarks indicate active FCM tokens"})]})]})]})]})})]})})},iue=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(null),[f,h]=v.useState(""),[g,x]=v.useState(!1),w=v.useCallback(async()=>{a(!0);try{const _=localStorage.getItem("KwikMedi_token"),k=await fetch(`${ke}/admin/lab-service-providers?status=${s}`,{headers:{Authorization:`Bearer ${_}`}});if(k.ok){const A=await k.json();t(A.providers||[])}}catch(_){console.error("Error fetching providers:",_)}finally{a(!1)}},[s]);v.useEffect(()=>{w()},[w]);const y=async _=>{if(window.confirm("Are you sure you want to approve this provider?"))try{const k=localStorage.getItem("KwikMedi_token");(await fetch(`${ke}/admin/lab-service-providers/${_}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${k}`}})).ok&&(alert("Provider approved successfully"),w())}catch{alert("Failed to approve provider")}},b=async()=>{if(!(!u||!f))try{const _=localStorage.getItem("KwikMedi_token");(await fetch(`${ke}/admin/lab-service-providers/${u.id}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({reason:f})})).ok&&(alert("Provider rejected"),x(!1),h(""),m(null),w())}catch{alert("Failed to reject provider")}},N=e.filter(_=>_.full_name.toLowerCase().includes(o.toLowerCase())||_.email.toLowerCase().includes(o.toLowerCase())||_.phone_number.includes(o));return n.jsx(Yt,{children:n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Service Providers"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and verify field collection agents"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name, email...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 w-full sm:w-64 text-sm",value:o,onChange:_=>c(_.target.value)})]})})]}),n.jsx("div",{className:"mb-6",children:n.jsx(_f,{value:s,onValueChange:i,children:n.jsxs(Nf,{children:[n.jsx(Xs,{value:"pending_approval",children:"Pending Approval"}),n.jsx(Xs,{value:"approved",children:"Approved"})]})})}),r?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 italic",children:[n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Provider"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Registered On"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50",children:N.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-400 italic",children:"No providers found matching your criteria"})}):N.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:_.profile_photo_url||"https://via.placeholder.com/40",className:"w-10 h-10 rounded-lg object-cover border border-gray-100",alt:""}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900",children:_.full_name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx(Ra,{size:12})," ",_.email]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx($a,{size:12})," ",_.phone_number]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-800 font-medium",children:_.city}),n.jsx("div",{className:"text-xs text-gray-500",children:_.state})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${_.status==="approved"?"bg-green-100 text-green-700":_.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:_.status.replace("_"," ")})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(_.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[_.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>y(_.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:n.jsx(Br,{size:20})}),n.jsx("button",{onClick:()=>{m(_),x(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:n.jsx($n,{size:20})})]}),n.jsx("button",{onClick:()=>m(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:n.jsx(ya,{size:20})})]})})]},_.id))})]})})}),u&&!g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Provider Details"}),n.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx($n,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 mb-8",children:[n.jsx("img",{src:u.profile_photo_url||"https://via.placeholder.com/150",className:"w-32 h-32 rounded-3xl object-cover shadow-lg border-4 border-white",alt:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.full_name}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-bold mb-4",children:[n.jsx(za,{size:14})," Identity Verified"]}),n.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed italic border-l-4 border-gray-100 pl-4",children:['"',u.about_me||"No bio provided",'"']})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Contact Info"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Ra,{size:16,className:"text-gray-400"})," ",u.email]}),n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx($a,{size:16,className:"text-gray-400"})," ",u.phone_number]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Location Details"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Ma,{size:16,className:"text-gray-400"})," ",u.address,", ",u.city,", ",u.state," - ",u.pincode]})})]})]}),u.experience_proof_url&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Verification Documents"}),n.jsx("a",{href:u.experience_proof_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl text-sm font-bold transition-colors",children:"View Experience Proof Document"})]}),u.status==="rejected"&&u.rejection_reason&&n.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-100 rounded-2xl",children:[n.jsxs("h4",{className:"text-xs font-bold text-red-700 uppercase tracking-widest mb-2 flex items-center gap-2",children:[n.jsx(Ol,{size:14})," Rejection Reason"]}),n.jsxs("p",{className:"text-sm text-red-600 italic",children:['"',u.rejection_reason,'"']})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3 bg-gray-50/30",children:[u.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{x(!0)},className:"px-6 py-2.5 bg-red-50 text-red-600 rounded-xl text-sm font-bold hover:bg-red-100 transition-colors",children:"Reject Application"}),n.jsx("button",{onClick:()=>y(u.id),className:"px-6 py-2.5 bg-primary text-white rounded-xl text-sm font-bold shadow-md shadow-primary/20 hover:bg-primary-dark transition-colors",children:"Approve Provider"})]}),n.jsx("button",{onClick:()=>m(null),className:"px-6 py-2.5 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200",children:"Close"})]})]})}),g&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Reject Application"}),n.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx($n,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Reason for Rejection"}),n.jsx("textarea",{className:"w-full h-32 p-4 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 text-sm",placeholder:"Please explain why the application is being rejected...",value:f,onChange:_=>h(_.target.value)})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 text-sm font-bold text-gray-500 hover:text-gray-700",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:!f,className:"px-6 py-2 bg-red-600 text-white rounded-xl text-sm font-bold disabled:opacity-50 shadow-md shadow-red-600/20",children:"Confirm Rejection"})]})]})})]})})},oue=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending"),[c,u]=v.useState(new Set),m=v.useCallback(async x=>{s(!0);const w=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{const y=await fetch(`${ke}/admin/pharmacy-providers?list=${x}`,{headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch providers");const b=await y.json();r(b.data||[])}catch(y){console.error("Error fetching providers:",y),e("Failed to fetch pharmacy providers","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(x,w,y)=>{const b=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{if(!(await fetch(`${ke}/admin/pharmacy-providers/status`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:x,status:w,rejection_reason:y})})).ok)throw new Error("Failed to update status");e(`Provider ${w==="approved"?"approved":"rejected"} successfully`,"success"),m(i)}catch(N){console.error("Error updating status:",N),e("Failed to update status","error")}},h=x=>{const w=new Set(c);w.has(x)?w.delete(x):w.add(x),u(w)},g=x=>x?new Date(x).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(zs,{className:"text-primary",size:24})," Pharmacy Provider Management"]})}),n.jsx(_f,{value:i,onValueChange:x=>o(x),children:n.jsxs(Nf,{children:[n.jsx(Xs,{value:"approved",children:"Approved Providers"}),n.jsx(Xs,{value:"pending",children:"Pending Approval"})]})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:i==="pending"?"Pending Requests":i==="approved"?"Approved Providers":"Rejected Providers"})}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," pharmacy providers found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Pharmacy Info"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Contact"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Registered On"})]})}),n.jsx("tbody",{children:t.map(x=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>h(x.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(ya,{size:14}),c.has(x.id)?"Hide":"Details",c.has(x.id)?n.jsx(Zs,{size:14}):n.jsx(Ha,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:x.pharmacy_name||x.full_name}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(Ma,{size:12})," ",x.address||"Address not provided"]})]}),n.jsxs("td",{className:"py-4 px-4 text-sm",children:[n.jsx("div",{className:"font-medium",children:x.full_name}),n.jsx("div",{className:"text-gray-500 text-xs",children:x.phone_number}),n.jsx("div",{className:"text-gray-500 text-xs",children:x.email})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.status==="approved"?"bg-green-100 text-green-700":x.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:x.status?x.status.replace("_"," "):"Pending"})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:g(x.created_at)})]}),c.has(x.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Business Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(za,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"License Number"}),n.jsx("p",{className:"font-medium",children:x.license_number||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nu,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Pharmacy Name"}),n.jsx("p",{className:"text-sm",children:x.pharmacy_name||"N/A"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Actions"}),x.status==="pending_approval"||x.status==="pending"?n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(Be,{className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",onClick:()=>f(x.id,"approved"),children:[n.jsx(Sh,{size:18})," Approve Registration"]}),n.jsxs(Be,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{const w=prompt("Reason for rejection:");w&&f(x.id,"rejected",w)},children:[n.jsx(Rt,{size:18})," Reject"]})]}):x.status==="approved"?n.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[n.jsx(Sh,{size:16})," Approved on ",g(x.approved_at||"")]}):n.jsxs("div",{className:"text-sm text-red-600",children:[n.jsx("p",{className:"font-medium",children:"Rejected"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Reason: ",x.rejection_reason||"N/A"]})]})]})]})})})]},x.id))})]})})})]})]})})},lue=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(null),[f,h]=v.useState(""),[g,x]=v.useState(!1),w=v.useCallback(async()=>{a(!0);try{const _=localStorage.getItem("KwikMedi_token"),k=await fetch(`${ke}/admin/labs?status=${s}`,{headers:{Authorization:`Bearer ${_}`}});if(k.ok){const A=await k.json();t(A.labs||[])}}catch(_){console.error("Error fetching labs:",_)}finally{a(!1)}},[s]);v.useEffect(()=>{w()},[w]);const y=async _=>{if(window.confirm("Are you sure you want to approve this lab?"))try{const k=localStorage.getItem("KwikMedi_token");(await fetch(`${ke}/admin/labs/${_}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${k}`}})).ok&&(alert("Lab approved successfully"),w())}catch{alert("Failed to approve lab")}},b=async()=>{if(!(!u||!f))try{const _=localStorage.getItem("KwikMedi_token");(await fetch(`${ke}/admin/labs/${u.id}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({reason:f})})).ok&&(alert("Lab rejected"),x(!1),h(""),m(null),w())}catch{alert("Failed to reject lab")}},N=e.filter(_=>_.lab_name.toLowerCase().includes(o.toLowerCase())||_.email.toLowerCase().includes(o.toLowerCase())||_.phone_number.includes(o));return n.jsx(Yt,{children:n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Labs"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage partner laboratories"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:n.jsxs("div",{className:"relative",children:[n.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name, email...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 w-full sm:w-64 text-sm",value:o,onChange:_=>c(_.target.value)})]})})]}),n.jsx("div",{className:"mb-6",children:n.jsx(_f,{value:s,onValueChange:i,children:n.jsxs(Nf,{children:[n.jsx(Xs,{value:"pending_approval",children:"Pending Approval"}),n.jsx(Xs,{value:"approved",children:"Approved"})]})})}),r?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 italic",children:[n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Lab Name"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50",children:N.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-400 italic",children:"No labs found matching your criteria"})}):N.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:_.lab_name.charAt(0)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900",children:_.lab_name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["License: ",_.license_number]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-800 font-medium",children:_.contact_person}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx($a,{size:12})," ",_.phone_number]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx(Ra,{size:12})," ",_.email]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-800",children:_.city}),n.jsx("div",{className:"text-xs text-gray-500",children:_.state})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${_.status==="approved"?"bg-green-100 text-green-700":_.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:_.status.replace("_"," ")})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[_.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>y(_.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:n.jsx(Br,{size:20})}),n.jsx("button",{onClick:()=>{m(_),x(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:n.jsx($n,{size:20})})]}),n.jsx("button",{onClick:()=>m(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:n.jsx(ya,{size:20})})]})})]},_.id))})]})})}),u&&!g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Lab Details"}),n.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx($n,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 mb-8",children:[n.jsx("div",{className:"w-32 h-32 rounded-3xl bg-blue-50 flex items-center justify-center text-blue-500 shadow-lg border-4 border-white",children:n.jsx(ib,{size:48})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.lab_name}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-bold mb-4",children:[n.jsx(za,{size:14})," License: ",u.license_number]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Contact Info"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(ar,{size:16,className:"text-gray-400"})," ",u.contact_person]}),n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Ra,{size:16,className:"text-gray-400"})," ",u.email]}),n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx($a,{size:16,className:"text-gray-400"})," ",u.phone_number]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Location Details"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Ma,{size:16,className:"text-gray-400"})," ",u.address,", ",u.city,", ",u.state," - ",u.pincode]})})]})]}),u.status==="rejected"&&u.rejection_reason&&n.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-100 rounded-2xl",children:[n.jsxs("h4",{className:"text-xs font-bold text-red-700 uppercase tracking-widest mb-2 flex items-center gap-2",children:[n.jsx(Ol,{size:14})," Rejection Reason"]}),n.jsxs("p",{className:"text-sm text-red-600 italic",children:['"',u.rejection_reason,'"']})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3 bg-gray-50/30",children:[u.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{x(!0)},className:"px-6 py-2.5 bg-red-50 text-red-600 rounded-xl text-sm font-bold hover:bg-red-100 transition-colors",children:"Reject Application"}),n.jsx("button",{onClick:()=>y(u.id),className:"px-6 py-2.5 bg-primary text-white rounded-xl text-sm font-bold shadow-md shadow-primary/20 hover:bg-primary-dark transition-colors",children:"Approve Lab"})]}),n.jsx("button",{onClick:()=>m(null),className:"px-6 py-2.5 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200",children:"Close"})]})]})}),g&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Reject Application"}),n.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx($n,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Reason for Rejection"}),n.jsx("textarea",{className:"w-full h-32 p-4 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 text-sm",placeholder:"Please explain why the application is being rejected...",value:f,onChange:_=>h(_.target.value)})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 text-sm font-bold text-gray-500 hover:text-gray-700",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:!f,className:"px-6 py-2 bg-red-600 text-white rounded-xl text-sm font-bold disabled:opacity-50 shadow-md shadow-red-600/20",children:"Confirm Rejection"})]})]})})]})})},cue={getDoctorAppointments:async e=>{const t=await fetch(`${ke}/admin/doctor/appointments`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch doctor appointments");return(await t.json()).appointments}},due=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(new Set),c=v.useCallback(async()=>{s(!0);const f=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||"";try{const h=await cue.getDoctorAppointments(f);r(h||[])}catch(h){console.error("Error fetching appointments:",h),e("Failed to fetch doctor appointments","error")}finally{s(!1)}},[e]);v.useEffect(()=>{c()},[c]);const u=f=>{const h=new Set(i);h.has(f)?h.delete(f):h.add(f),o(h)},m=f=>f?new Date(f).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Fr,{className:"text-primary",size:24})," Doctor Appointments"]})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"All Appointments"})}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No doctor appointments found."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"User"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Date"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(f=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>u(f.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(ya,{size:14}),i.has(f.id)?n.jsx(Zs,{size:14}):n.jsx(Ha,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:f.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:f.user_phone})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["Dr. ",f.doctor_name]})}),n.jsxs("td",{className:"py-4 px-4 text-sm text-gray-500",children:[m(f.appointment_date),n.jsx("div",{className:"text-xs text-primary",children:f.slot_id})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="completed"?"bg-green-100 text-green-700":f.status==="pending"?"bg-yellow-100 text-yellow-700":f.status==="cancelled"?"bg-red-100 text-red-700":f.status==="accepted"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:f.status})})]}),i.has(f.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Patient Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ar,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Patient Name"}),n.jsx("p",{className:"font-medium",children:f.patient_name||f.user_name})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx($a,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("p",{className:"font-medium",children:f.patient_phone||f.user_phone})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Appointment Info"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Doctor:"})," Dr. ",f.doctor_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Notes:"})," ",f.notes||"No notes"]}),f.report_url&&n.jsxs("a",{href:f.report_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary hover:underline",children:[n.jsx(Dr,{size:16})," View Report"]})]})]})]})})})]},f.id))})]})})})]})]})})},Mj={getLabReferrals:async e=>{const t=await fetch(`${ke}/admin/doctor/lab-referrals`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch lab referrals");return(await t.json()).referrals},getPharmacyReferrals:async e=>{const t=await fetch(`${ke}/admin/doctor/pharmacy-referrals`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch pharmacy referrals");return(await t.json()).referrals},getAllReports:async e=>{const t=await fetch(`${ke}/admin/all-reports`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch admin reports");return(await t.json()).reports}},uue=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(new Set),c=v.useCallback(async()=>{s(!0);const h=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||"";try{const g=await Mj.getLabReferrals(h);r(g||[])}catch(g){console.error("Error fetching lab referrals:",g),e("Failed to fetch lab referrals","error")}finally{s(!1)}},[e]);v.useEffect(()=>{c()},[c]);const u=h=>{const g=new Set(i);g.has(h)?g.delete(h):g.add(h),o(g)},m=h=>h?new Date(h).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=h=>{const g=["pending_lab_confirm","lab_confirmed","confirmed","accepted","collected","delivered_to_lab","report_ready"],x=g.indexOf(h);return n.jsx("div",{className:"flex items-center w-full overflow-x-auto py-4",children:g.map((w,y)=>n.jsxs(Zr.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center min-w-[100px]",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y<=x?"bg-primary text-black":"bg-gray-200 text-gray-400"}`,children:y<x?n.jsx(ns,{size:16}):y===x?n.jsx(Qr,{size:16}):n.jsx("span",{children:y+1})}),n.jsx("p",{className:`text-[10px] mt-1 text-center font-medium ${y<=x?"text-primary":"text-gray-400"}`,children:w.replace(/_/g," ")})]}),y<g.length-1&&n.jsx("div",{className:`h-[2px] w-full min-w-[20px] mx-1 ${y<x?"bg-primary":"bg-gray-200"}`})]},w))})};return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ec,{className:"text-primary",size:24})," Lab Referrals"]})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"Referral History"})}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No lab referrals found."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Patient"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Tests"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(h=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>u(h.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(ya,{size:14}),i.has(h.id)?n.jsx(Zs,{size:14}):n.jsx(Ha,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:h.patient_name||h.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:h.patient_contact_number||h.user_phone})]}),n.jsx("td",{className:"py-4 px-4 text-sm max-w-[200px] truncate",children:h.lab_tests_json?JSON.parse(h.lab_tests_json).join(", "):"N/A"}),n.jsx("td",{className:"py-4 px-4 text-sm",children:h.doctor_name?`Dr. ${h.doctor_name}`:"Self"}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.status==="report_ready"?"bg-green-100 text-green-700":h.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:h.status.replace(/_/g," ")})})]}),i.has(h.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Referral Status Flow"}),f(h.status),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Referral Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Address:"})," ",h.patient_address||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Doctor Notes:"})," ",h.doctor_notes||"No notes"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Created At:"})," ",m(h.created_at)]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Tests & Reports"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Scheduled Tests:"}),n.jsx("ul",{className:"list-disc list-inside mt-1",children:h.lab_tests_json?JSON.parse(h.lab_tests_json).map((g,x)=>n.jsx("li",{children:g},x)):n.jsx("li",{children:"N/A"})})]}),h.report_url&&n.jsxs("a",{href:h.report_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary hover:underline mt-4",children:[n.jsx(Dr,{size:16})," Download Lab Report"]})]})]})]})]})})})]},h.id))})]})})})]})]})})},fue=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(new Set),c=v.useCallback(async()=>{s(!0);const f=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||"";try{const h=await Mj.getPharmacyReferrals(f);r(h||[])}catch(h){console.error("Error fetching pharmacy referrals:",h),e("Failed to fetch pharmacy referrals","error")}finally{s(!1)}},[e]);v.useEffect(()=>{c()},[c]);const u=f=>{const h=new Set(i);h.has(f)?h.delete(f):h.add(f),o(h)},m=f=>f?new Date(f).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(zs,{className:"text-primary",size:24})," Pharmacy Referrals"]})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"Referral History"})}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No pharmacy referrals found."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Patient"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Created At"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(f=>n.jsxs(Zr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Be,{variant:"outline",size:"sm",onClick:()=>u(f.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(ya,{size:14}),i.has(f.id)?n.jsx(Zs,{size:14}):n.jsx(Ha,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:f.patient_name||f.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:f.patient_contact_number||f.user_phone})]}),n.jsx("td",{className:"py-4 px-4 text-sm",children:f.doctor_name?`Dr. ${f.doctor_name}`:"Self"}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:m(f.created_at)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="delivered"?"bg-green-100 text-green-700":f.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:f.status})})]}),i.has(f.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Referral Info"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Address:"})," ",f.patient_address||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Doctor Notes:"})," ",f.doctor_notes||"No notes"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Prescribed Medicines"}),n.jsx("div",{className:"space-y-2 text-sm",children:n.jsx("ul",{className:"list-disc list-inside mt-1",children:f.medicines_json?JSON.parse(f.medicines_json).map((h,g)=>n.jsx("li",{children:h},g)):n.jsx("li",{children:"N/A"})})})]})]})})})]},f.id))})]})})})]})]})})},mue=()=>{const{addToast:e}=Jt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),i=v.useCallback(async()=>{s(!0);const c=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||"";try{const u=await Mj.getAllReports(c);r(u||[])}catch(u){console.error("Error fetching reports:",u),e("Failed to fetch admin reports","error")}finally{s(!1)}},[e]);v.useEffect(()=>{i()},[i]);const o=c=>c?new Date(c).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(Yt,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Dr,{className:"text-primary",size:24})," Clinical Reports"]})}),n.jsxs(et,{children:[n.jsx(_t,{children:n.jsx(Nt,{children:"All Uploaded Reports"})}),n.jsx(tt,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No clinical reports found."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((c,u)=>n.jsx(et,{className:"border-2 border-primary/10 hover:border-primary/30 transition-all",children:n.jsxs(tt,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:n.jsx(Dr,{size:24})}),n.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-bold uppercase ${c.source==="doctor_appointment"?"bg-blue-100 text-blue-700":c.source==="doctor_lab_order"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:c.source.replace(/_/g," ")})]}),n.jsxs("div",{className:"space-y-2 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ar,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"font-semibold",children:c.patient_name||"Anonymous"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Fr,{size:14}),n.jsx("span",{children:o(c.created_at)})]})]}),n.jsxs("a",{href:c.report_url,target:"_blank",rel:"noreferrer",className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary text-black rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:[n.jsx(P8,{size:16})," View Report"]})]})},`${c.source}-${c.id}-${u}`))})})]})]})})},hue=({children:e,allowedRoles:t=[]})=>{const{user:r,isAuthenticated:a,isLoading:s}=gn();if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const i=localStorage.getItem("KwikMedi_token"),o=localStorage.getItem("KwikMedi_role"),c=i&&!i.startsWith("mock_token_"),u=r?.role||o||"",m=t.length===0||t.includes(u)||o&&t.includes(o);return!a&&!c?n.jsx(dl,{to:"/",replace:!0}):c&&m&&!a&&s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!a&&c&&s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length>0&&!m?(console.log("ProtectedRoute: Role mismatch",{user:r,allowedRole:r?.role,allowedRoles:t,storedRole:o,currentPath:window.location.pathname}),u==="helping_staff"||u==="helping_staff_admin"||o==="helping_staff"?n.jsx(dl,{to:"/admin/helping-staff-panel",replace:!0}):u==="finance_admin"||o==="finance_admin"?n.jsx(dl,{to:"/admin/finance-panel",replace:!0}):n.jsx(dl,{to:"/admin/dashboard",replace:!0})):n.jsx(n.Fragment,{children:e})},pue=()=>n.jsxs(yN,{children:[n.jsx(xt,{path:"/",element:n.jsx(xC,{})}),n.jsx(xt,{path:"/login",element:n.jsx(xC,{})}),n.jsx(xt,{path:"/admin/login",element:n.jsx(Q8,{})}),n.jsx(xt,{path:"/lead-admin/login",element:n.jsx(Qde,{})}),n.jsx(xt,{path:"/lead-admin/dashboard",element:n.jsx(rue,{})}),n.jsx(xt,{path:"/helping-staff/login",element:n.jsx(nue,{})}),n.jsx(xt,{path:"/financial-staff/login",element:n.jsx(aue,{})}),n.jsx(xt,{path:"/admin/*",element:n.jsx(hue,{allowedRoles:["admin","helping_staff","helping_staff_admin","finance_admin"],children:n.jsxs(yN,{children:[n.jsx(xt,{path:"/dashboard",element:n.jsx(dte,{})}),n.jsx(xt,{path:"/providers",element:n.jsx(bre,{})}),n.jsx(xt,{path:"/doctors",element:n.jsx(Zde,{})}),n.jsx(xt,{path:"/lab-service-providers",element:n.jsx(iue,{})}),n.jsx(xt,{path:"/labs",element:n.jsx(lue,{})}),n.jsx(xt,{path:"/pharmacy-providers",element:n.jsx(oue,{})}),n.jsx(xt,{path:"/users",element:n.jsx(xde,{})}),n.jsx(xt,{path:"/appointments",element:n.jsx(due,{})}),n.jsx(xt,{path:"/lab-referrals",element:n.jsx(uue,{})}),n.jsx(xt,{path:"/pharmacy-referrals",element:n.jsx(fue,{})}),n.jsx(xt,{path:"/all-reports",element:n.jsx(mue,{})}),n.jsx(xt,{path:"/categories/inventory",element:n.jsx(uh,{})}),n.jsx(xt,{path:"/categories/generic",element:n.jsx(uh,{})}),n.jsx(xt,{path:"/categories/branded",element:n.jsx(uh,{})}),n.jsx(xt,{path:"/categories",element:n.jsx(uh,{})}),n.jsx(xt,{path:"/prescriptions",element:n.jsx(Mde,{})}),n.jsx(xt,{path:"/leads",element:n.jsx(Ode,{})}),n.jsx(xt,{path:"/finance-panel",element:n.jsx(Ide,{})}),n.jsx(xt,{path:"/finance",element:n.jsx(Dde,{})}),n.jsx(xt,{path:"/helping-staff-panel/prescriptions",element:n.jsx(Iy,{})}),n.jsx(xt,{path:"/helping-staff-panel/orders",element:n.jsx(Iy,{})}),n.jsx(xt,{path:"/helping-staff-panel",element:n.jsx(Iy,{})}),n.jsx(xt,{path:"/disputes",element:n.jsx(dl,{to:"/admin/helpdesk",replace:!0})}),n.jsx(xt,{path:"/bookings",element:n.jsx(_de,{})}),n.jsx(xt,{path:"/orders",element:n.jsx(kde,{})}),n.jsx(xt,{path:"/transactions",element:n.jsx(Bde,{})}),n.jsx(xt,{path:"/coupons/medicine",element:n.jsx(Dy,{})}),n.jsx(xt,{path:"/coupons/lab-test",element:n.jsx(Dy,{})}),n.jsx(xt,{path:"/coupons",element:n.jsx(Dy,{})}),n.jsx(xt,{path:"/helpdesk",element:n.jsx(Vde,{})}),n.jsx(xt,{path:"/push-notifications",element:n.jsx(sue,{})}),n.jsx(xt,{path:"/lab-tests/bookings",element:n.jsx(hh,{})}),n.jsx(xt,{path:"/lab-tests/categories",element:n.jsx(hh,{})}),n.jsx(xt,{path:"/lab-tests/packages",element:n.jsx(hh,{})}),n.jsx(xt,{path:"/lab-tests",element:n.jsx(hh,{})}),n.jsx(xt,{path:"/site-management/blog",element:n.jsx(My,{})}),n.jsx(xt,{path:"/site-management/banners",element:n.jsx(My,{})}),n.jsx(xt,{path:"/site-management",element:n.jsx(My,{})}),n.jsx(xt,{path:"/complaints",element:n.jsx(Cde,{})}),n.jsx(xt,{path:"/bills",element:n.jsx(qde,{})}),n.jsx(xt,{path:"*",element:n.jsx(dl,{to:"/admin/dashboard",replace:!0})})]})})}),n.jsx(xt,{path:"*",element:n.jsx(dl,{to:"/",replace:!0})})]});function xue(){return n.jsx(i8,{children:n.jsx(g8,{children:n.jsxs(v8,{children:[" ",n.jsx(pue,{}),n.jsx(y8,{})]})})})}$M.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(xue,{})}));
