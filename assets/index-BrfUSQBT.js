function F8(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function $i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ig={exports:{}},ru={},Dg={exports:{}},Ct={};var lN;function L8(){if(lN)return Ct;lN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function g(ae){return ae===null||typeof ae!="object"?null:(ae=h&&ae[h]||ae["@@iterator"],typeof ae=="function"?ae:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function j(ae,P,B){this.props=ae,this.context=P,this.refs=y,this.updater=B||p}j.prototype.isReactComponent={},j.prototype.setState=function(ae,P){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,P,"setState")},j.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function N(){}N.prototype=j.prototype;function _(ae,P,B){this.props=ae,this.context=P,this.refs=y,this.updater=B||p}var k=_.prototype=new N;k.constructor=_,b(k,j.prototype),k.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,D={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(ae,P,B){var H,V={},te=null,ye=null;if(P!=null)for(H in P.ref!==void 0&&(ye=P.ref),P.key!==void 0&&(te=""+P.key),P)C.call(P,H)&&!O.hasOwnProperty(H)&&(V[H]=P[H]);var ke=arguments.length-2;if(ke===1)V.children=B;else if(1<ke){for(var R=Array(ke),G=0;G<ke;G++)R[G]=arguments[G+2];V.children=R}if(ae&&ae.defaultProps)for(H in ke=ae.defaultProps,ke)V[H]===void 0&&(V[H]=ke[H]);return{$$typeof:e,type:ae,key:te,ref:ye,props:V,_owner:D.current}}function T(ae,P){return{$$typeof:e,type:ae.type,key:P,ref:ae.ref,props:ae.props,_owner:ae._owner}}function F(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===e}function q(ae){var P={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(B){return P[B]})}var U=/\/+/g;function J(ae,P){return typeof ae=="object"&&ae!==null&&ae.key!=null?q(""+ae.key):P.toString(36)}function W(ae,P,B,H,V){var te=typeof ae;(te==="undefined"||te==="boolean")&&(ae=null);var ye=!1;if(ae===null)ye=!0;else switch(te){case"string":case"number":ye=!0;break;case"object":switch(ae.$$typeof){case e:case t:ye=!0}}if(ye)return ye=ae,V=V(ye),ae=H===""?"."+J(ye,0):H,E(V)?(B="",ae!=null&&(B=ae.replace(U,"$&/")+"/"),W(V,P,B,"",function(G){return G})):V!=null&&(F(V)&&(V=T(V,B+(!V.key||ye&&ye.key===V.key?"":(""+V.key).replace(U,"$&/")+"/")+ae)),P.push(V)),1;if(ye=0,H=H===""?".":H+":",E(ae))for(var ke=0;ke<ae.length;ke++){te=ae[ke];var R=H+J(te,ke);ye+=W(te,P,B,R,V)}else if(R=g(ae),typeof R=="function")for(ae=R.call(ae),ke=0;!(te=ae.next()).done;)te=te.value,R=H+J(te,ke++),ye+=W(te,P,B,R,V);else if(te==="object")throw P=String(ae),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ye}function he(ae,P,B){if(ae==null)return ae;var H=[],V=0;return W(ae,H,"","",function(te){return P.call(B,te,V++)}),H}function X(ae){if(ae._status===-1){var P=ae._result;P=P(),P.then(function(B){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=B)},function(B){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=B)}),ae._status===-1&&(ae._status=0,ae._result=P)}if(ae._status===1)return ae._result.default;throw ae._result}var be={current:null},ne={transition:null},ve={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ne,ReactCurrentOwner:D};function me(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:he,forEach:function(ae,P,B){he(ae,function(){P.apply(this,arguments)},B)},count:function(ae){var P=0;return he(ae,function(){P++}),P},toArray:function(ae){return he(ae,function(P){return P})||[]},only:function(ae){if(!F(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},Ct.Component=j,Ct.Fragment=r,Ct.Profiler=s,Ct.PureComponent=_,Ct.StrictMode=a,Ct.Suspense=u,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Ct.act=me,Ct.cloneElement=function(ae,P,B){if(ae==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ae+".");var H=b({},ae.props),V=ae.key,te=ae.ref,ye=ae._owner;if(P!=null){if(P.ref!==void 0&&(te=P.ref,ye=D.current),P.key!==void 0&&(V=""+P.key),ae.type&&ae.type.defaultProps)var ke=ae.type.defaultProps;for(R in P)C.call(P,R)&&!O.hasOwnProperty(R)&&(H[R]=P[R]===void 0&&ke!==void 0?ke[R]:P[R])}var R=arguments.length-2;if(R===1)H.children=B;else if(1<R){ke=Array(R);for(var G=0;G<R;G++)ke[G]=arguments[G+2];H.children=ke}return{$$typeof:e,type:ae.type,key:V,ref:te,props:H,_owner:ye}},Ct.createContext=function(ae){return ae={$$typeof:o,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ae.Provider={$$typeof:i,_context:ae},ae.Consumer=ae},Ct.createElement=I,Ct.createFactory=function(ae){var P=I.bind(null,ae);return P.type=ae,P},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(ae){return{$$typeof:c,render:ae}},Ct.isValidElement=F,Ct.lazy=function(ae){return{$$typeof:f,_payload:{_status:-1,_result:ae},_init:X}},Ct.memo=function(ae,P){return{$$typeof:m,type:ae,compare:P===void 0?null:P}},Ct.startTransition=function(ae){var P=ne.transition;ne.transition={};try{ae()}finally{ne.transition=P}},Ct.unstable_act=me,Ct.useCallback=function(ae,P){return be.current.useCallback(ae,P)},Ct.useContext=function(ae){return be.current.useContext(ae)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(ae){return be.current.useDeferredValue(ae)},Ct.useEffect=function(ae,P){return be.current.useEffect(ae,P)},Ct.useId=function(){return be.current.useId()},Ct.useImperativeHandle=function(ae,P,B){return be.current.useImperativeHandle(ae,P,B)},Ct.useInsertionEffect=function(ae,P){return be.current.useInsertionEffect(ae,P)},Ct.useLayoutEffect=function(ae,P){return be.current.useLayoutEffect(ae,P)},Ct.useMemo=function(ae,P){return be.current.useMemo(ae,P)},Ct.useReducer=function(ae,P,B){return be.current.useReducer(ae,P,B)},Ct.useRef=function(ae){return be.current.useRef(ae)},Ct.useState=function(ae){return be.current.useState(ae)},Ct.useSyncExternalStore=function(ae,P,B){return be.current.useSyncExternalStore(ae,P,B)},Ct.useTransition=function(){return be.current.useTransition()},Ct.version="18.3.1",Ct}var cN;function Jc(){return cN||(cN=1,Dg.exports=L8()),Dg.exports}var dN;function R8(){if(dN)return ru;dN=1;var e=Jc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,m){var f,h={},g=null,p=null;m!==void 0&&(g=""+m),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(p=u.ref);for(f in u)a.call(u,f)&&!i.hasOwnProperty(f)&&(h[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:t,type:c,key:g,ref:p,props:h,_owner:s.current}}return ru.Fragment=r,ru.jsx=o,ru.jsxs=o,ru}var uN;function M8(){return uN||(uN=1,Ig.exports=R8()),Ig.exports}var n=M8(),v=Jc();const jr=$i(v),z8=F8({__proto__:null,default:jr},[v]);var Mm={},Fg={exports:{}},va={},Lg={exports:{}},Rg={};var fN;function $8(){return fN||(fN=1,(function(e){function t(ne,ve){var me=ne.length;ne.push(ve);e:for(;0<me;){var ae=me-1>>>1,P=ne[ae];if(0<s(P,ve))ne[ae]=ve,ne[me]=P,me=ae;else break e}}function r(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var ve=ne[0],me=ne.pop();if(me!==ve){ne[0]=me;e:for(var ae=0,P=ne.length,B=P>>>1;ae<B;){var H=2*(ae+1)-1,V=ne[H],te=H+1,ye=ne[te];if(0>s(V,me))te<P&&0>s(ye,V)?(ne[ae]=ye,ne[te]=me,ae=te):(ne[ae]=V,ne[H]=me,ae=H);else if(te<P&&0>s(ye,me))ne[ae]=ye,ne[te]=me,ae=te;else break e}}return ve}function s(ne,ve){var me=ne.sortIndex-ve.sortIndex;return me!==0?me:ne.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],m=[],f=1,h=null,g=3,p=!1,b=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ne){for(var ve=r(m);ve!==null;){if(ve.callback===null)a(m);else if(ve.startTime<=ne)a(m),ve.sortIndex=ve.expirationTime,t(u,ve);else break;ve=r(m)}}function E(ne){if(y=!1,k(ne),!b)if(r(u)!==null)b=!0,X(C);else{var ve=r(m);ve!==null&&be(E,ve.startTime-ne)}}function C(ne,ve){b=!1,y&&(y=!1,N(I),I=-1),p=!0;var me=g;try{for(k(ve),h=r(u);h!==null&&(!(h.expirationTime>ve)||ne&&!q());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,g=h.priorityLevel;var P=ae(h.expirationTime<=ve);ve=e.unstable_now(),typeof P=="function"?h.callback=P:h===r(u)&&a(u),k(ve)}else a(u);h=r(u)}if(h!==null)var B=!0;else{var H=r(m);H!==null&&be(E,H.startTime-ve),B=!1}return B}finally{h=null,g=me,p=!1}}var D=!1,O=null,I=-1,T=5,F=-1;function q(){return!(e.unstable_now()-F<T)}function U(){if(O!==null){var ne=e.unstable_now();F=ne;var ve=!0;try{ve=O(!0,ne)}finally{ve?J():(D=!1,O=null)}}else D=!1}var J;if(typeof _=="function")J=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,he=W.port2;W.port1.onmessage=U,J=function(){he.postMessage(null)}}else J=function(){j(U,0)};function X(ne){O=ne,D||(D=!0,J())}function be(ne,ve){I=j(function(){ne(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,X(C))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var ve=3;break;default:ve=g}var me=g;g=ve;try{return ne()}finally{g=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ve){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=g;g=ne;try{return ve()}finally{g=me}},e.unstable_scheduleCallback=function(ne,ve,me){var ae=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ae+me:ae):me=ae,ne){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=me+P,ne={id:f++,callback:ve,priorityLevel:ne,startTime:me,expirationTime:P,sortIndex:-1},me>ae?(ne.sortIndex=me,t(m,ne),r(u)===null&&ne===r(m)&&(y?(N(I),I=-1):y=!0,be(E,me-ae))):(ne.sortIndex=P,t(u,ne),b||p||(b=!0,X(C))),ne},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(ne){var ve=g;return function(){var me=g;g=ve;try{return ne.apply(this,arguments)}finally{g=me}}}})(Rg)),Rg}var mN;function B8(){return mN||(mN=1,Lg.exports=$8()),Lg.exports}var hN;function U8(){if(hN)return va;hN=1;var e=Jc(),t=B8();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(s[l]=d,l=0;l<d.length;l++)a.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(l){return u.call(h,l)?!0:u.call(f,l)?!1:m.test(l)?h[l]=!0:(f[l]=!0,!1)}function p(l,d,x,w){if(x!==null&&x.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:x!==null?!x.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,d,x,w){if(d===null||typeof d>"u"||p(l,d,x,w))return!0;if(w)return!1;if(x!==null)switch(x.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(l,d,x,w,S,A,L){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=S,this.mustUseProperty=x,this.propertyName=l,this.type=d,this.sanitizeURL=A,this.removeEmptyString=L}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){j[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];j[d]=new y(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){j[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){j[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){j[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){j[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){j[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){j[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){j[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function _(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(N,_);j[d]=new y(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(N,_);j[d]=new y(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(N,_);j[d]=new y(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){j[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),j.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){j[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,d,x,w){var S=j.hasOwnProperty(d)?j[d]:null;(S!==null?S.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,x,S,w)&&(x=null),w||S===null?g(d)&&(x===null?l.removeAttribute(d):l.setAttribute(d,""+x)):S.mustUseProperty?l[S.propertyName]=x===null?S.type===3?!1:"":x:(d=S.attributeName,w=S.attributeNamespace,x===null?l.removeAttribute(d):(S=S.type,x=S===3||S===4&&x===!0?"":""+x,w?l.setAttributeNS(w,d,x):l.setAttribute(d,x))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ve(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var me=Object.assign,ae;function P(l){if(ae===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);ae=d&&d[1]||""}return`
`+ae+l}var B=!1;function H(l,d){if(!l||B)return"";B=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ee){var w=Ee}Reflect.construct(l,[],d)}else{try{d.call()}catch(Ee){w=Ee}l.call(d.prototype)}else{try{throw Error()}catch(Ee){w=Ee}l()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var S=Ee.stack.split(`
`),A=w.stack.split(`
`),L=S.length-1,ie=A.length-1;1<=L&&0<=ie&&S[L]!==A[ie];)ie--;for(;1<=L&&0<=ie;L--,ie--)if(S[L]!==A[ie]){if(L!==1||ie!==1)do if(L--,ie--,0>ie||S[L]!==A[ie]){var fe=`
`+S[L].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=L&&0<=ie);break}}}finally{B=!1,Error.prepareStackTrace=x}return(l=l?l.displayName||l.name:"")?P(l):""}function V(l){switch(l.tag){case 5:return P(l.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return l=H(l.type,!1),l;case 11:return l=H(l.type.render,!1),l;case 1:return l=H(l.type,!0),l;default:return""}}function te(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case D:return"Portal";case T:return"Profiler";case I:return"StrictMode";case J:return"Suspense";case W:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case q:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case U:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case he:return d=l.displayName||null,d!==null?d:te(l.type)||"Memo";case X:d=l._payload,l=l._init;try{return te(l(d))}catch{}}return null}function ye(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(d);case 8:return d===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ke(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function R(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function G(l){var d=R(l)?"checked":"value",x=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var S=x.get,A=x.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return S.call(this)},set:function(L){w=""+L,A.call(this,L)}}),Object.defineProperty(l,d,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(L){w=""+L},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ge(l){l._valueTracker||(l._valueTracker=G(l))}function le(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var x=d.getValue(),w="";return l&&(w=R(l)?l.checked?"true":"false":l.value),l=w,l!==x?(d.setValue(l),!0):!1}function ze(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Fe(l,d){var x=d.checked;return me({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??l._wrapperState.initialChecked})}function Ce(l,d){var x=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;x=ke(d.value!=null?d.value:x),l._wrapperState={initialChecked:w,initialValue:x,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ae(l,d){d=d.checked,d!=null&&k(l,"checked",d,!1)}function _e(l,d){Ae(l,d);var x=ke(d.value),w=d.type;if(x!=null)w==="number"?(x===0&&l.value===""||l.value!=x)&&(l.value=""+x):l.value!==""+x&&(l.value=""+x);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Xe(l,d.type,x):d.hasOwnProperty("defaultValue")&&Xe(l,d.type,ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function it(l,d,x){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,x||d===l.value||(l.value=d),l.defaultValue=d}x=l.name,x!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,x!==""&&(l.name=x)}function Xe(l,d,x){(d!=="number"||ze(l.ownerDocument)!==l)&&(x==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+x&&(l.defaultValue=""+x))}var gt=Array.isArray;function at(l,d,x,w){if(l=l.options,d){d={};for(var S=0;S<x.length;S++)d["$"+x[S]]=!0;for(x=0;x<l.length;x++)S=d.hasOwnProperty("$"+l[x].value),l[x].selected!==S&&(l[x].selected=S),S&&w&&(l[x].defaultSelected=!0)}else{for(x=""+ke(x),d=null,S=0;S<l.length;S++){if(l[S].value===x){l[S].selected=!0,w&&(l[S].defaultSelected=!0);return}d!==null||l[S].disabled||(d=l[S])}d!==null&&(d.selected=!0)}}function vt(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function St(l,d){var x=d.value;if(x==null){if(x=d.children,d=d.defaultValue,x!=null){if(d!=null)throw Error(r(92));if(gt(x)){if(1<x.length)throw Error(r(93));x=x[0]}d=x}d==null&&(d=""),x=d}l._wrapperState={initialValue:ke(x)}}function yt(l,d){var x=ke(d.value),w=ke(d.defaultValue);x!=null&&(x=""+x,x!==l.value&&(l.value=x),d.defaultValue==null&&l.defaultValue!==x&&(l.defaultValue=x)),w!=null&&(l.defaultValue=""+w)}function _r(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function _t(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?_t(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Y,Pe=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,x,w,S){MSApp.execUnsafeLocalFunction(function(){return l(d,x,w,S)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Y=Y||document.createElement("div"),Y.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Y.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Ie(l,d){if(d){var x=l.firstChild;if(x&&x===l.lastChild&&x.nodeType===3){x.nodeValue=d;return}}l.textContent=d}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(l){Et.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),ht[d]=ht[l]})});function Ye(l,d,x){return d==null||typeof d=="boolean"||d===""?"":x||typeof d!="number"||d===0||ht.hasOwnProperty(l)&&ht[l]?(""+d).trim():d+"px"}function Ir(l,d){l=l.style;for(var x in d)if(d.hasOwnProperty(x)){var w=x.indexOf("--")===0,S=Ye(x,d[x],w);x==="float"&&(x="cssFloat"),w?l.setProperty(x,S):l[x]=S}}var zr=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vr(l,d){if(d){if(zr[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ea(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=null;function Ca(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Xn=null,ue=null,qe=null;function mt(l){if(l=Bd(l)){if(typeof Xn!="function")throw Error(r(280));var d=l.stateNode;d&&(d=Qf(d),Xn(l.stateNode,l.type,d))}}function ur(l){ue?qe?qe.push(l):qe=[l]:ue=l}function Lt(){if(ue){var l=ue,d=qe;if(qe=ue=null,mt(l),d)for(l=0;l<d.length;l++)mt(d[l])}}function Xr(l,d){return l(d)}function Fn(){}var ua=!1;function Yn(l,d,x){if(ua)return l(d,x);ua=!0;try{return Xr(l,d,x)}finally{ua=!1,(ue!==null||qe!==null)&&(Fn(),Lt())}}function Ln(l,d){var x=l.stateNode;if(x===null)return null;var w=Qf(x);if(w===null)return null;x=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(x&&typeof x!="function")throw Error(r(231,d,typeof x));return x}var fs=!1;if(c)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){fs=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{fs=!1}function qo(l,d,x,w,S,A,L,ie,fe){var Ee=Array.prototype.slice.call(arguments,3);try{d.apply(x,Ee)}catch(Me){this.onError(Me)}}var Ts=!1,Os=null,z=!1,Q=null,K={onError:function(l){Ts=!0,Os=l}};function Z(l,d,x,w,S,A,L,ie,fe){Ts=!1,Os=null,qo.apply(K,arguments)}function ee(l,d,x,w,S,A,L,ie,fe){if(Z.apply(this,arguments),Ts){if(Ts){var Ee=Os;Ts=!1,Os=null}else throw Error(r(198));z||(z=!0,Q=Ee)}}function re(l){var d=l,x=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(x=d.return),l=d.return;while(l)}return d.tag===3?x:null}function M(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function ce(l){if(re(l)!==l)throw Error(r(188))}function oe(l){var d=l.alternate;if(!d){if(d=re(l),d===null)throw Error(r(188));return d!==l?null:l}for(var x=l,w=d;;){var S=x.return;if(S===null)break;var A=S.alternate;if(A===null){if(w=S.return,w!==null){x=w;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===x)return ce(S),l;if(A===w)return ce(S),d;A=A.sibling}throw Error(r(188))}if(x.return!==w.return)x=S,w=A;else{for(var L=!1,ie=S.child;ie;){if(ie===x){L=!0,x=S,w=A;break}if(ie===w){L=!0,w=S,x=A;break}ie=ie.sibling}if(!L){for(ie=A.child;ie;){if(ie===x){L=!0,x=A,w=S;break}if(ie===w){L=!0,w=A,x=S;break}ie=ie.sibling}if(!L)throw Error(r(189))}}if(x.alternate!==w)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?l:d}function de(l){return l=oe(l),l!==null?xe(l):null}function xe(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=xe(l);if(d!==null)return d;l=l.sibling}return null}var Te=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,tt=t.unstable_shouldYield,He=t.unstable_requestPaint,We=t.unstable_now,Nt=t.unstable_getCurrentPriorityLevel,Qt=t.unstable_ImmediatePriority,rr=t.unstable_UserBlockingPriority,Dr=t.unstable_NormalPriority,Ko=t.unstable_LowPriority,Zi=t.unstable_IdlePriority,Is=null,sn=null;function wd(l){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Is,l,void 0,(l.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:QI,JI=Math.log,ZI=Math.LN2;function QI(l){return l>>>=0,l===0?32:31-(JI(l)/ZI|0)|0}var Ff=64,Lf=4194304;function _d(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Rf(l,d){var x=l.pendingLanes;if(x===0)return 0;var w=0,S=l.suspendedLanes,A=l.pingedLanes,L=x&268435455;if(L!==0){var ie=L&~S;ie!==0?w=_d(ie):(A&=L,A!==0&&(w=_d(A)))}else L=x&~S,L!==0?w=_d(L):A!==0&&(w=_d(A));if(w===0)return 0;if(d!==0&&d!==w&&(d&S)===0&&(S=w&-w,A=d&-d,S>=A||S===16&&(A&4194240)!==0))return d;if((w&4)!==0&&(w|=x&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)x=31-Fr(d),S=1<<x,w|=l[x],d&=~S;return w}function eD(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tD(l,d){for(var x=l.suspendedLanes,w=l.pingedLanes,S=l.expirationTimes,A=l.pendingLanes;0<A;){var L=31-Fr(A),ie=1<<L,fe=S[L];fe===-1?((ie&x)===0||(ie&w)!==0)&&(S[L]=eD(ie,d)):fe<=d&&(l.expiredLanes|=ie),A&=~ie}}function ex(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function zw(){var l=Ff;return Ff<<=1,(Ff&4194240)===0&&(Ff=64),l}function tx(l){for(var d=[],x=0;31>x;x++)d.push(l);return d}function Nd(l,d,x){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Fr(d),l[d]=x}function rD(l,d){var x=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<x;){var S=31-Fr(x),A=1<<S;d[S]=0,w[S]=-1,l[S]=-1,x&=~A}}function rx(l,d){var x=l.entangledLanes|=d;for(l=l.entanglements;x;){var w=31-Fr(x),S=1<<w;S&d|l[w]&d&&(l[w]|=d),x&=~S}}var Vt=0;function $w(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Bw,nx,Uw,Ww,Hw,ax=!1,Mf=[],Qi=null,eo=null,to=null,Sd=new Map,kd=new Map,ro=[],nD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vw(l,d){switch(l){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Sd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(d.pointerId)}}function Ed(l,d,x,w,S,A){return l===null||l.nativeEvent!==A?(l={blockedOn:d,domEventName:x,eventSystemFlags:w,nativeEvent:A,targetContainers:[S]},d!==null&&(d=Bd(d),d!==null&&nx(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),l)}function aD(l,d,x,w,S){switch(d){case"focusin":return Qi=Ed(Qi,l,d,x,w,S),!0;case"dragenter":return eo=Ed(eo,l,d,x,w,S),!0;case"mouseover":return to=Ed(to,l,d,x,w,S),!0;case"pointerover":var A=S.pointerId;return Sd.set(A,Ed(Sd.get(A)||null,l,d,x,w,S)),!0;case"gotpointercapture":return A=S.pointerId,kd.set(A,Ed(kd.get(A)||null,l,d,x,w,S)),!0}return!1}function qw(l){var d=Go(l.target);if(d!==null){var x=re(d);if(x!==null){if(d=x.tag,d===13){if(d=M(x),d!==null){l.blockedOn=d,Hw(l.priority,function(){Uw(x)});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){l.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}l.blockedOn=null}function zf(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var x=ix(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(x===null){x=l.nativeEvent;var w=new x.constructor(x.type,x);Aa=w,x.target.dispatchEvent(w),Aa=null}else return d=Bd(x),d!==null&&nx(d),l.blockedOn=x,!1;d.shift()}return!0}function Kw(l,d,x){zf(l)&&x.delete(d)}function sD(){ax=!1,Qi!==null&&zf(Qi)&&(Qi=null),eo!==null&&zf(eo)&&(eo=null),to!==null&&zf(to)&&(to=null),Sd.forEach(Kw),kd.forEach(Kw)}function Ad(l,d){l.blockedOn===d&&(l.blockedOn=null,ax||(ax=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sD)))}function Cd(l){function d(S){return Ad(S,l)}if(0<Mf.length){Ad(Mf[0],l);for(var x=1;x<Mf.length;x++){var w=Mf[x];w.blockedOn===l&&(w.blockedOn=null)}}for(Qi!==null&&Ad(Qi,l),eo!==null&&Ad(eo,l),to!==null&&Ad(to,l),Sd.forEach(d),kd.forEach(d),x=0;x<ro.length;x++)w=ro[x],w.blockedOn===l&&(w.blockedOn=null);for(;0<ro.length&&(x=ro[0],x.blockedOn===null);)qw(x),x.blockedOn===null&&ro.shift()}var Wl=E.ReactCurrentBatchConfig,$f=!0;function iD(l,d,x,w){var S=Vt,A=Wl.transition;Wl.transition=null;try{Vt=1,sx(l,d,x,w)}finally{Vt=S,Wl.transition=A}}function oD(l,d,x,w){var S=Vt,A=Wl.transition;Wl.transition=null;try{Vt=4,sx(l,d,x,w)}finally{Vt=S,Wl.transition=A}}function sx(l,d,x,w){if($f){var S=ix(l,d,x,w);if(S===null)_x(l,d,w,Bf,x),Vw(l,w);else if(aD(S,l,d,x,w))w.stopPropagation();else if(Vw(l,w),d&4&&-1<nD.indexOf(l)){for(;S!==null;){var A=Bd(S);if(A!==null&&Bw(A),A=ix(l,d,x,w),A===null&&_x(l,d,w,Bf,x),A===S)break;S=A}S!==null&&w.stopPropagation()}else _x(l,d,w,null,x)}}var Bf=null;function ix(l,d,x,w){if(Bf=null,l=Ca(w),l=Go(l),l!==null)if(d=re(l),d===null)l=null;else if(x=d.tag,x===13){if(l=M(d),l!==null)return l;l=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Bf=l,null}function Gw(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nt()){case Qt:return 1;case rr:return 4;case Dr:case Ko:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var no=null,ox=null,Uf=null;function Xw(){if(Uf)return Uf;var l,d=ox,x=d.length,w,S="value"in no?no.value:no.textContent,A=S.length;for(l=0;l<x&&d[l]===S[l];l++);var L=x-l;for(w=1;w<=L&&d[x-w]===S[A-w];w++);return Uf=S.slice(l,1<w?1-w:void 0)}function Wf(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Hf(){return!0}function Yw(){return!1}function Pa(l){function d(x,w,S,A,L){this._reactName=x,this._targetInst=S,this.type=w,this.nativeEvent=A,this.target=L,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(x=l[ie],this[ie]=x?x(A):A[ie]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Hf:Yw,this.isPropagationStopped=Yw,this}return me(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Hf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Hf)},persist:function(){},isPersistent:Hf}),d}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lx=Pa(Hl),Pd=me({},Hl,{view:0,detail:0}),lD=Pa(Pd),cx,dx,Td,Vf=me({},Pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fx,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Td&&(Td&&l.type==="mousemove"?(cx=l.screenX-Td.screenX,dx=l.screenY-Td.screenY):dx=cx=0,Td=l),cx)},movementY:function(l){return"movementY"in l?l.movementY:dx}}),Jw=Pa(Vf),cD=me({},Vf,{dataTransfer:0}),dD=Pa(cD),uD=me({},Pd,{relatedTarget:0}),ux=Pa(uD),fD=me({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),mD=Pa(fD),hD=me({},Hl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),pD=Pa(hD),xD=me({},Hl,{data:0}),Zw=Pa(xD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=yD[l])?!!d[l]:!1}function fx(){return bD}var jD=me({},Pd,{key:function(l){if(l.key){var d=gD[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Wf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?vD[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fx,charCode:function(l){return l.type==="keypress"?Wf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Wf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),wD=Pa(jD),_D=me({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=Pa(_D),ND=me({},Pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fx}),SD=Pa(ND),kD=me({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=Pa(kD),AD=me({},Vf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),CD=Pa(AD),PD=[9,13,27,32],mx=c&&"CompositionEvent"in window,Od=null;c&&"documentMode"in document&&(Od=document.documentMode);var TD=c&&"TextEvent"in window&&!Od,e2=c&&(!mx||Od&&8<Od&&11>=Od),t2=" ",r2=!1;function n2(l,d){switch(l){case"keyup":return PD.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Vl=!1;function OD(l,d){switch(l){case"compositionend":return a2(d);case"keypress":return d.which!==32?null:(r2=!0,t2);case"textInput":return l=d.data,l===t2&&r2?null:l;default:return null}}function ID(l,d){if(Vl)return l==="compositionend"||!mx&&n2(l,d)?(l=Xw(),Uf=ox=no=null,Vl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return e2&&d.locale!=="ko"?null:d.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s2(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!DD[l.type]:d==="textarea"}function i2(l,d,x,w){ur(w),d=Yf(d,"onChange"),0<d.length&&(x=new lx("onChange","change",null,x,w),l.push({event:x,listeners:d}))}var Id=null,Dd=null;function FD(l){N2(l,0)}function qf(l){var d=Yl(l);if(le(d))return l}function LD(l,d){if(l==="change")return d}var o2=!1;if(c){var hx;if(c){var px="oninput"in document;if(!px){var l2=document.createElement("div");l2.setAttribute("oninput","return;"),px=typeof l2.oninput=="function"}hx=px}else hx=!1;o2=hx&&(!document.documentMode||9<document.documentMode)}function c2(){Id&&(Id.detachEvent("onpropertychange",d2),Dd=Id=null)}function d2(l){if(l.propertyName==="value"&&qf(Dd)){var d=[];i2(d,Dd,l,Ca(l)),Yn(FD,d)}}function RD(l,d,x){l==="focusin"?(c2(),Id=d,Dd=x,Id.attachEvent("onpropertychange",d2)):l==="focusout"&&c2()}function MD(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return qf(Dd)}function zD(l,d){if(l==="click")return qf(d)}function $D(l,d){if(l==="input"||l==="change")return qf(d)}function BD(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ms=typeof Object.is=="function"?Object.is:BD;function Fd(l,d){if(ms(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var x=Object.keys(l),w=Object.keys(d);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var S=x[w];if(!u.call(d,S)||!ms(l[S],d[S]))return!1}return!0}function u2(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function f2(l,d){var x=u2(l);l=0;for(var w;x;){if(x.nodeType===3){if(w=l+x.textContent.length,l<=d&&w>=d)return{node:x,offset:d-l};l=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=u2(x)}}function m2(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?m2(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function h2(){for(var l=window,d=ze();d instanceof l.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch{x=!1}if(x)l=d.contentWindow;else break;d=ze(l.document)}return d}function xx(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function UD(l){var d=h2(),x=l.focusedElem,w=l.selectionRange;if(d!==x&&x&&x.ownerDocument&&m2(x.ownerDocument.documentElement,x)){if(w!==null&&xx(x)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in x)x.selectionStart=d,x.selectionEnd=Math.min(l,x.value.length);else if(l=(d=x.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var S=x.textContent.length,A=Math.min(w.start,S);w=w.end===void 0?A:Math.min(w.end,S),!l.extend&&A>w&&(S=w,w=A,A=S),S=f2(x,A);var L=f2(x,w);S&&L&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),l.removeAllRanges(),A>w?(l.addRange(d),l.extend(L.node,L.offset)):(d.setEnd(L.node,L.offset),l.addRange(d)))}}for(d=[],l=x;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<d.length;x++)l=d[x],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var WD=c&&"documentMode"in document&&11>=document.documentMode,ql=null,gx=null,Ld=null,vx=!1;function p2(l,d,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;vx||ql==null||ql!==ze(w)||(w=ql,"selectionStart"in w&&xx(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ld&&Fd(Ld,w)||(Ld=w,w=Yf(gx,"onSelect"),0<w.length&&(d=new lx("onSelect","select",null,d,x),l.push({event:d,listeners:w}),d.target=ql)))}function Kf(l,d){var x={};return x[l.toLowerCase()]=d.toLowerCase(),x["Webkit"+l]="webkit"+d,x["Moz"+l]="moz"+d,x}var Kl={animationend:Kf("Animation","AnimationEnd"),animationiteration:Kf("Animation","AnimationIteration"),animationstart:Kf("Animation","AnimationStart"),transitionend:Kf("Transition","TransitionEnd")},yx={},x2={};c&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function Gf(l){if(yx[l])return yx[l];if(!Kl[l])return l;var d=Kl[l],x;for(x in d)if(d.hasOwnProperty(x)&&x in x2)return yx[l]=d[x];return l}var g2=Gf("animationend"),v2=Gf("animationiteration"),y2=Gf("animationstart"),b2=Gf("transitionend"),j2=new Map,w2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(l,d){j2.set(l,d),i(d,[l])}for(var bx=0;bx<w2.length;bx++){var jx=w2[bx],HD=jx.toLowerCase(),VD=jx[0].toUpperCase()+jx.slice(1);ao(HD,"on"+VD)}ao(g2,"onAnimationEnd"),ao(v2,"onAnimationIteration"),ao(y2,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(b2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rd));function _2(l,d,x){var w=l.type||"unknown-event";l.currentTarget=x,ee(w,d,void 0,l),l.currentTarget=null}function N2(l,d){d=(d&4)!==0;for(var x=0;x<l.length;x++){var w=l[x],S=w.event;w=w.listeners;e:{var A=void 0;if(d)for(var L=w.length-1;0<=L;L--){var ie=w[L],fe=ie.instance,Ee=ie.currentTarget;if(ie=ie.listener,fe!==A&&S.isPropagationStopped())break e;_2(S,ie,Ee),A=fe}else for(L=0;L<w.length;L++){if(ie=w[L],fe=ie.instance,Ee=ie.currentTarget,ie=ie.listener,fe!==A&&S.isPropagationStopped())break e;_2(S,ie,Ee),A=fe}}}if(z)throw l=Q,z=!1,Q=null,l}function ir(l,d){var x=d[Cx];x===void 0&&(x=d[Cx]=new Set);var w=l+"__bubble";x.has(w)||(S2(d,l,2,!1),x.add(w))}function wx(l,d,x){var w=0;d&&(w|=4),S2(x,l,w,d)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Md(l){if(!l[Xf]){l[Xf]=!0,a.forEach(function(x){x!=="selectionchange"&&(qD.has(x)||wx(x,!1,l),wx(x,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Xf]||(d[Xf]=!0,wx("selectionchange",!1,d))}}function S2(l,d,x,w){switch(Gw(d)){case 1:var S=iD;break;case 4:S=oD;break;default:S=sx}x=S.bind(null,d,x,l),S=void 0,!fs||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),w?S!==void 0?l.addEventListener(d,x,{capture:!0,passive:S}):l.addEventListener(d,x,!0):S!==void 0?l.addEventListener(d,x,{passive:S}):l.addEventListener(d,x,!1)}function _x(l,d,x,w,S){var A=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var L=w.tag;if(L===3||L===4){var ie=w.stateNode.containerInfo;if(ie===S||ie.nodeType===8&&ie.parentNode===S)break;if(L===4)for(L=w.return;L!==null;){var fe=L.tag;if((fe===3||fe===4)&&(fe=L.stateNode.containerInfo,fe===S||fe.nodeType===8&&fe.parentNode===S))return;L=L.return}for(;ie!==null;){if(L=Go(ie),L===null)return;if(fe=L.tag,fe===5||fe===6){w=A=L;continue e}ie=ie.parentNode}}w=w.return}Yn(function(){var Ee=A,Me=Ca(x),Be=[];e:{var Re=j2.get(l);if(Re!==void 0){var et=lx,ot=l;switch(l){case"keypress":if(Wf(x)===0)break e;case"keydown":case"keyup":et=wD;break;case"focusin":ot="focus",et=ux;break;case"focusout":ot="blur",et=ux;break;case"beforeblur":case"afterblur":et=ux;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=dD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=SD;break;case g2:case v2:case y2:et=mD;break;case b2:et=ED;break;case"scroll":et=lD;break;case"wheel":et=CD;break;case"copy":case"cut":case"paste":et=pD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Qw}var dt=(d&4)!==0,Lr=!dt&&l==="scroll",je=dt?Re!==null?Re+"Capture":null:Re;dt=[];for(var pe=Ee,Se;pe!==null;){Se=pe;var Ve=Se.stateNode;if(Se.tag===5&&Ve!==null&&(Se=Ve,je!==null&&(Ve=Ln(pe,je),Ve!=null&&dt.push(zd(pe,Ve,Se)))),Lr)break;pe=pe.return}0<dt.length&&(Re=new et(Re,ot,null,x,Me),Be.push({event:Re,listeners:dt}))}}if((d&7)===0){e:{if(Re=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",Re&&x!==Aa&&(ot=x.relatedTarget||x.fromElement)&&(Go(ot)||ot[ri]))break e;if((et||Re)&&(Re=Me.window===Me?Me:(Re=Me.ownerDocument)?Re.defaultView||Re.parentWindow:window,et?(ot=x.relatedTarget||x.toElement,et=Ee,ot=ot?Go(ot):null,ot!==null&&(Lr=re(ot),ot!==Lr||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(et=null,ot=Ee),et!==ot)){if(dt=Jw,Ve="onMouseLeave",je="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(dt=Qw,Ve="onPointerLeave",je="onPointerEnter",pe="pointer"),Lr=et==null?Re:Yl(et),Se=ot==null?Re:Yl(ot),Re=new dt(Ve,pe+"leave",et,x,Me),Re.target=Lr,Re.relatedTarget=Se,Ve=null,Go(Me)===Ee&&(dt=new dt(je,pe+"enter",ot,x,Me),dt.target=Se,dt.relatedTarget=Lr,Ve=dt),Lr=Ve,et&&ot)t:{for(dt=et,je=ot,pe=0,Se=dt;Se;Se=Gl(Se))pe++;for(Se=0,Ve=je;Ve;Ve=Gl(Ve))Se++;for(;0<pe-Se;)dt=Gl(dt),pe--;for(;0<Se-pe;)je=Gl(je),Se--;for(;pe--;){if(dt===je||je!==null&&dt===je.alternate)break t;dt=Gl(dt),je=Gl(je)}dt=null}else dt=null;et!==null&&k2(Be,Re,et,dt,!1),ot!==null&&Lr!==null&&k2(Be,Lr,ot,dt,!0)}}e:{if(Re=Ee?Yl(Ee):window,et=Re.nodeName&&Re.nodeName.toLowerCase(),et==="select"||et==="input"&&Re.type==="file")var ut=LD;else if(s2(Re))if(o2)ut=$D;else{ut=MD;var pt=RD}else(et=Re.nodeName)&&et.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(ut=zD);if(ut&&(ut=ut(l,Ee))){i2(Be,ut,x,Me);break e}pt&&pt(l,Re,Ee),l==="focusout"&&(pt=Re._wrapperState)&&pt.controlled&&Re.type==="number"&&Xe(Re,"number",Re.value)}switch(pt=Ee?Yl(Ee):window,l){case"focusin":(s2(pt)||pt.contentEditable==="true")&&(ql=pt,gx=Ee,Ld=null);break;case"focusout":Ld=gx=ql=null;break;case"mousedown":vx=!0;break;case"contextmenu":case"mouseup":case"dragend":vx=!1,p2(Be,x,Me);break;case"selectionchange":if(WD)break;case"keydown":case"keyup":p2(Be,x,Me)}var xt;if(mx)e:{switch(l){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Vl?n2(l,x)&&(bt="onCompositionEnd"):l==="keydown"&&x.keyCode===229&&(bt="onCompositionStart");bt&&(e2&&x.locale!=="ko"&&(Vl||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Vl&&(xt=Xw()):(no=Me,ox="value"in no?no.value:no.textContent,Vl=!0)),pt=Yf(Ee,bt),0<pt.length&&(bt=new Zw(bt,l,null,x,Me),Be.push({event:bt,listeners:pt}),xt?bt.data=xt:(xt=a2(x),xt!==null&&(bt.data=xt)))),(xt=TD?OD(l,x):ID(l,x))&&(Ee=Yf(Ee,"onBeforeInput"),0<Ee.length&&(Me=new Zw("onBeforeInput","beforeinput",null,x,Me),Be.push({event:Me,listeners:Ee}),Me.data=xt))}N2(Be,d)})}function zd(l,d,x){return{instance:l,listener:d,currentTarget:x}}function Yf(l,d){for(var x=d+"Capture",w=[];l!==null;){var S=l,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=Ln(l,x),A!=null&&w.unshift(zd(l,A,S)),A=Ln(l,d),A!=null&&w.push(zd(l,A,S))),l=l.return}return w}function Gl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function k2(l,d,x,w,S){for(var A=d._reactName,L=[];x!==null&&x!==w;){var ie=x,fe=ie.alternate,Ee=ie.stateNode;if(fe!==null&&fe===w)break;ie.tag===5&&Ee!==null&&(ie=Ee,S?(fe=Ln(x,A),fe!=null&&L.unshift(zd(x,fe,ie))):S||(fe=Ln(x,A),fe!=null&&L.push(zd(x,fe,ie)))),x=x.return}L.length!==0&&l.push({event:d,listeners:L})}var KD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function E2(l){return(typeof l=="string"?l:""+l).replace(KD,`
`).replace(GD,"")}function Jf(l,d,x){if(d=E2(d),E2(l)!==d&&x)throw Error(r(425))}function Zf(){}var Nx=null,Sx=null;function kx(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ex=typeof setTimeout=="function"?setTimeout:void 0,XD=typeof clearTimeout=="function"?clearTimeout:void 0,A2=typeof Promise=="function"?Promise:void 0,YD=typeof queueMicrotask=="function"?queueMicrotask:typeof A2<"u"?function(l){return A2.resolve(null).then(l).catch(JD)}:Ex;function JD(l){setTimeout(function(){throw l})}function Ax(l,d){var x=d,w=0;do{var S=x.nextSibling;if(l.removeChild(x),S&&S.nodeType===8)if(x=S.data,x==="/$"){if(w===0){l.removeChild(S),Cd(d);return}w--}else x!=="$"&&x!=="$?"&&x!=="$!"||w++;x=S}while(x);Cd(d)}function so(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function C2(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var x=l.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return l;d--}else x==="/$"&&d++}l=l.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),Ds="__reactFiber$"+Xl,$d="__reactProps$"+Xl,ri="__reactContainer$"+Xl,Cx="__reactEvents$"+Xl,ZD="__reactListeners$"+Xl,QD="__reactHandles$"+Xl;function Go(l){var d=l[Ds];if(d)return d;for(var x=l.parentNode;x;){if(d=x[ri]||x[Ds]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(l=C2(l);l!==null;){if(x=l[Ds])return x;l=C2(l)}return d}l=x,x=l.parentNode}return null}function Bd(l){return l=l[Ds]||l[ri],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Yl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Qf(l){return l[$d]||null}var Px=[],Jl=-1;function io(l){return{current:l}}function or(l){0>Jl||(l.current=Px[Jl],Px[Jl]=null,Jl--)}function nr(l,d){Jl++,Px[Jl]=l.current,l.current=d}var oo={},Rn=io(oo),ma=io(!1),Xo=oo;function Zl(l,d){var x=l.type.contextTypes;if(!x)return oo;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in x)S[A]=d[A];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=S),S}function ha(l){return l=l.childContextTypes,l!=null}function em(){or(ma),or(Rn)}function P2(l,d,x){if(Rn.current!==oo)throw Error(r(168));nr(Rn,d),nr(ma,x)}function T2(l,d,x){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return x;w=w.getChildContext();for(var S in w)if(!(S in d))throw Error(r(108,ye(l)||"Unknown",S));return me({},x,w)}function tm(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||oo,Xo=Rn.current,nr(Rn,l),nr(ma,ma.current),!0}function O2(l,d,x){var w=l.stateNode;if(!w)throw Error(r(169));x?(l=T2(l,d,Xo),w.__reactInternalMemoizedMergedChildContext=l,or(ma),or(Rn),nr(Rn,l)):or(ma),nr(ma,x)}var ni=null,rm=!1,Tx=!1;function I2(l){ni===null?ni=[l]:ni.push(l)}function e8(l){rm=!0,I2(l)}function lo(){if(!Tx&&ni!==null){Tx=!0;var l=0,d=Vt;try{var x=ni;for(Vt=1;l<x.length;l++){var w=x[l];do w=w(!0);while(w!==null)}ni=null,rm=!1}catch(S){throw ni!==null&&(ni=ni.slice(l+1)),Te(Qt,lo),S}finally{Vt=d,Tx=!1}}return null}var Ql=[],ec=0,nm=null,am=0,Ka=[],Ga=0,Yo=null,ai=1,si="";function Jo(l,d){Ql[ec++]=am,Ql[ec++]=nm,nm=l,am=d}function D2(l,d,x){Ka[Ga++]=ai,Ka[Ga++]=si,Ka[Ga++]=Yo,Yo=l;var w=ai;l=si;var S=32-Fr(w)-1;w&=~(1<<S),x+=1;var A=32-Fr(d)+S;if(30<A){var L=S-S%5;A=(w&(1<<L)-1).toString(32),w>>=L,S-=L,ai=1<<32-Fr(d)+S|x<<S|w,si=A+l}else ai=1<<A|x<<S|w,si=l}function Ox(l){l.return!==null&&(Jo(l,1),D2(l,1,0))}function Ix(l){for(;l===nm;)nm=Ql[--ec],Ql[ec]=null,am=Ql[--ec],Ql[ec]=null;for(;l===Yo;)Yo=Ka[--Ga],Ka[Ga]=null,si=Ka[--Ga],Ka[Ga]=null,ai=Ka[--Ga],Ka[Ga]=null}var Ta=null,Oa=null,fr=!1,hs=null;function F2(l,d){var x=Za(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=l,d=l.deletions,d===null?(l.deletions=[x],l.flags|=16):d.push(x)}function L2(l,d){switch(l.tag){case 5:var x=l.type;return d=d.nodeType!==1||x.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Ta=l,Oa=so(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Ta=l,Oa=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(x=Yo!==null?{id:ai,overflow:si}:null,l.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=Za(18,null,null,0),x.stateNode=d,x.return=l,l.child=x,Ta=l,Oa=null,!0):!1;default:return!1}}function Dx(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Fx(l){if(fr){var d=Oa;if(d){var x=d;if(!L2(l,d)){if(Dx(l))throw Error(r(418));d=so(x.nextSibling);var w=Ta;d&&L2(l,d)?F2(w,x):(l.flags=l.flags&-4097|2,fr=!1,Ta=l)}}else{if(Dx(l))throw Error(r(418));l.flags=l.flags&-4097|2,fr=!1,Ta=l}}}function R2(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ta=l}function sm(l){if(l!==Ta)return!1;if(!fr)return R2(l),fr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!kx(l.type,l.memoizedProps)),d&&(d=Oa)){if(Dx(l))throw M2(),Error(r(418));for(;d;)F2(l,d),d=so(d.nextSibling)}if(R2(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var x=l.data;if(x==="/$"){if(d===0){Oa=so(l.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++}l=l.nextSibling}Oa=null}}else Oa=Ta?so(l.stateNode.nextSibling):null;return!0}function M2(){for(var l=Oa;l;)l=so(l.nextSibling)}function tc(){Oa=Ta=null,fr=!1}function Lx(l){hs===null?hs=[l]:hs.push(l)}var t8=E.ReactCurrentBatchConfig;function Ud(l,d,x){if(l=x.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var w=x.stateNode}if(!w)throw Error(r(147,l));var S=w,A=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===A?d.ref:(d=function(L){var ie=S.refs;L===null?delete ie[A]:ie[A]=L},d._stringRef=A,d)}if(typeof l!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,l))}return l}function im(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function z2(l){var d=l._init;return d(l._payload)}function $2(l){function d(je,pe){if(l){var Se=je.deletions;Se===null?(je.deletions=[pe],je.flags|=16):Se.push(pe)}}function x(je,pe){if(!l)return null;for(;pe!==null;)d(je,pe),pe=pe.sibling;return null}function w(je,pe){for(je=new Map;pe!==null;)pe.key!==null?je.set(pe.key,pe):je.set(pe.index,pe),pe=pe.sibling;return je}function S(je,pe){return je=go(je,pe),je.index=0,je.sibling=null,je}function A(je,pe,Se){return je.index=Se,l?(Se=je.alternate,Se!==null?(Se=Se.index,Se<pe?(je.flags|=2,pe):Se):(je.flags|=2,pe)):(je.flags|=1048576,pe)}function L(je){return l&&je.alternate===null&&(je.flags|=2),je}function ie(je,pe,Se,Ve){return pe===null||pe.tag!==6?(pe=Eg(Se,je.mode,Ve),pe.return=je,pe):(pe=S(pe,Se),pe.return=je,pe)}function fe(je,pe,Se,Ve){var ut=Se.type;return ut===O?Me(je,pe,Se.props.children,Ve,Se.key):pe!==null&&(pe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&z2(ut)===pe.type)?(Ve=S(pe,Se.props),Ve.ref=Ud(je,pe,Se),Ve.return=je,Ve):(Ve=Pm(Se.type,Se.key,Se.props,null,je.mode,Ve),Ve.ref=Ud(je,pe,Se),Ve.return=je,Ve)}function Ee(je,pe,Se,Ve){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Se.containerInfo||pe.stateNode.implementation!==Se.implementation?(pe=Ag(Se,je.mode,Ve),pe.return=je,pe):(pe=S(pe,Se.children||[]),pe.return=je,pe)}function Me(je,pe,Se,Ve,ut){return pe===null||pe.tag!==7?(pe=sl(Se,je.mode,Ve,ut),pe.return=je,pe):(pe=S(pe,Se),pe.return=je,pe)}function Be(je,pe,Se){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Eg(""+pe,je.mode,Se),pe.return=je,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:return Se=Pm(pe.type,pe.key,pe.props,null,je.mode,Se),Se.ref=Ud(je,null,pe),Se.return=je,Se;case D:return pe=Ag(pe,je.mode,Se),pe.return=je,pe;case X:var Ve=pe._init;return Be(je,Ve(pe._payload),Se)}if(gt(pe)||ve(pe))return pe=sl(pe,je.mode,Se,null),pe.return=je,pe;im(je,pe)}return null}function Re(je,pe,Se,Ve){var ut=pe!==null?pe.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ut!==null?null:ie(je,pe,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return Se.key===ut?fe(je,pe,Se,Ve):null;case D:return Se.key===ut?Ee(je,pe,Se,Ve):null;case X:return ut=Se._init,Re(je,pe,ut(Se._payload),Ve)}if(gt(Se)||ve(Se))return ut!==null?null:Me(je,pe,Se,Ve,null);im(je,Se)}return null}function et(je,pe,Se,Ve,ut){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return je=je.get(Se)||null,ie(pe,je,""+Ve,ut);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:return je=je.get(Ve.key===null?Se:Ve.key)||null,fe(pe,je,Ve,ut);case D:return je=je.get(Ve.key===null?Se:Ve.key)||null,Ee(pe,je,Ve,ut);case X:var pt=Ve._init;return et(je,pe,Se,pt(Ve._payload),ut)}if(gt(Ve)||ve(Ve))return je=je.get(Se)||null,Me(pe,je,Ve,ut,null);im(pe,Ve)}return null}function ot(je,pe,Se,Ve){for(var ut=null,pt=null,xt=pe,bt=pe=0,cn=null;xt!==null&&bt<Se.length;bt++){xt.index>bt?(cn=xt,xt=null):cn=xt.sibling;var Rt=Re(je,xt,Se[bt],Ve);if(Rt===null){xt===null&&(xt=cn);break}l&&xt&&Rt.alternate===null&&d(je,xt),pe=A(Rt,pe,bt),pt===null?ut=Rt:pt.sibling=Rt,pt=Rt,xt=cn}if(bt===Se.length)return x(je,xt),fr&&Jo(je,bt),ut;if(xt===null){for(;bt<Se.length;bt++)xt=Be(je,Se[bt],Ve),xt!==null&&(pe=A(xt,pe,bt),pt===null?ut=xt:pt.sibling=xt,pt=xt);return fr&&Jo(je,bt),ut}for(xt=w(je,xt);bt<Se.length;bt++)cn=et(xt,je,bt,Se[bt],Ve),cn!==null&&(l&&cn.alternate!==null&&xt.delete(cn.key===null?bt:cn.key),pe=A(cn,pe,bt),pt===null?ut=cn:pt.sibling=cn,pt=cn);return l&&xt.forEach(function(vo){return d(je,vo)}),fr&&Jo(je,bt),ut}function dt(je,pe,Se,Ve){var ut=ve(Se);if(typeof ut!="function")throw Error(r(150));if(Se=ut.call(Se),Se==null)throw Error(r(151));for(var pt=ut=null,xt=pe,bt=pe=0,cn=null,Rt=Se.next();xt!==null&&!Rt.done;bt++,Rt=Se.next()){xt.index>bt?(cn=xt,xt=null):cn=xt.sibling;var vo=Re(je,xt,Rt.value,Ve);if(vo===null){xt===null&&(xt=cn);break}l&&xt&&vo.alternate===null&&d(je,xt),pe=A(vo,pe,bt),pt===null?ut=vo:pt.sibling=vo,pt=vo,xt=cn}if(Rt.done)return x(je,xt),fr&&Jo(je,bt),ut;if(xt===null){for(;!Rt.done;bt++,Rt=Se.next())Rt=Be(je,Rt.value,Ve),Rt!==null&&(pe=A(Rt,pe,bt),pt===null?ut=Rt:pt.sibling=Rt,pt=Rt);return fr&&Jo(je,bt),ut}for(xt=w(je,xt);!Rt.done;bt++,Rt=Se.next())Rt=et(xt,je,bt,Rt.value,Ve),Rt!==null&&(l&&Rt.alternate!==null&&xt.delete(Rt.key===null?bt:Rt.key),pe=A(Rt,pe,bt),pt===null?ut=Rt:pt.sibling=Rt,pt=Rt);return l&&xt.forEach(function(D8){return d(je,D8)}),fr&&Jo(je,bt),ut}function Lr(je,pe,Se,Ve){if(typeof Se=="object"&&Se!==null&&Se.type===O&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:e:{for(var ut=Se.key,pt=pe;pt!==null;){if(pt.key===ut){if(ut=Se.type,ut===O){if(pt.tag===7){x(je,pt.sibling),pe=S(pt,Se.props.children),pe.return=je,je=pe;break e}}else if(pt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&z2(ut)===pt.type){x(je,pt.sibling),pe=S(pt,Se.props),pe.ref=Ud(je,pt,Se),pe.return=je,je=pe;break e}x(je,pt);break}else d(je,pt);pt=pt.sibling}Se.type===O?(pe=sl(Se.props.children,je.mode,Ve,Se.key),pe.return=je,je=pe):(Ve=Pm(Se.type,Se.key,Se.props,null,je.mode,Ve),Ve.ref=Ud(je,pe,Se),Ve.return=je,je=Ve)}return L(je);case D:e:{for(pt=Se.key;pe!==null;){if(pe.key===pt)if(pe.tag===4&&pe.stateNode.containerInfo===Se.containerInfo&&pe.stateNode.implementation===Se.implementation){x(je,pe.sibling),pe=S(pe,Se.children||[]),pe.return=je,je=pe;break e}else{x(je,pe);break}else d(je,pe);pe=pe.sibling}pe=Ag(Se,je.mode,Ve),pe.return=je,je=pe}return L(je);case X:return pt=Se._init,Lr(je,pe,pt(Se._payload),Ve)}if(gt(Se))return ot(je,pe,Se,Ve);if(ve(Se))return dt(je,pe,Se,Ve);im(je,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,pe!==null&&pe.tag===6?(x(je,pe.sibling),pe=S(pe,Se),pe.return=je,je=pe):(x(je,pe),pe=Eg(Se,je.mode,Ve),pe.return=je,je=pe),L(je)):x(je,pe)}return Lr}var rc=$2(!0),B2=$2(!1),om=io(null),lm=null,nc=null,Rx=null;function Mx(){Rx=nc=lm=null}function zx(l){var d=om.current;or(om),l._currentValue=d}function $x(l,d,x){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===x)break;l=l.return}}function ac(l,d){lm=l,Rx=nc=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(pa=!0),l.firstContext=null)}function Xa(l){var d=l._currentValue;if(Rx!==l)if(l={context:l,memoizedValue:d,next:null},nc===null){if(lm===null)throw Error(r(308));nc=l,lm.dependencies={lanes:0,firstContext:l}}else nc=nc.next=l;return d}var Zo=null;function Bx(l){Zo===null?Zo=[l]:Zo.push(l)}function U2(l,d,x,w){var S=d.interleaved;return S===null?(x.next=x,Bx(d)):(x.next=S.next,S.next=x),d.interleaved=x,ii(l,w)}function ii(l,d){l.lanes|=d;var x=l.alternate;for(x!==null&&(x.lanes|=d),x=l,l=l.return;l!==null;)l.childLanes|=d,x=l.alternate,x!==null&&(x.childLanes|=d),x=l,l=l.return;return x.tag===3?x.stateNode:null}var co=!1;function Ux(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W2(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function oi(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function uo(l,d,x){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Ft&2)!==0){var S=w.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),w.pending=d,ii(l,x)}return S=w.interleaved,S===null?(d.next=d,Bx(w)):(d.next=S.next,S.next=d),w.interleaved=d,ii(l,x)}function cm(l,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,x|=w,d.lanes=x,rx(l,x)}}function H2(l,d){var x=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var S=null,A=null;if(x=x.firstBaseUpdate,x!==null){do{var L={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};A===null?S=A=L:A=A.next=L,x=x.next}while(x!==null);A===null?S=A=d:A=A.next=d}else S=A=d;x={baseState:w.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:w.shared,effects:w.effects},l.updateQueue=x;return}l=x.lastBaseUpdate,l===null?x.firstBaseUpdate=d:l.next=d,x.lastBaseUpdate=d}function dm(l,d,x,w){var S=l.updateQueue;co=!1;var A=S.firstBaseUpdate,L=S.lastBaseUpdate,ie=S.shared.pending;if(ie!==null){S.shared.pending=null;var fe=ie,Ee=fe.next;fe.next=null,L===null?A=Ee:L.next=Ee,L=fe;var Me=l.alternate;Me!==null&&(Me=Me.updateQueue,ie=Me.lastBaseUpdate,ie!==L&&(ie===null?Me.firstBaseUpdate=Ee:ie.next=Ee,Me.lastBaseUpdate=fe))}if(A!==null){var Be=S.baseState;L=0,Me=Ee=fe=null,ie=A;do{var Re=ie.lane,et=ie.eventTime;if((w&Re)===Re){Me!==null&&(Me=Me.next={eventTime:et,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var ot=l,dt=ie;switch(Re=d,et=x,dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){Be=ot.call(et,Be,Re);break e}Be=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,Re=typeof ot=="function"?ot.call(et,Be,Re):ot,Re==null)break e;Be=me({},Be,Re);break e;case 2:co=!0}}ie.callback!==null&&ie.lane!==0&&(l.flags|=64,Re=S.effects,Re===null?S.effects=[ie]:Re.push(ie))}else et={eventTime:et,lane:Re,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Me===null?(Ee=Me=et,fe=Be):Me=Me.next=et,L|=Re;if(ie=ie.next,ie===null){if(ie=S.shared.pending,ie===null)break;Re=ie,ie=Re.next,Re.next=null,S.lastBaseUpdate=Re,S.shared.pending=null}}while(!0);if(Me===null&&(fe=Be),S.baseState=fe,S.firstBaseUpdate=Ee,S.lastBaseUpdate=Me,d=S.shared.interleaved,d!==null){S=d;do L|=S.lane,S=S.next;while(S!==d)}else A===null&&(S.shared.lanes=0);tl|=L,l.lanes=L,l.memoizedState=Be}}function V2(l,d,x){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],S=w.callback;if(S!==null){if(w.callback=null,w=x,typeof S!="function")throw Error(r(191,S));S.call(w)}}}var Wd={},Fs=io(Wd),Hd=io(Wd),Vd=io(Wd);function Qo(l){if(l===Wd)throw Error(r(174));return l}function Wx(l,d){switch(nr(Vd,d),nr(Hd,l),nr(Fs,Wd),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:se(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=se(d,l)}or(Fs),nr(Fs,d)}function sc(){or(Fs),or(Hd),or(Vd)}function q2(l){Qo(Vd.current);var d=Qo(Fs.current),x=se(d,l.type);d!==x&&(nr(Hd,l),nr(Fs,x))}function Hx(l){Hd.current===l&&(or(Fs),or(Hd))}var yr=io(0);function um(l){for(var d=l;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Vx=[];function qx(){for(var l=0;l<Vx.length;l++)Vx[l]._workInProgressVersionPrimary=null;Vx.length=0}var fm=E.ReactCurrentDispatcher,Kx=E.ReactCurrentBatchConfig,el=0,br=null,Yr=null,on=null,mm=!1,qd=!1,Kd=0,r8=0;function Mn(){throw Error(r(321))}function Gx(l,d){if(d===null)return!1;for(var x=0;x<d.length&&x<l.length;x++)if(!ms(l[x],d[x]))return!1;return!0}function Xx(l,d,x,w,S,A){if(el=A,br=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,fm.current=l===null||l.memoizedState===null?i8:o8,l=x(w,S),qd){A=0;do{if(qd=!1,Kd=0,25<=A)throw Error(r(301));A+=1,on=Yr=null,d.updateQueue=null,fm.current=l8,l=x(w,S)}while(qd)}if(fm.current=xm,d=Yr!==null&&Yr.next!==null,el=0,on=Yr=br=null,mm=!1,d)throw Error(r(300));return l}function Yx(){var l=Kd!==0;return Kd=0,l}function Ls(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?br.memoizedState=on=l:on=on.next=l,on}function Ya(){if(Yr===null){var l=br.alternate;l=l!==null?l.memoizedState:null}else l=Yr.next;var d=on===null?br.memoizedState:on.next;if(d!==null)on=d,Yr=l;else{if(l===null)throw Error(r(310));Yr=l,l={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},on===null?br.memoizedState=on=l:on=on.next=l}return on}function Gd(l,d){return typeof d=="function"?d(l):d}function Jx(l){var d=Ya(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=l;var w=Yr,S=w.baseQueue,A=x.pending;if(A!==null){if(S!==null){var L=S.next;S.next=A.next,A.next=L}w.baseQueue=S=A,x.pending=null}if(S!==null){A=S.next,w=w.baseState;var ie=L=null,fe=null,Ee=A;do{var Me=Ee.lane;if((el&Me)===Me)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:l(w,Ee.action);else{var Be={lane:Me,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(ie=fe=Be,L=w):fe=fe.next=Be,br.lanes|=Me,tl|=Me}Ee=Ee.next}while(Ee!==null&&Ee!==A);fe===null?L=w:fe.next=ie,ms(w,d.memoizedState)||(pa=!0),d.memoizedState=w,d.baseState=L,d.baseQueue=fe,x.lastRenderedState=w}if(l=x.interleaved,l!==null){S=l;do A=S.lane,br.lanes|=A,tl|=A,S=S.next;while(S!==l)}else S===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function Zx(l){var d=Ya(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=l;var w=x.dispatch,S=x.pending,A=d.memoizedState;if(S!==null){x.pending=null;var L=S=S.next;do A=l(A,L.action),L=L.next;while(L!==S);ms(A,d.memoizedState)||(pa=!0),d.memoizedState=A,d.baseQueue===null&&(d.baseState=A),x.lastRenderedState=A}return[A,w]}function K2(){}function G2(l,d){var x=br,w=Ya(),S=d(),A=!ms(w.memoizedState,S);if(A&&(w.memoizedState=S,pa=!0),w=w.queue,Qx(J2.bind(null,x,w,l),[l]),w.getSnapshot!==d||A||on!==null&&on.memoizedState.tag&1){if(x.flags|=2048,Xd(9,Y2.bind(null,x,w,S,d),void 0,null),ln===null)throw Error(r(349));(el&30)!==0||X2(x,d,S)}return S}function X2(l,d,x){l.flags|=16384,l={getSnapshot:d,value:x},d=br.updateQueue,d===null?(d={lastEffect:null,stores:null},br.updateQueue=d,d.stores=[l]):(x=d.stores,x===null?d.stores=[l]:x.push(l))}function Y2(l,d,x,w){d.value=x,d.getSnapshot=w,Z2(d)&&Q2(l)}function J2(l,d,x){return x(function(){Z2(d)&&Q2(l)})}function Z2(l){var d=l.getSnapshot;l=l.value;try{var x=d();return!ms(l,x)}catch{return!0}}function Q2(l){var d=ii(l,1);d!==null&&vs(d,l,1,-1)}function e_(l){var d=Ls();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:l},d.queue=l,l=l.dispatch=s8.bind(null,br,l),[d.memoizedState,l]}function Xd(l,d,x,w){return l={tag:l,create:d,destroy:x,deps:w,next:null},d=br.updateQueue,d===null?(d={lastEffect:null,stores:null},br.updateQueue=d,d.lastEffect=l.next=l):(x=d.lastEffect,x===null?d.lastEffect=l.next=l:(w=x.next,x.next=l,l.next=w,d.lastEffect=l)),l}function t_(){return Ya().memoizedState}function hm(l,d,x,w){var S=Ls();br.flags|=l,S.memoizedState=Xd(1|d,x,void 0,w===void 0?null:w)}function pm(l,d,x,w){var S=Ya();w=w===void 0?null:w;var A=void 0;if(Yr!==null){var L=Yr.memoizedState;if(A=L.destroy,w!==null&&Gx(w,L.deps)){S.memoizedState=Xd(d,x,A,w);return}}br.flags|=l,S.memoizedState=Xd(1|d,x,A,w)}function r_(l,d){return hm(8390656,8,l,d)}function Qx(l,d){return pm(2048,8,l,d)}function n_(l,d){return pm(4,2,l,d)}function a_(l,d){return pm(4,4,l,d)}function s_(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function i_(l,d,x){return x=x!=null?x.concat([l]):null,pm(4,4,s_.bind(null,d,l),x)}function eg(){}function o_(l,d){var x=Ya();d=d===void 0?null:d;var w=x.memoizedState;return w!==null&&d!==null&&Gx(d,w[1])?w[0]:(x.memoizedState=[l,d],l)}function l_(l,d){var x=Ya();d=d===void 0?null:d;var w=x.memoizedState;return w!==null&&d!==null&&Gx(d,w[1])?w[0]:(l=l(),x.memoizedState=[l,d],l)}function c_(l,d,x){return(el&21)===0?(l.baseState&&(l.baseState=!1,pa=!0),l.memoizedState=x):(ms(x,d)||(x=zw(),br.lanes|=x,tl|=x,l.baseState=!0),d)}function n8(l,d){var x=Vt;Vt=x!==0&&4>x?x:4,l(!0);var w=Kx.transition;Kx.transition={};try{l(!1),d()}finally{Vt=x,Kx.transition=w}}function d_(){return Ya().memoizedState}function a8(l,d,x){var w=po(l);if(x={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null},u_(l))f_(d,x);else if(x=U2(l,d,x,w),x!==null){var S=Zn();vs(x,l,w,S),m_(x,d,w)}}function s8(l,d,x){var w=po(l),S={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null};if(u_(l))f_(d,S);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=d.lastRenderedReducer,A!==null))try{var L=d.lastRenderedState,ie=A(L,x);if(S.hasEagerState=!0,S.eagerState=ie,ms(ie,L)){var fe=d.interleaved;fe===null?(S.next=S,Bx(d)):(S.next=fe.next,fe.next=S),d.interleaved=S;return}}catch{}x=U2(l,d,S,w),x!==null&&(S=Zn(),vs(x,l,w,S),m_(x,d,w))}}function u_(l){var d=l.alternate;return l===br||d!==null&&d===br}function f_(l,d){qd=mm=!0;var x=l.pending;x===null?d.next=d:(d.next=x.next,x.next=d),l.pending=d}function m_(l,d,x){if((x&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,x|=w,d.lanes=x,rx(l,x)}}var xm={readContext:Xa,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},i8={readContext:Xa,useCallback:function(l,d){return Ls().memoizedState=[l,d===void 0?null:d],l},useContext:Xa,useEffect:r_,useImperativeHandle:function(l,d,x){return x=x!=null?x.concat([l]):null,hm(4194308,4,s_.bind(null,d,l),x)},useLayoutEffect:function(l,d){return hm(4194308,4,l,d)},useInsertionEffect:function(l,d){return hm(4,2,l,d)},useMemo:function(l,d){var x=Ls();return d=d===void 0?null:d,l=l(),x.memoizedState=[l,d],l},useReducer:function(l,d,x){var w=Ls();return d=x!==void 0?x(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=a8.bind(null,br,l),[w.memoizedState,l]},useRef:function(l){var d=Ls();return l={current:l},d.memoizedState=l},useState:e_,useDebugValue:eg,useDeferredValue:function(l){return Ls().memoizedState=l},useTransition:function(){var l=e_(!1),d=l[0];return l=n8.bind(null,l[1]),Ls().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,x){var w=br,S=Ls();if(fr){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),ln===null)throw Error(r(349));(el&30)!==0||X2(w,d,x)}S.memoizedState=x;var A={value:x,getSnapshot:d};return S.queue=A,r_(J2.bind(null,w,A,l),[l]),w.flags|=2048,Xd(9,Y2.bind(null,w,A,x,d),void 0,null),x},useId:function(){var l=Ls(),d=ln.identifierPrefix;if(fr){var x=si,w=ai;x=(w&~(1<<32-Fr(w)-1)).toString(32)+x,d=":"+d+"R"+x,x=Kd++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=r8++,d=":"+d+"r"+x.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},o8={readContext:Xa,useCallback:o_,useContext:Xa,useEffect:Qx,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:a_,useMemo:l_,useReducer:Jx,useRef:t_,useState:function(){return Jx(Gd)},useDebugValue:eg,useDeferredValue:function(l){var d=Ya();return c_(d,Yr.memoizedState,l)},useTransition:function(){var l=Jx(Gd)[0],d=Ya().memoizedState;return[l,d]},useMutableSource:K2,useSyncExternalStore:G2,useId:d_,unstable_isNewReconciler:!1},l8={readContext:Xa,useCallback:o_,useContext:Xa,useEffect:Qx,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:a_,useMemo:l_,useReducer:Zx,useRef:t_,useState:function(){return Zx(Gd)},useDebugValue:eg,useDeferredValue:function(l){var d=Ya();return Yr===null?d.memoizedState=l:c_(d,Yr.memoizedState,l)},useTransition:function(){var l=Zx(Gd)[0],d=Ya().memoizedState;return[l,d]},useMutableSource:K2,useSyncExternalStore:G2,useId:d_,unstable_isNewReconciler:!1};function ps(l,d){if(l&&l.defaultProps){d=me({},d),l=l.defaultProps;for(var x in l)d[x]===void 0&&(d[x]=l[x]);return d}return d}function tg(l,d,x,w){d=l.memoizedState,x=x(w,d),x=x==null?d:me({},d,x),l.memoizedState=x,l.lanes===0&&(l.updateQueue.baseState=x)}var gm={isMounted:function(l){return(l=l._reactInternals)?re(l)===l:!1},enqueueSetState:function(l,d,x){l=l._reactInternals;var w=Zn(),S=po(l),A=oi(w,S);A.payload=d,x!=null&&(A.callback=x),d=uo(l,A,S),d!==null&&(vs(d,l,S,w),cm(d,l,S))},enqueueReplaceState:function(l,d,x){l=l._reactInternals;var w=Zn(),S=po(l),A=oi(w,S);A.tag=1,A.payload=d,x!=null&&(A.callback=x),d=uo(l,A,S),d!==null&&(vs(d,l,S,w),cm(d,l,S))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var x=Zn(),w=po(l),S=oi(x,w);S.tag=2,d!=null&&(S.callback=d),d=uo(l,S,w),d!==null&&(vs(d,l,w,x),cm(d,l,w))}};function h_(l,d,x,w,S,A,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,A,L):d.prototype&&d.prototype.isPureReactComponent?!Fd(x,w)||!Fd(S,A):!0}function p_(l,d,x){var w=!1,S=oo,A=d.contextType;return typeof A=="object"&&A!==null?A=Xa(A):(S=ha(d)?Xo:Rn.current,w=d.contextTypes,A=(w=w!=null)?Zl(l,S):oo),d=new d(x,A),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gm,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=A),d}function x_(l,d,x,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,w),d.state!==l&&gm.enqueueReplaceState(d,d.state,null)}function rg(l,d,x,w){var S=l.stateNode;S.props=x,S.state=l.memoizedState,S.refs={},Ux(l);var A=d.contextType;typeof A=="object"&&A!==null?S.context=Xa(A):(A=ha(d)?Xo:Rn.current,S.context=Zl(l,A)),S.state=l.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(tg(l,d,A,x),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&gm.enqueueReplaceState(S,S.state,null),dm(l,x,S,w),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function ic(l,d){try{var x="",w=d;do x+=V(w),w=w.return;while(w);var S=x}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:d,stack:S,digest:null}}function ng(l,d,x){return{value:l,source:null,stack:x??null,digest:d??null}}function ag(l,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var c8=typeof WeakMap=="function"?WeakMap:Map;function g_(l,d,x){x=oi(-1,x),x.tag=3,x.payload={element:null};var w=d.value;return x.callback=function(){Nm||(Nm=!0,yg=w),ag(l,d)},x}function v_(l,d,x){x=oi(-1,x),x.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var S=d.value;x.payload=function(){return w(S)},x.callback=function(){ag(l,d)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(x.callback=function(){ag(l,d),typeof w!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})}),x}function y_(l,d,x){var w=l.pingCache;if(w===null){w=l.pingCache=new c8;var S=new Set;w.set(d,S)}else S=w.get(d),S===void 0&&(S=new Set,w.set(d,S));S.has(x)||(S.add(x),l=_8.bind(null,l,d,x),d.then(l,l))}function b_(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function j_(l,d,x,w,S){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=oi(-1,1),d.tag=2,uo(x,d,1))),x.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var d8=E.ReactCurrentOwner,pa=!1;function Jn(l,d,x,w){d.child=l===null?B2(d,null,x,w):rc(d,l.child,x,w)}function w_(l,d,x,w,S){x=x.render;var A=d.ref;return ac(d,S),w=Xx(l,d,x,w,A,S),x=Yx(),l!==null&&!pa?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~S,li(l,d,S)):(fr&&x&&Ox(d),d.flags|=1,Jn(l,d,w,S),d.child)}function __(l,d,x,w,S){if(l===null){var A=x.type;return typeof A=="function"&&!kg(A)&&A.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=A,N_(l,d,A,w,S)):(l=Pm(x.type,null,w,d,d.mode,S),l.ref=d.ref,l.return=d,d.child=l)}if(A=l.child,(l.lanes&S)===0){var L=A.memoizedProps;if(x=x.compare,x=x!==null?x:Fd,x(L,w)&&l.ref===d.ref)return li(l,d,S)}return d.flags|=1,l=go(A,w),l.ref=d.ref,l.return=d,d.child=l}function N_(l,d,x,w,S){if(l!==null){var A=l.memoizedProps;if(Fd(A,w)&&l.ref===d.ref)if(pa=!1,d.pendingProps=w=A,(l.lanes&S)!==0)(l.flags&131072)!==0&&(pa=!0);else return d.lanes=l.lanes,li(l,d,S)}return sg(l,d,x,w,S)}function S_(l,d,x){var w=d.pendingProps,S=w.children,A=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(lc,Ia),Ia|=x;else{if((x&1073741824)===0)return l=A!==null?A.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,nr(lc,Ia),Ia|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:x,nr(lc,Ia),Ia|=w}else A!==null?(w=A.baseLanes|x,d.memoizedState=null):w=x,nr(lc,Ia),Ia|=w;return Jn(l,d,S,x),d.child}function k_(l,d){var x=d.ref;(l===null&&x!==null||l!==null&&l.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function sg(l,d,x,w,S){var A=ha(x)?Xo:Rn.current;return A=Zl(d,A),ac(d,S),x=Xx(l,d,x,w,A,S),w=Yx(),l!==null&&!pa?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~S,li(l,d,S)):(fr&&w&&Ox(d),d.flags|=1,Jn(l,d,x,S),d.child)}function E_(l,d,x,w,S){if(ha(x)){var A=!0;tm(d)}else A=!1;if(ac(d,S),d.stateNode===null)ym(l,d),p_(d,x,w),rg(d,x,w,S),w=!0;else if(l===null){var L=d.stateNode,ie=d.memoizedProps;L.props=ie;var fe=L.context,Ee=x.contextType;typeof Ee=="object"&&Ee!==null?Ee=Xa(Ee):(Ee=ha(x)?Xo:Rn.current,Ee=Zl(d,Ee));var Me=x.getDerivedStateFromProps,Be=typeof Me=="function"||typeof L.getSnapshotBeforeUpdate=="function";Be||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ie!==w||fe!==Ee)&&x_(d,L,w,Ee),co=!1;var Re=d.memoizedState;L.state=Re,dm(d,w,L,S),fe=d.memoizedState,ie!==w||Re!==fe||ma.current||co?(typeof Me=="function"&&(tg(d,x,Me,w),fe=d.memoizedState),(ie=co||h_(d,x,ie,w,Re,fe,Ee))?(Be||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(d.flags|=4194308)):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=fe),L.props=w,L.state=fe,L.context=Ee,w=ie):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{L=d.stateNode,W2(l,d),ie=d.memoizedProps,Ee=d.type===d.elementType?ie:ps(d.type,ie),L.props=Ee,Be=d.pendingProps,Re=L.context,fe=x.contextType,typeof fe=="object"&&fe!==null?fe=Xa(fe):(fe=ha(x)?Xo:Rn.current,fe=Zl(d,fe));var et=x.getDerivedStateFromProps;(Me=typeof et=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ie!==Be||Re!==fe)&&x_(d,L,w,fe),co=!1,Re=d.memoizedState,L.state=Re,dm(d,w,L,S);var ot=d.memoizedState;ie!==Be||Re!==ot||ma.current||co?(typeof et=="function"&&(tg(d,x,et,w),ot=d.memoizedState),(Ee=co||h_(d,x,Ee,w,Re,ot,fe)||!1)?(Me||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,ot,fe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,ot,fe)),typeof L.componentDidUpdate=="function"&&(d.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof L.componentDidUpdate!="function"||ie===l.memoizedProps&&Re===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Re===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=ot),L.props=w,L.state=ot,L.context=fe,w=Ee):(typeof L.componentDidUpdate!="function"||ie===l.memoizedProps&&Re===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ie===l.memoizedProps&&Re===l.memoizedState||(d.flags|=1024),w=!1)}return ig(l,d,x,w,A,S)}function ig(l,d,x,w,S,A){k_(l,d);var L=(d.flags&128)!==0;if(!w&&!L)return S&&O2(d,x,!1),li(l,d,A);w=d.stateNode,d8.current=d;var ie=L&&typeof x.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&L?(d.child=rc(d,l.child,null,A),d.child=rc(d,null,ie,A)):Jn(l,d,ie,A),d.memoizedState=w.state,S&&O2(d,x,!0),d.child}function A_(l){var d=l.stateNode;d.pendingContext?P2(l,d.pendingContext,d.pendingContext!==d.context):d.context&&P2(l,d.context,!1),Wx(l,d.containerInfo)}function C_(l,d,x,w,S){return tc(),Lx(S),d.flags|=256,Jn(l,d,x,w),d.child}var og={dehydrated:null,treeContext:null,retryLane:0};function lg(l){return{baseLanes:l,cachePool:null,transitions:null}}function P_(l,d,x){var w=d.pendingProps,S=yr.current,A=!1,L=(d.flags&128)!==0,ie;if((ie=L)||(ie=l!==null&&l.memoizedState===null?!1:(S&2)!==0),ie?(A=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),nr(yr,S&1),l===null)return Fx(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(L=w.children,l=w.fallback,A?(w=d.mode,A=d.child,L={mode:"hidden",children:L},(w&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=L):A=Tm(L,w,0,null),l=sl(l,w,x,null),A.return=d,l.return=d,A.sibling=l,d.child=A,d.child.memoizedState=lg(x),d.memoizedState=og,l):cg(d,L));if(S=l.memoizedState,S!==null&&(ie=S.dehydrated,ie!==null))return u8(l,d,L,w,ie,S,x);if(A){A=w.fallback,L=d.mode,S=l.child,ie=S.sibling;var fe={mode:"hidden",children:w.children};return(L&1)===0&&d.child!==S?(w=d.child,w.childLanes=0,w.pendingProps=fe,d.deletions=null):(w=go(S,fe),w.subtreeFlags=S.subtreeFlags&14680064),ie!==null?A=go(ie,A):(A=sl(A,L,x,null),A.flags|=2),A.return=d,w.return=d,w.sibling=A,d.child=w,w=A,A=d.child,L=l.child.memoizedState,L=L===null?lg(x):{baseLanes:L.baseLanes|x,cachePool:null,transitions:L.transitions},A.memoizedState=L,A.childLanes=l.childLanes&~x,d.memoizedState=og,w}return A=l.child,l=A.sibling,w=go(A,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=x),w.return=d,w.sibling=null,l!==null&&(x=d.deletions,x===null?(d.deletions=[l],d.flags|=16):x.push(l)),d.child=w,d.memoizedState=null,w}function cg(l,d){return d=Tm({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function vm(l,d,x,w){return w!==null&&Lx(w),rc(d,l.child,null,x),l=cg(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function u8(l,d,x,w,S,A,L){if(x)return d.flags&256?(d.flags&=-257,w=ng(Error(r(422))),vm(l,d,L,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(A=w.fallback,S=d.mode,w=Tm({mode:"visible",children:w.children},S,0,null),A=sl(A,S,L,null),A.flags|=2,w.return=d,A.return=d,w.sibling=A,d.child=w,(d.mode&1)!==0&&rc(d,l.child,null,L),d.child.memoizedState=lg(L),d.memoizedState=og,A);if((d.mode&1)===0)return vm(l,d,L,null);if(S.data==="$!"){if(w=S.nextSibling&&S.nextSibling.dataset,w)var ie=w.dgst;return w=ie,A=Error(r(419)),w=ng(A,w,void 0),vm(l,d,L,w)}if(ie=(L&l.childLanes)!==0,pa||ie){if(w=ln,w!==null){switch(L&-L){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(w.suspendedLanes|L))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,ii(l,S),vs(w,l,S,-1))}return Sg(),w=ng(Error(r(421))),vm(l,d,L,w)}return S.data==="$?"?(d.flags|=128,d.child=l.child,d=N8.bind(null,l),S._reactRetry=d,null):(l=A.treeContext,Oa=so(S.nextSibling),Ta=d,fr=!0,hs=null,l!==null&&(Ka[Ga++]=ai,Ka[Ga++]=si,Ka[Ga++]=Yo,ai=l.id,si=l.overflow,Yo=d),d=cg(d,w.children),d.flags|=4096,d)}function T_(l,d,x){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),$x(l.return,d,x)}function dg(l,d,x,w,S){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:S}:(A.isBackwards=d,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=x,A.tailMode=S)}function O_(l,d,x){var w=d.pendingProps,S=w.revealOrder,A=w.tail;if(Jn(l,d,w.children,x),w=yr.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&T_(l,x,d);else if(l.tag===19)T_(l,x,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(nr(yr,w),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(x=d.child,S=null;x!==null;)l=x.alternate,l!==null&&um(l)===null&&(S=x),x=x.sibling;x=S,x===null?(S=d.child,d.child=null):(S=x.sibling,x.sibling=null),dg(d,!1,S,x,A);break;case"backwards":for(x=null,S=d.child,d.child=null;S!==null;){if(l=S.alternate,l!==null&&um(l)===null){d.child=S;break}l=S.sibling,S.sibling=x,x=S,S=l}dg(d,!0,x,null,A);break;case"together":dg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ym(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function li(l,d,x){if(l!==null&&(d.dependencies=l.dependencies),tl|=d.lanes,(x&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,x=go(l,l.pendingProps),d.child=x,x.return=d;l.sibling!==null;)l=l.sibling,x=x.sibling=go(l,l.pendingProps),x.return=d;x.sibling=null}return d.child}function f8(l,d,x){switch(d.tag){case 3:A_(d),tc();break;case 5:q2(d);break;case 1:ha(d.type)&&tm(d);break;case 4:Wx(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,S=d.memoizedProps.value;nr(om,w._currentValue),w._currentValue=S;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(nr(yr,yr.current&1),d.flags|=128,null):(x&d.child.childLanes)!==0?P_(l,d,x):(nr(yr,yr.current&1),l=li(l,d,x),l!==null?l.sibling:null);nr(yr,yr.current&1);break;case 19:if(w=(x&d.childLanes)!==0,(l.flags&128)!==0){if(w)return O_(l,d,x);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),nr(yr,yr.current),w)break;return null;case 22:case 23:return d.lanes=0,S_(l,d,x)}return li(l,d,x)}var I_,ug,D_,F_;I_=function(l,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},ug=function(){},D_=function(l,d,x,w){var S=l.memoizedProps;if(S!==w){l=d.stateNode,Qo(Fs.current);var A=null;switch(x){case"input":S=Fe(l,S),w=Fe(l,w),A=[];break;case"select":S=me({},S,{value:void 0}),w=me({},w,{value:void 0}),A=[];break;case"textarea":S=vt(l,S),w=vt(l,w),A=[];break;default:typeof S.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=Zf)}vr(x,w);var L;x=null;for(Ee in S)if(!w.hasOwnProperty(Ee)&&S.hasOwnProperty(Ee)&&S[Ee]!=null)if(Ee==="style"){var ie=S[Ee];for(L in ie)ie.hasOwnProperty(L)&&(x||(x={}),x[L]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(s.hasOwnProperty(Ee)?A||(A=[]):(A=A||[]).push(Ee,null));for(Ee in w){var fe=w[Ee];if(ie=S?.[Ee],w.hasOwnProperty(Ee)&&fe!==ie&&(fe!=null||ie!=null))if(Ee==="style")if(ie){for(L in ie)!ie.hasOwnProperty(L)||fe&&fe.hasOwnProperty(L)||(x||(x={}),x[L]="");for(L in fe)fe.hasOwnProperty(L)&&ie[L]!==fe[L]&&(x||(x={}),x[L]=fe[L])}else x||(A||(A=[]),A.push(Ee,x)),x=fe;else Ee==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ie=ie?ie.__html:void 0,fe!=null&&ie!==fe&&(A=A||[]).push(Ee,fe)):Ee==="children"?typeof fe!="string"&&typeof fe!="number"||(A=A||[]).push(Ee,""+fe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ee)?(fe!=null&&Ee==="onScroll"&&ir("scroll",l),A||ie===fe||(A=[])):(A=A||[]).push(Ee,fe))}x&&(A=A||[]).push("style",x);var Ee=A;(d.updateQueue=Ee)&&(d.flags|=4)}},F_=function(l,d,x,w){x!==w&&(d.flags|=4)};function Yd(l,d){if(!fr)switch(l.tailMode){case"hidden":d=l.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?l.tail=null:x.sibling=null;break;case"collapsed":x=l.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function zn(l){var d=l.alternate!==null&&l.alternate.child===l.child,x=0,w=0;if(d)for(var S=l.child;S!==null;)x|=S.lanes|S.childLanes,w|=S.subtreeFlags&14680064,w|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)x|=S.lanes|S.childLanes,w|=S.subtreeFlags,w|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=w,l.childLanes=x,d}function m8(l,d,x){var w=d.pendingProps;switch(Ix(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(d),null;case 1:return ha(d.type)&&em(),zn(d),null;case 3:return w=d.stateNode,sc(),or(ma),or(Rn),qx(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(sm(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,hs!==null&&(wg(hs),hs=null))),ug(l,d),zn(d),null;case 5:Hx(d);var S=Qo(Vd.current);if(x=d.type,l!==null&&d.stateNode!=null)D_(l,d,x,w,S),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return zn(d),null}if(l=Qo(Fs.current),sm(d)){w=d.stateNode,x=d.type;var A=d.memoizedProps;switch(w[Ds]=d,w[$d]=A,l=(d.mode&1)!==0,x){case"dialog":ir("cancel",w),ir("close",w);break;case"iframe":case"object":case"embed":ir("load",w);break;case"video":case"audio":for(S=0;S<Rd.length;S++)ir(Rd[S],w);break;case"source":ir("error",w);break;case"img":case"image":case"link":ir("error",w),ir("load",w);break;case"details":ir("toggle",w);break;case"input":Ce(w,A),ir("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},ir("invalid",w);break;case"textarea":St(w,A),ir("invalid",w)}vr(x,A),S=null;for(var L in A)if(A.hasOwnProperty(L)){var ie=A[L];L==="children"?typeof ie=="string"?w.textContent!==ie&&(A.suppressHydrationWarning!==!0&&Jf(w.textContent,ie,l),S=["children",ie]):typeof ie=="number"&&w.textContent!==""+ie&&(A.suppressHydrationWarning!==!0&&Jf(w.textContent,ie,l),S=["children",""+ie]):s.hasOwnProperty(L)&&ie!=null&&L==="onScroll"&&ir("scroll",w)}switch(x){case"input":ge(w),it(w,A,!0);break;case"textarea":ge(w),_r(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=Zf)}w=S,d.updateQueue=w,w!==null&&(d.flags|=4)}else{L=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=_t(x)),l==="http://www.w3.org/1999/xhtml"?x==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=L.createElement(x,{is:w.is}):(l=L.createElement(x),x==="select"&&(L=l,w.multiple?L.multiple=!0:w.size&&(L.size=w.size))):l=L.createElementNS(l,x),l[Ds]=d,l[$d]=w,I_(l,d,!1,!1),d.stateNode=l;e:{switch(L=Ea(x,w),x){case"dialog":ir("cancel",l),ir("close",l),S=w;break;case"iframe":case"object":case"embed":ir("load",l),S=w;break;case"video":case"audio":for(S=0;S<Rd.length;S++)ir(Rd[S],l);S=w;break;case"source":ir("error",l),S=w;break;case"img":case"image":case"link":ir("error",l),ir("load",l),S=w;break;case"details":ir("toggle",l),S=w;break;case"input":Ce(l,w),S=Fe(l,w),ir("invalid",l);break;case"option":S=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},S=me({},w,{value:void 0}),ir("invalid",l);break;case"textarea":St(l,w),S=vt(l,w),ir("invalid",l);break;default:S=w}vr(x,S),ie=S;for(A in ie)if(ie.hasOwnProperty(A)){var fe=ie[A];A==="style"?Ir(l,fe):A==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&Pe(l,fe)):A==="children"?typeof fe=="string"?(x!=="textarea"||fe!=="")&&Ie(l,fe):typeof fe=="number"&&Ie(l,""+fe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?fe!=null&&A==="onScroll"&&ir("scroll",l):fe!=null&&k(l,A,fe,L))}switch(x){case"input":ge(l),it(l,w,!1);break;case"textarea":ge(l),_r(l);break;case"option":w.value!=null&&l.setAttribute("value",""+ke(w.value));break;case"select":l.multiple=!!w.multiple,A=w.value,A!=null?at(l,!!w.multiple,A,!1):w.defaultValue!=null&&at(l,!!w.multiple,w.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=Zf)}switch(x){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return zn(d),null;case 6:if(l&&d.stateNode!=null)F_(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(x=Qo(Vd.current),Qo(Fs.current),sm(d)){if(w=d.stateNode,x=d.memoizedProps,w[Ds]=d,(A=w.nodeValue!==x)&&(l=Ta,l!==null))switch(l.tag){case 3:Jf(w.nodeValue,x,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Jf(w.nodeValue,x,(l.mode&1)!==0)}A&&(d.flags|=4)}else w=(x.nodeType===9?x:x.ownerDocument).createTextNode(w),w[Ds]=d,d.stateNode=w}return zn(d),null;case 13:if(or(yr),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(fr&&Oa!==null&&(d.mode&1)!==0&&(d.flags&128)===0)M2(),tc(),d.flags|=98560,A=!1;else if(A=sm(d),w!==null&&w.dehydrated!==null){if(l===null){if(!A)throw Error(r(318));if(A=d.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Ds]=d}else tc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;zn(d),A=!1}else hs!==null&&(wg(hs),hs=null),A=!0;if(!A)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=x,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(yr.current&1)!==0?Jr===0&&(Jr=3):Sg())),d.updateQueue!==null&&(d.flags|=4),zn(d),null);case 4:return sc(),ug(l,d),l===null&&Md(d.stateNode.containerInfo),zn(d),null;case 10:return zx(d.type._context),zn(d),null;case 17:return ha(d.type)&&em(),zn(d),null;case 19:if(or(yr),A=d.memoizedState,A===null)return zn(d),null;if(w=(d.flags&128)!==0,L=A.rendering,L===null)if(w)Yd(A,!1);else{if(Jr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(L=um(l),L!==null){for(d.flags|=128,Yd(A,!1),w=L.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=x,x=d.child;x!==null;)A=x,l=w,A.flags&=14680066,L=A.alternate,L===null?(A.childLanes=0,A.lanes=l,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=L.childLanes,A.lanes=L.lanes,A.child=L.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=L.memoizedProps,A.memoizedState=L.memoizedState,A.updateQueue=L.updateQueue,A.type=L.type,l=L.dependencies,A.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),x=x.sibling;return nr(yr,yr.current&1|2),d.child}l=l.sibling}A.tail!==null&&We()>cc&&(d.flags|=128,w=!0,Yd(A,!1),d.lanes=4194304)}else{if(!w)if(l=um(L),l!==null){if(d.flags|=128,w=!0,x=l.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),Yd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!fr)return zn(d),null}else 2*We()-A.renderingStartTime>cc&&x!==1073741824&&(d.flags|=128,w=!0,Yd(A,!1),d.lanes=4194304);A.isBackwards?(L.sibling=d.child,d.child=L):(x=A.last,x!==null?x.sibling=L:d.child=L,A.last=L)}return A.tail!==null?(d=A.tail,A.rendering=d,A.tail=d.sibling,A.renderingStartTime=We(),d.sibling=null,x=yr.current,nr(yr,w?x&1|2:x&1),d):(zn(d),null);case 22:case 23:return Ng(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Ia&1073741824)!==0&&(zn(d),d.subtreeFlags&6&&(d.flags|=8192)):zn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function h8(l,d){switch(Ix(d),d.tag){case 1:return ha(d.type)&&em(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return sc(),or(ma),or(Rn),qx(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Hx(d),null;case 13:if(or(yr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));tc()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return or(yr),null;case 4:return sc(),null;case 10:return zx(d.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var bm=!1,$n=!1,p8=typeof WeakSet=="function"?WeakSet:Set,rt=null;function oc(l,d){var x=l.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(w){Nr(l,d,w)}else x.current=null}function fg(l,d,x){try{x()}catch(w){Nr(l,d,w)}}var L_=!1;function x8(l,d){if(Nx=$f,l=h2(),xx(l)){if("selectionStart"in l)var x={start:l.selectionStart,end:l.selectionEnd};else e:{x=(x=l.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var S=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{x.nodeType,A.nodeType}catch{x=null;break e}var L=0,ie=-1,fe=-1,Ee=0,Me=0,Be=l,Re=null;t:for(;;){for(var et;Be!==x||S!==0&&Be.nodeType!==3||(ie=L+S),Be!==A||w!==0&&Be.nodeType!==3||(fe=L+w),Be.nodeType===3&&(L+=Be.nodeValue.length),(et=Be.firstChild)!==null;)Re=Be,Be=et;for(;;){if(Be===l)break t;if(Re===x&&++Ee===S&&(ie=L),Re===A&&++Me===w&&(fe=L),(et=Be.nextSibling)!==null)break;Be=Re,Re=Be.parentNode}Be=et}x=ie===-1||fe===-1?null:{start:ie,end:fe}}else x=null}x=x||{start:0,end:0}}else x=null;for(Sx={focusedElem:l,selectionRange:x},$f=!1,rt=d;rt!==null;)if(d=rt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,rt=l;else for(;rt!==null;){d=rt;try{var ot=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var dt=ot.memoizedProps,Lr=ot.memoizedState,je=d.stateNode,pe=je.getSnapshotBeforeUpdate(d.elementType===d.type?dt:ps(d.type,dt),Lr);je.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var Se=d.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ve){Nr(d,d.return,Ve)}if(l=d.sibling,l!==null){l.return=d.return,rt=l;break}rt=d.return}return ot=L_,L_=!1,ot}function Jd(l,d,x){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var S=w=w.next;do{if((S.tag&l)===l){var A=S.destroy;S.destroy=void 0,A!==void 0&&fg(d,x,A)}S=S.next}while(S!==w)}}function jm(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&l)===l){var w=x.create;x.destroy=w()}x=x.next}while(x!==d)}}function mg(l){var d=l.ref;if(d!==null){var x=l.stateNode;l.tag,l=x,typeof d=="function"?d(l):d.current=l}}function R_(l){var d=l.alternate;d!==null&&(l.alternate=null,R_(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Ds],delete d[$d],delete d[Cx],delete d[ZD],delete d[QD])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function M_(l){return l.tag===5||l.tag===3||l.tag===4}function z_(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||M_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function hg(l,d,x){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?x.nodeType===8?x.parentNode.insertBefore(l,d):x.insertBefore(l,d):(x.nodeType===8?(d=x.parentNode,d.insertBefore(l,x)):(d=x,d.appendChild(l)),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=Zf));else if(w!==4&&(l=l.child,l!==null))for(hg(l,d,x),l=l.sibling;l!==null;)hg(l,d,x),l=l.sibling}function pg(l,d,x){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?x.insertBefore(l,d):x.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(pg(l,d,x),l=l.sibling;l!==null;)pg(l,d,x),l=l.sibling}var wn=null,xs=!1;function fo(l,d,x){for(x=x.child;x!==null;)$_(l,d,x),x=x.sibling}function $_(l,d,x){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Is,x)}catch{}switch(x.tag){case 5:$n||oc(x,d);case 6:var w=wn,S=xs;wn=null,fo(l,d,x),wn=w,xs=S,wn!==null&&(xs?(l=wn,x=x.stateNode,l.nodeType===8?l.parentNode.removeChild(x):l.removeChild(x)):wn.removeChild(x.stateNode));break;case 18:wn!==null&&(xs?(l=wn,x=x.stateNode,l.nodeType===8?Ax(l.parentNode,x):l.nodeType===1&&Ax(l,x),Cd(l)):Ax(wn,x.stateNode));break;case 4:w=wn,S=xs,wn=x.stateNode.containerInfo,xs=!0,fo(l,d,x),wn=w,xs=S;break;case 0:case 11:case 14:case 15:if(!$n&&(w=x.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){S=w=w.next;do{var A=S,L=A.destroy;A=A.tag,L!==void 0&&((A&2)!==0||(A&4)!==0)&&fg(x,d,L),S=S.next}while(S!==w)}fo(l,d,x);break;case 1:if(!$n&&(oc(x,d),w=x.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=x.memoizedProps,w.state=x.memoizedState,w.componentWillUnmount()}catch(ie){Nr(x,d,ie)}fo(l,d,x);break;case 21:fo(l,d,x);break;case 22:x.mode&1?($n=(w=$n)||x.memoizedState!==null,fo(l,d,x),$n=w):fo(l,d,x);break;default:fo(l,d,x)}}function B_(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var x=l.stateNode;x===null&&(x=l.stateNode=new p8),d.forEach(function(w){var S=S8.bind(null,l,w);x.has(w)||(x.add(w),w.then(S,S))})}}function gs(l,d){var x=d.deletions;if(x!==null)for(var w=0;w<x.length;w++){var S=x[w];try{var A=l,L=d,ie=L;e:for(;ie!==null;){switch(ie.tag){case 5:wn=ie.stateNode,xs=!1;break e;case 3:wn=ie.stateNode.containerInfo,xs=!0;break e;case 4:wn=ie.stateNode.containerInfo,xs=!0;break e}ie=ie.return}if(wn===null)throw Error(r(160));$_(A,L,S),wn=null,xs=!1;var fe=S.alternate;fe!==null&&(fe.return=null),S.return=null}catch(Ee){Nr(S,d,Ee)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)U_(d,l),d=d.sibling}function U_(l,d){var x=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(gs(d,l),Rs(l),w&4){try{Jd(3,l,l.return),jm(3,l)}catch(dt){Nr(l,l.return,dt)}try{Jd(5,l,l.return)}catch(dt){Nr(l,l.return,dt)}}break;case 1:gs(d,l),Rs(l),w&512&&x!==null&&oc(x,x.return);break;case 5:if(gs(d,l),Rs(l),w&512&&x!==null&&oc(x,x.return),l.flags&32){var S=l.stateNode;try{Ie(S,"")}catch(dt){Nr(l,l.return,dt)}}if(w&4&&(S=l.stateNode,S!=null)){var A=l.memoizedProps,L=x!==null?x.memoizedProps:A,ie=l.type,fe=l.updateQueue;if(l.updateQueue=null,fe!==null)try{ie==="input"&&A.type==="radio"&&A.name!=null&&Ae(S,A),Ea(ie,L);var Ee=Ea(ie,A);for(L=0;L<fe.length;L+=2){var Me=fe[L],Be=fe[L+1];Me==="style"?Ir(S,Be):Me==="dangerouslySetInnerHTML"?Pe(S,Be):Me==="children"?Ie(S,Be):k(S,Me,Be,Ee)}switch(ie){case"input":_e(S,A);break;case"textarea":yt(S,A);break;case"select":var Re=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var et=A.value;et!=null?at(S,!!A.multiple,et,!1):Re!==!!A.multiple&&(A.defaultValue!=null?at(S,!!A.multiple,A.defaultValue,!0):at(S,!!A.multiple,A.multiple?[]:"",!1))}S[$d]=A}catch(dt){Nr(l,l.return,dt)}}break;case 6:if(gs(d,l),Rs(l),w&4){if(l.stateNode===null)throw Error(r(162));S=l.stateNode,A=l.memoizedProps;try{S.nodeValue=A}catch(dt){Nr(l,l.return,dt)}}break;case 3:if(gs(d,l),Rs(l),w&4&&x!==null&&x.memoizedState.isDehydrated)try{Cd(d.containerInfo)}catch(dt){Nr(l,l.return,dt)}break;case 4:gs(d,l),Rs(l);break;case 13:gs(d,l),Rs(l),S=l.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(vg=We())),w&4&&B_(l);break;case 22:if(Me=x!==null&&x.memoizedState!==null,l.mode&1?($n=(Ee=$n)||Me,gs(d,l),$n=Ee):gs(d,l),Rs(l),w&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Me&&(l.mode&1)!==0)for(rt=l,Me=l.child;Me!==null;){for(Be=rt=Me;rt!==null;){switch(Re=rt,et=Re.child,Re.tag){case 0:case 11:case 14:case 15:Jd(4,Re,Re.return);break;case 1:oc(Re,Re.return);var ot=Re.stateNode;if(typeof ot.componentWillUnmount=="function"){w=Re,x=Re.return;try{d=w,ot.props=d.memoizedProps,ot.state=d.memoizedState,ot.componentWillUnmount()}catch(dt){Nr(w,x,dt)}}break;case 5:oc(Re,Re.return);break;case 22:if(Re.memoizedState!==null){V_(Be);continue}}et!==null?(et.return=Re,rt=et):V_(Be)}Me=Me.sibling}e:for(Me=null,Be=l;;){if(Be.tag===5){if(Me===null){Me=Be;try{S=Be.stateNode,Ee?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ie=Be.stateNode,fe=Be.memoizedProps.style,L=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ie.style.display=Ye("display",L))}catch(dt){Nr(l,l.return,dt)}}}else if(Be.tag===6){if(Me===null)try{Be.stateNode.nodeValue=Ee?"":Be.memoizedProps}catch(dt){Nr(l,l.return,dt)}}else if((Be.tag!==22&&Be.tag!==23||Be.memoizedState===null||Be===l)&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===l)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===l)break e;Me===Be&&(Me=null),Be=Be.return}Me===Be&&(Me=null),Be.sibling.return=Be.return,Be=Be.sibling}}break;case 19:gs(d,l),Rs(l),w&4&&B_(l);break;case 21:break;default:gs(d,l),Rs(l)}}function Rs(l){var d=l.flags;if(d&2){try{e:{for(var x=l.return;x!==null;){if(M_(x)){var w=x;break e}x=x.return}throw Error(r(160))}switch(w.tag){case 5:var S=w.stateNode;w.flags&32&&(Ie(S,""),w.flags&=-33);var A=z_(l);pg(l,A,S);break;case 3:case 4:var L=w.stateNode.containerInfo,ie=z_(l);hg(l,ie,L);break;default:throw Error(r(161))}}catch(fe){Nr(l,l.return,fe)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function g8(l,d,x){rt=l,W_(l)}function W_(l,d,x){for(var w=(l.mode&1)!==0;rt!==null;){var S=rt,A=S.child;if(S.tag===22&&w){var L=S.memoizedState!==null||bm;if(!L){var ie=S.alternate,fe=ie!==null&&ie.memoizedState!==null||$n;ie=bm;var Ee=$n;if(bm=L,($n=fe)&&!Ee)for(rt=S;rt!==null;)L=rt,fe=L.child,L.tag===22&&L.memoizedState!==null?q_(S):fe!==null?(fe.return=L,rt=fe):q_(S);for(;A!==null;)rt=A,W_(A),A=A.sibling;rt=S,bm=ie,$n=Ee}H_(l)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,rt=A):H_(l)}}function H_(l){for(;rt!==null;){var d=rt;if((d.flags&8772)!==0){var x=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:$n||jm(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!$n)if(x===null)w.componentDidMount();else{var S=d.elementType===d.type?x.memoizedProps:ps(d.type,x.memoizedProps);w.componentDidUpdate(S,x.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=d.updateQueue;A!==null&&V2(d,A,w);break;case 3:var L=d.updateQueue;if(L!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=d.child.stateNode;break;case 1:x=d.child.stateNode}V2(d,L,x)}break;case 5:var ie=d.stateNode;if(x===null&&d.flags&4){x=ie;var fe=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&x.focus();break;case"img":fe.src&&(x.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ee=d.alternate;if(Ee!==null){var Me=Ee.memoizedState;if(Me!==null){var Be=Me.dehydrated;Be!==null&&Cd(Be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$n||d.flags&512&&mg(d)}catch(Re){Nr(d,d.return,Re)}}if(d===l){rt=null;break}if(x=d.sibling,x!==null){x.return=d.return,rt=x;break}rt=d.return}}function V_(l){for(;rt!==null;){var d=rt;if(d===l){rt=null;break}var x=d.sibling;if(x!==null){x.return=d.return,rt=x;break}rt=d.return}}function q_(l){for(;rt!==null;){var d=rt;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{jm(4,d)}catch(fe){Nr(d,x,fe)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var S=d.return;try{w.componentDidMount()}catch(fe){Nr(d,S,fe)}}var A=d.return;try{mg(d)}catch(fe){Nr(d,A,fe)}break;case 5:var L=d.return;try{mg(d)}catch(fe){Nr(d,L,fe)}}}catch(fe){Nr(d,d.return,fe)}if(d===l){rt=null;break}var ie=d.sibling;if(ie!==null){ie.return=d.return,rt=ie;break}rt=d.return}}var v8=Math.ceil,wm=E.ReactCurrentDispatcher,xg=E.ReactCurrentOwner,Ja=E.ReactCurrentBatchConfig,Ft=0,ln=null,$r=null,_n=0,Ia=0,lc=io(0),Jr=0,Zd=null,tl=0,_m=0,gg=0,Qd=null,xa=null,vg=0,cc=1/0,ci=null,Nm=!1,yg=null,mo=null,Sm=!1,ho=null,km=0,eu=0,bg=null,Em=-1,Am=0;function Zn(){return(Ft&6)!==0?We():Em!==-1?Em:Em=We()}function po(l){return(l.mode&1)===0?1:(Ft&2)!==0&&_n!==0?_n&-_n:t8.transition!==null?(Am===0&&(Am=zw()),Am):(l=Vt,l!==0||(l=window.event,l=l===void 0?16:Gw(l.type)),l)}function vs(l,d,x,w){if(50<eu)throw eu=0,bg=null,Error(r(185));Nd(l,x,w),((Ft&2)===0||l!==ln)&&(l===ln&&((Ft&2)===0&&(_m|=x),Jr===4&&xo(l,_n)),ga(l,w),x===1&&Ft===0&&(d.mode&1)===0&&(cc=We()+500,rm&&lo()))}function ga(l,d){var x=l.callbackNode;tD(l,d);var w=Rf(l,l===ln?_n:0);if(w===0)x!==null&&$e(x),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(x!=null&&$e(x),d===1)l.tag===0?e8(G_.bind(null,l)):I2(G_.bind(null,l)),YD(function(){(Ft&6)===0&&lo()}),x=null;else{switch($w(w)){case 1:x=Qt;break;case 4:x=rr;break;case 16:x=Dr;break;case 536870912:x=Zi;break;default:x=Dr}x=rN(x,K_.bind(null,l))}l.callbackPriority=d,l.callbackNode=x}}function K_(l,d){if(Em=-1,Am=0,(Ft&6)!==0)throw Error(r(327));var x=l.callbackNode;if(dc()&&l.callbackNode!==x)return null;var w=Rf(l,l===ln?_n:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=Cm(l,w);else{d=w;var S=Ft;Ft|=2;var A=Y_();(ln!==l||_n!==d)&&(ci=null,cc=We()+500,nl(l,d));do try{j8();break}catch(ie){X_(l,ie)}while(!0);Mx(),wm.current=A,Ft=S,$r!==null?d=0:(ln=null,_n=0,d=Jr)}if(d!==0){if(d===2&&(S=ex(l),S!==0&&(w=S,d=jg(l,S))),d===1)throw x=Zd,nl(l,0),xo(l,w),ga(l,We()),x;if(d===6)xo(l,w);else{if(S=l.current.alternate,(w&30)===0&&!y8(S)&&(d=Cm(l,w),d===2&&(A=ex(l),A!==0&&(w=A,d=jg(l,A))),d===1))throw x=Zd,nl(l,0),xo(l,w),ga(l,We()),x;switch(l.finishedWork=S,l.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:al(l,xa,ci);break;case 3:if(xo(l,w),(w&130023424)===w&&(d=vg+500-We(),10<d)){if(Rf(l,0)!==0)break;if(S=l.suspendedLanes,(S&w)!==w){Zn(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=Ex(al.bind(null,l,xa,ci),d);break}al(l,xa,ci);break;case 4:if(xo(l,w),(w&4194240)===w)break;for(d=l.eventTimes,S=-1;0<w;){var L=31-Fr(w);A=1<<L,L=d[L],L>S&&(S=L),w&=~A}if(w=S,w=We()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*v8(w/1960))-w,10<w){l.timeoutHandle=Ex(al.bind(null,l,xa,ci),w);break}al(l,xa,ci);break;case 5:al(l,xa,ci);break;default:throw Error(r(329))}}}return ga(l,We()),l.callbackNode===x?K_.bind(null,l):null}function jg(l,d){var x=Qd;return l.current.memoizedState.isDehydrated&&(nl(l,d).flags|=256),l=Cm(l,d),l!==2&&(d=xa,xa=x,d!==null&&wg(d)),l}function wg(l){xa===null?xa=l:xa.push.apply(xa,l)}function y8(l){for(var d=l;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var w=0;w<x.length;w++){var S=x[w],A=S.getSnapshot;S=S.value;try{if(!ms(A(),S))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function xo(l,d){for(d&=~gg,d&=~_m,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var x=31-Fr(d),w=1<<x;l[x]=-1,d&=~w}}function G_(l){if((Ft&6)!==0)throw Error(r(327));dc();var d=Rf(l,0);if((d&1)===0)return ga(l,We()),null;var x=Cm(l,d);if(l.tag!==0&&x===2){var w=ex(l);w!==0&&(d=w,x=jg(l,w))}if(x===1)throw x=Zd,nl(l,0),xo(l,d),ga(l,We()),x;if(x===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,al(l,xa,ci),ga(l,We()),null}function _g(l,d){var x=Ft;Ft|=1;try{return l(d)}finally{Ft=x,Ft===0&&(cc=We()+500,rm&&lo())}}function rl(l){ho!==null&&ho.tag===0&&(Ft&6)===0&&dc();var d=Ft;Ft|=1;var x=Ja.transition,w=Vt;try{if(Ja.transition=null,Vt=1,l)return l()}finally{Vt=w,Ja.transition=x,Ft=d,(Ft&6)===0&&lo()}}function Ng(){Ia=lc.current,or(lc)}function nl(l,d){l.finishedWork=null,l.finishedLanes=0;var x=l.timeoutHandle;if(x!==-1&&(l.timeoutHandle=-1,XD(x)),$r!==null)for(x=$r.return;x!==null;){var w=x;switch(Ix(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&em();break;case 3:sc(),or(ma),or(Rn),qx();break;case 5:Hx(w);break;case 4:sc();break;case 13:or(yr);break;case 19:or(yr);break;case 10:zx(w.type._context);break;case 22:case 23:Ng()}x=x.return}if(ln=l,$r=l=go(l.current,null),_n=Ia=d,Jr=0,Zd=null,gg=_m=tl=0,xa=Qd=null,Zo!==null){for(d=0;d<Zo.length;d++)if(x=Zo[d],w=x.interleaved,w!==null){x.interleaved=null;var S=w.next,A=x.pending;if(A!==null){var L=A.next;A.next=S,w.next=L}x.pending=w}Zo=null}return l}function X_(l,d){do{var x=$r;try{if(Mx(),fm.current=xm,mm){for(var w=br.memoizedState;w!==null;){var S=w.queue;S!==null&&(S.pending=null),w=w.next}mm=!1}if(el=0,on=Yr=br=null,qd=!1,Kd=0,xg.current=null,x===null||x.return===null){Jr=1,Zd=d,$r=null;break}e:{var A=l,L=x.return,ie=x,fe=d;if(d=_n,ie.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,Me=ie,Be=Me.tag;if((Me.mode&1)===0&&(Be===0||Be===11||Be===15)){var Re=Me.alternate;Re?(Me.updateQueue=Re.updateQueue,Me.memoizedState=Re.memoizedState,Me.lanes=Re.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var et=b_(L);if(et!==null){et.flags&=-257,j_(et,L,ie,A,d),et.mode&1&&y_(A,Ee,d),d=et,fe=Ee;var ot=d.updateQueue;if(ot===null){var dt=new Set;dt.add(fe),d.updateQueue=dt}else ot.add(fe);break e}else{if((d&1)===0){y_(A,Ee,d),Sg();break e}fe=Error(r(426))}}else if(fr&&ie.mode&1){var Lr=b_(L);if(Lr!==null){(Lr.flags&65536)===0&&(Lr.flags|=256),j_(Lr,L,ie,A,d),Lx(ic(fe,ie));break e}}A=fe=ic(fe,ie),Jr!==4&&(Jr=2),Qd===null?Qd=[A]:Qd.push(A),A=L;do{switch(A.tag){case 3:A.flags|=65536,d&=-d,A.lanes|=d;var je=g_(A,fe,d);H2(A,je);break e;case 1:ie=fe;var pe=A.type,Se=A.stateNode;if((A.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(mo===null||!mo.has(Se)))){A.flags|=65536,d&=-d,A.lanes|=d;var Ve=v_(A,ie,d);H2(A,Ve);break e}}A=A.return}while(A!==null)}Z_(x)}catch(ut){d=ut,$r===x&&x!==null&&($r=x=x.return);continue}break}while(!0)}function Y_(){var l=wm.current;return wm.current=xm,l===null?xm:l}function Sg(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),ln===null||(tl&268435455)===0&&(_m&268435455)===0||xo(ln,_n)}function Cm(l,d){var x=Ft;Ft|=2;var w=Y_();(ln!==l||_n!==d)&&(ci=null,nl(l,d));do try{b8();break}catch(S){X_(l,S)}while(!0);if(Mx(),Ft=x,wm.current=w,$r!==null)throw Error(r(261));return ln=null,_n=0,Jr}function b8(){for(;$r!==null;)J_($r)}function j8(){for(;$r!==null&&!tt();)J_($r)}function J_(l){var d=tN(l.alternate,l,Ia);l.memoizedProps=l.pendingProps,d===null?Z_(l):$r=d,xg.current=null}function Z_(l){var d=l;do{var x=d.alternate;if(l=d.return,(d.flags&32768)===0){if(x=m8(x,d,Ia),x!==null){$r=x;return}}else{if(x=h8(x,d),x!==null){x.flags&=32767,$r=x;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Jr=6,$r=null;return}}if(d=d.sibling,d!==null){$r=d;return}$r=d=l}while(d!==null);Jr===0&&(Jr=5)}function al(l,d,x){var w=Vt,S=Ja.transition;try{Ja.transition=null,Vt=1,w8(l,d,x,w)}finally{Ja.transition=S,Vt=w}return null}function w8(l,d,x,w){do dc();while(ho!==null);if((Ft&6)!==0)throw Error(r(327));x=l.finishedWork;var S=l.finishedLanes;if(x===null)return null;if(l.finishedWork=null,l.finishedLanes=0,x===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var A=x.lanes|x.childLanes;if(rD(l,A),l===ln&&($r=ln=null,_n=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Sm||(Sm=!0,rN(Dr,function(){return dc(),null})),A=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||A){A=Ja.transition,Ja.transition=null;var L=Vt;Vt=1;var ie=Ft;Ft|=4,xg.current=null,x8(l,x),U_(x,l),UD(Sx),$f=!!Nx,Sx=Nx=null,l.current=x,g8(x),He(),Ft=ie,Vt=L,Ja.transition=A}else l.current=x;if(Sm&&(Sm=!1,ho=l,km=S),A=l.pendingLanes,A===0&&(mo=null),wd(x.stateNode),ga(l,We()),d!==null)for(w=l.onRecoverableError,x=0;x<d.length;x++)S=d[x],w(S.value,{componentStack:S.stack,digest:S.digest});if(Nm)throw Nm=!1,l=yg,yg=null,l;return(km&1)!==0&&l.tag!==0&&dc(),A=l.pendingLanes,(A&1)!==0?l===bg?eu++:(eu=0,bg=l):eu=0,lo(),null}function dc(){if(ho!==null){var l=$w(km),d=Ja.transition,x=Vt;try{if(Ja.transition=null,Vt=16>l?16:l,ho===null)var w=!1;else{if(l=ho,ho=null,km=0,(Ft&6)!==0)throw Error(r(331));var S=Ft;for(Ft|=4,rt=l.current;rt!==null;){var A=rt,L=A.child;if((rt.flags&16)!==0){var ie=A.deletions;if(ie!==null){for(var fe=0;fe<ie.length;fe++){var Ee=ie[fe];for(rt=Ee;rt!==null;){var Me=rt;switch(Me.tag){case 0:case 11:case 15:Jd(8,Me,A)}var Be=Me.child;if(Be!==null)Be.return=Me,rt=Be;else for(;rt!==null;){Me=rt;var Re=Me.sibling,et=Me.return;if(R_(Me),Me===Ee){rt=null;break}if(Re!==null){Re.return=et,rt=Re;break}rt=et}}}var ot=A.alternate;if(ot!==null){var dt=ot.child;if(dt!==null){ot.child=null;do{var Lr=dt.sibling;dt.sibling=null,dt=Lr}while(dt!==null)}}rt=A}}if((A.subtreeFlags&2064)!==0&&L!==null)L.return=A,rt=L;else e:for(;rt!==null;){if(A=rt,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Jd(9,A,A.return)}var je=A.sibling;if(je!==null){je.return=A.return,rt=je;break e}rt=A.return}}var pe=l.current;for(rt=pe;rt!==null;){L=rt;var Se=L.child;if((L.subtreeFlags&2064)!==0&&Se!==null)Se.return=L,rt=Se;else e:for(L=pe;rt!==null;){if(ie=rt,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:jm(9,ie)}}catch(ut){Nr(ie,ie.return,ut)}if(ie===L){rt=null;break e}var Ve=ie.sibling;if(Ve!==null){Ve.return=ie.return,rt=Ve;break e}rt=ie.return}}if(Ft=S,lo(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Is,l)}catch{}w=!0}return w}finally{Vt=x,Ja.transition=d}}return!1}function Q_(l,d,x){d=ic(x,d),d=g_(l,d,1),l=uo(l,d,1),d=Zn(),l!==null&&(Nd(l,1,d),ga(l,d))}function Nr(l,d,x){if(l.tag===3)Q_(l,l,x);else for(;d!==null;){if(d.tag===3){Q_(d,l,x);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(mo===null||!mo.has(w))){l=ic(x,l),l=v_(d,l,1),d=uo(d,l,1),l=Zn(),d!==null&&(Nd(d,1,l),ga(d,l));break}}d=d.return}}function _8(l,d,x){var w=l.pingCache;w!==null&&w.delete(d),d=Zn(),l.pingedLanes|=l.suspendedLanes&x,ln===l&&(_n&x)===x&&(Jr===4||Jr===3&&(_n&130023424)===_n&&500>We()-vg?nl(l,0):gg|=x),ga(l,d)}function eN(l,d){d===0&&((l.mode&1)===0?d=1:(d=Lf,Lf<<=1,(Lf&130023424)===0&&(Lf=4194304)));var x=Zn();l=ii(l,d),l!==null&&(Nd(l,d,x),ga(l,x))}function N8(l){var d=l.memoizedState,x=0;d!==null&&(x=d.retryLane),eN(l,x)}function S8(l,d){var x=0;switch(l.tag){case 13:var w=l.stateNode,S=l.memoizedState;S!==null&&(x=S.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),eN(l,x)}var tN;tN=function(l,d,x){if(l!==null)if(l.memoizedProps!==d.pendingProps||ma.current)pa=!0;else{if((l.lanes&x)===0&&(d.flags&128)===0)return pa=!1,f8(l,d,x);pa=(l.flags&131072)!==0}else pa=!1,fr&&(d.flags&1048576)!==0&&D2(d,am,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;ym(l,d),l=d.pendingProps;var S=Zl(d,Rn.current);ac(d,x),S=Xx(null,d,w,l,S,x);var A=Yx();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ha(w)?(A=!0,tm(d)):A=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ux(d),S.updater=gm,d.stateNode=S,S._reactInternals=d,rg(d,w,l,x),d=ig(null,d,w,!0,A,x)):(d.tag=0,fr&&A&&Ox(d),Jn(null,d,S,x),d=d.child),d;case 16:w=d.elementType;e:{switch(ym(l,d),l=d.pendingProps,S=w._init,w=S(w._payload),d.type=w,S=d.tag=E8(w),l=ps(w,l),S){case 0:d=sg(null,d,w,l,x);break e;case 1:d=E_(null,d,w,l,x);break e;case 11:d=w_(null,d,w,l,x);break e;case 14:d=__(null,d,w,ps(w.type,l),x);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,S=d.pendingProps,S=d.elementType===w?S:ps(w,S),sg(l,d,w,S,x);case 1:return w=d.type,S=d.pendingProps,S=d.elementType===w?S:ps(w,S),E_(l,d,w,S,x);case 3:e:{if(A_(d),l===null)throw Error(r(387));w=d.pendingProps,A=d.memoizedState,S=A.element,W2(l,d),dm(d,w,null,x);var L=d.memoizedState;if(w=L.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},d.updateQueue.baseState=A,d.memoizedState=A,d.flags&256){S=ic(Error(r(423)),d),d=C_(l,d,w,x,S);break e}else if(w!==S){S=ic(Error(r(424)),d),d=C_(l,d,w,x,S);break e}else for(Oa=so(d.stateNode.containerInfo.firstChild),Ta=d,fr=!0,hs=null,x=B2(d,null,w,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(tc(),w===S){d=li(l,d,x);break e}Jn(l,d,w,x)}d=d.child}return d;case 5:return q2(d),l===null&&Fx(d),w=d.type,S=d.pendingProps,A=l!==null?l.memoizedProps:null,L=S.children,kx(w,S)?L=null:A!==null&&kx(w,A)&&(d.flags|=32),k_(l,d),Jn(l,d,L,x),d.child;case 6:return l===null&&Fx(d),null;case 13:return P_(l,d,x);case 4:return Wx(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=rc(d,null,w,x):Jn(l,d,w,x),d.child;case 11:return w=d.type,S=d.pendingProps,S=d.elementType===w?S:ps(w,S),w_(l,d,w,S,x);case 7:return Jn(l,d,d.pendingProps,x),d.child;case 8:return Jn(l,d,d.pendingProps.children,x),d.child;case 12:return Jn(l,d,d.pendingProps.children,x),d.child;case 10:e:{if(w=d.type._context,S=d.pendingProps,A=d.memoizedProps,L=S.value,nr(om,w._currentValue),w._currentValue=L,A!==null)if(ms(A.value,L)){if(A.children===S.children&&!ma.current){d=li(l,d,x);break e}}else for(A=d.child,A!==null&&(A.return=d);A!==null;){var ie=A.dependencies;if(ie!==null){L=A.child;for(var fe=ie.firstContext;fe!==null;){if(fe.context===w){if(A.tag===1){fe=oi(-1,x&-x),fe.tag=2;var Ee=A.updateQueue;if(Ee!==null){Ee=Ee.shared;var Me=Ee.pending;Me===null?fe.next=fe:(fe.next=Me.next,Me.next=fe),Ee.pending=fe}}A.lanes|=x,fe=A.alternate,fe!==null&&(fe.lanes|=x),$x(A.return,x,d),ie.lanes|=x;break}fe=fe.next}}else if(A.tag===10)L=A.type===d.type?null:A.child;else if(A.tag===18){if(L=A.return,L===null)throw Error(r(341));L.lanes|=x,ie=L.alternate,ie!==null&&(ie.lanes|=x),$x(L,x,d),L=A.sibling}else L=A.child;if(L!==null)L.return=A;else for(L=A;L!==null;){if(L===d){L=null;break}if(A=L.sibling,A!==null){A.return=L.return,L=A;break}L=L.return}A=L}Jn(l,d,S.children,x),d=d.child}return d;case 9:return S=d.type,w=d.pendingProps.children,ac(d,x),S=Xa(S),w=w(S),d.flags|=1,Jn(l,d,w,x),d.child;case 14:return w=d.type,S=ps(w,d.pendingProps),S=ps(w.type,S),__(l,d,w,S,x);case 15:return N_(l,d,d.type,d.pendingProps,x);case 17:return w=d.type,S=d.pendingProps,S=d.elementType===w?S:ps(w,S),ym(l,d),d.tag=1,ha(w)?(l=!0,tm(d)):l=!1,ac(d,x),p_(d,w,S),rg(d,w,S,x),ig(null,d,w,!0,l,x);case 19:return O_(l,d,x);case 22:return S_(l,d,x)}throw Error(r(156,d.tag))};function rN(l,d){return Te(l,d)}function k8(l,d,x,w){this.tag=l,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(l,d,x,w){return new k8(l,d,x,w)}function kg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function E8(l){if(typeof l=="function")return kg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===U)return 11;if(l===he)return 14}return 2}function go(l,d){var x=l.alternate;return x===null?(x=Za(l.tag,d,l.key,l.mode),x.elementType=l.elementType,x.type=l.type,x.stateNode=l.stateNode,x.alternate=l,l.alternate=x):(x.pendingProps=d,x.type=l.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=l.flags&14680064,x.childLanes=l.childLanes,x.lanes=l.lanes,x.child=l.child,x.memoizedProps=l.memoizedProps,x.memoizedState=l.memoizedState,x.updateQueue=l.updateQueue,d=l.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=l.sibling,x.index=l.index,x.ref=l.ref,x}function Pm(l,d,x,w,S,A){var L=2;if(w=l,typeof l=="function")kg(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case O:return sl(x.children,S,A,d);case I:L=8,S|=8;break;case T:return l=Za(12,x,d,S|2),l.elementType=T,l.lanes=A,l;case J:return l=Za(13,x,d,S),l.elementType=J,l.lanes=A,l;case W:return l=Za(19,x,d,S),l.elementType=W,l.lanes=A,l;case be:return Tm(x,S,A,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:L=10;break e;case q:L=9;break e;case U:L=11;break e;case he:L=14;break e;case X:L=16,w=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=Za(L,x,d,S),d.elementType=l,d.type=w,d.lanes=A,d}function sl(l,d,x,w){return l=Za(7,l,w,d),l.lanes=x,l}function Tm(l,d,x,w){return l=Za(22,l,w,d),l.elementType=be,l.lanes=x,l.stateNode={isHidden:!1},l}function Eg(l,d,x){return l=Za(6,l,null,d),l.lanes=x,l}function Ag(l,d,x){return d=Za(4,l.children!==null?l.children:[],l.key,d),d.lanes=x,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function A8(l,d,x,w,S){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tx(0),this.expirationTimes=tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tx(0),this.identifierPrefix=w,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Cg(l,d,x,w,S,A,L,ie,fe){return l=new A8(l,d,x,ie,fe),d===1?(d=1,A===!0&&(d|=8)):d=0,A=Za(3,null,null,d),l.current=A,A.stateNode=l,A.memoizedState={element:w,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ux(A),l}function C8(l,d,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:w==null?null:""+w,children:l,containerInfo:d,implementation:x}}function nN(l){if(!l)return oo;l=l._reactInternals;e:{if(re(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ha(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var x=l.type;if(ha(x))return T2(l,x,d)}return d}function aN(l,d,x,w,S,A,L,ie,fe){return l=Cg(x,w,!0,l,S,A,L,ie,fe),l.context=nN(null),x=l.current,w=Zn(),S=po(x),A=oi(w,S),A.callback=d??null,uo(x,A,S),l.current.lanes=S,Nd(l,S,w),ga(l,w),l}function Om(l,d,x,w){var S=d.current,A=Zn(),L=po(S);return x=nN(x),d.context===null?d.context=x:d.pendingContext=x,d=oi(A,L),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=uo(S,d,L),l!==null&&(vs(l,S,L,A),cm(l,S,L)),L}function Im(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function sN(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var x=l.retryLane;l.retryLane=x!==0&&x<d?x:d}}function Pg(l,d){sN(l,d),(l=l.alternate)&&sN(l,d)}function P8(){return null}var iN=typeof reportError=="function"?reportError:function(l){console.error(l)};function Tg(l){this._internalRoot=l}Dm.prototype.render=Tg.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));Om(l,d,null,null)},Dm.prototype.unmount=Tg.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;rl(function(){Om(null,l,null,null)}),d[ri]=null}};function Dm(l){this._internalRoot=l}Dm.prototype.unstable_scheduleHydration=function(l){if(l){var d=Ww();l={blockedOn:null,target:l,priority:d};for(var x=0;x<ro.length&&d!==0&&d<ro[x].priority;x++);ro.splice(x,0,l),x===0&&qw(l)}};function Og(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Fm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function oN(){}function T8(l,d,x,w,S){if(S){if(typeof w=="function"){var A=w;w=function(){var Ee=Im(L);A.call(Ee)}}var L=aN(d,w,l,0,null,!1,!1,"",oN);return l._reactRootContainer=L,l[ri]=L.current,Md(l.nodeType===8?l.parentNode:l),rl(),L}for(;S=l.lastChild;)l.removeChild(S);if(typeof w=="function"){var ie=w;w=function(){var Ee=Im(fe);ie.call(Ee)}}var fe=Cg(l,0,!1,null,null,!1,!1,"",oN);return l._reactRootContainer=fe,l[ri]=fe.current,Md(l.nodeType===8?l.parentNode:l),rl(function(){Om(d,fe,x,w)}),fe}function Lm(l,d,x,w,S){var A=x._reactRootContainer;if(A){var L=A;if(typeof S=="function"){var ie=S;S=function(){var fe=Im(L);ie.call(fe)}}Om(d,L,l,S)}else L=T8(x,d,l,S,w);return Im(L)}Bw=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var x=_d(d.pendingLanes);x!==0&&(rx(d,x|1),ga(d,We()),(Ft&6)===0&&(cc=We()+500,lo()))}break;case 13:rl(function(){var w=ii(l,1);if(w!==null){var S=Zn();vs(w,l,1,S)}}),Pg(l,1)}},nx=function(l){if(l.tag===13){var d=ii(l,134217728);if(d!==null){var x=Zn();vs(d,l,134217728,x)}Pg(l,134217728)}},Uw=function(l){if(l.tag===13){var d=po(l),x=ii(l,d);if(x!==null){var w=Zn();vs(x,l,d,w)}Pg(l,d)}},Ww=function(){return Vt},Hw=function(l,d){var x=Vt;try{return Vt=l,d()}finally{Vt=x}},Xn=function(l,d,x){switch(d){case"input":if(_e(l,x),d=x.name,x.type==="radio"&&d!=null){for(x=l;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<x.length;d++){var w=x[d];if(w!==l&&w.form===l.form){var S=Qf(w);if(!S)throw Error(r(90));le(w),_e(w,S)}}}break;case"textarea":yt(l,x);break;case"select":d=x.value,d!=null&&at(l,!!x.multiple,d,!1)}},Xr=_g,Fn=rl;var O8={usingClientEntryPoint:!1,Events:[Bd,Yl,Qf,ur,Lt,_g]},tu={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I8={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=de(l),l===null?null:l.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||P8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rm.isDisabled&&Rm.supportsFiber)try{Is=Rm.inject(I8),sn=Rm}catch{}}return va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O8,va.createPortal=function(l,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(d))throw Error(r(200));return C8(l,d,null,x)},va.createRoot=function(l,d){if(!Og(l))throw Error(r(299));var x=!1,w="",S=iN;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=Cg(l,1,!1,null,null,x,!1,w,S),l[ri]=d.current,Md(l.nodeType===8?l.parentNode:l),new Tg(d)},va.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=de(d),l=l===null?null:l.stateNode,l},va.flushSync=function(l){return rl(l)},va.hydrate=function(l,d,x){if(!Fm(d))throw Error(r(200));return Lm(null,l,d,!0,x)},va.hydrateRoot=function(l,d,x){if(!Og(l))throw Error(r(405));var w=x!=null&&x.hydratedSources||null,S=!1,A="",L=iN;if(x!=null&&(x.unstable_strictMode===!0&&(S=!0),x.identifierPrefix!==void 0&&(A=x.identifierPrefix),x.onRecoverableError!==void 0&&(L=x.onRecoverableError)),d=aN(d,null,l,1,x??null,S,!1,A,L),l[ri]=d.current,Md(l),w)for(l=0;l<w.length;l++)x=w[l],S=x._getVersion,S=S(x._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[x,S]:d.mutableSourceEagerHydrationData.push(x,S);return new Dm(d)},va.render=function(l,d,x){if(!Fm(d))throw Error(r(200));return Lm(null,l,d,!1,x)},va.unmountComponentAtNode=function(l){if(!Fm(l))throw Error(r(40));return l._reactRootContainer?(rl(function(){Lm(null,null,l,!1,function(){l._reactRootContainer=null,l[ri]=null})}),!0):!1},va.unstable_batchedUpdates=_g,va.unstable_renderSubtreeIntoContainer=function(l,d,x,w){if(!Fm(x))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Lm(l,d,x,!1,w)},va.version="18.3.1-next-f1338f8080-20240426",va}var pN;function bC(){if(pN)return Fg.exports;pN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=U8(),Fg.exports}var xN;function W8(){if(xN)return Mm;xN=1;var e=bC();return Mm.createRoot=e.createRoot,Mm.hydrateRoot=e.hydrateRoot,Mm}var H8=W8();var gN="popstate";function V8(e={}){function t(a,s){let{pathname:i,search:o,hash:c}=a.location;return $y("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Au(s)}return K8(t,r,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ua(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q8(){return Math.random().toString(36).substring(2,10)}function vN(e,t){return{usr:e.state,key:e.key,idx:t}}function $y(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zc(t):t,state:r,key:t&&t.key||a||q8()}}function Au({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function K8(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,c="POP",u=null,m=f();m==null&&(m=0,o.replaceState({...o.state,idx:m},""));function f(){return(o.state||{idx:null}).idx}function h(){c="POP";let j=f(),N=j==null?null:j-m;m=j,u&&u({action:c,location:y.location,delta:N})}function g(j,N){c="PUSH";let _=$y(y.location,j,N);m=f()+1;let k=vN(_,m),E=y.createHref(_);try{o.pushState(k,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&u&&u({action:c,location:y.location,delta:1})}function p(j,N){c="REPLACE";let _=$y(y.location,j,N);m=f();let k=vN(_,m),E=y.createHref(_);o.replaceState(k,"",E),i&&u&&u({action:c,location:y.location,delta:0})}function b(j){return G8(j)}let y={get action(){return c},get location(){return e(s,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(gN,h),u=j,()=>{s.removeEventListener(gN,h),u=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let N=b(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:p,go(j){return o.go(j)}};return y}function G8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),xr(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Au(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function jC(e,t,r="/"){return X8(e,t,r,!1)}function X8(e,t,r,a){let s=typeof t=="string"?Zc(t):t,i=Ei(s.pathname||"/",r);if(i==null)return null;let o=wC(e);Y8(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let m=oF(i);c=sF(o[u],m,a)}return c}function wC(e,t=[],r=[],a="",s=!1){let i=(o,c,u=s,m)=>{let f={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&u)return;xr(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let h=xi([a,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(xr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wC(o.children,t,g,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:nF(h,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let u of _C(o.path))i(o,c,!0,u)}),t}function _C(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=_C(a.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Y8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aF(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var J8=/^:[\w-]+$/,Z8=3,Q8=2,eF=1,tF=10,rF=-2,yN=e=>e==="*";function nF(e,t){let r=e.split("/"),a=r.length;return r.some(yN)&&(a+=rF),t&&(a+=Q8),r.filter(s=>!yN(s)).reduce((s,i)=>s+(J8.test(i)?Z8:i===""?eF:tF),a)}function aF(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function sF(e,t,r=!1){let{routesMeta:a}=e,s={},i="/",o=[];for(let c=0;c<a.length;++c){let u=a[c],m=c===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=Ah({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},f),g=u.route;if(!h&&m&&r&&!a[a.length-1].route.index&&(h=Ah({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xi([i,h.pathname]),pathnameBase:uF(xi([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=xi([i,h.pathnameBase]))}return o}function Ah(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=iF(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((m,{paramName:f,isOptional:h},g)=>{if(f==="*"){let b=c[g]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const p=c[g];return h&&!p?m[f]=void 0:m[f]=(p||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function iF(e,t=!1,r=!0){Ua(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function oF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ua(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lF=e=>NC.test(e);function cF(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Zc(e):e,i;if(r)if(lF(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ua(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=bN(r.substring(1),"/"):i=bN(r,t)}else i=t;return{pathname:i,search:fF(a),hash:mF(s)}}function bN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Mg(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Q1(e){let t=dF(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function eb(e,t,r,a=!1){let s;typeof e=="string"?s=Zc(e):(s={...e},xr(!s.pathname||!s.pathname.includes("?"),Mg("?","pathname","search",s)),xr(!s.pathname||!s.pathname.includes("#"),Mg("#","pathname","hash",s)),xr(!s.search||!s.search.includes("#"),Mg("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let h=t.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}c=h>=0?t[h]:"/"}let u=cF(s,c),m=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(m||f)&&(u.pathname+="/"),u}var xi=e=>e.join("/").replace(/\/\/+/g,"/"),uF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,hF=class{constructor(e,t,r,a=!1){this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function pF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function xF(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kC(e,t){let r=e;if(typeof r!="string"||!NC.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,s=!1;if(SC)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=Ei(o.pathname,t);o.origin===i.origin&&c!=null?r=c+o.search+o.hash:s=!0}catch{Ua(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EC=["POST","PUT","PATCH","DELETE"];new Set(EC);var gF=["GET",...EC];new Set(gF);var Qc=v.createContext(null);Qc.displayName="DataRouter";var q0=v.createContext(null);q0.displayName="DataRouterState";var vF=v.createContext(!1),AC=v.createContext({isTransitioning:!1});AC.displayName="ViewTransition";var yF=v.createContext(new Map);yF.displayName="Fetchers";var bF=v.createContext(null);bF.displayName="Await";var qa=v.createContext(null);qa.displayName="Navigation";var tf=v.createContext(null);tf.displayName="Location";var Zs=v.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var tb=v.createContext(null);tb.displayName="RouteError";var CC="REACT_ROUTER_ERROR",jF="REDIRECT",wF="ROUTE_ERROR_RESPONSE";function _F(e){if(e.startsWith(`${CC}:${jF}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function NF(e){if(e.startsWith(`${CC}:${wF}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new hF(t.status,t.statusText,t.data)}catch{}}function SF(e,{relative:t}={}){xr(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=v.useContext(qa),{hash:s,pathname:i,search:o}=rf(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:xi([r,i])),a.createHref({pathname:c,search:o,hash:s})}function ed(){return v.useContext(tf)!=null}function ca(){return xr(ed(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(tf).location}var PC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TC(e){v.useContext(qa).static||v.useLayoutEffect(e)}function Na(){let{isDataRoute:e}=v.useContext(Zs);return e?MF():kF()}function kF(){xr(ed(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Qc),{basename:t,navigator:r}=v.useContext(qa),{matches:a}=v.useContext(Zs),{pathname:s}=ca(),i=JSON.stringify(Q1(a)),o=v.useRef(!1);return TC(()=>{o.current=!0}),v.useCallback((u,m={})=>{if(Ua(o.current,PC),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=eb(u,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xi([t,f.pathname])),(m.replace?r.replace:r.push)(f,m.state,m)},[t,r,i,s,e])}v.createContext(null);function rf(e,{relative:t}={}){let{matches:r}=v.useContext(Zs),{pathname:a}=ca(),s=JSON.stringify(Q1(r));return v.useMemo(()=>eb(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function EF(e,t){return OC(e,t)}function OC(e,t,r,a,s){xr(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(qa),{matches:o}=v.useContext(Zs),c=o[o.length-1],u=c?c.params:{},m=c?c.pathname:"/",f=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";DC(m,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=ca(),p;if(t){let _=typeof t=="string"?Zc(t):t;xr(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=g;let b=p.pathname||"/",y=b;if(f!=="/"){let _=f.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=jC(e,{pathname:y});Ua(h||j!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ua(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=OF(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:xi([f,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:xi([f,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,r,a,s);return t&&N?v.createElement(tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function AF(){let e=RF(),t=pF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,o)}var CF=v.createElement(AF,null),IC=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=NF(e.digest);r&&(e=r)}let t=e!==void 0?v.createElement(Zs.Provider,{value:this.props.routeContext},v.createElement(tb.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(PF,{error:e},t):t}};IC.contextType=vF;var zg=new WeakMap;function PF({children:e,error:t}){let{basename:r}=v.useContext(qa);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=_F(t.digest);if(a){let s=zg.get(t);if(s)throw s;let i=kC(a.location,r);if(SC&&!zg.get(t))if(i.isExternal||a.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:a.replace}));throw zg.set(t,o),o}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function TF({routeContext:e,match:t,children:r}){let a=v.useContext(Qc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Zs.Provider,{value:e},r)}function OF(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);xr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:p}=r,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let m=r&&a?(f,h)=>{a(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:xF(r.matches),errorInfo:h})}:void 0;return i.reduceRight((f,h,g)=>{let p,b=!1,y=null,j=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||CF,c&&(u<0&&g===0?(DC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===g&&(b=!0,j=h.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,g+1)),_=()=>{let k;return p?k=y:b?k=j:h.route.Component?k=v.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,v.createElement(TF,{match:h,routeContext:{outlet:f,matches:N,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?v.createElement(IC,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):_()},null)}function rb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IF(e){let t=v.useContext(Qc);return xr(t,rb(e)),t}function DF(e){let t=v.useContext(q0);return xr(t,rb(e)),t}function FF(e){let t=v.useContext(Zs);return xr(t,rb(e)),t}function nb(e){let t=FF(e),r=t.matches[t.matches.length-1];return xr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function LF(){return nb("useRouteId")}function RF(){let e=v.useContext(tb),t=DF("useRouteError"),r=nb("useRouteError");return e!==void 0?e:t.errors?.[r]}function MF(){let{router:e}=IF("useNavigate"),t=nb("useNavigate"),r=v.useRef(!1);return TC(()=>{r.current=!0}),v.useCallback(async(s,i={})=>{Ua(r.current,PC),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var jN={};function DC(e,t,r){!t&&!jN[e]&&(jN[e]=!0,Ua(!1,r))}v.memo(zF);function zF({routes:e,future:t,state:r,onError:a}){return OC(e,void 0,r,a,t)}function hl({to:e,replace:t,state:r,relative:a}){xr(ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(qa);Ua(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Zs),{pathname:o}=ca(),c=Na(),u=eb(e,Q1(i),o,a==="path"),m=JSON.stringify(u);return v.useEffect(()=>{c(JSON.parse(m),{replace:t,state:r,relative:a})},[c,m,a,t,r]),null}function ft(e){xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $F({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){xr(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[c,s,i,o]);typeof r=="string"&&(r=Zc(r));let{pathname:m="/",search:f="",hash:h="",state:g=null,key:p="default"}=r,b=v.useMemo(()=>{let y=Ei(m,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:p},navigationType:a}},[c,m,f,h,g,p,a]);return Ua(b!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(qa.Provider,{value:u},v.createElement(tf.Provider,{children:t,value:b}))}function wN({children:e,location:t}){return EF(By(e),t)}function By(e,t=[]){let r=[];return v.Children.forEach(e,(a,s)=>{if(!v.isValidElement(a))return;let i=[...t,s];if(a.type===v.Fragment){r.push.apply(r,By(a.props.children,i));return}xr(a.type===ft,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=By(a.props.children,i)),r.push(o)}),r}var jh="get",wh="application/x-www-form-urlencoded";function K0(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function BF(e){return K0(e)&&e.tagName.toLowerCase()==="button"}function UF(e){return K0(e)&&e.tagName.toLowerCase()==="form"}function WF(e){return K0(e)&&e.tagName.toLowerCase()==="input"}function HF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VF(e,t){return e.button===0&&(!t||t==="_self")&&!HF(e)}function Uy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function qF(e,t){let r=Uy(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var zm=null;function KF(){if(zm===null)try{new FormData(document.createElement("form"),0),zm=!1}catch{zm=!0}return zm}var GF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(e){return e!=null&&!GF.has(e)?(Ua(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):e}function XF(e,t){let r,a,s,i,o;if(UF(e)){let c=e.getAttribute("action");a=c?Ei(c,t):null,r=e.getAttribute("method")||jh,s=$g(e.getAttribute("enctype"))||wh,i=new FormData(e)}else if(BF(e)||WF(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(a=u?Ei(u,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||jh,s=$g(e.getAttribute("formenctype"))||$g(c.getAttribute("enctype"))||wh,i=new FormData(c,e),!KF()){let{name:m,type:f,value:h}=e;if(f==="image"){let g=m?`${m}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else m&&i.append(m,h)}}else{if(K0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=jh,a=null,s=wh,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ab(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YF(e,t,r,a){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:t&&Ei(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function JF(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QF(e,t,r){let a=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await JF(i,r);return o.links?o.links():[]}return[]}));return nL(a.flat(1).filter(ZF).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _N(e,t,r,a,s,i){let o=(u,m)=>r[m]?u.route.id!==r[m].route.id:!0,c=(u,m)=>r[m].pathname!==u.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,m)=>o(u,m)||c(u,m)):i==="data"?t.filter((u,m)=>{let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,m)||c(u,m))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function eL(e,t,{includeHydrateFallback:r}={}){return tL(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function tL(e){return[...new Set(e)]}function rL(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function nL(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let i=JSON.stringify(rL(s));return r.has(i)||(r.add(i),a.push({key:i,link:s})),a},[])}function FC(){let e=v.useContext(Qc);return ab(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aL(){let e=v.useContext(q0);return ab(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sb=v.createContext(void 0);sb.displayName="FrameworkContext";function LC(){let e=v.useContext(sb);return ab(e,"You must render this element inside a <HydratedRouter> element"),e}function sL(e,t){let r=v.useContext(sb),[a,s]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:m,onMouseLeave:f,onTouchStart:h}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=N=>{N.forEach(_=>{o(_.isIntersecting)})},j=new IntersectionObserver(y,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),v.useEffect(()=>{if(a){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[a]);let p=()=>{s(!0)},b=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:nu(c,p),onBlur:nu(u,b),onMouseEnter:nu(m,p),onMouseLeave:nu(f,b),onTouchStart:nu(h,p)}]:[!1,g,{}]}function nu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function iL({page:e,...t}){let{router:r}=FC(),a=v.useMemo(()=>jC(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?v.createElement(lL,{page:e,matches:a,...t}):null}function oL(e){let{manifest:t,routeModules:r}=LC(),[a,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return QF(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),a}function lL({page:e,matches:t,...r}){let a=ca(),{future:s,manifest:i,routeModules:o}=LC(),{basename:c}=FC(),{loaderData:u,matches:m}=aL(),f=v.useMemo(()=>_N(e,t,m,i,a,"data"),[e,t,m,i,a]),h=v.useMemo(()=>_N(e,t,m,i,a,"assets"),[e,t,m,i,a]),g=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,j=!1;if(t.forEach(_=>{let k=i.routes[_.route.id];!k||!k.hasLoader||(!f.some(E=>E.route.id===_.route.id)&&_.route.id in u&&o[_.route.id]?.shouldRevalidate||k.hasClientLoader?j=!0:y.add(_.route.id))}),y.size===0)return[];let N=YF(e,c,s.unstable_trailingSlashAwareDataRequests,"data");return j&&y.size>0&&N.searchParams.set("_routes",t.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[c,s.unstable_trailingSlashAwareDataRequests,u,a,i,f,t,e,o]),p=v.useMemo(()=>eL(h,i),[h,i]),b=oL(h);return v.createElement(v.Fragment,null,g.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),b.map(({key:y,link:j})=>v.createElement("link",{key:y,nonce:r.nonce,...j})))}function cL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var dL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dL&&(window.__reactRouterVersion="7.12.0")}catch{}function uL({basename:e,children:t,unstable_useTransitions:r,window:a}){let s=v.useRef();s.current==null&&(s.current=V8({window:a,v5Compat:!0}));let i=s.current,[o,c]=v.useState({action:i.action,location:i.location}),u=v.useCallback(m=>{r===!1?c(m):v.startTransition(()=>c(m))},[r]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.createElement($F,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var RC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ib=v.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:c,target:u,to:m,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g,...p},b){let{basename:y,unstable_useTransitions:j}=v.useContext(qa),N=typeof m=="string"&&RC.test(m),_=kC(m,y);m=_.to;let k=SF(m,{relative:s}),[E,C,D]=sL(a,p),O=hL(m,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function I(F){t&&t(F),F.defaultPrevented||O(F)}let T=v.createElement("a",{...p,...D,href:_.absoluteURL||k,onClick:_.isExternal||i?t:I,ref:cL(b,C),target:u,"data-discover":!N&&r==="render"?"true":void 0});return E&&!N?v.createElement(v.Fragment,null,T,v.createElement(iL,{page:k})):T});ib.displayName="Link";var jc=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:c,children:u,...m},f){let h=rf(o,{relative:m.relative}),g=ca(),p=v.useContext(q0),{navigator:b,basename:y}=v.useContext(qa),j=p!=null&&bL(h)&&c===!0,N=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,_=g.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(_=_.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&y&&(k=Ei(k,y)||k);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let C=_===N||!s&&_.startsWith(N)&&_.charAt(E)==="/",D=k!=null&&(k===N||!s&&k.startsWith(N)&&k.charAt(N.length)==="/"),O={isActive:C,isPending:D,isTransitioning:j},I=C?t:void 0,T;typeof a=="function"?T=a(O):T=[a,C?"active":null,D?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(O):i;return v.createElement(ib,{...m,"aria-current":I,className:T,ref:f,style:F,to:o,viewTransition:c},typeof u=="function"?u(O):u)});jc.displayName="NavLink";var fL=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:i,method:o=jh,action:c,onSubmit:u,relative:m,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g,...p},b)=>{let{unstable_useTransitions:y}=v.useContext(qa),j=vL(),N=yL(c,{relative:m}),_=o.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&RC.test(c),E=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,O=D?.getAttribute("formmethod")||o,I=()=>j(D||C.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:s,state:i,relative:m,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:g});y&&r!==!1?v.startTransition(()=>I()):I()};return v.createElement("form",{ref:b,method:_,action:N,onSubmit:a?u:E,...p,"data-discover":!k&&e==="render"?"true":void 0})});fL.displayName="Form";function mL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MC(e){let t=v.useContext(Qc);return xr(t,mL(e)),t}function hL(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let m=Na(),f=ca(),h=rf(e,{relative:i});return v.useCallback(g=>{if(VF(g,t)){g.preventDefault();let p=r!==void 0?r:Au(f)===Au(h),b=()=>m(e,{replace:p,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});u?v.startTransition(()=>b()):b()}},[f,m,h,r,a,t,e,s,i,o,c,u])}function pL(e){Ua(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Uy(e)),r=v.useRef(!1),a=ca(),s=v.useMemo(()=>qF(a.search,r.current?null:t.current),[a.search]),i=Na(),o=v.useCallback((c,u)=>{const m=Uy(typeof c=="function"?c(new URLSearchParams(s)):c);r.current=!0,i("?"+m,u)},[i,s]);return[s,o]}var xL=0,gL=()=>`__${String(++xL)}__`;function vL(){let{router:e}=MC("useSubmit"),{basename:t}=v.useContext(qa),r=LF(),a=e.fetch,s=e.navigate;return v.useCallback(async(i,o={})=>{let{action:c,method:u,encType:m,formData:f,body:h}=XF(i,t);if(o.navigate===!1){let g=o.fetcherKey||gL();await a(g,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await s(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,s,t,r])}function yL(e,{relative:t}={}){let{basename:r}=v.useContext(qa),a=v.useContext(Zs);xr(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...rf(e||".",{relative:t})},o=ca();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(h=>h).forEach(h=>c.append("index",h));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:xi([r,i.pathname])),Au(i)}function bL(e,{relative:t}={}){let r=v.useContext(AC);xr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=MC("useViewTransitionState"),s=rf(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ei(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=Ei(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ah(s.pathname,o)!=null||Ah(s.pathname,i)!=null}var ob=bC();const jL=[{id:"1",name:"Service Provider",email:"manglaaryan05@gmail.com",phone:"9876543210",status:"approved",specialization:["AC Repair","Electrician Services"],rating:4.8,totalJobs:120},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"8765432109",status:"approved",specialization:["Salon at Home","Massage Therapy"],rating:4.9,totalJobs:85},{id:"3",name:"Bob Johnson",email:"bob@example.com",phone:"7654321098",status:"pending",specialization:["Plumbing Services","Home Cleaning"],rating:0,totalJobs:0}],zC=[{id:"1",name:"Regular User",email:"user@Apricott Care.com",role:"user",status:"active",phone:"9876543210",address:"123 Main St, Apt 4B"},{id:"2",name:"Service Provider",email:"provider@Apricott Care.com",role:"provider",status:"active",phone:"8765432109",address:"456 Park Ave, Suite 10"},{id:"3",name:"Admin User",email:"admin@Apricott Care.com",role:"admin",status:"active",phone:"7654321098"}],$C={},we=$C?.VITE_API_BASE_URL||"https://sonu.mycartly.in/api",lb=$C?.VITE_BACKEND_BASE_URL||"https://sonu.mycartly.in";let uc=zC.filter(e=>e.role==="user"&&e.id).map(e=>({id:e.id,name:e.name||"",email:e.email,phone:e.phone||"",password:e.role==="user"?"Neighshop#user":"Neighshop#admin",role:"user",status:e.status,createdAt:new Date().toISOString()})),il=jL.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,password:"Neighshop#provider",service:e.specialization[0],pincode:"400001",address:"",documentUrl:"/documents/provider.pdf",role:"provider",status:e.status,createdAt:new Date().toISOString()}));const fc=e=>new Promise(t=>setTimeout(t,e)),ol=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,phone:e.phone}),NN=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),Bg=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),SN=e=>/^\d{10}$/.test(e),$m={login:async(e,t,r)=>{if(await fc(1e3),!Bg(e))return{success:!1,message:"Invalid email format"};if(r==="admin"){if(e==="admin@Apricott Care.com"&&t==="Neighshop#admin"){const a=zC.find(s=>s.role==="admin");if(a)return{success:!0,message:"Admin login successful",user:a}}return{success:!1,message:"Invalid admin credentials"}}if(r==="user"){const a=uc.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="active"?{success:!1,message:"Your account is inactive"}:{success:!0,message:"Login successful",user:ol(a)}}if(r==="provider"){const a=il.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="approved"?{success:!1,message:"Your account is pending approval"}:{success:!0,message:"Login successful",user:ol(a)}}return{success:!1,message:"Invalid credentials"}},registerUser:async e=>{if(await fc(1e3),!Bg(e.email))return{success:!1,message:"Invalid email format"};if(!SN(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!NN(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(uc.some(r=>r.email===e.email)||il.some(r=>r.email===e.email))return{success:!1,message:"Email already registered"};const t={...e,id:(uc.length+1).toString(),role:"user",status:"active",createdAt:new Date().toISOString()};return uc.push(t),{success:!0,message:"Registration successful",user:ol(t)}},registerProvider:async(e,t)=>{if(await fc(1e3),!Bg(e.email))return{success:!1,message:"Invalid email format"};if(!SN(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!NN(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(!e.service)return{success:!1,message:"Service selection is required"};if(!e.pincode||!/^\d{6}$/.test(e.pincode))return{success:!1,message:"Invalid pincode format (6 digits required)"};if(uc.some(i=>i.email===e.email)||il.some(i=>i.email===e.email))return{success:!1,message:"Email already registered"};if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png"].includes(t.type))return{success:!1,message:"Invalid document format"};if(t.size>5*1024*1024)return{success:!1,message:"Document size should be less than 5MB"};const a=URL.createObjectURL(t),s={...e,id:(il.length+1).toString(),role:"provider",status:"pending",documentUrl:a,createdAt:new Date().toISOString()};return il.push(s),{success:!0,message:"Registration submitted for approval. You will be notified once approved.",user:ol(s)}},getRegisteredUsers:async()=>(await fc(500),uc.map(ol)),getRegisteredProviders:async()=>(await fc(500),il.map(ol)),updateProviderStatus:async(e,t)=>{await fc(500);const r=il.find(a=>a.id===e);return r?(r.status=t,{success:!0,message:`Provider ${t} successfully`,user:ol(r)}):{success:!1,message:"Provider not found"}},sendOTP:async e=>{const t=await fetch(`${we}/provider/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Failed to send OTP");return t.json()},verifyOTP:async(e,t)=>{const r=await fetch(`${we}/provider/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})});if(!r.ok)throw new Error("Failed to verify OTP");return r.json()},getServiceProviderInfo:async e=>{const t=await fetch(`${we}/create_account_service_provider`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get service provider info");return t.json()},createServiceProviderAccount:async(e,t)=>{const r=new FormData;r.append("name",t.name),r.append("service_type",t.service_type),r.append("phone_number",t.phone_number),r.append("address",t.address),r.append("pincode",t.pincode),r.append("document",t.document),t.referral&&r.append("referral",t.referral);const a=await fetch(`${we}/create_account_service_provider`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(!a.ok)throw new Error("Failed to create service provider account");return a.json()}},BC=v.createContext(void 0),vn=()=>{const e=v.useContext(BC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wL=({children:e})=>{const[t,r]=v.useState(null),[a,s]=v.useState(null),[i,o]=v.useState(!0),c=()=>{const j=localStorage.getItem("Apricott Care_user"),N=localStorage.getItem("Apricott Care_token"),_=localStorage.getItem("Apricott Care_role");if(N&&j)try{const k=JSON.parse(j);if(console.log("AuthContext: Restoring user data",{storedRole:_,userData:k}),_==="admin"||_==="helping_staff"||_==="finance_admin"||k.role==="admin"||k.role==="super_admin"||k.role==="helping_staff"||k.role==="helping_staff_admin"||k.role==="finance_admin"){if(N.startsWith("mock_token_")){console.log("AuthContext: Rejecting mock token, clearing storage"),localStorage.removeItem("Apricott Care_token"),localStorage.removeItem("Apricott Care_user"),localStorage.removeItem("Apricott Care_role"),s(null),r(null),o(!1);return}fetch(`${we}/admin/me`,{headers:{Authorization:`Bearer ${N}`}}).then(E=>{if(E.ok)return E.json();throw new Error("Token validation failed")}).then(E=>{if(E.admin){s(N);let C=E.admin.role;C==="super_admin"?C="admin":C==="helping_staff_admin"&&(C="helping_staff");const D={...E.admin,role:C};console.log("AuthContext: Setting user data after validation",D),r(D),localStorage.setItem("Apricott Care_user",JSON.stringify(D)),localStorage.setItem("Apricott Care_role",C)}else{if((_==="helping_staff"||_==="finance_admin")&&k){console.log(`AuthContext: Using stored ${_} data (admin_me returned no admin)`),s(N);const C={...k,role:_};r(C),localStorage.setItem("Apricott Care_user",JSON.stringify(C)),localStorage.setItem("Apricott Care_role",_),o(!1);return}throw new Error("Invalid response")}}).catch(()=>{console.log("AuthContext: Token validation failed, clearing storage"),localStorage.removeItem("Apricott Care_token"),localStorage.removeItem("Apricott Care_user"),localStorage.removeItem("Apricott Care_role"),s(null),r(null)}).finally(()=>{o(!1)})}else _==="provider"||k.role==="provider"?(s(N),r(k),o(!1)):fetch(`${we}/user/profile`,{headers:{Authorization:`Bearer ${N}`}}).then(E=>{E.ok?(s(N),r(k)):(localStorage.removeItem("Apricott Care_token"),localStorage.removeItem("Apricott Care_user"),localStorage.removeItem("Apricott Care_role"),s(null),r(null))}).catch(()=>{localStorage.removeItem("Apricott Care_token"),localStorage.removeItem("Apricott Care_user"),localStorage.removeItem("Apricott Care_role"),s(null),r(null)}).finally(()=>{o(!1)})}catch{localStorage.removeItem("Apricott Care_token"),localStorage.removeItem("Apricott Care_user"),localStorage.removeItem("Apricott Care_role"),s(null),r(null),o(!1)}else o(!1)};v.useEffect(()=>{c();const j=_=>{(_.key==="Apricott Care_token"||_.key==="Apricott Care_user"||_.key==="Apricott Care_role")&&c()},N=()=>{c()};return window.addEventListener("storage",j),window.addEventListener("authUpdate",N),()=>{window.removeEventListener("storage",j),window.removeEventListener("authUpdate",N)}},[]);const y={user:t,isAuthenticated:!!a,isLoading:i,token:a,sendOTP:async j=>{try{await $m.sendOTP(j)}catch(N){throw console.error("Failed to send OTP:",N),N}},verifyOTP:async(j,N)=>{try{const _=await $m.verifyOTP(j,N);if(_.is_existing&&_.token&&_.provider){s(_.token),localStorage.setItem("Apricott Care_token",_.token);const k={id:_.provider.id.toString(),email:_.provider.email,role:"provider",status:_.provider.status||"pending",name:_.provider.name||"",phone:_.provider.phone||""};return r(k),localStorage.setItem("Apricott Care_user",JSON.stringify(k)),localStorage.setItem("Apricott Care_role","provider"),{token:_.token,user:k,isNewUser:!1}}else return{token:null,user:null,isNewUser:!0}}catch(_){throw console.error("OTP verification failed:",_),_}},createServiceProviderAccount:async j=>{if(!a)throw new Error("No authentication token found");try{await $m.createServiceProviderAccount(a,j);const _={email:(await $m.getServiceProviderInfo(a)).email,role:"provider",name:j.name,phone:j.phone_number,status:"pending"};r(_),localStorage.setItem("Apricott Care_user",JSON.stringify(_))}catch(N){throw console.error("Failed to create service provider account:",N),N}},adminLogin:async(j,N)=>{try{const _=`${we}/admin/login`;console.log("Admin login URL:",_);const k=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:j,password:N})});console.log("Admin login response status:",k.status,k.statusText,k.url);let E;try{E=await k.json()}catch{const D=await k.text();throw console.error("Non-JSON response:",D),new Error(`Server error: ${k.status} ${k.statusText}. ${D.substring(0,100)}`)}if(!k.ok){const C=E.message||E.error?.message||`Login failed: ${k.status} ${k.statusText}`;throw new Error(C)}if(E.token){s(E.token);const C=E.admin.role==="super_admin"?"admin":E.admin.role,D={...E.admin,role:C};r(D),localStorage.setItem("Apricott Care_token",E.token),localStorage.setItem("Apricott Care_user",JSON.stringify(D)),localStorage.setItem("Apricott Care_role","admin")}else throw new Error("No token received")}catch(_){throw console.error("Admin login failed:",_),_}},login:async(j,N,_="user")=>{try{const k=await fetch(`${we}/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,password:N})}),E=await k.json();if(!k.ok)throw new Error(E.message||"Login failed");if(E.token&&E.user){s(E.token);const C={id:E.user.id,email:E.user.email,role:_,status:E.user.status||"active",name:E.user.name||"",phone:E.user.phone||""};r(C),localStorage.setItem("Apricott Care_token",E.token),localStorage.setItem("Apricott Care_user",JSON.stringify(C)),localStorage.setItem("Apricott Care_role",_);const D=localStorage.getItem("selectedService"),O=localStorage.getItem("selectedCategory");D?localStorage.removeItem("selectedService"):O&&localStorage.removeItem("selectedCategory")}else throw new Error("No token or user data received")}catch(k){throw console.error("Login failed:",k),k}},logout:()=>{r(null),s(null),localStorage.removeItem("Apricott Care_user"),localStorage.removeItem("Apricott Care_token"),localStorage.removeItem("Apricott Care_role")},refreshUserData:async()=>{try{const j=localStorage.getItem("Apricott Care_token"),N=localStorage.getItem("Apricott Care_role");if(j&&N)if(N==="admin"||N==="helping_staff"||N==="finance_admin")try{const _=await fetch(`${we}/admin/me`,{headers:{Authorization:`Bearer ${j}`}});if(_.ok){const k=await _.json(),E={...k.admin,role:k.admin.role==="super_admin"?"admin":k.admin.role};r(E),localStorage.setItem("Apricott Care_user",JSON.stringify(E)),console.log("Admin data refreshed:",E)}else _.status===404&&console.log("Admin /me endpoint not found, using stored user data")}catch(_){console.log("Admin /me endpoint error, using stored user data:",_)}else if(N==="provider")console.log("Service provider session maintained - no auto-refresh");else{const _=await fetch(`${we}/user/profile`,{headers:{Authorization:`Bearer ${j}`}});if(_.ok){const E=(await _.json()).profile,C={id:E.id,email:E.email,role:N,status:E.status||"active",name:E.name||"",phone:E.phone||""};console.log("Refreshing user data:",C),r(C),localStorage.setItem("Apricott Care_user",JSON.stringify(C)),console.log("User data updated in context and localStorage")}else console.error("Failed to refresh user data:",_.status)}}catch(j){console.error("Error refreshing user data:",j)}}};return n.jsx(BC.Provider,{value:y,children:e})},UC=v.createContext(void 0),Dt=()=>{const e=v.useContext(UC);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},_L=({children:e})=>{const[t,r]=v.useState([]),a=v.useCallback((i,o)=>{const c=Math.random().toString(36).substring(2,9);r(u=>[...u,{id:c,message:i,type:o}]),setTimeout(()=>{r(u=>u.filter(m=>m.id!==c))},2500)},[]),s=v.useCallback(i=>{r(o=>o.filter(c=>c.id!==i))},[]);return n.jsx(UC.Provider,{value:{toasts:t,addToast:a,removeToast:s},children:e})},NL=()=>{const{toasts:e,removeToast:t}=Dt();return e.length===0?null:n.jsx("div",{className:"fixed bottom-0 right-0 p-4 z-50 max-w-md w-full",children:n.jsx("div",{className:"space-y-2",children:e.map(r=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-start justify-between transition-all duration-300 animate-slide-up
              ${r.type==="success"?"bg-success text-white":r.type==="error"?"bg-error text-white":r.type==="warning"?"bg-warning text-white":"bg-primary text-secondary-dark"}
            `,children:[n.jsx("p",{children:r.message}),n.jsx("button",{onClick:()=>t(r.id),className:"ml-4 text-sm hover:opacity-70",children:""})]},r.id))})})};var SL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(e,t)=>{const r=v.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,...m},f)=>v.createElement("svg",{ref:f,...SL,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${kL(e)}`,c].join(" "),...m},[...t.map(([h,g])=>v.createElement(h,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};const Cu=Ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const $o=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const To=Ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ch=Ue("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const cb=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const db=Ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const EL=Ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const AL=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const zc=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const CL=Ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const PL=Ue("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const TL=Ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const ub=Ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const Ph=Ue("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const Cr=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const ss=Ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Wr=Ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const OL=Ue("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const Oo=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const In=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const td=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Bi=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Sa=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const WC=Ue("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);const IL=Ue("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Kr=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Wy=Ue("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const DL=Ue("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Ai=Ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const FL=Ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const rd=Ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const G0=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const LL=Ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const yn=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ug=Ue("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);const kN=Ue("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);const Ar=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const nf=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const EN=Ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const AN=Ue("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const RL=Ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const ML=Ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const zL=Ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const $L=Ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Sc=Ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const BL=Ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const UL=Ue("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const WL=Ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const vu=Ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const Ci=Ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const fb=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Wa=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Pn=Ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Wg=Ue("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const HL=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const mb=Ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const HC=Ue("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z",key:"1dba1m"}]]);const ra=Ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const VL=Ue("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Hg=Ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const qL=Ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const sa=Ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const KL=Ue("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const Ws=Ue("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const ia=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Un=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const GL=Ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Dn=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const XL=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const YL=Ue("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const Hy=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ja=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const JL=Ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const hb=Ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const pb=Ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const ZL=Ue("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Pi=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Vy=Ue("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);const Pu=Ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const fl=Ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Pc=Ue("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);const QL=Ue("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const qy=Ue("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const eR=Ue("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const As=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const yu=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const $c=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const VC=Ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Th=Ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const tR=Ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Wt=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Vs=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const rR=Ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const Hn=Ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Tt=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const nR=Ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),aR=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=Na(),{adminLogin:c,isAuthenticated:u,user:m,isLoading:f}=vn(),{addToast:h}=Dt();if(v.useEffect(()=>{!f&&u&&m?.role==="admin"&&o("/admin/dashboard",{replace:!0})},[u,m,f,o]),f)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const g=async p=>{p.preventDefault(),i(!0);try{await c(e,r);const b=localStorage.getItem("Apricott Care_user");if(b){const N=JSON.parse(b).role||"";if(N==="finance_admin"){h("Please use Financial Staff login","error"),i(!1);return}if(N==="helping_staff"||N==="helping_staff_admin"){h("Please use Helping Staff login","error"),i(!1);return}}h("Login successful!","success");const y=()=>{u&&m?.role==="admin"?o("/admin/dashboard",{replace:!0}):setTimeout(y,50)};setTimeout(y,100)}catch(b){const y=b?.message||"Login failed. Please check your credentials.";h(y,"error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(cb,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(ja,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Super Admin Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Full system access and management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:p=>t(p.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:p=>a(p.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:s?"Logging in...":"Sign in"})})]})]})})},sR=e=>{const t=new Date,r=t.toISOString().split("T")[0];let a;switch(e){case"7d":a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0];break;case"30d":a=new Date(t.setDate(t.getDate()-30)).toISOString().split("T")[0];break;case"90d":a=new Date(t.setDate(t.getDate()-90)).toISOString().split("T")[0];break;case"1y":a=new Date(t.setFullYear(t.getFullYear()-1)).toISOString().split("T")[0];break;default:a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0]}return{from:a,to:r}},iR=({dateFrom:e,dateTo:t,onDateRangeChange:r,onExport:a})=>{const s=c=>{const{from:u,to:m}=sR(c);r(u,m)},i=(c,u)=>{c==="from"?r(u,t):r(e,u)},o=()=>{const u=new Date().toISOString().split("T")[0];if(t===u){const m=Math.ceil((new Date(t).getTime()-new Date(e).getTime())/864e5);if(m<=7)return"7d";if(m<=30)return"30d";if(m<=90)return"90d";if(m<=365)return"1y"}return"custom"};return n.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"h-16 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-xl shadow-lg",children:n.jsx(AL,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Platform Analytics & Management"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx(Cr,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:o(),onChange:c=>{c.target.value!=="custom"&&s(c.target.value)},className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700 font-medium",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"}),n.jsx("option",{value:"custom",children:"Custom Range"})]})]}),o()==="custom"&&n.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx("input",{type:"date",value:e,onChange:c=>i("from",c.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",max:t}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx("input",{type:"date",value:t,onChange:c=>i("to",c.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",min:e,max:new Date().toISOString().split("T")[0]})]}),a&&n.jsxs("button",{onClick:a,className:"flex items-center space-x-2 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-all duration-200 shadow-md hover:shadow-lg",children:[n.jsx(G0,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]})})})},nd=we,oR=(e,t)=>({metrics:{total_revenue:245678.5,total_bookings:1234,completed_bookings:1156,active_users:856,active_providers:234,pending_disputes:12,platform_revenue:24567.85,new_users_today:23,new_providers_today:5,total_lab_test_bookings:456,completed_lab_tests:389,pending_lab_tests:45},growth_rates:{revenue_growth:15.5,booking_growth:22.3,user_growth:18.7},recent_activity:{new_bookings:45,completed_bookings:38,new_disputes:2,payments_received:42},date_range:{from:e,to:t}}),qC=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=vn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(oR(e,t)),i(!1)},500);return}try{const h=await fetch(`${nd}/admin/analytics/dashboard?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch dashboard data");a({metrics:{...g.metrics,total_lab_test_bookings:g.metrics.total_lab_test_bookings||0,completed_lab_tests:g.metrics.completed_lab_tests||0,pending_lab_tests:g.metrics.pending_lab_tests||0},growth_rates:g.growth_rates,recent_activity:g.recent_activity,date_range:g.date_range})}catch(h){console.error("Error fetching dashboard data:",h),c(h.message||"Failed to fetch dashboard data"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},lR=()=>({trend:[{period:"2024-01-01",total_revenue:12500,platform_revenue:1250,transaction_count:45,avg_transaction_value:277.78},{period:"2024-01-02",total_revenue:13800,platform_revenue:1380,transaction_count:52,avg_transaction_value:265.38},{period:"2024-01-03",total_revenue:15200,platform_revenue:1520,transaction_count:58,avg_transaction_value:262.07},{period:"2024-01-04",total_revenue:14100,platform_revenue:1410,transaction_count:54,avg_transaction_value:261.11},{period:"2024-01-05",total_revenue:16700,platform_revenue:1670,transaction_count:63,avg_transaction_value:265.08}],payment_methods:[{method:"Credit Card",total_amount:145678,transaction_count:523},{method:"Debit Card",total_amount:67890,transaction_count:312},{method:"UPI",total_amount:32110,transaction_count:399}],category_revenue:[{category:"Plumbing",total_revenue:45678,booking_count:234,avg_booking_value:195.21},{category:"Electrical",total_revenue:38900,booking_count:198,avg_booking_value:196.46},{category:"Cleaning",total_revenue:32100,booking_count:267,avg_booking_value:120.34},{category:"Carpentry",total_revenue:28900,booking_count:145,avg_booking_value:199.31}],top_providers:[{name:"John Smith",business_name:"Smith Services",total_earnings:12345,booking_count:67},{name:"Sarah Johnson",business_name:"Johnson Pro",total_earnings:11234,booking_count:58},{name:"Mike Williams",business_name:"Williams Solutions",total_earnings:9876,booking_count:52}]}),cR=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=vn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(lR()),i(!1)},500);return}try{const h=await fetch(`${nd}/admin/analytics/revenue?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch revenue data");a(g.revenue_data)}catch(h){console.error("Error fetching revenue data:",h),c(h.message||"Failed to fetch revenue data"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},dR=()=>({registration_trend:[{date:"2024-01-01",new_users:12},{date:"2024-01-02",new_users:18},{date:"2024-01-03",new_users:15},{date:"2024-01-04",new_users:22},{date:"2024-01-05",new_users:19}],activity_metrics:{total_users:856,active_users_30d:623,verified_users:712,users_with_bookings:534},geographic_distribution:[{city:"Mumbai",state:"Maharashtra",user_count:234,active_users:189},{city:"Delhi",state:"Delhi",user_count:198,active_users:156},{city:"Bangalore",state:"Karnataka",user_count:167,active_users:134},{city:"Pune",state:"Maharashtra",user_count:123,active_users:98}],engagement_metrics:{avg_bookings_per_user:2.3,avg_spent_per_user:456.78,repeat_user_rate:68.5},cohort_analysis:[{month:"2024-01",users_count:234,retention_rate:85.2},{month:"2023-12",users_count:198,retention_rate:82.3},{month:"2023-11",users_count:167,retention_rate:79.6}]}),uR=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=vn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(dR()),i(!1)},500);return}try{const h=await fetch(`${nd}/admin/analytics/users?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch user analytics");a(g.user_analytics)}catch(h){console.error("Error fetching user analytics:",h),c(h.message||"Failed to fetch user analytics"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},fR=()=>({booking_trend:[{date:"2024-01-01",total_bookings:45,completed_bookings:42,cancelled_bookings:3,completion_rate:93.3},{date:"2024-01-02",total_bookings:52,completed_bookings:48,cancelled_bookings:4,completion_rate:92.3},{date:"2024-01-03",total_bookings:58,completed_bookings:55,cancelled_bookings:3,completion_rate:94.8},{date:"2024-01-04",total_bookings:54,completed_bookings:51,cancelled_bookings:3,completion_rate:94.4},{date:"2024-01-05",total_bookings:63,completed_bookings:60,cancelled_bookings:3,completion_rate:95.2}],status_distribution:[{status:"completed",count:1156},{status:"pending",count:45},{status:"in_progress",count:23},{status:"cancelled",count:10}],peak_booking_times:[{hour:9,booking_count:45},{hour:10,booking_count:67},{hour:11,booking_count:89},{hour:14,booking_count:78},{hour:15,booking_count:92},{hour:16,booking_count:85}],category_performance:[{category:"Plumbing",total_bookings:234,completed_bookings:221,completion_rate:94.4,avg_booking_value:195.21,avg_rating:4.6},{category:"Electrical",total_bookings:198,completed_bookings:187,completion_rate:94.4,avg_booking_value:196.46,avg_rating:4.7},{category:"Cleaning",total_bookings:267,completed_bookings:254,completion_rate:95.1,avg_booking_value:120.34,avg_rating:4.5}],conversion_funnel:{searches:5678,profile_views:3456,bookings:1234,completed_bookings:1156,search_to_booking_rate:21.7,booking_completion_rate:93.7}}),mR=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=vn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(fR()),i(!1)},500);return}try{const h=await fetch(`${nd}/admin/analytics/bookings?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch booking analytics");a(g.booking_analytics)}catch(h){console.error("Error fetching booking analytics:",h),c(h.message||"Failed to fetch booking analytics"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},hR=()=>({registration_trend:[{date:"2024-01-01",new_providers:3},{date:"2024-01-02",new_providers:5},{date:"2024-01-03",new_providers:4},{date:"2024-01-04",new_providers:6},{date:"2024-01-05",new_providers:5}],status_distribution:[{status:"approved",verification_status:"verified",count:189},{status:"approved",verification_status:"pending",count:45},{status:"pending",verification_status:"pending",count:23},{status:"rejected",verification_status:"rejected",count:12}],top_performers:[{name:"John Smith",business_name:"Smith Services",rating:4.8,total_bookings:67,completed_bookings:65,completion_rate:97,total_earnings:12345},{name:"Sarah Johnson",business_name:"Johnson Pro",rating:4.7,total_bookings:58,completed_bookings:56,completion_rate:96.6,total_earnings:11234},{name:"Mike Williams",business_name:"Williams Solutions",rating:4.6,total_bookings:52,completed_bookings:50,completion_rate:96.2,total_earnings:9876}],performance_metrics:{avg_platform_rating:4.5,active_providers:234,verified_providers:189,avg_completion_rate:94.2},category_distribution:[{category:"Plumbing",provider_count:67,avg_rating:4.6},{category:"Electrical",provider_count:54,avg_rating:4.7},{category:"Cleaning",provider_count:78,avg_rating:4.5},{category:"Carpentry",provider_count:35,avg_rating:4.6}]}),pR=(e,t)=>{const[r,a]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(null),{token:u}=vn();return v.useEffect(()=>{(async()=>{if(!e||!t){i(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(hR()),i(!1)},500);return}try{const h=await fetch(`${nd}/admin/analytics/providers?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const g=await h.json();if(!g.success)throw new Error(g.message||"Failed to fetch provider analytics");a(g.provider_analytics)}catch(h){console.error("Error fetching provider analytics:",h),c(h.message||"Failed to fetch provider analytics"),a(null)}finally{i(!1)}})()},[e,t,u]),{data:r,loading:s,error:o}},xR=()=>({current_metrics:{avg_response_time_ms:145,avg_db_query_time_ms:23,avg_server_load:45.6,avg_memory_usage:62.3,avg_error_rate:.12,avg_uptime:99.8},time_series:[{timestamp:"2024-01-05T00:00:00Z",response_time:142,db_query_time:21,active_sessions:234,server_load:43.2,memory_usage:60.1,error_rate:.1},{timestamp:"2024-01-05T01:00:00Z",response_time:145,db_query_time:23,active_sessions:256,server_load:45.6,memory_usage:62.3,error_rate:.12},{timestamp:"2024-01-05T02:00:00Z",response_time:148,db_query_time:24,active_sessions:278,server_load:47.8,memory_usage:64.5,error_rate:.14},{timestamp:"2024-01-05T03:00:00Z",response_time:143,db_query_time:22,active_sessions:245,server_load:44.1,memory_usage:61.2,error_rate:.11}]}),gR=()=>{const[e,t]=v.useState(null),[r,a]=v.useState(!0),[s,i]=v.useState(null),{token:o}=vn();return v.useEffect(()=>{(async()=>{const u=o&&o.startsWith("mock_token_");if(!o||u){setTimeout(()=>{t(xR()),a(!1)},500);return}try{const m=await fetch(`${nd}/admin/analytics/system-performance`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!m.ok)throw m.status===401?new Error("Unauthorized: Please log in again"):m.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${m.status}`);const f=await m.json();if(!f.success)throw new Error(f.message||"Failed to fetch system performance data");t(f.performance_data)}catch(m){console.error("Error fetching system performance data:",m),i(m.message||"Failed to fetch system performance data"),t(null)}finally{a(!1)}})()},[o]),{data:e,loading:r,error:s}},vR=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=qC(e,t),i=Na();if(a)return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(11)].map((u,m)=>n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},m))});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load metrics"});const o=[{name:"Total Revenue",value:`${r.metrics.total_revenue.toLocaleString("en-IN")}`,change:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth}%`,changeType:r.growth_rates.revenue_growth>=0?"positive":"negative",icon:rd,gradient:"bg-primary"},{name:"Total Orders",value:r.metrics.total_bookings.toLocaleString("en-IN"),change:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth}%`,changeType:r.growth_rates.booking_growth>=0?"positive":"negative",icon:Cr,gradient:"bg-primary",route:"/admin/orders"},{name:"Completed Orders",value:r.metrics.completed_bookings.toLocaleString("en-IN"),change:`${(r.metrics.completed_bookings/r.metrics.total_bookings*100).toFixed(1)}%`,changeType:"positive",icon:Wr,gradient:"bg-primary",route:"/admin/orders"},{name:"Active Users",value:r.metrics.active_users.toLocaleString("en-IN"),change:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth}%`,changeType:r.growth_rates.user_growth>=0?"positive":"negative",icon:Vs,gradient:"bg-primary",route:"/admin/users"},{name:"Active Vendors",value:r.metrics.active_providers.toLocaleString("en-IN"),change:`${r.metrics.new_providers_today>0?"+":""}${r.metrics.new_providers_today}`,changeType:"positive",icon:Pu,gradient:"bg-primary",route:"/admin/providers"},{name:"Platform Revenue",value:`${r.metrics.platform_revenue.toLocaleString("en-IN")}`,change:`${(r.metrics.platform_revenue/r.metrics.total_revenue*100).toFixed(1)}% of total`,changeType:"positive",icon:ub,gradient:"bg-primary"},{name:"New Users Today",value:r.metrics.new_users_today.toLocaleString(),change:"Today",changeType:"positive",icon:Th,gradient:"bg-primary",route:"/admin/users"},{name:"Pending Disputes",value:r.metrics.pending_disputes.toLocaleString("en-IN"),change:"Active",changeType:"negative",icon:$o,gradient:"bg-primary",route:"/admin/helpdesk"},{name:"Lab Test Bookings",value:r.metrics.total_lab_test_bookings.toLocaleString("en-IN"),change:r.metrics.total_lab_test_bookings>0?`${(r.metrics.completed_lab_tests/r.metrics.total_lab_test_bookings*100).toFixed(1)}% completed`:"0% completed",changeType:"positive",icon:Pc,gradient:"bg-primary",route:"/admin/lab-tests/bookings"},{name:"Completed Lab Tests",value:r.metrics.completed_lab_tests.toLocaleString("en-IN"),change:r.metrics.total_lab_test_bookings>0?`${(r.metrics.completed_lab_tests/r.metrics.total_lab_test_bookings*100).toFixed(1)}%`:"0%",changeType:"positive",icon:Wr,gradient:"bg-primary",route:"/admin/lab-tests/bookings"},{name:"Pending Lab Tests",value:r.metrics.pending_lab_tests.toLocaleString("en-IN"),change:"Pending",changeType:"negative",icon:Kr,gradient:"bg-primary",route:"/admin/lab-tests/bookings"}],c=u=>{i(u)};return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((u,m)=>{const f=u.icon,h="route"in u&&u.route,g=h?u.route:null;return n.jsxs("div",{onClick:h&&g?()=>c(g):void 0,className:`bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20 hover:scale-105 hover:bg-white/90 ${h?"cursor-pointer":""}`,style:{animationDelay:`${m*50}ms`},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 ${u.gradient} rounded-xl shadow-md`,children:n.jsx(f,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${u.changeType==="positive","text-primary bg-secondary border border-primary/20"}`,children:u.change})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:u.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:u.name})]})]},u.name)})})};function KC(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=KC(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ot(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=KC(e))&&(a&&(a+=" "),a+=t);return a}var yR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xb(e){if(typeof e!="string")return!1;var t=yR;return t.includes(e)}var bR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jR=new Set(bR);function GC(e){return typeof e!="string"?!1:jR.has(e)}function XC(e){return typeof e=="string"&&e.startsWith("data-")}function oa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GC(r)||XC(r))&&(t[r]=e[r]);return t}function Nl(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return oa(t)}return typeof e=="object"&&!Array.isArray(e)?oa(e):null}function Gn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GC(r)||XC(r)||xb(r))&&(t[r]=e[r]);return t}function wR(e){return e==null?null:v.isValidElement(e)?Gn(e.props):typeof e=="object"&&!Array.isArray(e)?Gn(e):null}var _R=["children","width","height","viewBox","className","style","title","desc"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ky.apply(null,arguments)}function NR(e,t){if(e==null)return{};var r,a,s=SR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var gb=v.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:i,className:o,style:c,title:u,desc:m}=e,f=NR(e,_R),h=i||{width:a,height:s,x:0,y:0},g=Ot("recharts-surface",o);return v.createElement("svg",Ky({},Gn(f),{className:g,width:a,height:s,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),v.createElement("title",null,u),v.createElement("desc",null,m),r)}),kR=["children","className"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gy.apply(null,arguments)}function ER(e,t){if(e==null)return{};var r,a,s=AR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Tr=v.forwardRef((e,t)=>{var{children:r,className:a}=e,s=ER(e,kR),i=Ot("recharts-layer",a);return v.createElement("g",Gy({className:i},Gn(s),{ref:t}),r)}),YC=v.createContext(null),CR=()=>v.useContext(YC);function ar(e){return function(){return e}}const JC=Math.cos,Oh=Math.sin,Ps=Math.sqrt,Ih=Math.PI,X0=2*Ih,Xy=Math.PI,Yy=2*Xy,cl=1e-6,PR=Yy-cl;function ZC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function TR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZC;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class OR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZC:TR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=a-t,m=s-r,f=o-t,h=c-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>cl)if(!(Math.abs(h*u-m*f)>cl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-o,b=s-c,y=u*u+m*m,j=p*p+b*b,N=Math.sqrt(y),_=Math.sqrt(g),k=i*Math.tan((Xy-Math.acos((y+g-j)/(2*N*_)))/2),E=k/_,C=k/N;Math.abs(E-1)>cl&&this._append`L${t+E*f},${r+E*h}`,this._append`A${i},${i},0,0,${+(h*p>f*b)},${this._x1=t+C*u},${this._y1=r+C*m}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(s),u=a*Math.sin(s),m=t+c,f=r+u,h=1^o,g=o?s-i:i-s;this._x1===null?this._append`M${m},${f}`:(Math.abs(this._x1-m)>cl||Math.abs(this._y1-f)>cl)&&this._append`L${m},${f}`,a&&(g<0&&(g=g%Yy+Yy),g>PR?this._append`A${a},${a},0,1,${h},${t-c},${r-u}A${a},${a},0,1,${h},${this._x1=m},${this._y1=f}`:g>cl&&this._append`A${a},${a},0,${+(g>=Xy)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function vb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new OR(t)}function yb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QC(e){this._context=e}QC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Y0(e){return new QC(e)}function eP(e){return e[0]}function tP(e){return e[1]}function rP(e,t){var r=ar(!0),a=null,s=Y0,i=null,o=vb(c);e=typeof e=="function"?e:e===void 0?eP:ar(e),t=typeof t=="function"?t:t===void 0?tP:ar(t);function c(u){var m,f=(u=yb(u)).length,h,g=!1,p;for(a==null&&(i=s(p=o())),m=0;m<=f;++m)!(m<f&&r(h=u[m],m,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,m,u),+t(h,m,u));if(p)return i=null,p+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:ar(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:ar(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:ar(!!u),c):r},c.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),c):s},c.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),c):a},c}function Bm(e,t,r){var a=null,s=ar(!0),i=null,o=Y0,c=null,u=vb(m);e=typeof e=="function"?e:e===void 0?eP:ar(+e),t=typeof t=="function"?t:ar(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tP:ar(+r);function m(h){var g,p,b,y=(h=yb(h)).length,j,N=!1,_,k=new Array(y),E=new Array(y);for(i==null&&(c=o(_=u())),g=0;g<=y;++g){if(!(g<y&&s(j=h[g],g,h))===N)if(N=!N)p=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=p;--b)c.point(k[b],E[b]);c.lineEnd(),c.areaEnd()}N&&(k[g]=+e(j,g,h),E[g]=+t(j,g,h),c.point(a?+a(j,g,h):k[g],r?+r(j,g,h):E[g]))}if(_)return c=null,_+""||null}function f(){return rP().defined(s).curve(o).context(i)}return m.x=function(h){return arguments.length?(e=typeof h=="function"?h:ar(+h),a=null,m):e},m.x0=function(h){return arguments.length?(e=typeof h=="function"?h:ar(+h),m):e},m.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:ar(+h),m):a},m.y=function(h){return arguments.length?(t=typeof h=="function"?h:ar(+h),r=null,m):t},m.y0=function(h){return arguments.length?(t=typeof h=="function"?h:ar(+h),m):t},m.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ar(+h),m):r},m.lineX0=m.lineY0=function(){return f().x(e).y(t)},m.lineY1=function(){return f().x(e).y(r)},m.lineX1=function(){return f().x(a).y(t)},m.defined=function(h){return arguments.length?(s=typeof h=="function"?h:ar(!!h),m):s},m.curve=function(h){return arguments.length?(o=h,i!=null&&(c=o(i)),m):o},m.context=function(h){return arguments.length?(h==null?i=c=null:c=o(i=h),m):i},m}class nP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function IR(e){return new nP(e,!0)}function DR(e){return new nP(e,!1)}const bb={draw(e,t){const r=Ps(t/Ih);e.moveTo(r,0),e.arc(0,0,r,0,X0)}},FR={draw(e,t){const r=Ps(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aP=Ps(1/3),LR=aP*2,RR={draw(e,t){const r=Ps(t/LR),a=r*aP;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},MR={draw(e,t){const r=Ps(t),a=-r/2;e.rect(a,a,r,r)}},zR=.8908130915292852,sP=Oh(Ih/10)/Oh(7*Ih/10),$R=Oh(X0/10)*sP,BR=-JC(X0/10)*sP,UR={draw(e,t){const r=Ps(t*zR),a=$R*r,s=BR*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=X0*i/5,c=JC(o),u=Oh(o);e.lineTo(u*r,-c*r),e.lineTo(c*a-u*s,u*a+c*s)}e.closePath()}},Vg=Ps(3),WR={draw(e,t){const r=-Ps(t/(Vg*3));e.moveTo(0,r*2),e.lineTo(-Vg*r,-r),e.lineTo(Vg*r,-r),e.closePath()}},Qa=-.5,es=Ps(3)/2,Jy=1/Ps(12),HR=(Jy/2+1)*3,VR={draw(e,t){const r=Ps(t/HR),a=r/2,s=r*Jy,i=a,o=r*Jy+r,c=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(c,u),e.lineTo(Qa*a-es*s,es*a+Qa*s),e.lineTo(Qa*i-es*o,es*i+Qa*o),e.lineTo(Qa*c-es*u,es*c+Qa*u),e.lineTo(Qa*a+es*s,Qa*s-es*a),e.lineTo(Qa*i+es*o,Qa*o-es*i),e.lineTo(Qa*c+es*u,Qa*u-es*c),e.closePath()}};function qR(e,t){let r=null,a=vb(s);e=typeof e=="function"?e:ar(e||bb),t=typeof t=="function"?t:ar(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:ar(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:ar(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Dh(){}function Fh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iP(e){this._context=e}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KR(e){return new iP(e)}function oP(e){this._context=e}oP.prototype={areaStart:Dh,areaEnd:Dh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GR(e){return new oP(e)}function lP(e){this._context=e}lP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XR(e){return new lP(e)}function cP(e){this._context=e}cP.prototype={areaStart:Dh,areaEnd:Dh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function YR(e){return new cP(e)}function CN(e){return e<0?-1:1}function PN(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),c=(i*s+o*a)/(a+s);return(CN(i)+CN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function TN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qg(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-a)/3;e._context.bezierCurveTo(a+c,s+c*t,i-c,o-c*r,i,o)}function Lh(e){this._context=e}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qg(this,this._t0,TN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qg(this,TN(this,r=PN(this,e,t)),r);break;default:qg(this,this._t0,r=PN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function dP(e){this._context=new uP(e)}(dP.prototype=Object.create(Lh.prototype)).point=function(e,t){Lh.prototype.point.call(this,t,e)};function uP(e){this._context=e}uP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function JR(e){return new Lh(e)}function ZR(e){return new dP(e)}function fP(e){this._context=e}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=ON(e),s=ON(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ON(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function QR(e){return new fP(e)}function J0(e,t){this._context=e,this._t=t}J0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function eM(e){return new J0(e,.5)}function tM(e){return new J0(e,0)}function rM(e){return new J0(e,1)}function Sl(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,c=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Zy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function nM(e,t){return e[t]}function aM(e){const t=[];return t.key=e,t}function sM(){var e=ar([]),t=Zy,r=Sl,a=nM;function s(i){var o=Array.from(e.apply(this,arguments),aM),c,u=o.length,m=-1,f;for(const h of i)for(c=0,++m;c<u;++c)(o[c][m]=[0,+a(h,o[c].key,m,i)]).data=h;for(c=0,f=yb(t(o));c<u;++c)o[f[c]].index=c;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ar(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:ar(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Zy:typeof i=="function"?i:ar(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Sl,s):r},s}function iM(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}Sl(e,t)}}function oM(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=e[o][r][1]||0;a[r][1]+=a[r][0]=-c/2}Sl(e,t)}}function lM(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var c=0,u=0,m=0;c<o;++c){for(var f=e[t[c]],h=f[a][1]||0,g=f[a-1][1]||0,p=(h-g)/2,b=0;b<c;++b){var y=e[t[b]],j=y[a][1]||0,N=y[a-1][1]||0;p+=j-N}u+=h,m+=p*h}s[a-1][1]+=s[a-1][0]=r,u&&(r-=m/u)}s[a-1][1]+=s[a-1][0]=r,Sl(e,t)}}var Kg={},Gg={},IN;function cM(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Gg)),Gg}var Xg={},DN;function mP(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Xg)),Xg}var Yg={},FN;function jb(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Yg)),Yg}var Jg={},Zg={},LN;function dM(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(Zg)),Zg}var RN;function wb(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM(),r=jb();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let c=0,u="",m="",f=!1;for(s.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const h=s[c];m?h==="\\"&&c+1<o?(c++,u+=s[c]):h===m?m="":u+=h:f?h==='"'||h==="'"?m=h:h==="]"?(f=!1,i.push(u),u=""):u+=h:h==="["?(f=!0,u&&(i.push(u),u="")):h==="."?u&&(i.push(u),u=""):u+=h,c++}return u&&i.push(u),i}e.toPath=a})(Jg)),Jg}var MN;function _b(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),r=mP(),a=jb(),s=wb();function i(c,u,m){if(c==null)return m;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return m;const f=c[u];return f===void 0?r.isDeepKey(u)?i(c,s.toPath(u),m):m:f}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const f=c[u];return f===void 0?m:f}default:{if(Array.isArray(u))return o(c,u,m);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return m;const f=c[u];return f===void 0?m:f}}}function o(c,u,m){if(u.length===0)return m;let f=c;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return m;f=f[u[h]]}return f===void 0?m:f}e.get=i})(Kg)),Kg}var Qg,zN;function uM(){return zN||(zN=1,Qg=_b().get),Qg}var fM=uM();const kl=$i(fM);var mM=4;function ko(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mM,r=10**t,a=Math.round(e*r)/r;return Object.is(a,-0)?0:a}function Sr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e.reduce((s,i,o)=>{var c=r[o-1];return typeof c=="string"?s+c+i:c!==void 0?s+ko(c)+i:s+i},"")}var pn=e=>e===0?0:e>0?1:-1,os=e=>typeof e=="number"&&e!=+e,Ti=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!os(e),qs=e=>Qe(e)||typeof e=="string",hM=0,Tu=e=>{var t=++hM;return"".concat(e||"").concat(t)},Vn=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return a;var i;if(Ti(t)){if(r==null)return a;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return os(i)&&(i=a),s&&r!=null&&i>r&&(i=r),i},hP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[String(e[a])])r[String(e[a])]=!0;else return!0;return!1};function Ut(e,t,r){return Qe(e)&&Qe(t)?ko(e+r*(t-e)):t}function pP(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):kl(a,t))===r)}var cr=e=>e===null||typeof e>"u",af=e=>cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function pM(e){return e!=null}function sf(){}var xM=["type","size","sizeType"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qy.apply(null,arguments)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(a){gM(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gM(e,t,r){return(t=vM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=yM(e,"string");return typeof t=="symbol"?t:t+""}function yM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bM(e,t){if(e==null)return{};var r,a,s=jM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jM(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var xP={symbolCircle:bb,symbolCross:FR,symbolDiamond:RR,symbolSquare:MR,symbolStar:UR,symbolTriangle:WR,symbolWye:VR},wM=Math.PI/180,_M=e=>{var t="symbol".concat(af(e));return xP[t]||bb},NM=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*wM;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SM=(e,t)=>{xP["symbol".concat(af(e))]=t},Nb=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=bM(e,xM),i=BN(BN({},s),{},{type:t,size:r,sizeType:a}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var g=_M(o),p=qR().type(g).size(NM(r,a,o)),b=p();if(b!==null)return b},{className:u,cx:m,cy:f}=i,h=Gn(i);return Qe(m)&&Qe(f)&&Qe(r)?v.createElement("path",Qy({},h,{className:Ot("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:c()})):null};Nb.registerSymbol=SM;var gP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Sb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{xb(s)&&(a[s]=(i=>r[s](r,i)))}),a},kM=(e,t,r)=>a=>(e(t,r,a),null),of=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var i=e[s];xb(s)&&typeof i=="function"&&(a||(a={}),a[s]=kM(i,t,r))}),a};function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(a){AM(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AM(e,t,r){return(t=CM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=PM(e,"string");return typeof t=="symbol"?t:t+""}function PM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t){var r=EM({},e),a=t,s=Object.keys(t),i=s.reduce((o,c)=>(o[c]===void 0&&a[c]!==void 0&&(o[c]=a[c]),o),r);return i}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rh.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function TM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(a){OM(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OM(e,t,r){return(t=IM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e){var t=DM(e,"string");return typeof t=="symbol"?t:t+""}function DM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ns=32,FM={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function LM(e){var{data:t,iconType:r,inactiveColor:a}=e,s=ns/2,i=ns/6,o=ns/3,c=t.inactive?a:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var m;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:ns,y2:s,className:"recharts-legend-icon"})}if(u==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ns,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(u==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ns/8,"h").concat(ns,"v").concat(ns*3/4,"h").concat(-ns,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var f=TM({},t);return delete f.legendIcon,v.cloneElement(t.legendIcon,f)}return v.createElement(Nb,{fill:c,cx:s,cy:s,size:ns,sizeType:"diameter",type:u})}function RM(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:i,iconType:o}=e,c={x:0,y:0,width:ns,height:ns},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var g=f.formatter||s,p=Ot({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var b=f.inactive?i:f.color,y=g?g(f.value,f,h):f.value;return v.createElement("li",Rh({className:p,style:u,key:"legend-item-".concat(h)},of(e,f,h)),v.createElement(gb,{width:r,height:r,viewBox:c,style:m,"aria-label":"".concat(y," legend icon")},v.createElement(LM,{data:f,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y))})}var MM=e=>{var t=Or(e,FM),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(RM,Rh({},t,{payload:r})))},ev={},tv={},HN;function zM(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=a(o);s.has(c)||s.set(c,o)}return Array.from(s.values())}e.uniqBy=t})(tv)),tv}var rv={},VN;function vP(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rv)),rv}var nv={},av={},sv={},qN;function $M(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sv)),sv}var KN;function kb(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$M();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(av)),av}var iv={},GN;function BM(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(iv)),iv}var XN;function UM(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kb(),r=BM();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(nv)),nv}var ov={},lv={},YN;function WM(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b();function r(a){return function(s){return t.get(s,a)}}e.property=r})(lv)),lv}var cv={},dv={},uv={},fv={},JN;function yP(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(fv)),fv}var mv={},ZN;function bP(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(mv)),mv}var hv={},QN;function jP(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(hv)),hv}var eS;function HM(){return eS||(eS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP(),r=bP(),a=jP();function s(f,h,g){return typeof g!="function"?s(f,h,()=>{}):i(f,h,function p(b,y,j,N,_,k){const E=g(b,y,j,N,_,k);return E!==void 0?!!E:i(b,y,p,k)},new Map)}function i(f,h,g,p){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,g,p);case"function":return Object.keys(h).length>0?i(f,{...h},g,p):a.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,g,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,g,p);if(h instanceof Map)return c(f,h,g,p);if(h instanceof Set)return m(f,h,g,p);const b=Object.keys(h);if(f==null||r.isPrimitive(f))return b.length===0;if(b.length===0)return!0;if(p?.has(h))return p.get(h)===f;p?.set(h,f);try{for(let y=0;y<b.length;y++){const j=b[y];if(!r.isPrimitive(f)&&!(j in f)||h[j]===void 0&&f[j]!==void 0||h[j]===null&&f[j]!==null||!g(f[j],h[j],j,f,h,p))return!1}return!0}finally{p?.delete(h)}}function c(f,h,g,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,y]of h.entries()){const j=f.get(b);if(g(j,y,b,f,h,p)===!1)return!1}return!0}function u(f,h,g,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let y=0;y<h.length;y++){const j=h[y];let N=!1;for(let _=0;_<f.length;_++){if(b.has(_))continue;const k=f[_];let E=!1;if(g(k,j,y,f,h,p)&&(E=!0),E){b.add(_),N=!0;break}}if(!N)return!1}return!0}function m(f,h,g,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],g,p):!1}e.isMatchWith=s,e.isSetMatch=m})(uv)),uv}var tS;function wP(){return tS||(tS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(dv)),dv}var pv={},xv={},gv={},rS;function VM(){return rS||(rS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(gv)),gv}var vv={},nS;function _P(){return nS||(nS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(vv)),vv}var yv={},aS;function NP(){return aS||(aS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",m="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",p="[object Object]",b="[object Error]",y="[object DataView]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]",E="[object BigUint64Array]",C="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",I="[object BigInt64Array]",T="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=f,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=E,e.booleanTag=s,e.dataViewTag=y,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=T,e.float64ArrayTag=F,e.functionTag=h,e.int16ArrayTag=D,e.int32ArrayTag=O,e.int8ArrayTag=C,e.mapTag=u,e.numberTag=a,e.objectTag=p,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=_,e.uint32ArrayTag=k,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=N})(yv)),yv}var bv={},sS;function qM(){return sS||(sS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(bv)),bv}var iS;function SP(){return iS||(iS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VM(),r=_P(),a=NP(),s=bP(),i=qM();function o(f,h){return c(f,void 0,f,new Map,h)}function c(f,h,g,p=new Map,b=void 0){const y=b?.(f,h,g,p);if(y!==void 0)return y;if(s.isPrimitive(f))return f;if(p.has(f))return p.get(f);if(Array.isArray(f)){const j=new Array(f.length);p.set(f,j);for(let N=0;N<f.length;N++)j[N]=c(f[N],N,g,p,b);return Object.hasOwn(f,"index")&&(j.index=f.index),Object.hasOwn(f,"input")&&(j.input=f.input),j}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const j=new RegExp(f.source,f.flags);return j.lastIndex=f.lastIndex,j}if(f instanceof Map){const j=new Map;p.set(f,j);for(const[N,_]of f)j.set(N,c(_,N,g,p,b));return j}if(f instanceof Set){const j=new Set;p.set(f,j);for(const N of f)j.add(c(N,void 0,g,p,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const j=new(Object.getPrototypeOf(f)).constructor(f.length);p.set(f,j);for(let N=0;N<f.length;N++)j[N]=c(f[N],N,g,p,b);return j}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const j=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return p.set(f,j),u(j,f,g,p,b),j}if(typeof File<"u"&&f instanceof File){const j=new File([f],f.name,{type:f.type});return p.set(f,j),u(j,f,g,p,b),j}if(typeof Blob<"u"&&f instanceof Blob){const j=new Blob([f],{type:f.type});return p.set(f,j),u(j,f,g,p,b),j}if(f instanceof Error){const j=new f.constructor;return p.set(f,j),j.message=f.message,j.name=f.name,j.stack=f.stack,j.cause=f.cause,u(j,f,g,p,b),j}if(f instanceof Boolean){const j=new Boolean(f.valueOf());return p.set(f,j),u(j,f,g,p,b),j}if(f instanceof Number){const j=new Number(f.valueOf());return p.set(f,j),u(j,f,g,p,b),j}if(f instanceof String){const j=new String(f.valueOf());return p.set(f,j),u(j,f,g,p,b),j}if(typeof f=="object"&&m(f)){const j=Object.create(Object.getPrototypeOf(f));return p.set(f,j),u(j,f,g,p,b),j}return f}function u(f,h,g=f,p,b){const y=[...Object.keys(h),...t.getSymbols(h)];for(let j=0;j<y.length;j++){const N=y[j],_=Object.getOwnPropertyDescriptor(f,N);(_==null||_.writable)&&(f[N]=c(h[N],N,g,p,b))}}function m(f){switch(r.getTag(f)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(xv)),xv}var oS;function KM(){return oS||(oS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(pv)),pv}var lS;function GM(){return lS||(lS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP(),r=KM();function a(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=a})(cv)),cv}var jv={},wv={},_v={},cS;function XM(){return cS||(cS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP(),r=NP();function a(s,i){return t.cloneDeepWith(s,(o,c,u,m)=>{const f=i?.(o,c,u,m);if(f!==void 0)return f;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case r.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=a})(_v)),_v}var dS;function YM(){return dS||(dS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XM();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(wv)),wv}var Nv={},Sv={},uS;function kP(){return uS||(uS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(Sv)),Sv}var kv={},fS;function JM(){return fS||(fS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(kv)),kv}var mS;function ZM(){return mS||(mS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP(),r=kP(),a=JM(),s=wb();function i(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=s.toPath(c):u=[c],u.length===0)return!1;let m=o;for(let f=0;f<u.length;f++){const h=u[f];if((m==null||!Object.hasOwn(m,h))&&!((Array.isArray(m)||a.isArguments(m))&&r.isIndex(h)&&h<m.length))return!1;m=m[h]}return!0}e.has=i})(Nv)),Nv}var hS;function QM(){return hS||(hS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP(),r=jb(),a=YM(),s=_b(),i=ZM();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=a.cloneDeep(u),function(m){const f=s.get(m,c);return f===void 0?i.has(m,c):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(jv)),jv}var pS;function e7(){return pS||(pS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),r=WM(),a=GM(),s=QM();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(ov)),ov}var xS;function t7(){return xS||(xS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM(),r=vP(),a=UM(),s=e7();function i(o,c=r.identity){return a.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(c)):[]}e.uniqBy=i})(ev)),ev}var Ev,gS;function r7(){return gS||(gS=1,Ev=t7().uniqBy),Ev}var n7=r7();const vS=$i(n7);function EP(e,t,r){return t===!0?vS(e,r):typeof t=="function"?vS(e,t):e}var Av={exports:{}},Cv={},Pv={exports:{}},Tv={};var yS;function a7(){if(yS)return Tv;yS=1;var e=Jc();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(h,g){var p=g(),b=a({inst:{value:p,getSnapshot:g}}),y=b[0].inst,j=b[1];return i(function(){y.value=p,y.getSnapshot=g,u(y)&&j({inst:y})},[h,p,g]),s(function(){return u(y)&&j({inst:y}),h(function(){u(y)&&j({inst:y})})},[h]),o(p),p}function u(h){var g=h.getSnapshot;h=h.value;try{var p=g();return!r(h,p)}catch{return!0}}function m(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return Tv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Tv}var bS;function s7(){return bS||(bS=1,Pv.exports=a7()),Pv.exports}var jS;function i7(){if(jS)return Cv;jS=1;var e=Jc(),t=s7();function r(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Cv.useSyncExternalStoreWithSelector=function(m,f,h,g,p){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=c(function(){function N(D){if(!_){if(_=!0,k=D,D=g(D),p!==void 0&&y.hasValue){var O=y.value;if(p(O,D))return E=O}return E=D}if(O=E,a(k,D))return O;var I=g(D);return p!==void 0&&p(O,I)?(k=D,O):(k=D,E=I)}var _=!1,k,E,C=h===void 0?null:h;return[function(){return N(f())},C===null?void 0:function(){return N(C())}]},[f,h,g,p]);var j=s(m,b[0],b[1]);return o(function(){y.hasValue=!0,y.value=j},[j]),u(j),j},Cv}var wS;function o7(){return wS||(wS=1,Av.exports=i7()),Av.exports}var l7=o7(),Eb=v.createContext(null),c7=e=>e,sr=()=>{var e=v.useContext(Eb);return e?e.store.dispatch:c7},_h=()=>{},d7=()=>_h,u7=(e,t)=>e===t;function st(e){var t=v.useContext(Eb);return l7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:d7,t?t.store.getState:_h,t?t.store.getState:_h,t?e:_h,u7)}function f7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function m7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function h7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var _S=e=>Array.isArray(e)?e:[e];function p7(e){const t=Array.isArray(e[0])?e[0]:e;return h7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function x7(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var g7=class{constructor(e){this.value=e}deref(){return this.value}},v7=typeof WeakRef<"u"?WeakRef:g7,y7=0,NS=1;function Um(){return{s:y7,v:void 0,o:null,p:null}}function AP(e,t={}){let r=Um();const{resultEqualityCheck:a}=t;let s,i=0;function o(){let c=r;const{length:u}=arguments;for(let h=0,g=u;h<g;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const y=b.get(p);y===void 0?(c=Um(),b.set(p,c)):c=y}else{let b=c.p;b===null&&(c.p=b=new Map);const y=b.get(p);y===void 0?(c=Um(),b.set(p,c)):c=y}}const m=c;let f;if(c.s===NS)f=c.v;else if(f=e.apply(null,arguments),i++,a){const h=s?.deref?.()??s;h!=null&&a(h,f)&&(f=h,i!==0&&i--),s=typeof f=="object"&&f!==null||typeof f=="function"?new v7(f):f}return m.s=NS,m.v=f,f}return o.clearCache=()=>{r=Um(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function b7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let i=0,o=0,c,u={},m=s.pop();typeof m=="object"&&(u=m,m=s.pop()),f7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const f={...r,...u},{memoize:h,memoizeOptions:g=[],argsMemoize:p=AP,argsMemoizeOptions:b=[]}=f,y=_S(g),j=_S(b),N=p7(s),_=h(function(){return i++,m.apply(null,arguments)},...y),k=p(function(){o++;const C=x7(N,arguments);return c=_.apply(null,C),c},...j);return Object.assign(k,{resultFunc:m,memoizedResultFunc:_,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:p})};return Object.assign(a,{withTypes:()=>a}),a}var Ne=b7(AP),j7=Object.assign((e,t=Ne)=>{m7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((o,c,u)=>(o[r[u]]=c,o),{}))},{withTypes:()=>j7}),Ov={},Iv={},Dv={},SS;function w7(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,i)=>{if(a!==s){const o=t(a),c=t(s);if(o===c&&o===0){if(a<s)return i==="desc"?1:-1;if(a>s)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r})(Dv)),Dv}var Fv={},Lv={},kS;function CP(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Lv)),Lv}var ES;function _7(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(Fv)),Fv}var AS;function N7(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),r=_7(),a=wb();function s(i,o,c,u){if(i==null)return[];c=u?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const m=(p,b)=>{let y=p;for(let j=0;j<b.length&&y!=null;++j)y=y[b[j]];return y},f=(p,b)=>b==null||p==null?b:typeof p=="object"&&"key"in p?Object.hasOwn(b,p.key)?b[p.key]:m(b,p.path):typeof p=="function"?p(b):Array.isArray(p)?m(b,p):typeof b=="object"?b[p]:b,h=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:a.toPath(p)}));return i.map(p=>({original:p,criteria:h.map(b=>f(b,p))})).slice().sort((p,b)=>{for(let y=0;y<h.length;y++){const j=t.compareValues(p.criteria[y],b.criteria[y],c[y]);if(j!==0)return j}return 0}).map(p=>p.original)}e.orderBy=s})(Iv)),Iv}var Rv={},CS;function S7(){return CS||(CS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],i=Math.floor(a),o=(c,u)=>{for(let m=0;m<c.length;m++){const f=c[m];Array.isArray(f)&&u<i?o(f,u+1):s.push(f)}};return o(r,0),s}e.flatten=t})(Rv)),Rv}var Mv={},PS;function PP(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP(),r=kb(),a=yP(),s=jP();function i(o,c,u){return a.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?s.eq(u[c],o):!1}e.isIterateeCall=i})(Mv)),Mv}var TS;function k7(){return TS||(TS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7(),r=S7(),a=PP();function s(i,...o){const c=o.length;return c>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(Ov)),Ov}var zv,OS;function E7(){return OS||(OS=1,zv=k7().sortBy),zv}var A7=E7();const Z0=$i(A7);var TP=e=>e.legend.settings,C7=e=>e.legend.size,P7=e=>e.legend.payload,T7=Ne([P7,TP],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?Z0(a,r):a});function O7(){return st(T7)}var Wm=1;function OP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),a=v.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Wm||Math.abs(o.left-t.left)>Wm||Math.abs(o.top-t.top)>Wm||Math.abs(o.width-t.width)>Wm)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Sn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I7=typeof Symbol=="function"&&Symbol.observable||"@@observable",IS=I7,$v=()=>Math.random().toString(36).substring(7).split("").join("."),D7={INIT:`@@redux/INIT${$v()}`,REPLACE:`@@redux/REPLACE${$v()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$v()}`},Mh=D7;function Ab(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function IP(e,t,r){if(typeof e!="function")throw new Error(Sn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Sn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Sn(1));return r(IP)(e,t)}let a=e,s=t,i=new Map,o=i,c=0,u=!1;function m(){o===i&&(o=new Map,i.forEach((j,N)=>{o.set(N,j)}))}function f(){if(u)throw new Error(Sn(3));return s}function h(j){if(typeof j!="function")throw new Error(Sn(4));if(u)throw new Error(Sn(5));let N=!0;m();const _=c++;return o.set(_,j),function(){if(N){if(u)throw new Error(Sn(6));N=!1,m(),o.delete(_),i=null}}}function g(j){if(!Ab(j))throw new Error(Sn(7));if(typeof j.type>"u")throw new Error(Sn(8));if(typeof j.type!="string")throw new Error(Sn(17));if(u)throw new Error(Sn(9));try{u=!0,s=a(s,j)}finally{u=!1}return(i=o).forEach(_=>{_()}),j}function p(j){if(typeof j!="function")throw new Error(Sn(10));a=j,g({type:Mh.REPLACE})}function b(){const j=h;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Sn(11));function _(){const E=N;E.next&&E.next(f())}return _(),{unsubscribe:j(_)}},[IS](){return this}}}return g({type:Mh.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:p,[IS]:b}}function F7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Mh.INIT})>"u")throw new Error(Sn(12));if(typeof r(void 0,{type:Mh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sn(13))})}function DP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const a=Object.keys(r);let s;try{F7(r)}catch(i){s=i}return function(o={},c){if(s)throw s;let u=!1;const m={};for(let f=0;f<a.length;f++){const h=a[f],g=r[h],p=o[h],b=g(p,c);if(typeof b>"u")throw c&&c.type,new Error(Sn(14));m[h]=b,u=u||b!==p}return u=u||a.length!==Object.keys(o).length,u?m:o}}function zh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function L7(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(Sn(15))};const o={getState:s.getState,dispatch:(u,...m)=>i(u,...m)},c=e.map(u=>u(o));return i=zh(...c)(s.dispatch),{...s,dispatch:i}}}function FP(e){return Ab(e)&&"type"in e&&typeof e.type=="string"}var LP=Symbol.for("immer-nothing"),DS=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function js(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $a=Object,Bc=$a.getPrototypeOf,$h="constructor",Q0="prototype",e1="configurable",Bh="enumerable",Nh="writable",Ou="value",Oi=e=>!!e&&!!e[la];function Cs(e){return e?RP(e)||tp(e)||!!e[DS]||!!e[$h]?.[DS]||rp(e)||np(e):!1}var R7=$a[Q0][$h].toString(),FS=new WeakMap;function RP(e){if(!e||!Cb(e))return!1;const t=Bc(e);if(t===null||t===$a[Q0])return!0;const r=$a.hasOwnProperty.call(t,$h)&&t[$h];if(r===Object)return!0;if(!wc(r))return!1;let a=FS.get(r);return a===void 0&&(a=Function.toString.call(r),FS.set(r,a)),a===R7}function ep(e,t,r=!0){lf(e)===0?(r?Reflect.ownKeys(e):$a.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function lf(e){const t=e[la];return t?t.type_:tp(e)?1:rp(e)?2:np(e)?3:0}var LS=(e,t,r=lf(e))=>r===2?e.has(t):$a[Q0].hasOwnProperty.call(e,t),t1=(e,t,r=lf(e))=>r===2?e.get(t):e[t],Uh=(e,t,r,a=lf(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function M7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var tp=Array.isArray,rp=e=>e instanceof Map,np=e=>e instanceof Set,Cb=e=>typeof e=="object",wc=e=>typeof e=="function",Bv=e=>typeof e=="boolean";function z7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ui=e=>e.copy_||e.base_,Pb=e=>e.modified_?e.copy_:e.base_;function r1(e,t){if(rp(e))return new Map(e);if(np(e))return new Set(e);if(tp(e))return Array[Q0].slice.call(e);const r=RP(e);if(t===!0||t==="class_only"&&!r){const a=$a.getOwnPropertyDescriptors(e);delete a[la];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],c=a[o];c[Nh]===!1&&(c[Nh]=!0,c[e1]=!0),(c.get||c.set)&&(a[o]={[e1]:!0,[Nh]:!0,[Bh]:c[Bh],[Ou]:e[o]})}return $a.create(Bc(e),a)}else{const a=Bc(e);if(a!==null&&r)return{...e};const s=$a.create(a);return $a.assign(s,e)}}function Tb(e,t=!1){return ap(e)||Oi(e)||!Cs(e)||(lf(e)>1&&$a.defineProperties(e,{set:Hm,add:Hm,clear:Hm,delete:Hm}),$a.freeze(e),t&&ep(e,(r,a)=>{Tb(a,!0)},!1)),e}function $7(){js(2)}var Hm={[Ou]:$7};function ap(e){return e===null||!Cb(e)?!0:$a.isFrozen(e)}var Wh="MapSet",n1="Patches",RS="ArrayMethods",MP={};function El(e){const t=MP[e];return t||js(0,e),t}var MS=e=>!!MP[e],Iu,zP=()=>Iu,B7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MS(Wh)?El(Wh):void 0,arrayMethodsPlugin_:MS(RS)?El(RS):void 0});function zS(e,t){t&&(e.patchPlugin_=El(n1),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function a1(e){s1(e),e.drafts_.forEach(U7),e.drafts_=null}function s1(e){e===Iu&&(Iu=e.parent_)}var $S=e=>Iu=B7(Iu,e);function U7(e){const t=e[la];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[la].modified_&&(a1(t),js(4)),Cs(e)&&(e=US(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[la].base_,e,t)}else e=US(t,r);return W7(t,e,!0),a1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LP?e:void 0}function US(e,t){if(ap(t))return t;const r=t[la];if(!r)return Hh(t,e.handledSet_,e);if(!sp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);UP(r,e)}return r.copy_}function W7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tb(t,r)}function $P(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var sp=(e,t)=>e.scope_===t,H7=[];function BP(e,t,r,a){const s=ui(e),i=e.type_;if(a!==void 0&&t1(s,a,i)===t){Uh(s,a,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;ep(s,(u,m)=>{if(Oi(m)){const f=c.get(m)||[];f.push(u),c.set(m,f)}})}const o=e.draftLocations_.get(t)??H7;for(const c of o)Uh(s,c,r,i)}function V7(e,t,r){e.callbacks_.push(function(s){const i=t;if(!i||!sp(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const o=Pb(i);BP(e,i.draft_??i,o,r),UP(i,s)})}function UP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}$P(e)}}function q7(e,t,r){const{scope_:a}=e;if(Oi(r)){const s=r[la];sp(s,a)&&s.callbacks_.push(function(){Sh(e);const o=Pb(s);BP(e,r,o,t)})}else Cs(r)&&e.callbacks_.push(function(){const i=ui(e);e.type_===3?i.has(r)&&Hh(r,a.handledSet_,a):t1(i,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Hh(t1(e.copy_,t,e.type_),a.handledSet_,a)})}function Hh(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Oi(e)||t.has(e)||!Cs(e)||ap(e)||(t.add(e),ep(e,(a,s)=>{if(Oi(s)){const i=s[la];if(sp(i,r)){const o=Pb(i);Uh(e,a,o,e.type_),$P(i)}}else Cs(s)&&Hh(s,t,r)})),e}function K7(e,t){const r=tp(e),a={type_:r?1:0,scope_:t?t.scope_:zP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,i=Vh;r&&(s=[a],i=Du);const{revoke:o,proxy:c}=Proxy.revocable(s,i);return a.draft_=c,a.revoke_=o,[c,a]}var Vh={get(e,t){if(t===la)return e;let r=e.scope_.arrayMethodsPlugin_;const a=e.type_===1&&typeof t=="string";if(a&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=ui(e);if(!LS(s,t,e.type_))return G7(e,s,t);const i=s[t];if(e.finalized_||!Cs(i)||a&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&z7(t))return i;if(i===Uv(e.base_,t)){Sh(e);const o=e.type_===1?+t:t,c=o1(e.scope_,i,e,o);return e.copy_[o]=c}return i},has(e,t){return t in ui(e)},ownKeys(e){return Reflect.ownKeys(ui(e))},set(e,t,r){const a=WP(ui(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=Uv(ui(e),t),i=s?.[la];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(M7(r,s)&&(r!==void 0||LS(e.base_,t,e.type_)))return!0;Sh(e),i1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),q7(e,t,r)),!0},deleteProperty(e,t){return Sh(e),Uv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),i1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ui(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[Nh]:!0,[e1]:e.type_!==1||t!=="length",[Bh]:a[Bh],[Ou]:r[t]}},defineProperty(){js(11)},getPrototypeOf(e){return Bc(e.base_)},setPrototypeOf(){js(12)}},Du={};for(let e in Vh){let t=Vh[e];Du[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Du.deleteProperty=function(e,t){return Du.set.call(this,e,t,void 0)};Du.set=function(e,t,r){return Vh.set.call(this,e[0],t,r,e[0])};function Uv(e,t){const r=e[la];return(r?ui(r):e)[t]}function G7(e,t,r){const a=WP(t,r);return a?Ou in a?a[Ou]:a.get?.call(e.draft_):void 0}function WP(e,t){if(!(t in e))return;let r=Bc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Bc(r)}}function i1(e){e.modified_||(e.modified_=!0,e.parent_&&i1(e.parent_))}function Sh(e){e.copy_||(e.assigned_=new Map,e.copy_=r1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var X7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(wc(r)&&!wc(a)){const o=a;a=r;const c=this;return function(m=o,...f){return c.produce(m,h=>a.call(this,h,...f))}}wc(a)||js(6),s!==void 0&&!wc(s)&&js(7);let i;if(Cs(r)){const o=$S(this),c=o1(o,r,void 0);let u=!0;try{i=a(c),u=!1}finally{u?a1(o):s1(o)}return zS(o,s),BS(i,o)}else if(!r||!Cb(r)){if(i=a(r),i===void 0&&(i=r),i===LP&&(i=void 0),this.autoFreeze_&&Tb(i,!0),s){const o=[],c=[];El(n1).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:c}),s(o,c)}return i}else js(1,r)},this.produceWithPatches=(r,a)=>{if(wc(r))return(c,...u)=>this.produceWithPatches(c,m=>r(m,...u));let s,i;return[this.produce(r,a,(c,u)=>{s=c,i=u}),s,i]},Bv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Bv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Bv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Cs(t)||js(8),Oi(t)&&(t=ks(t));const r=$S(this),a=o1(r,t,void 0);return a[la].isManual_=!0,s1(r),a}finishDraft(t,r){const a=t&&t[la];(!a||!a.isManual_)&&js(9);const{scope_:s}=a;return zS(s,r),BS(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const i=r[a];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}a>-1&&(r=r.slice(a+1));const s=El(n1).applyPatches_;return Oi(t)?s(t,r):this.produce(t,i=>s(i,r))}};function o1(e,t,r,a){const[s,i]=rp(t)?El(Wh).proxyMap_(t,r):np(t)?El(Wh).proxySet_(t,r):K7(t,r);return(r?.scope_??zP()).drafts_.push(s),i.callbacks_=r?.callbacks_??[],i.key_=a,r&&a!==void 0?V7(r,i,a):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:m}=u;i.modified_&&m&&m.generatePatches_(i,[],u)}),s}function ks(e){return Oi(e)||js(10,e),HP(e)}function HP(e){if(!Cs(e)||ap(e))return e;const t=e[la];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=r1(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=r1(e,!0);return ep(r,(s,i)=>{Uh(r,s,HP(i))},a),t&&(t.finalized_=!1),r}var Y7=new X7,VP=Y7.produce;function qP(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var J7=qP(),Z7=qP,Q7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zh:zh.apply(null,arguments)};function ls(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(Ba(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>FP(a)&&a.type===e,r}var KP=class pu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pu.prototype)}static get[Symbol.species](){return pu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pu(...t[0].concat(this)):new pu(...t.concat(this))}};function WS(e){return Cs(e)?VP(e,()=>{}):e}function Vm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function e9(e){return typeof e=="boolean"}var t9=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new KP;return r&&(e9(r)?o.push(J7):o.push(Z7(r.extraArgument))),o},GP="RTK_autoBatch",mr=()=>e=>({payload:e,meta:{[GP]:!0}}),HS=e=>t=>{setTimeout(t,e)},XP=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HS(10):e.type==="callback"?e.queueNotification:HS(e.timeout),m=()=>{o=!1,i&&(i=!1,c.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const h=()=>s&&f(),g=a.subscribe(h);return c.add(f),()=>{g(),c.delete(f)}},dispatch(f){try{return s=!f?.meta?.[GP],i=!s,i&&(o||(o=!0,u(m))),a.dispatch(f)}finally{s=!0}}})},r9=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new KP(e);return a&&s.push(XP(typeof a=="object"?a:void 0)),s};function n9(e){const t=t9(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Ab(r))c=DP(r);else throw new Error(Ba(1));let u;typeof a=="function"?u=a(t):u=t();let m=zh;s&&(m=Q7({trace:!1,...typeof s=="object"&&s}));const f=L7(...u),h=r9(f);let g=typeof o=="function"?o(h):h();const p=m(...g);return IP(c,i,p)}function YP(e){const t={},r=[];let a;const s={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Ba(28));if(c in t)throw new Error(Ba(29));return t[c]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function a9(e){return typeof e=="function"}function s9(e,t){let[r,a,s]=YP(t),i;if(a9(e))i=()=>WS(e());else{const c=WS(e);i=()=>c}function o(c=i(),u){let m=[r[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return m.filter(f=>!!f).length===0&&(m=[s]),m.reduce((f,h)=>{if(h)if(Oi(f)){const p=h(f,u);return p===void 0?f:p}else{if(Cs(f))return VP(f,g=>h(g,u));{const g=h(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},c)}return o.getInitialState=i,o}var i9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",o9=(e=21)=>{let t="",r=e;for(;r--;)t+=i9[Math.random()*64|0];return t},l9=Symbol.for("rtk-slice-createasyncthunk");function c9(e,t){return`${e}/${t}`}function d9({creators:e}={}){const t=e?.asyncThunk?.[l9];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Ba(11));const o=(typeof a.reducers=="function"?a.reducers(f9()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,E){const C=typeof k=="string"?k:k.type;if(!C)throw new Error(Ba(12));if(C in u.sliceCaseReducersByType)throw new Error(Ba(13));return u.sliceCaseReducersByType[C]=E,m},addMatcher(k,E){return u.sliceMatchers.push({matcher:k,reducer:E}),m},exposeAction(k,E){return u.actionCreators[k]=E,m},exposeCaseReducer(k,E){return u.sliceCaseReducersByName[k]=E,m}};c.forEach(k=>{const E=o[k],C={reducerName:k,type:c9(s,k),createNotation:typeof a.reducers=="function"};h9(E)?x9(C,E,m,t):m9(C,E,m)});function f(){const[k={},E=[],C=void 0]=typeof a.extraReducers=="function"?YP(a.extraReducers):[a.extraReducers],D={...k,...u.sliceCaseReducersByType};return s9(a.initialState,O=>{for(let I in D)O.addCase(I,D[I]);for(let I of u.sliceMatchers)O.addMatcher(I.matcher,I.reducer);for(let I of E)O.addMatcher(I.matcher,I.reducer);C&&O.addDefaultCase(C)})}const h=k=>k,g=new Map,p=new WeakMap;let b;function y(k,E){return b||(b=f()),b(k,E)}function j(){return b||(b=f()),b.getInitialState()}function N(k,E=!1){function C(O){let I=O[k];return typeof I>"u"&&E&&(I=Vm(p,C,j)),I}function D(O=h){const I=Vm(g,E,()=>new WeakMap);return Vm(I,O,()=>{const T={};for(const[F,q]of Object.entries(a.selectors??{}))T[F]=u9(q,O,()=>Vm(p,O,j),E);return T})}return{reducerPath:k,getSelectors:D,get selectors(){return D(C)},selectSlice:C}}const _={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...N(i),injectInto(k,{reducerPath:E,...C}={}){const D=E??i;return k.inject({reducerPath:D,reducer:y},C),{..._,...N(D,!0)}}};return _}}function u9(e,t,r,a){function s(i,...o){let c=t(i);return typeof c>"u"&&a&&(c=r()),e(c,...o)}return s.unwrapped=e,s}var ka=d9();function f9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function m9({type:e,reducerName:t,createNotation:r},a,s){let i,o;if("reducer"in a){if(r&&!p9(a))throw new Error(Ba(17));i=a.reducer,o=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ls(e,o):ls(e))}function h9(e){return e._reducerDefinitionType==="asyncThunk"}function p9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function x9({type:e,reducerName:t},r,a,s){if(!s)throw new Error(Ba(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:u,settled:m,options:f}=r,h=s(e,i,f);a.exposeAction(t,h),o&&a.addCase(h.fulfilled,o),c&&a.addCase(h.pending,c),u&&a.addCase(h.rejected,u),m&&a.addMatcher(h.settled,m),a.exposeCaseReducer(t,{fulfilled:o||qm,pending:c||qm,rejected:u||qm,settled:m||qm})}function qm(){}var g9="task",JP="listener",ZP="completed",Ob="cancelled",v9=`task-${Ob}`,y9=`task-${ZP}`,l1=`${JP}-${Ob}`,b9=`${JP}-${ZP}`,ip=class{constructor(e){this.code=e,this.message=`${g9} ${Ob} (reason: ${e})`}name="TaskAbortError";message},Ib=(e,t)=>{if(typeof e!="function")throw new TypeError(Ba(32))},qh=()=>{},QP=(e,t=qh)=>(e.catch(t),e),eT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),yl=e=>{if(e.aborted)throw new ip(e.reason)};function tT(e,t){let r=qh;return new Promise((a,s)=>{const i=()=>s(new ip(e.reason));if(e.aborted){i();return}r=eT(e,i),t.finally(()=>r()).then(a,s)}).finally(()=>{r=qh})}var j9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ip?"cancelled":"rejected",error:r}}finally{t?.()}},Kh=e=>t=>QP(tT(e,t).then(r=>(yl(e),r))),rT=e=>{const t=Kh(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Tc}=Object,VS={},op="listenerMiddleware",w9=(e,t)=>{const r=a=>eT(e,()=>a.abort(e.reason));return(a,s)=>{Ib(a);const i=new AbortController;r(i);const o=j9(async()=>{yl(e),yl(i.signal);const c=await a({pause:Kh(i.signal),delay:rT(i.signal),signal:i.signal});return yl(i.signal),c},()=>i.abort(y9));return s?.autoJoin&&t.push(o.catch(qh)),{result:Kh(e)(o),cancel(){i.abort(v9)}}}},_9=(e,t)=>{const r=async(a,s)=>{yl(t);let i=()=>{};const c=[new Promise((u,m)=>{let f=e({predicate:a,effect:(h,g)=>{g.unsubscribe(),u([h,g.getState(),g.getOriginalState()])}});i=()=>{f(),m()}})];s!=null&&c.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await tT(t,Promise.race(c));return yl(t),u}finally{i()}};return(a,s)=>QP(r(a,s))},nT=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:i}=e;if(t)s=ls(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(Ba(21));return Ib(i),{predicate:s,type:t,effect:i}},aT=Tc(e=>{const{type:t,predicate:r,effect:a}=nT(e);return{id:o9(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ba(22))}}},{withTypes:()=>aT}),qS=(e,t)=>{const{type:r,effect:a,predicate:s}=nT(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===a)},c1=e=>{e.pending.forEach(t=>{t.abort(l1)})},N9=(e,t)=>()=>{for(const r of t.keys())c1(r);e.clear()},KS=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},sT=Tc(ls(`${op}/add`),{withTypes:()=>sT}),S9=ls(`${op}/removeAll`),iT=Tc(ls(`${op}/remove`),{withTypes:()=>iT}),k9=(...e)=>{console.error(`${op}/error`,...e)},cf=(e={})=>{const t=new Map,r=new Map,a=p=>{const b=r.get(p)??0;r.set(p,b+1)},s=p=>{const b=r.get(p)??1;b===1?r.delete(p):r.set(p,b-1)},{extra:i,onError:o=k9}=e;Ib(o);const c=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),b=>{p.unsubscribe(),b?.cancelActive&&c1(p)}),u=p=>{const b=qS(t,p)??aT(p);return c(b)};Tc(u,{withTypes:()=>u});const m=p=>{const b=qS(t,p);return b&&(b.unsubscribe(),p.cancelActive&&c1(b)),!!b};Tc(m,{withTypes:()=>m});const f=async(p,b,y,j)=>{const N=new AbortController,_=_9(u,N.signal),k=[];try{p.pending.add(N),a(p),await Promise.resolve(p.effect(b,Tc({},y,{getOriginalState:j,condition:(E,C)=>_(E,C).then(Boolean),take:_,delay:rT(N.signal),pause:Kh(N.signal),extra:i,signal:N.signal,fork:w9(N.signal,k),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,C,D)=>{E!==N&&(E.abort(l1),D.delete(E))})},cancel:()=>{N.abort(l1),p.pending.delete(N)},throwIfCancelled:()=>{yl(N.signal)}})))}catch(E){E instanceof ip||KS(o,E,{raisedBy:"effect"})}finally{await Promise.all(k),N.abort(b9),s(p),p.pending.delete(N)}},h=N9(t,r);return{middleware:p=>b=>y=>{if(!FP(y))return b(y);if(sT.match(y))return u(y.payload);if(S9.match(y)){h();return}if(iT.match(y))return m(y.payload);let j=p.getState();const N=()=>{if(j===VS)throw new Error(Ba(23));return j};let _;try{if(_=b(y),t.size>0){const k=p.getState(),E=Array.from(t.values());for(const C of E){let D=!1;try{D=C.predicate(y,k,j)}catch(O){D=!1,KS(o,O,{raisedBy:"predicate"})}D&&f(C,y,p,N)}}}finally{j=VS}return _},startListening:u,stopListening:m,clearListeners:h}};function Ba(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var E9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},oT=ka({name:"chartLayout",initialState:E9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:A9,setLayout:C9,setChartSize:P9,setScale:T9}=oT.actions,O9=oT.reducer;function lT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function tr(e){return Number.isFinite(e)}function Ks(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(a){I9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function I9(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return cr(e)||cr(t)?r:qs(t)?kl(e,t,r):typeof t=="function"?t(e):r}var L9=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&Qe(e[i]))return kc(kc({},e),{},{[i]:e[i]+(a||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&Qe(e[o]))return kc(kc({},e),{},{[o]:e[o]+(s||0)})}return e},Qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cT=(e,t,r,a)=>{if(a)return e.map(c=>c.coordinate);var s,i,o=e.map(c=>(c.coordinate===t&&(s=!0),c.coordinate===r&&(i=!0),c.coordinate));return s||o.push(t),i||o.push(r),o},dT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:i,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:m,tickCount:f,ticks:h,niceTicks:g,axisType:p}=e;if(!o)return null;var b=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=s==="category"&&o.bandwidth?o.bandwidth()/b:0;if(y=p==="angleAxis"&&i&&i.length>=2?pn(i[0]-i[1])*2*y:y,h||g){var j=(h||g||[]).map((N,_)=>{var k=a?a.indexOf(N):N;return{coordinate:o(k)+y,value:N,offset:y,index:_}});return j.filter(N=>!os(N.coordinate))}return u&&m?m.map((N,_)=>({coordinate:o(N)+y,value:N,index:_,offset:y})):o.ticks&&f!=null?o.ticks(f).map((N,_)=>({coordinate:o(N)+y,value:N,offset:y,index:_})):o.domain().map((N,_)=>({coordinate:o(N)+y,value:a?a[N]:N,index:_,offset:y}))},XS=1e-4,R9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-XS,i=Math.max(a[0],a[1])+XS,o=e(t[0]),c=e(t[r-1]);(o<s||o>i||c<s||c>i)&&e.domain([t[0],t[r-1]])}},M9=(e,t)=>{if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Qe(e[0])||e[0]<r)&&(s[0]=r),(!Qe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},z9=e=>{var t,r=e.length;if(!(r<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var i=0,o=0,c=0;c<r;++c){var u=e[c],m=u?.[s];if(m!=null){var f=m[1],h=m[0],g=os(f)?h:f;g>=0?(m[0]=i,m[1]=i+g,i=f):(m[0]=o,m[1]=o+g,o=f)}}}},$9=e=>{var t,r=e.length;if(!(r<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var i=0,o=0;o<r;++o){var c=e[o],u=c?.[s];if(u!=null){var m=os(u[1])?u[0]:u[1];m>=0?(u[0]=i,u[1]=i+m,i=u[1]):(u[0]=0,u[1]=0)}}}},B9={sign:z9,expand:iM,none:Sl,silhouette:oM,wiggle:lM,positive:$9},U9=(e,t,r)=>{var a,s=(a=B9[r])!==null&&a!==void 0?a:Sl,i=sM().keys(t).value((c,u)=>Number(Ht(c,u,0))).order(Zy).offset(s),o=i(e);return o.forEach((c,u)=>{c.forEach((m,f)=>{var h=Ht(e[f],t[u],0);Array.isArray(h)&&h.length===2&&Qe(h[0])&&Qe(h[1])&&(m[0]=h[0],m[1]=h[1])})}),o};function uT(e){return e==null?void 0:String(e)}function Gh(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cr(s[t.dataKey])){var c=pP(r,"value",s[t.dataKey]);if(c)return c.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var u=Ht(s,cr(o)?t.dataKey:o);return cr(u)?null:t.scale(u)}var YS=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+a:null;var c=Ht(i,t.dataKey,t.scale.domain()[o]);return cr(c)?null:t.scale(c)-s/2+a},W9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},H9=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},V9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],q9=(e,t,r)=>{if(e!=null)return V9(Object.keys(e).reduce((a,s)=>{var i=e[s];if(!i)return a;var{stackedData:o}=i,c=o.reduce((u,m)=>{var f=lT(m,t,r),h=H9(f);return!tr(h[0])||!tr(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]))},JS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Io=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=Z0(t,f=>f.coordinate),i=1/0,o=1,c=s.length;o<c;o++){var u=s[o],m=s[o-1];i=Math.min((u?.coordinate||0)-(m?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function QS(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:i}=e;return kc(kc({},t),{},{dataKey:r,payload:a,value:s,name:i})}function Bo(e,t){if(e)return String(e);if(typeof t=="string")return t}var K9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},G9=(e,t)=>t==="centric"?e.angle:e.radius,Ui=e=>e.layout.width,Wi=e=>e.layout.height,X9=e=>e.layout.scale,fT=e=>e.layout.margin,lp=Ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cp=Ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mT="data-recharts-item-index",hT="data-recharts-item-id",df=60;function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(a){Y9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Y9(e,t,r){return(t=J9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e){var t=Z9(e,"string");return typeof t=="symbol"?t:t+""}function Z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q9=e=>e.brush.height;function ez(e){var t=cp(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:df;return r+s}return r},0)}function tz(e){var t=cp(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:df;return r+s}return r},0)}function rz(e){var t=lp(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function nz(e){var t=lp(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var tn=Ne([Ui,Wi,fT,Q9,ez,tz,rz,nz,TP,C7],(e,t,r,a,s,i,o,c,u,m)=>{var f={left:(r.left||0)+s,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+c},g=Km(Km({},h),f),p=g.bottom;g.bottom+=a,g=L9(g,u,m);var b=e-g.left-g.right,y=t-g.top-g.bottom;return Km(Km({brushBottom:p},g),{},{width:Math.max(b,0),height:Math.max(y,0)})}),az=Ne(tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Db=Ne(Ui,Wi,(e,t)=>({x:0,y:0,width:e,height:t})),sz=v.createContext(null),bn=()=>v.useContext(sz)!=null,dp=e=>e.brush,up=Ne([dp,tn,fT],(e,t,r)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qe(e.width)?e.width:t.width})),Wv={},Hv={},Vv={},tk;function iz(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:i}={}){let o,c=null;const u=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),f=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},h=()=>{m&&f(),y()};let g=null;const p=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},a)},b=()=>{g!==null&&(clearTimeout(g),g=null)},y=()=>{b(),o=void 0,c=null},j=()=>{f()},N=function(..._){if(s?.aborted)return;o=this,c=_;const k=g==null;p(),u&&k&&f()};return N.schedule=p,N.cancel=y,N.flush=j,s?.addEventListener("abort",y,{once:!0}),N}e.debounce=t})(Vv)),Vv}var rk;function oz(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iz();function r(a,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:u}=i,m=Array(2);o&&(m[0]="leading"),c&&(m[1]="trailing");let f,h=null;const g=t.debounce(function(...y){f=a.apply(this,y),h=null},s,{edges:m}),p=function(...y){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=a.apply(this,y),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,y),f)},b=()=>(g.flush(),f);return p.cancel=g.cancel,p.flush=b,p}e.debounce=r})(Hv)),Hv}var nk;function lz(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oz();function r(a,s=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(a,s,{leading:o,maxWait:s,trailing:c})}e.throttle=r})(Wv)),Wv}var qv,ak;function cz(){return ak||(ak=1,qv=lz().throttle),qv}var dz=cz();const uz=$i(dz);var Xh=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>s[o++]))}},pT=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:i,maxHeight:o}=r,c=Ti(a)?e:Number(a),u=Ti(s)?t:Number(s);return i&&i>0&&(c?u=c/i:u&&(c=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},fz={width:0,height:0,overflow:"visible"},mz={width:0,overflowX:"visible"},hz={height:0,overflowY:"visible"},pz={},xz=e=>{var{width:t,height:r}=e,a=Ti(t),s=Ti(r);return a&&s?fz:a?mz:s?hz:pz};function gz(e){var{width:t,height:r,aspect:a}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:s,height:i}}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d1.apply(null,arguments)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(a){vz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xT=v.createContext({width:-1,height:-1});function jz(e){return Ks(e.width)&&Ks(e.height)}function gT(e){var{children:t,width:r,height:a}=e,s=v.useMemo(()=>({width:r,height:a}),[r,a]);return jz(s)?v.createElement(xT.Provider,{value:s},t):null}var Fb=()=>v.useContext(xT),wz=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:c,maxHeight:u,children:m,debounce:f=0,id:h,className:g,onResize:p,style:b={}}=e,y=v.useRef(null),j=v.useRef();j.current=p,v.useImperativeHandle(t,()=>y.current);var[N,_]=v.useState({containerWidth:a.width,containerHeight:a.height}),k=v.useCallback((I,T)=>{_(F=>{var q=Math.round(I),U=Math.round(T);return F.containerWidth===q&&F.containerHeight===U?F:{containerWidth:q,containerHeight:U}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return sf;var I=U=>{var J,{width:W,height:he}=U[0].contentRect;k(W,he),(J=j.current)===null||J===void 0||J.call(j,W,he)};f>0&&(I=uz(I,f,{trailing:!0,leading:!1}));var T=new ResizeObserver(I),{width:F,height:q}=y.current.getBoundingClientRect();return k(F,q),T.observe(y.current),()=>{T.disconnect()}},[k,f]);var{containerWidth:E,containerHeight:C}=N;Xh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:O}=pT(E,C,{width:s,height:i,aspect:r,maxHeight:u});return Xh(D!=null&&D>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,O,s,i,o,c,r),v.createElement("div",{id:h?"".concat(h):void 0,className:Ot("recharts-responsive-container",g),style:ik(ik({},b),{},{width:s,height:i,minWidth:o,minHeight:c,maxHeight:u}),ref:y},v.createElement("div",{style:xz({width:s,height:i})},v.createElement(gT,{width:D,height:O},m)))}),gi=v.forwardRef((e,t)=>{var r=Fb();if(Ks(r.width)&&Ks(r.height))return e.children;var{width:a,height:s}=gz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=pT(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(i)&&Qe(o)?v.createElement(gT,{width:i,height:o},e.children):v.createElement(wz,d1({},e,{width:a,height:s,ref:t}))});function vT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var fp=()=>{var e,t=bn(),r=st(az),a=st(up),s=(e=st(dp))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},_z={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yT=()=>{var e;return(e=st(tn))!==null&&e!==void 0?e:_z},Lb=()=>st(Ui),Rb=()=>st(Wi),Nz=()=>st(e=>e.layout.margin),Pt=e=>e.layout.layoutType,Uo=()=>st(Pt),Sz=()=>{var e=Uo();if(e==="horizontal"||e==="vertical")return e},kz=()=>{var e=Uo();return e!==void 0},mp=e=>{var t=sr(),r=bn(),{width:a,height:s}=e,i=Fb(),o=a,c=s;return i&&(o=i.width>0?i.width:a,c=i.height>0?i.height:s),v.useEffect(()=>{!r&&Ks(o)&&Ks(c)&&t(P9({width:o,height:c}))},[t,r,o,c]),null},bT=Symbol.for("immer-nothing"),ok=Symbol.for("immer-draftable"),Ha=Symbol.for("immer-state");function ws(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function Uc(e){return!!e&&!!e[Ha]}function Al(e){return e?jT(e)||Array.isArray(e)||!!e[ok]||!!e.constructor?.[ok]||uf(e)||pp(e):!1}var Ez=Object.prototype.constructor.toString(),lk=new WeakMap;function jT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=lk.get(r);return a===void 0&&(a=Function.toString.call(r),lk.set(r,a)),a===Ez}function Yh(e,t,r=!0){hp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function hp(e){const t=e[Ha];return t?t.type_:Array.isArray(e)?1:uf(e)?2:pp(e)?3:0}function u1(e,t){return hp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wT(e,t,r){const a=hp(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Az(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function uf(e){return e instanceof Map}function pp(e){return e instanceof Set}function dl(e){return e.copy_||e.base_}function f1(e,t){if(uf(e))return new Map(e);if(pp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=jT(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[Ha];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],c=a[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(a[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Fu(e),a)}else{const a=Fu(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Mb(e,t=!1){return xp(e)||Uc(e)||!Al(e)||(hp(e)>1&&Object.defineProperties(e,{set:Gm,add:Gm,clear:Gm,delete:Gm}),Object.freeze(e),t&&Object.values(e).forEach(r=>Mb(r,!0))),e}function Cz(){ws(2)}var Gm={value:Cz};function xp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Pz={};function Cl(e){const t=Pz[e];return t||ws(0,e),t}var Lu;function _T(){return Lu}function Tz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ck(e,t){t&&(Cl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function m1(e){h1(e),e.drafts_.forEach(Oz),e.drafts_=null}function h1(e){e===Lu&&(Lu=e.parent_)}function dk(e){return Lu=Tz(Lu,e)}function Oz(e){const t=e[Ha];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ha].modified_&&(m1(t),ws(4)),Al(e)&&(e=Jh(t,e),t.parent_||Zh(t,e)),t.patches_&&Cl("Patches").generateReplacementPatches_(r[Ha].base_,e,t.patches_,t.inversePatches_)):e=Jh(t,r,[]),m1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bT?e:void 0}function Jh(e,t,r){if(xp(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[Ha];if(!s)return Yh(t,(i,o)=>fk(e,s,t,i,o,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Zh(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,c=!1;s.type_===3&&(o=new Set(i),i.clear(),c=!0),Yh(o,(u,m)=>fk(e,s,i,u,m,r,c),a),Zh(e,i,!1),r&&e.patches_&&Cl("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function fk(e,t,r,a,s,i,o){if(s==null||typeof s!="object"&&!o)return;const c=xp(s);if(!(c&&!o)){if(Uc(s)){const u=i&&t&&t.type_!==3&&!u1(t.assigned_,a)?i.concat(a):void 0,m=Jh(e,s,u);if(wT(r,a,m),Uc(m))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Al(s)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&c)return;Jh(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(uf(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Zh(e,s)}}}function Zh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mb(t,r)}function Iz(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:_T(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=zb;r&&(s=[a],i=Ru);const{revoke:o,proxy:c}=Proxy.revocable(s,i);return a.draft_=c,a.revoke_=o,c}var zb={get(e,t){if(t===Ha)return e;const r=dl(e);if(!u1(r,t))return Dz(e,r,t);const a=r[t];return e.finalized_||!Al(a)?a:a===Kv(e.base_,t)?(Gv(e),e.copy_[t]=x1(a,e)):a},has(e,t){return t in dl(e)},ownKeys(e){return Reflect.ownKeys(dl(e))},set(e,t,r){const a=NT(dl(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=Kv(dl(e),t),i=s?.[Ha];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Az(r,s)&&(r!==void 0||u1(e.base_,t)))return!0;Gv(e),p1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Kv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gv(e),p1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=dl(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){ws(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){ws(12)}},Ru={};Yh(zb,(e,t)=>{Ru[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ru.deleteProperty=function(e,t){return Ru.set.call(this,e,t,void 0)};Ru.set=function(e,t,r){return zb.set.call(this,e[0],t,r,e[0])};function Kv(e,t){const r=e[Ha];return(r?dl(r):e)[t]}function Dz(e,t,r){const a=NT(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function NT(e,t){if(!(t in e))return;let r=Fu(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Fu(r)}}function p1(e){e.modified_||(e.modified_=!0,e.parent_&&p1(e.parent_))}function Gv(e){e.copy_||(e.copy_=f1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Fz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...m){return o.produce(u,f=>r.call(this,f,...m))}}typeof r!="function"&&ws(6),a!==void 0&&typeof a!="function"&&ws(7);let s;if(Al(t)){const i=dk(this),o=x1(t,void 0);let c=!0;try{s=r(o),c=!1}finally{c?m1(i):h1(i)}return ck(i,a),uk(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===bT&&(s=void 0),this.autoFreeze_&&Mb(s,!0),a){const i=[],o=[];Cl("Patches").generateReplacementPatches_(t,s,i,o),a(i,o)}return s}else ws(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let a,s;return[this.produce(t,r,(o,c)=>{a=o,s=c}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Al(e)||ws(8),Uc(e)&&(e=Lz(e));const t=dk(this),r=x1(e,void 0);return r[Ha].isManual_=!0,h1(t),r}finishDraft(e,t){const r=e&&e[Ha];(!r||!r.isManual_)&&ws(9);const{scope_:a}=r;return ck(a,t),uk(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=Cl("Patches").applyPatches_;return Uc(e)?a(e,t):this.produce(e,s=>a(s,t))}};function x1(e,t){const r=uf(e)?Cl("MapSet").proxyMap_(e,t):pp(e)?Cl("MapSet").proxySet_(e,t):Iz(e,t);return(t?t.scope_:_T()).drafts_.push(r),r}function Lz(e){return Uc(e)||ws(10,e),ST(e)}function ST(e){if(!Al(e)||xp(e))return e;const t=e[Ha];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=f1(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=f1(e,!0);return Yh(r,(s,i)=>{wT(r,s,ST(i))},a),t&&(t.finalized_=!1),r}var Rz=new Fz;Rz.produce;var Mz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kT=ka({name:"legend",initialState:Mz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=ks(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:mr()},removeLegendPayload:{reducer(e,t){var r=ks(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mr()}}}),{setLegendSize:mk,setLegendSettings:zz,addLegendPayload:ET,replaceLegendPayload:AT,removeLegendPayload:CT}=kT.actions,$z=kT.reducer,Bz=["contextPayload"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g1.apply(null,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(a){Uz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Hz(e,"string");return typeof t=="symbol"?t:t+""}function Hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vz(e,t){if(e==null)return{};var r,a,s=qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qz(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Kz(e){return e.value}function Gz(e){var{contextPayload:t}=e,r=Vz(e,Bz),a=EP(t,e.payloadUniqBy,Kz),s=Wc(Wc({},r),{},{payload:a});return v.isValidElement(e.content)?v.cloneElement(e.content,s):typeof e.content=="function"?v.createElement(e.content,s):v.createElement(MM,s)}function Xz(e,t,r,a,s,i){var{layout:o,align:c,verticalAlign:u}=t,m,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?m={left:((a||0)-i.width)/2}:m=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((s||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Wc(Wc({},m),f)}function Yz(e){var t=sr();return v.useEffect(()=>{t(zz(e))},[t,e]),null}function Jz(e){var t=sr();return v.useEffect(()=>(t(mk(e)),()=>{t(mk({width:0,height:0}))}),[t,e]),null}function Zz(e,t,r,a){return e==="vertical"&&Qe(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var Qz={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function gp(e){var t=Or(e,Qz),r=O7(),a=CR(),s=Nz(),{width:i,height:o,wrapperStyle:c,portal:u}=t,[m,f]=OP([r]),h=Lb(),g=Rb();if(h==null||g==null)return null;var p=h-(s?.left||0)-(s?.right||0),b=Zz(t.layout,o,i,p),y=u?c:Wc(Wc({position:"absolute",width:b?.width||i||"auto",height:b?.height||o||"auto"},Xz(c,t,s,h,g,m)),c),j=u??a;if(j==null||r==null)return null;var N=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:f},v.createElement(Yz,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&v.createElement(Jz,{width:m.width,height:m.height}),v.createElement(Gz,g1({},t,b,{margin:s,chartWidth:h,chartHeight:g,contextPayload:r})));return ob.createPortal(N,j)}gp.displayName="Legend";function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v1.apply(null,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(a){e$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e$(e,t,r){return(t=t$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$(e){var t=r$(e,"string");return typeof t=="symbol"?t:t+""}function r$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n$(e){return Array.isArray(e)&&qs(e[0])&&qs(e[1])?e.join(" ~ "):e}var a$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:i,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:m,label:f,labelFormatter:h,accessibilityLayer:g=!1}=e,p=()=>{if(i&&i.length){var C={padding:0,margin:0},D=(c?Z0(i,c):i).map((O,I)=>{if(O.type==="none")return null;var T=O.formatter||o||n$,{value:F,name:q}=O,U=F,J=q;if(T){var W=T(F,q,O,I,i);if(Array.isArray(W))[U,J]=W;else if(W!=null)U=W;else return null}var he=Xv({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},a);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:he},qs(J)?v.createElement("span",{className:"recharts-tooltip-item-name"},J):null,qs(J)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},U),v.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},b=Xv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Xv({margin:0},s),j=!cr(f),N=j?f:"",_=Ot("recharts-default-tooltip",u),k=Ot("recharts-tooltip-label",m);j&&h&&i!==void 0&&i!==null&&(N=h(f,i));var E=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",v1({className:_,style:b},E),v.createElement("p",{className:k,style:y},v.isValidElement(N)?N:"".concat(N)),p())},au="recharts-tooltip-wrapper",s$={visibility:"hidden"};function i$(e){var{coordinate:t,translateX:r,translateY:a}=e;return Ot(au,{["".concat(au,"-right")]:Qe(r)&&t&&Qe(t.x)&&r>=t.x,["".concat(au,"-left")]:Qe(r)&&t&&Qe(t.x)&&r<t.x,["".concat(au,"-bottom")]:Qe(a)&&t&&Qe(t.y)&&a>=t.y,["".concat(au,"-top")]:Qe(a)&&t&&Qe(t.y)&&a<t.y})}function xk(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:m}=e;if(i&&Qe(i[a]))return i[a];var f=r[a]-c-(s>0?s:0),h=r[a]+s;if(t[a])return o[a]?f:h;var g=u[a];if(g==null)return 0;if(o[a]){var p=f,b=g;return p<b?Math.max(h,g):Math.max(f,g)}if(m==null)return 0;var y=h+c,j=g+m;return y>j?Math.max(f,g):Math.max(h,g)}function o$(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function l$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,m,f,h;return o.height>0&&o.width>0&&r?(f=xk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=xk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),m=o$({translateX:f,translateY:h,useTranslate3d:c})):m=s$,{cssProperties:m,cssClasses:i$({translateX:f,translateY:h,coordinate:r})}}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(a){y1(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function y1(e,t,r){return(t=c$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c$(e){var t=d$(e,"string");return typeof t=="symbol"?t:t+""}function d$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class u$ extends v.PureComponent{constructor(){super(...arguments),y1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),y1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:i,coordinate:o,hasPayload:c,isAnimationActive:u,offset:m,position:f,reverseDirection:h,useTranslate3d:g,viewBox:p,wrapperStyle:b,lastBoundingBox:y,innerRef:j,hasPortalFromProps:N}=this.props,{cssClasses:_,cssProperties:k}=l$({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:m,position:f,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:g,viewBox:p}),E=N?{}:Xm(Xm({transition:u&&t?"transform ".concat(a,"ms ").concat(s):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),C=Xm(Xm({},E),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:C,ref:j},i)}}var PT=()=>{var e;return(e=st(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b1.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(a){f$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function f$(e,t,r){return(t=m$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(e){var t=h$(e,"string");return typeof t=="symbol"?t:t+""}function h$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bk={curveBasisClosed:GR,curveBasisOpen:XR,curveBasis:KR,curveBumpX:IR,curveBumpY:DR,curveLinearClosed:YR,curveLinear:Y0,curveMonotoneX:JR,curveMonotoneY:ZR,curveNatural:QR,curveStep:eM,curveStepAfter:rM,curveStepBefore:tM},Qh=e=>tr(e.x)&&tr(e.y),jk=e=>e.base!=null&&Qh(e.base)&&Qh(e),su=e=>e.x,iu=e=>e.y,p$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(af(e));return(r==="curveMonotone"||r==="curveBump")&&t?bk["".concat(r).concat(t==="vertical"?"Y":"X")]:bk[r]||Y0},x$=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:i=!1}=e,o=p$(t,s),c=i?r.filter(Qh):r,u;if(Array.isArray(a)){var m=r.map((p,b)=>yk(yk({},p),{},{base:a[b]}));s==="vertical"?u=Bm().y(iu).x1(su).x0(p=>p.base.x):u=Bm().x(su).y1(iu).y0(p=>p.base.y);var f=u.defined(jk).curve(o),h=i?m.filter(jk):m;return f(h)}s==="vertical"&&Qe(a)?u=Bm().y(iu).x1(su).x0(a):Qe(a)?u=Bm().x(su).y1(iu).y0(a):u=rP().x(su).y(iu);var g=u.defined(Qh).curve(o);return g(c)},Oc=e=>{var{className:t,points:r,path:a,pathRef:s}=e,i=Uo();if((!r||!r.length)&&!a)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},c=r&&r.length?x$(o):a;return v.createElement("path",b1({},oa(e),Sb(e),{className:Ot("recharts-curve",t),d:c===null?void 0:c,ref:s}))},g$=["x","y","top","left","width","height","className"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j1.apply(null,arguments)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function v$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(a){y$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function y$(e,t,r){return(t=b$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w$(e,t){if(e==null)return{};var r,a,s=_$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _$(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var N$=(e,t,r,a,s,i)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),S$=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:i=0,height:o=0,className:c}=e,u=w$(e,g$),m=v$({x:t,y:r,top:a,left:s,width:i,height:o},u);return!Qe(t)||!Qe(r)||!Qe(i)||!Qe(o)||!Qe(a)||!Qe(s)?null:v.createElement("path",j1({},Gn(m),{className:Ot("recharts-cross",c),d:N$(t,r,i,o,a,s)}))};function k$(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(a){E$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function E$(e,t,r){return(t=A$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=C$(e,"string");return typeof t=="symbol"?t:t+""}function C$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TT=(e,t,r)=>e.map(a=>"".concat(P$(a)," ").concat(t,"ms ").concat(r)).join(","),T$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),Mu=(e,t)=>Object.keys(t).reduce((r,a)=>Nk(Nk({},r),{},{[a]:e(a,t[a])}),{});function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(a){O$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function O$(e,t,r){return(t=I$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I$(e){var t=D$(e,"string");return typeof t=="symbol"?t:t+""}function D$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e0=(e,t,r)=>e+(t-e)*r,w1=e=>{var{from:t,to:r}=e;return t!==r},OT=(e,t,r)=>{var a=Mu((s,i)=>{if(w1(i)){var[o,c]=e(i.from,i.to,i.velocity);return en(en({},i),{},{from:o,velocity:c})}return i},t);return r<1?Mu((s,i)=>w1(i)&&a[s]!=null?en(en({},i),{},{velocity:e0(i.velocity,a[s].velocity,r),from:e0(i.from,a[s].from,r)}):i,t):OT(e,a,r-1)};function F$(e,t,r,a,s,i){var o,c=a.reduce((g,p)=>en(en({},g),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),u=()=>Mu((g,p)=>p.from,c),m=()=>!Object.values(c).filter(w1).length,f=null,h=g=>{o||(o=g);var p=g-o,b=p/r.dt;c=OT(r,c,b),s(en(en(en({},e),t),u())),o=g,m()||(f=i.setTimeout(h))};return()=>(f=i.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function L$(e,t,r,a,s,i,o){var c=null,u=s.reduce((h,g)=>{var p=e[g],b=t[g];return p==null||b==null?h:en(en({},h),{},{[g]:[p,b]})},{}),m,f=h=>{m||(m=h);var g=(h-m)/a,p=Mu((y,j)=>e0(...j,r(g)),u);if(i(en(en(en({},e),t),p)),g<1)c=o.setTimeout(f);else{var b=Mu((y,j)=>e0(...j,r(1)),u);i(en(en(en({},e),t),b))}};return()=>(c=o.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}const R$=(e,t,r,a,s,i)=>{var o=T$(e,t);return r==null?()=>(s(en(en({},e),t)),()=>{}):r.isStepper===!0?F$(e,t,r,o,s,i):L$(e,t,r,a,o,s,i)};var t0=1e-4,IT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DT=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),kk=(e,t)=>r=>{var a=IT(e,t);return DT(a,r)},M$=(e,t)=>r=>{var a=IT(e,t),s=[...a.map((i,o)=>i*o).slice(1),0];return DT(s,r)},z$=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var a=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(a==null||a.length!==4)return null;var s=a.map(i=>parseFloat(i));return[s[0],s[1],s[2],s[3]]},$$=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=z$(r[0]);if(s)return s}}return r.length===4?r:[0,0,1,1]},B$=(e,t,r,a)=>{var s=kk(e,r),i=kk(t,a),o=M$(e,r),c=m=>m>1?1:m<0?0:m,u=m=>{for(var f=m>1?1:m,h=f,g=0;g<8;++g){var p=s(h)-f,b=o(h);if(Math.abs(p-f)<t0||b<t0)return i(h);h=c(h-p/b)}return i(h)};return u.isStepper=!1,u},Ek=function(){return B$(...$$(...arguments))},U$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,i=(o,c,u)=>{var m=-(o-c)*r,f=u*a,h=u+(m-f)*s/1e3,g=u*s/1e3+o;return Math.abs(g-c)<t0&&Math.abs(h)<t0?[c,0]:[g,h]};return i.isStepper=!0,i.dt=s,i},W$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ek(e);case"spring":return U$();default:if(e.split("(")[0]==="cubic-bezier")return Ek(e)}return typeof e=="function"?e:null};function H$(e){var t,r=()=>null,a=!1,s=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...m]=c;if(typeof u=="number"){s=e.setTimeout(i.bind(null,m),u);return}i(u),s=e.setTimeout(i.bind(null,m));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class V${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,i=o=>{o-a>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function q$(){return H$(new V$)}var K$=v.createContext(q$);function G$(e,t){var r=v.useContext(K$);return v.useMemo(()=>t??r(e),[e,t,r])}var X$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ff={isSsr:X$()},Y$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ak={t:0},Yv={t:1};function ad(e){var t=Or(e,Y$),{isActive:r,canBegin:a,duration:s,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:u,children:m}=t,f=r==="auto"?!ff.isSsr:r,h=G$(t.animationId,t.animationManager),[g,p]=v.useState(f?Ak:Yv),b=v.useRef(null);return v.useEffect(()=>{f||p(Yv)},[f]),v.useEffect(()=>{if(!f||!a)return sf;var y=R$(Ak,Yv,W$(i),s,p,h.getTimeoutController()),j=()=>{b.current=y()};return h.start([u,o,j,s,c]),()=>{h.stop(),b.current&&b.current(),c()}},[f,a,s,i,o,u,c,h]),m(g.t)}function sd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Tu(t)),a=v.useRef(e);return a.current!==e&&(r.current=Tu(t),a.current=e),r.current}var J$=["radius"],Z$=["radius"],Ck,Pk,Tk,Ok,Ik,Dk,Fk,Lk,Rk,Mk;function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(a){Q$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Q$(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},r0.apply(null,arguments)}function Bk(e,t){if(e==null)return{};var r,a,s=rB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rB(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ms(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Uk=(e,t,r,a,s)=>{var i=ko(r),o=ko(a),c=Math.min(Math.abs(i)/2,Math.abs(o)/2),u=o>=0?1:-1,m=i>=0?1:-1,f=o>=0&&i>=0||o<0&&i<0?1:0,h;if(c>0&&s instanceof Array){for(var g=[0,0,0,0],p=0,b=4;p<b;p++)g[p]=s[p]>c?c:s[p];h=Sr(Ck||(Ck=Ms(["M",",",""])),e,t+u*g[0]),g[0]>0&&(h+=Sr(Pk||(Pk=Ms(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,e+m*g[0],t)),h+=Sr(Tk||(Tk=Ms(["L ",",",""])),e+r-m*g[1],t),g[1]>0&&(h+=Sr(Ok||(Ok=Ms(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,e+r,t+u*g[1])),h+=Sr(Ik||(Ik=Ms(["L ",",",""])),e+r,t+a-u*g[2]),g[2]>0&&(h+=Sr(Dk||(Dk=Ms(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,e+r-m*g[2],t+a)),h+=Sr(Fk||(Fk=Ms(["L ",",",""])),e+m*g[3],t+a),g[3]>0&&(h+=Sr(Lk||(Lk=Ms(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,e,t+a-u*g[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var y=Math.min(c,s);h=Sr(Rk||(Rk=Ms(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*y,y,y,f,e+m*y,t,e+r-m*y,t,y,y,f,e+r,t+u*y,e+r,t+a-u*y,y,y,f,e+r-m*y,t+a,e+m*y,t+a,y,y,f,e,t+a-u*y)}else h=Sr(Mk||(Mk=Ms(["M ",","," h "," v "," h "," Z"])),e,t,r,a,-r);return h},Wk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FT=e=>{var t=Or(e,Wk),r=v.useRef(null),[a,s]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var be=r.current.getTotalLength();be&&s(be)}catch{}},[]);var{x:i,y:o,width:c,height:u,radius:m,className:f}=t,{animationEasing:h,animationDuration:g,animationBegin:p,isAnimationActive:b,isUpdateAnimationActive:y}=t,j=v.useRef(c),N=v.useRef(u),_=v.useRef(i),k=v.useRef(o),E=v.useMemo(()=>({x:i,y:o,width:c,height:u,radius:m}),[i,o,c,u,m]),C=sd(E,"rectangle-");if(i!==+i||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var D=Ot("recharts-rectangle",f);if(!y){var O=Gn(t),{radius:I}=O,T=Bk(O,J$);return v.createElement("path",r0({},T,{x:ko(i),y:ko(o),width:ko(c),height:ko(u),radius:typeof m=="number"?m:void 0,className:D,d:Uk(i,o,c,u,m)}))}var F=j.current,q=N.current,U=_.current,J=k.current,W="0px ".concat(a===-1?1:a,"px"),he="".concat(a,"px 0px"),X=TT(["strokeDasharray"],g,typeof h=="string"?h:Wk.animationEasing);return v.createElement(ad,{animationId:C,key:C,canBegin:a>0,duration:g,easing:h,isActive:y,begin:p},be=>{var ne=Ut(F,c,be),ve=Ut(q,u,be),me=Ut(U,i,be),ae=Ut(J,o,be);r.current&&(j.current=ne,N.current=ve,_.current=me,k.current=ae);var P;b?be>0?P={transition:X,strokeDasharray:he}:P={strokeDasharray:W}:P={strokeDasharray:he};var B=Gn(t),{radius:H}=B,V=Bk(B,Z$);return v.createElement("path",r0({},V,{radius:typeof m=="number"?m:void 0,className:D,d:Uk(me,ae,ne,ve,m),ref:r,style:$k($k({},P),t.style)}))})};function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(a){nB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nB(e,t,r){return(t=aB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aB(e){var t=sB(e,"string");return typeof t=="symbol"?t:t+""}function sB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n0=Math.PI/180,iB=e=>e*180/Math.PI,Hr=(e,t,r,a)=>({x:e+Math.cos(-n0*a)*r,y:t+Math.sin(-n0*a)*r}),LT=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},oB=(e,t)=>{var{x:r,y:a}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(a-i)**2)},lB=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:i}=t,o=oB({x:r,y:a},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-s)/o,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:o,angle:iB(u),angleInRadian:u}},cB=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(a,s);return{startAngle:t-i*360,endAngle:r-i*360}},dB=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return e+o*360},uB=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:i}=lB({x:r,y:a},t),{innerRadius:o,outerRadius:c}=t;if(s<o||s>c||s===0)return null;var{startAngle:u,endAngle:m}=cB(t),f=i,h;if(u<=m){for(;f>m;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=m}else{for(;f>u;)f-=360;for(;f<m;)f+=360;h=f>=m&&f<=u}return h?Vk(Vk({},t),{},{radius:s,angle:dB(f,t)}):null};function RT(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:i}=e,o=Hr(t,r,a,s),c=Hr(t,r,a,i);return{points:[o,c],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}var qk,Kk,Gk,Xk,Yk,Jk,Zk;function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_1.apply(null,arguments)}function pl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fB=(e,t)=>{var r=pn(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Ym=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,m=c*(o?1:-1)+a,f=Math.asin(c/m)/n0,h=u?s:s+i*f,g=Hr(t,r,m,h),p=Hr(t,r,a,h),b=u?s-i*f:s,y=Hr(t,r,m*Math.cos(f*n0),b);return{center:g,circleTangency:p,lineTangency:y,theta:f}},MT=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:i,endAngle:o}=e,c=fB(i,o),u=i+c,m=Hr(t,r,s,i),f=Hr(t,r,s,u),h=Sr(qk||(qk=pl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,s,s,+(Math.abs(c)>180),+(i>u),f.x,f.y);if(a>0){var g=Hr(t,r,a,i),p=Hr(t,r,a,u);h+=Sr(Kk||(Kk=pl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,a,a,+(Math.abs(c)>180),+(i<=u),g.x,g.y)}else h+=Sr(Gk||(Gk=pl(["L ",","," Z"])),t,r);return h},mB=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:m}=e,f=pn(m-u),{circleTangency:h,lineTangency:g,theta:p}=Ym({cx:t,cy:r,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),{circleTangency:b,lineTangency:y,theta:j}=Ym({cx:t,cy:r,radius:s,angle:m,sign:-f,cornerRadius:i,cornerIsExternal:c}),N=c?Math.abs(u-m):Math.abs(u-m)-p-j;if(N<0)return o?Sr(Xk||(Xk=pl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):MT({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:m});var _=Sr(Yk||(Yk=pl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(f<0),h.x,h.y,s,s,+(N>180),+(f<0),b.x,b.y,i,i,+(f<0),y.x,y.y);if(a>0){var{circleTangency:k,lineTangency:E,theta:C}=Ym({cx:t,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:D,lineTangency:O,theta:I}=Ym({cx:t,cy:r,radius:a,angle:m,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),T=c?Math.abs(u-m):Math.abs(u-m)-C-I;if(T<0&&i===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=Sr(Jk||(Jk=pl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,i,i,+(f<0),D.x,D.y,a,a,+(T>180),+(f>0),k.x,k.y,i,i,+(f<0),E.x,E.y)}else _+=Sr(Zk||(Zk=pl(["L",",","Z"])),t,r);return _},hB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zT=e=>{var t=Or(e,hB),{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f,className:h}=t;if(i<s||m===f)return null;var g=Ot("recharts-sector",h),p=i-s,b=Vn(o,p,0,!0),y;return b>0&&Math.abs(m-f)<360?y=mB({cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(b,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f}):y=MT({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:m,endAngle:f}),v.createElement("path",_1({},Gn(t),{className:g,d:y}))};function pB(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(gP(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:i,outerRadius:o,angle:c}=t,u=Hr(a,s,i,c),m=Hr(a,s,o,c);return[{x:u.x,y:u.y},{x:m.x,y:m.y}]}return RT(t)}}var Jv={},Zv={},Qv={},Qk;function xB(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CP();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(Qv)),Qv}var e4;function gB(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xB();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Zv)),Zv}var t4;function vB(){return t4||(t4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),r=gB();function a(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-s)/(o||1)),0),u=new Array(c);for(let m=0;m<c;m++)u[m]=s,s+=o;return u}e.range=a})(Jv)),Jv}var ey,r4;function yB(){return r4||(r4=1,ey=vB().range),ey}var bB=yB();const $T=$i(bB);function Po(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $b(e){let t,r,a;e.length!==2?(t=Po,r=(c,u)=>Po(e(c),u),a=(c,u)=>e(c)-u):(t=e===Po||e===jB?e:wB,r=e,a=e);function s(c,u,m=0,f=c.length){if(m<f){if(t(u,u)!==0)return f;do{const h=m+f>>>1;r(c[h],u)<0?m=h+1:f=h}while(m<f)}return m}function i(c,u,m=0,f=c.length){if(m<f){if(t(u,u)!==0)return f;do{const h=m+f>>>1;r(c[h],u)<=0?m=h+1:f=h}while(m<f)}return m}function o(c,u,m=0,f=c.length){const h=s(c,u,m,f-1);return h>m&&a(c[h-1],u)>-a(c[h],u)?h-1:h}return{left:s,center:o,right:i}}function wB(){return 0}function BT(e){return e===null?NaN:+e}function*_B(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NB=$b(Po),mf=NB.right;$b(BT).center;class n4 extends Map{constructor(t,r=EB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(a4(this,t))}has(t){return super.has(a4(this,t))}set(t,r){return super.set(SB(this,t),r)}delete(t){return super.delete(kB(this,t))}}function a4({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function SB({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function kB({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function EB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AB(e=Po){if(e===Po)return UT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function UT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CB=Math.sqrt(50),PB=Math.sqrt(10),TB=Math.sqrt(2);function a0(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=CB?10:i>=PB?5:i>=TB?2:1;let c,u,m;return s<0?(m=Math.pow(10,-s)/o,c=Math.round(e*m),u=Math.round(t*m),c/m<e&&++c,u/m>t&&--u,m=-m):(m=Math.pow(10,s)*o,c=Math.round(e/m),u=Math.round(t/m),c*m<e&&++c,u*m>t&&--u),u<c&&.5<=r&&r<2?a0(e,t,r*2):[c,u,m]}function N1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?a0(t,e,r):a0(e,t,r);if(!(i>=s))return[];const c=i-s+1,u=new Array(c);if(a)if(o<0)for(let m=0;m<c;++m)u[m]=(i-m)/-o;else for(let m=0;m<c;++m)u[m]=(i-m)*o;else if(o<0)for(let m=0;m<c;++m)u[m]=(s+m)/-o;else for(let m=0;m<c;++m)u[m]=(s+m)*o;return u}function S1(e,t,r){return t=+t,e=+e,r=+r,a0(e,t,r)[2]}function k1(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?S1(t,e,r):S1(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function s4(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function i4(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function WT(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?UT:AB(s);a>r;){if(a-r>600){const u=a-r+1,m=t-r+1,f=Math.log(u),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(u-h)/u)*(m-u/2<0?-1:1),p=Math.max(r,Math.floor(t-m*h/u+g)),b=Math.min(a,Math.floor(t+(u-m)*h/u+g));WT(e,t,p,b,s)}const i=e[t];let o=r,c=a;for(ou(e,r,t),s(e[a],i)>0&&ou(e,r,a);o<c;){for(ou(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?ou(e,r,c):(++c,ou(e,c,a)),c<=t&&(r=c+1),t<=c&&(a=c-1)}return e}function ou(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function OB(e,t,r){if(e=Float64Array.from(_B(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return i4(e);if(t>=1)return s4(e);var a,s=(a-1)*t,i=Math.floor(s),o=s4(WT(e,i).subarray(0,i+1)),c=i4(e.subarray(i+1));return o+(c-o)*(s-i)}}function IB(e,t,r=BT){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function DB(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function ds(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const E1=Symbol("implicit");function Bb(){var e=new n4,t=[],r=[],a=E1;function s(i){let o=e.get(i);if(o===void 0){if(a!==E1)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new n4;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Bb(t,r).unknown(a)},ds.apply(s,arguments),s}function Ub(){var e=Bb().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,c=!1,u=0,m=0,f=.5;delete e.unknown;function h(){var g=t().length,p=s<a,b=p?s:a,y=p?a:s;i=(y-b)/Math.max(1,g-u+m*2),c&&(i=Math.floor(i)),b+=(y-b-i*(g-u))*f,o=i*(1-u),c&&(b=Math.round(b),o=Math.round(o));var j=DB(g).map(function(N){return b+i*N});return r(p?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,c=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,h()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,m=+g),h()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),h()):u},e.paddingOuter=function(g){return arguments.length?(m=+g,h()):m},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return Ub(t(),[a,s]).round(c).paddingInner(u).paddingOuter(m).align(f)},ds.apply(h(),arguments)}function HT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HT(t())},e}function FB(){return HT(Ub.apply(null,arguments).paddingInner(1))}function Wb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function VT(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function hf(){}var zu=.7,s0=1/zu,Ic="\\s*([+-]?\\d+)\\s*",$u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LB=/^#([0-9a-f]{3,8})$/,RB=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),MB=new RegExp(`^rgb\\(${Hs},${Hs},${Hs}\\)$`),zB=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${$u}\\)$`),$B=new RegExp(`^rgba\\(${Hs},${Hs},${Hs},${$u}\\)$`),BB=new RegExp(`^hsl\\(${$u},${Hs},${Hs}\\)$`),UB=new RegExp(`^hsla\\(${$u},${Hs},${Hs},${$u}\\)$`),o4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wb(hf,Bu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l4,formatHex:l4,formatHex8:WB,formatHsl:HB,formatRgb:c4,toString:c4});function l4(){return this.rgb().formatHex()}function WB(){return this.rgb().formatHex8()}function HB(){return qT(this).formatHsl()}function c4(){return this.rgb().formatRgb()}function Bu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d4(t):r===3?new ya(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RB.exec(e))?new ya(t[1],t[2],t[3],1):(t=MB.exec(e))?new ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zB.exec(e))?Jm(t[1],t[2],t[3],t[4]):(t=$B.exec(e))?Jm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BB.exec(e))?m4(t[1],t[2]/100,t[3]/100,1):(t=UB.exec(e))?m4(t[1],t[2]/100,t[3]/100,t[4]):o4.hasOwnProperty(e)?d4(o4[e]):e==="transparent"?new ya(NaN,NaN,NaN,0):null}function d4(e){return new ya(e>>16&255,e>>8&255,e&255,1)}function Jm(e,t,r,a){return a<=0&&(e=t=r=NaN),new ya(e,t,r,a)}function VB(e){return e instanceof hf||(e=Bu(e)),e?(e=e.rgb(),new ya(e.r,e.g,e.b,e.opacity)):new ya}function A1(e,t,r,a){return arguments.length===1?VB(e):new ya(e,t,r,a??1)}function ya(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Wb(ya,A1,VT(hf,{brighter(e){return e=e==null?s0:Math.pow(s0,e),new ya(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zu:Math.pow(zu,e),new ya(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ya(bl(this.r),bl(this.g),bl(this.b),i0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u4,formatHex:u4,formatHex8:qB,formatRgb:f4,toString:f4}));function u4(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}`}function qB(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}${xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function f4(){const e=i0(this.opacity);return`${e===1?"rgb(":"rgba("}${bl(this.r)}, ${bl(this.g)}, ${bl(this.b)}${e===1?")":`, ${e})`}`}function i0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xl(e){return e=bl(e),(e<16?"0":"")+e.toString(16)}function m4(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _s(e,t,r,a)}function qT(e){if(e instanceof _s)return new _s(e.h,e.s,e.l,e.opacity);if(e instanceof hf||(e=Bu(e)),!e)return new _s;if(e instanceof _s)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,c=i-s,u=(i+s)/2;return c?(t===i?o=(r-a)/c+(r<a)*6:r===i?o=(a-t)/c+2:o=(t-r)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new _s(o,c,u,e.opacity)}function KB(e,t,r,a){return arguments.length===1?qT(e):new _s(e,t,r,a??1)}function _s(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Wb(_s,KB,VT(hf,{brighter(e){return e=e==null?s0:Math.pow(s0,e),new _s(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zu:Math.pow(zu,e),new _s(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new ya(ty(e>=240?e-240:e+120,s,a),ty(e,s,a),ty(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new _s(h4(this.h),Zm(this.s),Zm(this.l),i0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=i0(this.opacity);return`${e===1?"hsl(":"hsla("}${h4(this.h)}, ${Zm(this.s)*100}%, ${Zm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h4(e){return e=(e||0)%360,e<0?e+360:e}function Zm(e){return Math.max(0,Math.min(1,e||0))}function ty(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hb=e=>()=>e;function GB(e,t){return function(r){return e+r*t}}function XB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function YB(e){return(e=+e)==1?KT:function(t,r){return r-t?XB(t,r,e):Hb(isNaN(t)?r:t)}}function KT(e,t){var r=t-e;return r?GB(e,r):Hb(isNaN(e)?t:e)}const p4=(function e(t){var r=YB(t);function a(s,i){var o=r((s=A1(s)).r,(i=A1(i)).r),c=r(s.g,i.g),u=r(s.b,i.b),m=KT(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=c(f),s.b=u(f),s.opacity=m(f),s+""}}return a.gamma=e,a})(1);function JB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function ZB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QB(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=id(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<a;++o)i[o]=s[o](c);return i}}function eU(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function o0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tU(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=id(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var C1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ry=new RegExp(C1.source,"g");function rU(e){return function(){return e}}function nU(e){return function(t){return e(t)+""}}function aU(e,t){var r=C1.lastIndex=ry.lastIndex=0,a,s,i,o=-1,c=[],u=[];for(e=e+"",t=t+"";(a=C1.exec(e))&&(s=ry.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(a=a[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:o0(a,s)})),r=ry.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?nU(u[0].x):rU(t):(t=u.length,function(m){for(var f=0,h;f<t;++f)c[(h=u[f]).i]=h.x(m);return c.join("")})}function id(e,t){var r=typeof t,a;return t==null||r==="boolean"?Hb(t):(r==="number"?o0:r==="string"?(a=Bu(t))?(t=a,p4):aU:t instanceof Bu?p4:t instanceof Date?eU:ZB(t)?JB:Array.isArray(t)?QB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tU:o0)(e,t)}function Vb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function sU(e,t){t===void 0&&(t=e,e=id);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var c=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[c](o-c)}}function iU(e){return function(){return e}}function l0(e){return+e}var x4=[0,1];function na(e){return e}function P1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iU(isNaN(t)?NaN:.5)}function oU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function lU(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=P1(s,a),i=r(o,i)):(a=P1(a,s),i=r(i,o)),function(c){return i(a(c))}}function cU(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=P1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var u=mf(e,c,1,a)-1;return i[u](s[u](c))}}function pf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vp(){var e=x4,t=x4,r=id,a,s,i,o=na,c,u,m;function f(){var g=Math.min(e.length,t.length);return o!==na&&(o=oU(e[0],e[g-1])),c=g>2?cU:lU,u=m=null,h}function h(g){return g==null||isNaN(g=+g)?i:(u||(u=c(e.map(a),t,r)))(a(o(g)))}return h.invert=function(g){return o(s((m||(m=c(t,e.map(a),o0)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,l0),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=Vb,f()},h.clamp=function(g){return arguments.length?(o=g?!0:na,f()):o!==na},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,p){return a=g,s=p,f()}}function qb(){return vp()(na,na)}function dU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function c0(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Hc(e){return e=c0(Math.abs(e)),e?e[1]:NaN}function uU(e,t){return function(r,a){for(var s=r.length,i=[],o=0,c=e[0],u=0;s>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(r.substring(s-=c,s+c)),!((u+=c+1)>a));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function fU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uu(e){if(!(t=mU.exec(e)))throw new Error("invalid format: "+e);var t;return new Kb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uu.prototype=Kb.prototype;function Kb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hU(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var d0;function pU(e,t){var r=c0(e,t);if(!r)return d0=void 0,e.toPrecision(t);var a=r[0],s=r[1],i=s-(d0=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+c0(e,Math.max(0,t+i-1))[0]}function g4(e,t){var r=c0(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const v4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g4(e*100,t),r:g4,s:pU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y4(e){return e}var b4=Array.prototype.map,j4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xU(e){var t=e.grouping===void 0||e.thousands===void 0?y4:uU(b4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?y4:fU(b4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function m(h,g){h=Uu(h);var p=h.fill,b=h.align,y=h.sign,j=h.symbol,N=h.zero,_=h.width,k=h.comma,E=h.precision,C=h.trim,D=h.type;D==="n"?(k=!0,D="g"):v4[D]||(E===void 0&&(E=12),C=!0,D="g"),(N||p==="0"&&b==="=")&&(N=!0,p="0",b="=");var O=(g?.prefix!==void 0?g.prefix:"")+(j==="$"?r:j==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),I=(j==="$"?a:/[%p]/.test(D)?o:"")+(g?.suffix!==void 0?g.suffix:""),T=v4[D],F=/[defgprs%]/.test(D);E=E===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function q(U){var J=O,W=I,he,X,be;if(D==="c")W=T(U)+W,U="";else{U=+U;var ne=U<0||1/U<0;if(U=isNaN(U)?u:T(Math.abs(U),E),C&&(U=hU(U)),ne&&+U==0&&y!=="+"&&(ne=!1),J=(ne?y==="("?y:c:y==="-"||y==="("?"":y)+J,W=(D==="s"&&!isNaN(U)&&d0!==void 0?j4[8+d0/3]:"")+W+(ne&&y==="("?")":""),F){for(he=-1,X=U.length;++he<X;)if(be=U.charCodeAt(he),48>be||be>57){W=(be===46?s+U.slice(he+1):U.slice(he))+W,U=U.slice(0,he);break}}}k&&!N&&(U=t(U,1/0));var ve=J.length+U.length+W.length,me=ve<_?new Array(_-ve+1).join(p):"";switch(k&&N&&(U=t(me+U,me.length?_-W.length:1/0),me=""),b){case"<":U=J+U+W+me;break;case"=":U=J+me+U+W;break;case"^":U=me.slice(0,ve=me.length>>1)+J+U+W+me.slice(ve);break;default:U=me+J+U+W;break}return i(U)}return q.toString=function(){return h+""},q}function f(h,g){var p=Math.max(-8,Math.min(8,Math.floor(Hc(g)/3)))*3,b=Math.pow(10,-p),y=m((h=Uu(h),h.type="f",h),{suffix:j4[8+p/3]});return function(j){return y(b*j)}}return{format:m,formatPrefix:f}}var Qm,Gb,GT;gU({thousands:",",grouping:[3],currency:["$",""]});function gU(e){return Qm=xU(e),Gb=Qm.format,GT=Qm.formatPrefix,Qm}function vU(e){return Math.max(0,-Hc(Math.abs(e)))}function yU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hc(t)/3)))*3-Hc(Math.abs(e)))}function bU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hc(t)-Hc(e))+1}function XT(e,t,r,a){var s=k1(e,t,r),i;switch(a=Uu(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=yU(s,o))&&(a.precision=i),GT(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=bU(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=vU(s))&&(a.precision=i-(a.type==="%")*2);break}}return Gb(a)}function Wo(e){var t=e.domain;return e.ticks=function(r){var a=t();return N1(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return XT(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],c=a[i],u,m,f=10;for(c<o&&(m=o,o=c,c=m,m=s,s=i,i=m);f-- >0;){if(m=S1(o,c,r),m===u)return a[s]=o,a[i]=c,t(a);if(m>0)o=Math.floor(o/m)*m,c=Math.ceil(c/m)*m;else if(m<0)o=Math.ceil(o*m)/m,c=Math.floor(c*m)/m;else break;u=m}return e},e}function YT(){var e=qb();return e.copy=function(){return pf(e,YT())},ds.apply(e,arguments),Wo(e)}function JT(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,l0),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return JT(e).unknown(t)},e=arguments.length?Array.from(e,l0):[0,1],Wo(r)}function ZT(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function w4(e){return Math.log(e)}function _4(e){return Math.exp(e)}function jU(e){return-Math.log(-e)}function wU(e){return-Math.exp(-e)}function _U(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NU(e){return e===10?_U:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function N4(e){return(t,r)=>-e(-t,r)}function Xb(e){const t=e(w4,_4),r=t.domain;let a=10,s,i;function o(){return s=SU(a),i=NU(a),r()[0]<0?(s=N4(s),i=N4(i),e(jU,wU)):e(w4,_4),t}return t.base=function(c){return arguments.length?(a=+c,o()):a},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const u=r();let m=u[0],f=u[u.length-1];const h=f<m;h&&([m,f]=[f,m]);let g=s(m),p=s(f),b,y;const j=c==null?10:+c;let N=[];if(!(a%1)&&p-g<j){if(g=Math.floor(g),p=Math.ceil(p),m>0){for(;g<=p;++g)for(b=1;b<a;++b)if(y=g<0?b/i(-g):b*i(g),!(y<m)){if(y>f)break;N.push(y)}}else for(;g<=p;++g)for(b=a-1;b>=1;--b)if(y=g>0?b/i(-g):b*i(g),!(y<m)){if(y>f)break;N.push(y)}N.length*2<j&&(N=N1(m,f,j))}else N=N1(g,p,Math.min(p-g,j)).map(i);return h?N.reverse():N},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Uu(u)).precision==null&&(u.trim=!0),u=Gb(u)),c===1/0)return u;const m=Math.max(1,a*c/t.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=m?u(f):""}},t.nice=()=>r(ZT(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function QT(){const e=Xb(vp()).domain([1,10]);return e.copy=()=>pf(e,QT()).base(e.base()),ds.apply(e,arguments),e}function S4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function k4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yb(e){var t=1,r=e(S4(t),k4(t));return r.constant=function(a){return arguments.length?e(S4(t=+a),k4(t)):t},Wo(r)}function e3(){var e=Yb(vp());return e.copy=function(){return pf(e,e3()).constant(e.constant())},ds.apply(e,arguments)}function E4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EU(e){return e<0?-e*e:e*e}function Jb(e){var t=e(na,na),r=1;function a(){return r===1?e(na,na):r===.5?e(kU,EU):e(E4(r),E4(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Wo(t)}function Zb(){var e=Jb(vp());return e.copy=function(){return pf(e,Zb()).exponent(e.exponent())},ds.apply(e,arguments),e}function AU(){return Zb.apply(null,arguments).exponent(.5)}function A4(e){return Math.sign(e)*e*e}function CU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function t3(){var e=qb(),t=[0,1],r=!1,a;function s(i){var o=CU(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(A4(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,l0)).map(A4)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return t3(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ds.apply(s,arguments),Wo(s)}function r3(){var e=[],t=[],r=[],a;function s(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=IB(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?a:t[mf(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Po),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return r3().domain(e).range(t).unknown(a)},ds.apply(i,arguments)}function n3(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[mf(a,u,0,r)]:i}function c(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,c()):s.slice()},o.invertExtent=function(u){var m=s.indexOf(u);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=r?[a[r-1],t]:[a[m-1],a[m]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return n3().domain([e,t]).range(s).unknown(i)},ds.apply(Wo(o),arguments)}function a3(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[mf(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return a3().domain(e).range(t).unknown(r)},ds.apply(s,arguments)}const ny=new Date,ay=new Date;function rn(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const u=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let m;do u.push(m=new Date(+i)),t(i,c),e(i);while(m<i&&i<o);return u},s.filter=i=>rn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(ny.setTime(+i),ay.setTime(+o),e(ny),e(ay),Math.floor(r(ny,ay))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const u0=rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);u0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):u0);u0.range;const hi=1e3,is=hi*60,pi=is*60,Ii=pi*24,Qb=Ii*7,C4=Ii*30,sy=Ii*365,gl=rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getUTCSeconds());gl.range;const ej=rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hi)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getMinutes());ej.range;const tj=rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCMinutes());tj.range;const rj=rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hi-e.getMinutes()*is)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getHours());rj.range;const nj=rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCHours());nj.range;const xf=rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*is)/Ii,e=>e.getDate()-1);xf.range;const yp=rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>e.getUTCDate()-1);yp.range;const s3=rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>Math.floor(e/Ii));s3.range;function Ll(e){return rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*is)/Qb)}const bp=Ll(0),f0=Ll(1),PU=Ll(2),TU=Ll(3),Vc=Ll(4),OU=Ll(5),IU=Ll(6);bp.range;f0.range;PU.range;TU.range;Vc.range;OU.range;IU.range;function Rl(e){return rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qb)}const jp=Rl(0),m0=Rl(1),DU=Rl(2),FU=Rl(3),qc=Rl(4),LU=Rl(5),RU=Rl(6);jp.range;m0.range;DU.range;FU.range;qc.range;LU.range;RU.range;const aj=rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aj.range;const sj=rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sj.range;const Di=rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Di.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Di.range;const Fi=rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fi.range;function i3(e,t,r,a,s,i){const o=[[gl,1,hi],[gl,5,5*hi],[gl,15,15*hi],[gl,30,30*hi],[i,1,is],[i,5,5*is],[i,15,15*is],[i,30,30*is],[s,1,pi],[s,3,3*pi],[s,6,6*pi],[s,12,12*pi],[a,1,Ii],[a,2,2*Ii],[r,1,Qb],[t,1,C4],[t,3,3*C4],[e,1,sy]];function c(m,f,h){const g=f<m;g&&([m,f]=[f,m]);const p=h&&typeof h.range=="function"?h:u(m,f,h),b=p?p.range(m,+f+1):[];return g?b.reverse():b}function u(m,f,h){const g=Math.abs(f-m)/h,p=$b(([,,j])=>j).right(o,g);if(p===o.length)return e.every(k1(m/sy,f/sy,h));if(p===0)return u0.every(Math.max(k1(m,f,h),1));const[b,y]=o[g/o[p-1][2]<o[p][2]/g?p-1:p];return b.every(y)}return[c,u]}const[MU,zU]=i3(Fi,sj,jp,s3,nj,tj),[$U,BU]=i3(Di,aj,bp,xf,rj,ej);function iy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UU(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,m=cu(s),f=du(s),h=cu(i),g=du(i),p=cu(o),b=du(o),y=cu(c),j=du(c),N=cu(u),_=du(u),k={a:be,A:ne,b:ve,B:me,c:null,d:F4,e:F4,f:uW,g:jW,G:_W,H:lW,I:cW,j:dW,L:o3,m:fW,M:mW,p:ae,q:P,Q:M4,s:z4,S:hW,u:pW,U:xW,V:gW,w:vW,W:yW,x:null,X:null,y:bW,Y:wW,Z:NW,"%":R4},E={a:B,A:H,b:V,B:te,c:null,d:L4,e:L4,f:AW,g:MW,G:$W,H:SW,I:kW,j:EW,L:c3,m:CW,M:PW,p:ye,q:ke,Q:M4,s:z4,S:TW,u:OW,U:IW,V:DW,w:FW,W:LW,x:null,X:null,y:RW,Y:zW,Z:BW,"%":R4},C={a:F,A:q,b:U,B:J,c:W,d:I4,e:I4,f:aW,g:O4,G:T4,H:D4,I:D4,j:eW,L:nW,m:QU,M:tW,p:T,q:ZU,Q:iW,s:oW,S:rW,u:KU,U:GU,V:XU,w:qU,W:YU,x:he,X,y:O4,Y:T4,Z:JU,"%":sW};k.x=D(r,k),k.X=D(a,k),k.c=D(t,k),E.x=D(r,E),E.X=D(a,E),E.c=D(t,E);function D(R,G){return function(ge){var le=[],ze=-1,Fe=0,Ce=R.length,Ae,_e,it;for(ge instanceof Date||(ge=new Date(+ge));++ze<Ce;)R.charCodeAt(ze)===37&&(le.push(R.slice(Fe,ze)),(_e=P4[Ae=R.charAt(++ze)])!=null?Ae=R.charAt(++ze):_e=Ae==="e"?" ":"0",(it=G[Ae])&&(Ae=it(ge,_e)),le.push(Ae),Fe=ze+1);return le.push(R.slice(Fe,ze)),le.join("")}}function O(R,G){return function(ge){var le=lu(1900,void 0,1),ze=I(le,R,ge+="",0),Fe,Ce;if(ze!=ge.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(G&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Fe=oy(lu(le.y,0,1)),Ce=Fe.getUTCDay(),Fe=Ce>4||Ce===0?m0.ceil(Fe):m0(Fe),Fe=yp.offset(Fe,(le.V-1)*7),le.y=Fe.getUTCFullYear(),le.m=Fe.getUTCMonth(),le.d=Fe.getUTCDate()+(le.w+6)%7):(Fe=iy(lu(le.y,0,1)),Ce=Fe.getDay(),Fe=Ce>4||Ce===0?f0.ceil(Fe):f0(Fe),Fe=xf.offset(Fe,(le.V-1)*7),le.y=Fe.getFullYear(),le.m=Fe.getMonth(),le.d=Fe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Ce="Z"in le?oy(lu(le.y,0,1)).getUTCDay():iy(lu(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Ce+5)%7:le.w+le.U*7-(Ce+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,oy(le)):iy(le)}}function I(R,G,ge,le){for(var ze=0,Fe=G.length,Ce=ge.length,Ae,_e;ze<Fe;){if(le>=Ce)return-1;if(Ae=G.charCodeAt(ze++),Ae===37){if(Ae=G.charAt(ze++),_e=C[Ae in P4?G.charAt(ze++):Ae],!_e||(le=_e(R,ge,le))<0)return-1}else if(Ae!=ge.charCodeAt(le++))return-1}return le}function T(R,G,ge){var le=m.exec(G.slice(ge));return le?(R.p=f.get(le[0].toLowerCase()),ge+le[0].length):-1}function F(R,G,ge){var le=p.exec(G.slice(ge));return le?(R.w=b.get(le[0].toLowerCase()),ge+le[0].length):-1}function q(R,G,ge){var le=h.exec(G.slice(ge));return le?(R.w=g.get(le[0].toLowerCase()),ge+le[0].length):-1}function U(R,G,ge){var le=N.exec(G.slice(ge));return le?(R.m=_.get(le[0].toLowerCase()),ge+le[0].length):-1}function J(R,G,ge){var le=y.exec(G.slice(ge));return le?(R.m=j.get(le[0].toLowerCase()),ge+le[0].length):-1}function W(R,G,ge){return I(R,t,G,ge)}function he(R,G,ge){return I(R,r,G,ge)}function X(R,G,ge){return I(R,a,G,ge)}function be(R){return o[R.getDay()]}function ne(R){return i[R.getDay()]}function ve(R){return u[R.getMonth()]}function me(R){return c[R.getMonth()]}function ae(R){return s[+(R.getHours()>=12)]}function P(R){return 1+~~(R.getMonth()/3)}function B(R){return o[R.getUTCDay()]}function H(R){return i[R.getUTCDay()]}function V(R){return u[R.getUTCMonth()]}function te(R){return c[R.getUTCMonth()]}function ye(R){return s[+(R.getUTCHours()>=12)]}function ke(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var G=D(R+="",k);return G.toString=function(){return R},G},parse:function(R){var G=O(R+="",!1);return G.toString=function(){return R},G},utcFormat:function(R){var G=D(R+="",E);return G.toString=function(){return R},G},utcParse:function(R){var G=O(R+="",!0);return G.toString=function(){return R},G}}}var P4={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,WU=/^%/,HU=/[\\^$*+?|[\]().{}]/g;function zt(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function VU(e){return e.replace(HU,"\\$&")}function cu(e){return new RegExp("^(?:"+e.map(VU).join("|")+")","i")}function du(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qU(e,t,r){var a=jn.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function KU(e,t,r){var a=jn.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function GU(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function XU(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function YU(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function T4(e,t,r){var a=jn.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function O4(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function JU(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function ZU(e,t,r){var a=jn.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function QU(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function I4(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function eW(e,t,r){var a=jn.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function D4(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function tW(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function rW(e,t,r){var a=jn.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function nW(e,t,r){var a=jn.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function aW(e,t,r){var a=jn.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function sW(e,t,r){var a=WU.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function iW(e,t,r){var a=jn.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function oW(e,t,r){var a=jn.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function F4(e,t){return zt(e.getDate(),t,2)}function lW(e,t){return zt(e.getHours(),t,2)}function cW(e,t){return zt(e.getHours()%12||12,t,2)}function dW(e,t){return zt(1+xf.count(Di(e),e),t,3)}function o3(e,t){return zt(e.getMilliseconds(),t,3)}function uW(e,t){return o3(e,t)+"000"}function fW(e,t){return zt(e.getMonth()+1,t,2)}function mW(e,t){return zt(e.getMinutes(),t,2)}function hW(e,t){return zt(e.getSeconds(),t,2)}function pW(e){var t=e.getDay();return t===0?7:t}function xW(e,t){return zt(bp.count(Di(e)-1,e),t,2)}function l3(e){var t=e.getDay();return t>=4||t===0?Vc(e):Vc.ceil(e)}function gW(e,t){return e=l3(e),zt(Vc.count(Di(e),e)+(Di(e).getDay()===4),t,2)}function vW(e){return e.getDay()}function yW(e,t){return zt(f0.count(Di(e)-1,e),t,2)}function bW(e,t){return zt(e.getFullYear()%100,t,2)}function jW(e,t){return e=l3(e),zt(e.getFullYear()%100,t,2)}function wW(e,t){return zt(e.getFullYear()%1e4,t,4)}function _W(e,t){var r=e.getDay();return e=r>=4||r===0?Vc(e):Vc.ceil(e),zt(e.getFullYear()%1e4,t,4)}function NW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zt(t/60|0,"0",2)+zt(t%60,"0",2)}function L4(e,t){return zt(e.getUTCDate(),t,2)}function SW(e,t){return zt(e.getUTCHours(),t,2)}function kW(e,t){return zt(e.getUTCHours()%12||12,t,2)}function EW(e,t){return zt(1+yp.count(Fi(e),e),t,3)}function c3(e,t){return zt(e.getUTCMilliseconds(),t,3)}function AW(e,t){return c3(e,t)+"000"}function CW(e,t){return zt(e.getUTCMonth()+1,t,2)}function PW(e,t){return zt(e.getUTCMinutes(),t,2)}function TW(e,t){return zt(e.getUTCSeconds(),t,2)}function OW(e){var t=e.getUTCDay();return t===0?7:t}function IW(e,t){return zt(jp.count(Fi(e)-1,e),t,2)}function d3(e){var t=e.getUTCDay();return t>=4||t===0?qc(e):qc.ceil(e)}function DW(e,t){return e=d3(e),zt(qc.count(Fi(e),e)+(Fi(e).getUTCDay()===4),t,2)}function FW(e){return e.getUTCDay()}function LW(e,t){return zt(m0.count(Fi(e)-1,e),t,2)}function RW(e,t){return zt(e.getUTCFullYear()%100,t,2)}function MW(e,t){return e=d3(e),zt(e.getUTCFullYear()%100,t,2)}function zW(e,t){return zt(e.getUTCFullYear()%1e4,t,4)}function $W(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qc(e):qc.ceil(e),zt(e.getUTCFullYear()%1e4,t,4)}function BW(){return"+0000"}function R4(){return"%"}function M4(e){return+e}function z4(e){return Math.floor(+e/1e3)}var mc,u3,f3;UW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UW(e){return mc=UU(e),u3=mc.format,mc.parse,f3=mc.utcFormat,mc.utcParse,mc}function WW(e){return new Date(e)}function HW(e){return e instanceof Date?+e:+new Date(+e)}function ij(e,t,r,a,s,i,o,c,u,m){var f=qb(),h=f.invert,g=f.domain,p=m(".%L"),b=m(":%S"),y=m("%I:%M"),j=m("%I %p"),N=m("%a %d"),_=m("%b %d"),k=m("%B"),E=m("%Y");function C(D){return(u(D)<D?p:c(D)<D?b:o(D)<D?y:i(D)<D?j:a(D)<D?s(D)<D?N:_:r(D)<D?k:E)(D)}return f.invert=function(D){return new Date(h(D))},f.domain=function(D){return arguments.length?g(Array.from(D,HW)):g().map(WW)},f.ticks=function(D){var O=g();return e(O[0],O[O.length-1],D??10)},f.tickFormat=function(D,O){return O==null?C:m(O)},f.nice=function(D){var O=g();return(!D||typeof D.range!="function")&&(D=t(O[0],O[O.length-1],D??10)),D?g(ZT(O,D)):f},f.copy=function(){return pf(f,ij(e,t,r,a,s,i,o,c,u,m))},f}function VW(){return ds.apply(ij($U,BU,Di,aj,bp,xf,rj,ej,gl,u3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qW(){return ds.apply(ij(MU,zU,Fi,sj,jp,yp,nj,tj,gl,f3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wp(){var e=0,t=1,r,a,s,i,o=na,c=!1,u;function m(h){return h==null||isNaN(h=+h)?u:o(s===0?.5:(h=(i(h)-r)*s,c?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),m):[e,t]},m.clamp=function(h){return arguments.length?(c=!!h,m):c},m.interpolator=function(h){return arguments.length?(o=h,m):o};function f(h){return function(g){var p,b;return arguments.length?([p,b]=g,o=h(p,b),m):[o(0),o(1)]}}return m.range=f(id),m.rangeRound=f(Vb),m.unknown=function(h){return arguments.length?(u=h,m):u},function(h){return i=h,r=h(e),a=h(t),s=r===a?0:1/(a-r),m}}function Ho(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function m3(){var e=Wo(wp()(na));return e.copy=function(){return Ho(e,m3())},Hi.apply(e,arguments)}function h3(){var e=Xb(wp()).domain([1,10]);return e.copy=function(){return Ho(e,h3()).base(e.base())},Hi.apply(e,arguments)}function p3(){var e=Yb(wp());return e.copy=function(){return Ho(e,p3()).constant(e.constant())},Hi.apply(e,arguments)}function oj(){var e=Jb(wp());return e.copy=function(){return Ho(e,oj()).exponent(e.exponent())},Hi.apply(e,arguments)}function KW(){return oj.apply(null,arguments).exponent(.5)}function x3(){var e=[],t=na;function r(a){if(a!=null&&!isNaN(a=+a))return t((mf(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Po),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>OB(e,i/a))},r.copy=function(){return x3(t).domain(e)},Hi.apply(r,arguments)}function _p(){var e=0,t=.5,r=1,a=1,s,i,o,c,u,m=na,f,h=!1,g;function p(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-i)*(a*y<a*i?c:u),m(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,s=f(e=+e),i=f(t=+t),o=f(r=+r),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(m=y,p):m};function b(y){return function(j){var N,_,k;return arguments.length?([N,_,k]=j,m=sU(y,[N,_,k]),p):[m(0),m(.5),m(1)]}}return p.range=b(id),p.rangeRound=b(Vb),p.unknown=function(y){return arguments.length?(g=y,p):g},function(y){return f=y,s=y(e),i=y(t),o=y(r),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p}}function g3(){var e=Wo(_p()(na));return e.copy=function(){return Ho(e,g3())},Hi.apply(e,arguments)}function v3(){var e=Xb(_p()).domain([.1,1,10]);return e.copy=function(){return Ho(e,v3()).base(e.base())},Hi.apply(e,arguments)}function y3(){var e=Yb(_p());return e.copy=function(){return Ho(e,y3()).constant(e.constant())},Hi.apply(e,arguments)}function lj(){var e=Jb(_p());return e.copy=function(){return Ho(e,lj()).exponent(e.exponent())},Hi.apply(e,arguments)}function GW(){return lj.apply(null,arguments).exponent(.5)}const xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ub,scaleDiverging:g3,scaleDivergingLog:v3,scaleDivergingPow:lj,scaleDivergingSqrt:GW,scaleDivergingSymlog:y3,scaleIdentity:JT,scaleImplicit:E1,scaleLinear:YT,scaleLog:QT,scaleOrdinal:Bb,scalePoint:FB,scalePow:Zb,scaleQuantile:r3,scaleQuantize:n3,scaleRadial:t3,scaleSequential:m3,scaleSequentialLog:h3,scaleSequentialPow:oj,scaleSequentialQuantile:x3,scaleSequentialSqrt:KW,scaleSequentialSymlog:p3,scaleSqrt:AU,scaleSymlog:e3,scaleThreshold:a3,scaleTime:VW,scaleUtc:qW,tickFormat:XT},Symbol.toStringTag,{value:"Module"}));var Vi=e=>e.chartData,Np=Ne([Vi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cj=(e,t,r,a)=>a?Np(e):Vi(e),b3=(e,t,r)=>r?Np(e):Vi(e);function Do(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(tr(t)&&tr(r))return!0}return!1}function $4(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function j3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,i;if(tr(r))s=r;else if(typeof r=="function")return;if(tr(a))i=a;else if(typeof a=="function")return;var o=[s,i];if(Do(o))return o}}function XW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Do(a))return $4(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,c;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Qe(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&JS.test(s)){var u=JS.exec(s);if(u==null||u[1]==null||t==null)o=void 0;else{var m=+u[1];o=t[0]-m}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Qe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&ZS.test(i)){var f=ZS.exec(i);if(f==null||f[1]==null||t==null)c=void 0;else{var h=+f[1];c=t[1]+h}}else c=t?.[1];var g=[o,c];if(Do(g))return t==null?g:$4(g,t,r)}}}var od=1e9,YW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uj,pr=!0,cs="[DecimalError] ",jl=cs+"Invalid argument: ",dj=cs+"Exponent out of range: ",ld=Math.floor,ul=Math.pow,JW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,za,fn=1e7,lr=7,w3=9007199254740991,h0=ld(w3/lr),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};nt.dividedBy=nt.div=function(e){return vi(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,r=t.constructor;return er(vi(t,new r(e),0,1),r.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return Vr(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(za))throw Error(cs+"NaN");if(r.s<1)throw Error(cs+(r.s?"NaN":"-Infinity"));return r.eq(za)?new a(0):(pr=!1,t=vi(Wu(r,i),Wu(e,i),i),pr=!0,er(t,s))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S3(t,e):_3(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(cs+"NaN");return r.s?(pr=!1,t=vi(r,e,0,1).times(e),pr=!0,r.minus(t)):er(new a(r),s)};nt.naturalExponential=nt.exp=function(){return N3(this)};nt.naturalLogarithm=nt.ln=function(){return Wu(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_3(t,e):S3(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jl+e);if(t=Vr(s)+1,a=s.d.length-1,r=a*lr+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};nt.squareRoot=nt.sqrt=function(){var e,t,r,a,s,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(cs+"NaN")}for(e=Vr(c),pr=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=Us(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ld((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),r=u.precision,s=o=r+3;;)if(i=a,a=i.plus(vi(c,i,o+2)).times(.5),Us(i.d).slice(0,o)===(t=Us(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(er(i,r+1,0),i.times(i).eq(c)){a=i;break}}else if(t!="9999")break;o+=4}return pr=!0,er(a,r)};nt.times=nt.mul=function(e){var t,r,a,s,i,o,c,u,m,f=this,h=f.constructor,g=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,u=g.length,m=p.length,u<m&&(i=g,g=p,p=i,o=u,u=m,m=o),i=[],o=u+m,a=o;a--;)i.push(0);for(a=m;--a>=0;){for(t=0,s=u+a;s>a;)c=i[s]+p[a]*g[s-a-1]+t,i[s--]=c%fn|0,t=c/fn|0;i[s]=(i[s]+t)%fn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,pr?er(e,h.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Gs(e,0,od),t===void 0?t=a.rounding:Gs(t,0,8),er(r,e+Vr(r)+1,t))};nt.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Pl(a,!0):(Gs(e,0,od),t===void 0?t=s.rounding:Gs(t,0,8),a=er(new s(a),e+1,t),r=Pl(a,!0,e+1)),r};nt.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Pl(s):(Gs(e,0,od),t===void 0?t=i.rounding:Gs(t,0,8),a=er(new i(s),e+Vr(s)+1,t),r=Pl(a.abs(),!1,e+Vr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return er(new t(e),Vr(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,r,a,s,i,o,c=this,u=c.constructor,m=12,f=+(e=new u(e));if(!e.s)return new u(za);if(c=new u(c),!c.s){if(e.s<1)throw Error(cs+"Infinity");return c}if(c.eq(za))return c;if(a=u.precision,e.eq(za))return er(c,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=f<0?-f:f)<=w3){for(s=new u(za),t=Math.ceil(a/lr+4),pr=!1;r%2&&(s=s.times(c),U4(s.d,t)),r=ld(r/2),r!==0;)c=c.times(c),U4(c.d,t);return pr=!0,e.s<0?new u(za).div(s):er(s,a)}}else if(i<0)throw Error(cs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,pr=!1,s=e.times(Wu(c,a+m)),pr=!0,s=N3(s),s.s=i,s};nt.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=Vr(s),a=Pl(s,r<=i.toExpNeg||r>=i.toExpPos)):(Gs(e,1,od),t===void 0?t=i.rounding:Gs(t,0,8),s=er(new i(s),e,t),r=Vr(s),a=Pl(s,e<=r||r<=i.toExpNeg,e)),a};nt.toSignificantDigits=nt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Gs(e,1,od),t===void 0?t=a.rounding:Gs(t,0,8)),er(new a(r),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vr(e),r=e.constructor;return Pl(e,t<=r.toExpNeg||t>=r.toExpPos)};function _3(e,t){var r,a,s,i,o,c,u,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),pr?er(t,h):t;if(u=e.d,m=t.d,o=e.e,s=t.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,c=m.length):(a=m,s=o,c=u.length),o=Math.ceil(h/lr),c=o>c?o+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=m.length,c-i<0&&(i=c,a=m,m=u,u=a),r=0;i;)r=(u[--i]=u[i]+m[i]+r)/fn|0,u[i]%=fn;for(r&&(u.unshift(r),++s),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=s,pr?er(t,h):t}function Gs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jl+e)}function Us(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=lr-a.length,r&&(i+=_o(r)),i+=a;o=e[t],a=o+"",r=lr-a.length,r&&(i+=_o(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var vi=(function(){function e(a,s){var i,o=0,c=a.length;for(a=a.slice();c--;)i=a[c]*s+o,a[c]=i%fn|0,o=i/fn|0;return o&&a.unshift(o),a}function t(a,s,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=s[c]){u=a[c]>s[c]?1:-1;break}return u}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*fn+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var c,u,m,f,h,g,p,b,y,j,N,_,k,E,C,D,O,I,T=a.constructor,F=a.s==s.s?1:-1,q=a.d,U=s.d;if(!a.s)return new T(a);if(!s.s)throw Error(cs+"Division by zero");for(u=a.e-s.e,O=U.length,C=q.length,p=new T(F),b=p.d=[],m=0;U[m]==(q[m]||0);)++m;if(U[m]>(q[m]||0)&&--u,i==null?_=i=T.precision:o?_=i+(Vr(a)-Vr(s))+1:_=i,_<0)return new T(0);if(_=_/lr+2|0,m=0,O==1)for(f=0,U=U[0],_++;(m<C||f)&&_--;m++)k=f*fn+(q[m]||0),b[m]=k/U|0,f=k%U|0;else{for(f=fn/(U[0]+1)|0,f>1&&(U=e(U,f),q=e(q,f),O=U.length,C=q.length),E=O,y=q.slice(0,O),j=y.length;j<O;)y[j++]=0;I=U.slice(),I.unshift(0),D=U[0],U[1]>=fn/2&&++D;do f=0,c=t(U,y,O,j),c<0?(N=y[0],O!=j&&(N=N*fn+(y[1]||0)),f=N/D|0,f>1?(f>=fn&&(f=fn-1),h=e(U,f),g=h.length,j=y.length,c=t(h,y,g,j),c==1&&(f--,r(h,O<g?I:U,g))):(f==0&&(c=f=1),h=U.slice()),g=h.length,g<j&&h.unshift(0),r(y,h,j),c==-1&&(j=y.length,c=t(U,y,O,j),c<1&&(f++,r(y,O<j?I:U,j))),j=y.length):c===0&&(f++,y=[0]),b[m++]=f,c&&y[0]?y[j++]=q[E]||0:(y=[q[E]],j=1);while((E++<C||y[0]!==void 0)&&_--)}return b[0]||b.shift(),p.e=u,er(p,o?i+Vr(p)+1:i)}})();function N3(e,t){var r,a,s,i,o,c,u=0,m=0,f=e.constructor,h=f.precision;if(Vr(e)>16)throw Error(dj+Vr(e));if(!e.s)return new f(za);for(pr=!1,c=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(a=Math.log(ul(2,m))/Math.LN10*2+5|0,c+=a,r=s=i=new f(za),f.precision=c;;){if(s=er(s.times(e),c),r=r.times(++u),o=i.plus(vi(s,r,c)),Us(o.d).slice(0,c)===Us(i.d).slice(0,c)){for(;m--;)i=er(i.times(i),c);return f.precision=h,t==null?(pr=!0,er(i,h)):i}i=o}}function Vr(e){for(var t=e.e*lr,r=e.d[0];r>=10;r/=10)t++;return t}function ly(e,t,r){if(t>e.LN10.sd())throw pr=!0,r&&(e.precision=r),Error(cs+"LN10 precision limit exceeded");return er(new e(e.LN10),t)}function _o(e){for(var t="";e--;)t+="0";return t}function Wu(e,t){var r,a,s,i,o,c,u,m,f,h=1,g=10,p=e,b=p.d,y=p.constructor,j=y.precision;if(p.s<1)throw Error(cs+(p.s?"NaN":"-Infinity"));if(p.eq(za))return new y(0);if(t==null?(pr=!1,m=j):m=t,p.eq(10))return t==null&&(pr=!0),ly(y,m);if(m+=g,y.precision=m,r=Us(b),a=r.charAt(0),i=Vr(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=Us(p.d),a=r.charAt(0),h++;i=Vr(p),a>1?(p=new y("0."+r),i++):p=new y(a+"."+r.slice(1))}else return u=ly(y,m+2,j).times(i+""),p=Wu(new y(a+"."+r.slice(1)),m-g).plus(u),y.precision=j,t==null?(pr=!0,er(p,j)):p;for(c=o=p=vi(p.minus(za),p.plus(za),m),f=er(p.times(p),m),s=3;;){if(o=er(o.times(f),m),u=c.plus(vi(o,new y(s),m)),Us(u.d).slice(0,m)===Us(c.d).slice(0,m))return c=c.times(2),i!==0&&(c=c.plus(ly(y,m+2,j).times(i+""))),c=vi(c,new y(h),m),y.precision=j,t==null?(pr=!0,er(c,j)):c;c=u,s+=2}}function B4(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=ld(r/lr),e.d=[],a=(r+1)%lr,r<0&&(a+=lr),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=lr;a<s;)e.d.push(+t.slice(a,a+=lr));t=t.slice(a),a=lr-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),pr&&(e.e>h0||e.e<-h0))throw Error(dj+r)}else e.s=0,e.e=0,e.d=[0];return e}function er(e,t,r){var a,s,i,o,c,u,m,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=lr,s=t,m=h[f=0];else{if(f=Math.ceil((a+1)/lr),i=h.length,f>=i)return e;for(m=i=h[f],o=1;i>=10;i/=10)o++;a%=lr,s=a-lr+o}if(r!==void 0&&(i=ul(10,o-s-1),c=m/i%10|0,u=t<0||h[f+1]!==void 0||m%i,u=r<4?(c||u)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(a>0?s>0?m/ul(10,o-s):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(i=Vr(e),h.length=1,t=t-i-1,h[0]=ul(10,(lr-t%lr)%lr),e.e=ld(-t/lr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,i=1,f--):(h.length=f+1,i=ul(10,lr-a),h[f]=s>0?(m/ul(10,o-s)%ul(10,s)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==fn&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=fn)break;h[f--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(pr&&(e.e>h0||e.e<-h0))throw Error(dj+Vr(e));return e}function S3(e,t){var r,a,s,i,o,c,u,m,f,h,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),pr?er(t,p):t;if(u=e.d,h=t.d,a=t.e,m=e.e,u=u.slice(),o=m-a,o){for(f=o<0,f?(r=u,o=-o,c=h.length):(r=h,a=m,c=u.length),s=Math.max(Math.ceil(p/lr),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=u.length,c=h.length,f=s<c,f&&(c=s),s=0;s<c;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}o=0}for(f&&(r=u,u=h,h=r,t.s=-t.s),c=u.length,s=h.length-c;s>0;--s)u[c++]=0;for(s=h.length;s>o;){if(u[--s]<h[s]){for(i=s;i&&u[--i]===0;)u[i]=fn-1;--u[i],u[s]+=fn}u[s]-=h[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,pr?er(t,p):t):new g(0)}function Pl(e,t,r){var a,s=Vr(e),i=Us(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+_o(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+_o(-s-1)+i,r&&(a=r-o)>0&&(i+=_o(a))):s>=o?(i+=_o(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+_o(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=_o(a))),e.s<0?"-"+i:i}function U4(e,t){if(e.length>t)return e.length=t,!0}function k3(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return B4(o,i.toString())}else if(typeof i!="string")throw Error(jl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,JW.test(i))B4(o,i);else throw Error(jl+i)}if(s.prototype=nt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=k3,s.config=s.set=ZW,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function ZW(e){if(!e||typeof e!="object")throw Error(cs+"Object expected");var t,r,a,s=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(ld(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(jl+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(jl+r+": "+a);return this}var uj=k3(YW);za=new uj(1);const Gt=uj;var QW=e=>e,E3={},A3=e=>e===E3,W4=e=>function t(){return arguments.length===0||arguments.length===1&&A3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},C3=(e,t)=>e===1?t:W4(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var i=a.filter(o=>o!==E3).length;return i>=e?t(...a):C3(e-i,W4(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var m=a.map(f=>A3(f)?c.shift():f);return t(...m,...c)}))}),eH=e=>C3(e.length,e),T1=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},tH=eH((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),rH=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return QW;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((c,u)=>u(c),i(...arguments))}};function P3(e){var t;return e===0?t=1:t=Math.floor(new Gt(e).abs().log(10).toNumber())+1,t}function T3(e,t,r){for(var a=new Gt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var O3=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},I3=(e,t,r)=>{if(e.lte(0))return new Gt(0);var a=P3(e.toNumber()),s=new Gt(10).pow(a),i=e.div(s),o=a!==1?.05:.1,c=new Gt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=c.mul(s);return t?new Gt(u.toNumber()):new Gt(Math.ceil(u.toNumber()))},nH=(e,t,r)=>{var a=new Gt(1),s=new Gt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Gt(10).pow(P3(e)-1),s=new Gt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Gt(Math.floor(e)))}else e===0?s=new Gt(Math.floor((t-1)/2)):r||(s=new Gt(Math.floor(e)));var o=Math.floor((t-1)/2),c=rH(tH(u=>s.add(new Gt(u-o).mul(a)).toNumber()),T1);return c(0,t)},D3=function(t,r,a,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var o=I3(new Gt(r).sub(t).div(a-1),s,i),c;t<=0&&r>=0?c=new Gt(0):(c=new Gt(t).add(r).div(2),c=c.sub(new Gt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),m=Math.ceil(new Gt(r).sub(c).div(o).toNumber()),f=u+m+1;return f>a?D3(t,r,a,s,i+1):(f<a&&(m=r>0?m+(a-f):m,u=r>0?u:u+(a-f)),{step:o,tickMin:c.sub(new Gt(u).mul(o)),tickMax:c.add(new Gt(m).mul(o))})},aH=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[c,u]=O3([r,a]);if(c===-1/0||u===1/0){var m=u===1/0?[c,...T1(0,s-1).map(()=>1/0)]:[...T1(0,s-1).map(()=>-1/0),u];return r>a?m.reverse():m}if(c===u)return nH(c,s,i);var{step:f,tickMin:h,tickMax:g}=D3(c,u,o,i,0),p=T3(h,g.add(new Gt(.1).mul(f)),f);return r>a?p.reverse():p},sH=function(t,r){var[a,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=O3([a,s]);if(o===-1/0||c===1/0)return[a,s];if(o===c)return[o];var u=Math.max(r,2),m=I3(new Gt(c).sub(o).div(u-1),i,0),f=[...T3(new Gt(o),new Gt(c),m),c];return i===!1&&(f=f.map(h=>Math.round(h))),a>s?f.reverse():f},F3=e=>e.rootProps.maxBarSize,iH=e=>e.rootProps.barGap,L3=e=>e.rootProps.barCategoryGap,oH=e=>e.rootProps.barSize,gf=e=>e.rootProps.stackOffset,R3=e=>e.rootProps.reverseStackOrder,fj=e=>e.options.chartName,mj=e=>e.rootProps.syncId,M3=e=>e.rootProps.syncMethod,hj=e=>e.options.eventEmitter,lH=e=>e.rootProps.baseValue,Mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},fi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:fi.type,unit:void 0},dH={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:Fa.type,unit:void 0},uH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fH={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:"category",unit:void 0},pj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uH:cH,xj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fH:dH,kp=e=>e.polarOptions,gj=Ne([Ui,Wi,tn],LT),z3=Ne([kp,gj],(e,t)=>{if(e!=null)return Vn(e.innerRadius,t,0)}),$3=Ne([kp,gj],(e,t)=>{if(e!=null)return Vn(e.outerRadius,t,t*.8)}),mH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},B3=Ne([kp],mH);Ne([pj,B3],Sp);var U3=Ne([gj,z3,$3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ne([xj,U3],Sp);var W3=Ne([Pt,kp,z3,$3,Ui,Wi],(e,t,r,a,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:o,cy:c,startAngle:u,endAngle:m}=t;return{cx:Vn(o,s,s/2),cy:Vn(c,i,i/2),innerRadius:r,outerRadius:a,startAngle:u,endAngle:m,clockWise:!1}}}),gr=(e,t)=>t,vf=(e,t,r)=>r;function Ep(e){return e?.id}function H3(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(c=>{var u,m=(u=c.data)!==null&&u!==void 0?u:a;if(!(m==null||m.length===0)){var f=Ep(c);m.forEach((h,g)=>{var p=i==null||s?g:String(Ht(h,i,null)),b=Ht(h,c.dataKey,0),y;o.has(p)?y=o.get(p):y={},Object.assign(y,{[f]:b}),o.set(p,y)})}}),Array.from(o.values())}function Ap(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Cp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Pp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var nn=e=>{var t=Pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cd=e=>e.tooltip.settings.axisId;function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(a){pH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pH(e,t,r){return(t=xH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1=[0,"auto"],dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},V3=(e,t)=>e.cartesianAxis.xAxis[t],qi=(e,t)=>{var r=V3(e,t);return r??dn},un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:O1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:df},q3=(e,t)=>e.cartesianAxis.yAxis[t],Ki=(e,t)=>{var r=q3(e,t);return r??un},vH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??vH},wr=(e,t,r)=>{switch(t){case"xAxis":return qi(e,r);case"yAxis":return Ki(e,r);case"zAxis":return vj(e,r);case"angleAxis":return pj(e,r);case"radiusAxis":return xj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yH=(e,t,r)=>{switch(t){case"xAxis":return qi(e,r);case"yAxis":return Ki(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yf=(e,t,r)=>{switch(t){case"xAxis":return qi(e,r);case"yAxis":return Ki(e,r);case"angleAxis":return pj(e,r);case"radiusAxis":return xj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},K3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var bf=e=>e.graphicalItems.cartesianItems,bH=Ne([gr,vf],yj),bj=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),jf=Ne([bf,wr,bH],bj,{memoizeOptions:{resultEqualityCheck:Pp}}),G3=Ne([jf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ap)),X3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jH=Ne([jf],X3),jj=e=>e.map(t=>t.data).filter(Boolean).flat(1),wH=Ne([jf],jj,{memoizeOptions:{resultEqualityCheck:Pp}}),wj=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},_j=Ne([wH,cj],wj),Nj=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:Ht(s,a)}))):e.map(a=>({value:a})),Tp=Ne([_j,wr,jf],Nj);function Y3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function kh(e){if(qs(e)||e instanceof Date){var t=Number(e);if(tr(t))return t}}function V4(e){if(Array.isArray(e)){var t=[kh(e[0]),kh(e[1])];return Do(t)?t:void 0}var r=kh(e);if(r!=null)return[r,r]}function Li(e){return e.map(kh).filter(pM)}function _H(e,t,r){return!r||typeof t!="number"||os(t)?[]:r.length?Li(r.flatMap(a=>{var s=Ht(e,a.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!tr(i)||!tr(o)))return[t-i,t+o]})):[]}var an=e=>{var t=nn(e),r=cd(e);return yf(e,t,r)},wf=Ne([an],e=>e?.dataKey),NH=Ne([G3,cj,an],H3),J3=(e,t,r,a)=>{var s={},i=t.reduce((o,c)=>{if(c.stackId==null)return o;var u=o[c.stackId];return u==null&&(u=[]),u.push(c),o[c.stackId]=u,o},s);return Object.fromEntries(Object.entries(i).map(o=>{var[c,u]=o,m=a?[...u].reverse():u,f=m.map(Ep);return[c,{stackedData:U9(e,f,r),graphicalItems:m}]}))},x0=Ne([NH,G3,gf,R3],J3),Z3=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(a==null&&r!=="zAxis"){var o=q9(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},SH=Ne([wr],e=>e.allowDataOverflow),Sj=e=>{var t;if(e==null||!("domain"in e))return O1;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Li(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:O1},kj=Ne([wr],Sj),Ej=Ne([kj,SH],j3),kH=Ne([x0,Vi,gr,Ej],Z3,{memoizeOptions:{resultEqualityCheck:Cp}}),Op=e=>e.errorBars,EH=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>Y3(r,a)),g0=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},Aj=(e,t,r,a,s)=>{var i,o;if(r.length>0&&e.forEach(c=>{r.forEach(u=>{var m,f,h=(m=a[u.id])===null||m===void 0?void 0:m.filter(N=>Y3(s,N)),g=Ht(c,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),p=_H(c,g,h);if(p.length>=2){var b=Math.min(...p),y=Math.max(...p);(i==null||b<i)&&(i=b),(o==null||y>o)&&(o=y)}var j=V4(g);j!=null&&(i=i==null?j[0]:Math.min(i,j[0]),o=o==null?j[1]:Math.max(o,j[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=V4(Ht(c,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),tr(i)&&tr(o))return[i,o]},AH=Ne([_j,wr,jH,Op,gr],Aj,{memoizeOptions:{resultEqualityCheck:Cp}});function CH(e){var{value:t}=e;if(qs(t)||t instanceof Date)return t}var PH=(e,t,r)=>{var a=e.map(CH).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hP(a))?$T(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},Q3=e=>e.referenceElements.dots,dd=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),TH=Ne([Q3,gr,vf],dd),eO=e=>e.referenceElements.areas,OH=Ne([eO,gr,vf],dd),tO=e=>e.referenceElements.lines,IH=Ne([tO,gr,vf],dd),rO=(e,t)=>{if(e!=null){var r=Li(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},DH=Ne(TH,gr,rO),nO=(e,t)=>{if(e!=null){var r=Li(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},FH=Ne([OH,gr],nO);function LH(e){var t;if(e.x!=null)return Li([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:Li(r)}function RH(e){var t;if(e.y!=null)return Li([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:Li(r)}var aO=(e,t)=>{if(e!=null){var r=e.flatMap(a=>t==="xAxis"?LH(a):RH(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MH=Ne([IH,gr],aO),zH=Ne(DH,MH,FH,(e,t,r)=>g0(e,r,t)),Cj=(e,t,r,a,s,i,o,c)=>{if(r!=null)return r;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",m=u?g0(a,i,s):g0(i,s);return XW(t,m,e.allowDataOverflow)},$H=Ne([wr,kj,Ej,kH,AH,zH,Pt,gr],Cj,{memoizeOptions:{resultEqualityCheck:Cp}}),BH=[0,1],Pj=(e,t,r,a,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,m=Qs(t,i);if(m&&c==null){var f;return $T(0,(f=r?.length)!==null&&f!==void 0?f:0)}return u==="category"?PH(a,e,m):s==="expand"?BH:o}},Tj=Ne([wr,Pt,_j,Tp,gf,gr,$H],Pj),sO=(e,t,r,a,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(af(i));return c in xu?c:"point"}}},ud=Ne([wr,Pt,K3,fj,gr],sO);function UH(e){if(e!=null){if(e in xu)return xu[e]();var t="scale".concat(af(e));if(t in xu)return xu[t]()}}function Oj(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=UH(t);if(s!=null){var i=s.domain(r).range(a);return R9(i),i}}}var Ij=(e,t,r)=>{var a=Sj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Do(e))return aH(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Do(e))return sH(e,t.tickCount,t.allowDecimals)}},Dj=Ne([Tj,yf,ud],Ij),Fj=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Do(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(s,i),Math.max(o,c)]}return t},WH=Ne([wr,Tj,Dj,gr],Fj),HH=Ne(Tp,wr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Li(e.map(h=>h.value))).sort((h,g)=>h-g),s=a[0],i=a[a.length-1];if(s==null||i==null)return 1/0;var o=i-s;if(o===0)return 1/0;for(var c=0;c<a.length-1;c++){var u=a[c],m=a[c+1];if(!(u==null||m==null)){var f=m-u;r=Math.min(r,f)}}return r/o}}),iO=Ne(HH,Pt,L3,tn,(e,t,r,a,s)=>s,(e,t,r,a,s)=>{if(!tr(e))return 0;var i=t==="vertical"?a.height:a.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Vn(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),VH=(e,t,r)=>{var a=qi(e,t);return a==null||typeof a.padding!="string"?0:iO(e,"xAxis",t,r,a.padding)},qH=(e,t,r)=>{var a=Ki(e,t);return a==null||typeof a.padding!="string"?0:iO(e,"yAxis",t,r,a.padding)},KH=Ne(qi,VH,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),GH=Ne(Ki,qH,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),XH=Ne([tn,KH,up,dp,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:i}=a;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),YH=Ne([tn,Pt,GH,up,dp,(e,t,r)=>r],(e,t,r,a,s,i)=>{var{padding:o}=s;return i?[a.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_f=(e,t,r,a)=>{var s;switch(t){case"xAxis":return XH(e,r,a);case"yAxis":return YH(e,r,a);case"zAxis":return(s=vj(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return B3(e);case"radiusAxis":return U3(e,r);default:return}},oO=Ne([wr,_f],Sp),Ip=Ne([wr,ud,WH,oO],Oj);Ne([jf,Op,gr],EH);function lO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dp=(e,t)=>t,Fp=(e,t,r)=>r,JH=Ne(lp,Dp,Fp,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(lO)),ZH=Ne(cp,Dp,Fp,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(lO)),cO=(e,t)=>({width:e.width,height:t.height}),QH=(e,t)=>{var r=typeof t.width=="number"?t.width:df;return{width:r,height:e.height}},dO=Ne(tn,qi,cO),eV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},tV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},rV=Ne(Wi,tn,JH,Dp,Fp,(e,t,r,a,s)=>{var i={},o;return r.forEach(c=>{var u=cO(t,c);o==null&&(o=eV(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;i[c.id]=o-Number(m)*u.height,o+=(m?-1:1)*u.height}),i}),nV=Ne(Ui,tn,ZH,Dp,Fp,(e,t,r,a,s)=>{var i={},o;return r.forEach(c=>{var u=QH(t,c);o==null&&(o=tV(t,a,e));var m=a==="left"&&!s||a==="right"&&s;i[c.id]=o-Number(m)*u.width,o+=(m?-1:1)*u.width}),i}),aV=(e,t)=>{var r=qi(e,t);if(r!=null)return rV(e,r.orientation,r.mirror)},sV=Ne([tn,qi,aV,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),iV=(e,t)=>{var r=Ki(e,t);if(r!=null)return nV(e,r.orientation,r.mirror)},oV=Ne([tn,Ki,iV,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),uO=Ne(tn,Ki,(e,t)=>{var r=typeof t.width=="number"?t.width:df;return{width:r,height:e.height}}),q4=(e,t,r)=>{switch(t){case"xAxis":return dO(e,r).width;case"yAxis":return uO(e,r).height;default:return}},fO=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,c=Qs(e,a),u=t.map(m=>m.value);if(o&&c&&i==="category"&&s&&hP(u))return u}},Lj=Ne([Pt,Tp,wr,gr],fO),mO=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Qs(e,a);if(o&&(s==="number"||i!=="auto"))return t.map(c=>c.value)}},Rj=Ne([Pt,Tp,yf,gr],mO),K4=Ne([Pt,yH,ud,Ip,Lj,Rj,_f,Dj,gr],(e,t,r,a,s,i,o,c,u)=>{if(t!=null){var m=Qs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:s,isCategorical:m,niceTicks:c,range:o,realScaleType:r,scale:a}}}),lV=(e,t,r,a,s,i,o,c,u)=>{if(!(t==null||a==null)){var m=Qs(e,u),{type:f,ticks:h,tickCount:g}=t,p=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,b=f==="category"&&a.bandwidth?a.bandwidth()/p:0;b=u==="angleAxis"&&i!=null&&i.length>=2?pn(i[0]-i[1])*2*b:b;var y=h||s;if(y){var j=y.map((N,_)=>{var k=o?o.indexOf(N):N;return{index:_,coordinate:a(k)+b,value:N,offset:b}});return j.filter(N=>tr(N.coordinate))}return m&&c?c.map((N,_)=>({coordinate:a(N)+b,value:N,index:_,offset:b})).filter(N=>tr(N.coordinate)):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+b,value:N,offset:b})):a.domain().map((N,_)=>({coordinate:a(N)+b,value:o?o[N]:N,index:_,offset:b}))}},hO=Ne([Pt,yf,ud,Ip,Dj,_f,Lj,Rj,gr],lV),cV=(e,t,r,a,s,i,o)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var c=Qs(e,o),{tickCount:u}=t,m=0;return m=o==="angleAxis"&&a?.length>=2?pn(a[0]-a[1])*2*m:m,c&&i?i.map((f,h)=>({coordinate:r(f)+m,value:f,index:h,offset:m})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+m,value:f,offset:m})):r.domain().map((f,h)=>({coordinate:r(f)+m,value:s?s[f]:f,index:h,offset:m}))}},Xs=Ne([Pt,yf,Ip,_f,Lj,Rj,gr],cV),Ys=Ne(wr,Ip,(e,t)=>{if(!(e==null||t==null))return p0(p0({},e),{},{scale:t})}),dV=Ne([wr,ud,Tj,oO],Oj);Ne((e,t,r)=>vj(e,r),dV,(e,t)=>{if(!(e==null||t==null))return p0(p0({},e),{},{scale:t})});var uV=Ne([Pt,lp,cp],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pO=e=>e.options.defaultTooltipEventType,xO=e=>e.options.validateTooltipEventTypes;function gO(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function Mj(e,t){var r=pO(e),a=xO(e);return gO(t,r,a)}function fV(e){return st(t=>Mj(t,e))}var vO=(e,t)=>{var r,a=Number(t);if(!(os(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},mV=e=>e.tooltip.settings,So={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},hV={itemInteraction:{click:So,hover:So},axisInteraction:{click:So,hover:So},keyboardInteraction:So,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yO=ka({name:"tooltip",initialState:hV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=ks(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:mr()},removeTooltipEntrySettings:{reducer(e,t){var r=ks(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:pV,replaceTooltipEntrySettings:xV,removeTooltipEntrySettings:gV,setTooltipSettingsState:vV,setActiveMouseOverItemIndex:bO,mouseLeaveItem:yV,mouseLeaveChart:jO,setActiveClickItemIndex:bV,setMouseOverAxisIndex:wO,setMouseClickAxisIndex:jV,setSyncInteraction:I1,setKeyboardInteraction:D1}=yO.actions,wV=yO.reducer;function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(a){_V(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _V(e,t,r){return(t=NV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function EV(e){return e.index!=null}var _O=(e,t,r,a)=>{if(t==null)return So;var s=kV(e,t,r);if(s==null)return So;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(EV(s)){if(i)return eh(eh({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return eh(eh({},So),{},{coordinate:s.coordinate})};function AV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function CV(e,t){var r=AV(e),a=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(a,s),o=Math.max(a,s);return r>=i&&r<=o}function PV(e,t,r){if(r==null||t==null)return!0;var a=Ht(e,t);return a==null||!Do(r)?!0:CV(a,r)}var zj=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var i=Number(s);if(!tr(i))return s;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(i,c)),m=t[u];return m==null||PV(m,r,a)?String(u):null},NO=(e,t,r,a,s,i,o,c)=>{if(!(i==null||c==null)){var u=o[0],m=u==null?void 0:c(u.positions,i);if(m!=null)return m;var f=s?.[Number(i)];if(f)return r==="horizontal"?{x:f.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:f.coordinate}}},SO=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;if(r==="hover"?s=e.itemInteraction.hover.graphicalItemId:s=e.itemInteraction.click.graphicalItemId,s==null&&a!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===s})},Nf=e=>e.options.tooltipPayloadSearcher,fd=e=>e.tooltip;function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Y4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(a){TV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TV(e,t,r){return(t=OV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DV(e,t){return e??t}var kO=(e,t,r,a,s,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:u,dataStartIndex:m,dataEndIndex:f}=r,h=[];return e.reduce((g,p)=>{var b,{dataDefinedOnItem:y,settings:j}=p,N=DV(y,c),_=Array.isArray(N)?lT(N,m,f):N,k=(b=j?.dataKey)!==null&&b!==void 0?b:a,E=j?.nameKey,C;if(a&&Array.isArray(_)&&!Array.isArray(_[0])&&o==="axis"?C=pP(_,a,s):C=i(_,t,u,E),Array.isArray(C))C.forEach(O=>{var I=Y4(Y4({},j),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});g.push(QS({tooltipEntrySettings:I,dataKey:O.dataKey,payload:O.payload,value:Ht(O.payload,O.dataKey),name:O.name}))});else{var D;g.push(QS({tooltipEntrySettings:j,dataKey:k,payload:C,value:Ht(C,k),name:(D=Ht(C,E))!==null&&D!==void 0?D:j?.name}))}return g},h)}},$j=Ne([an,Pt,K3,fj,nn],sO),FV=Ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),LV=Ne([nn,cd],yj),md=Ne([FV,an,LV],bj,{memoizeOptions:{resultEqualityCheck:Pp}}),RV=Ne([md],e=>e.filter(Ap)),MV=Ne([md],jj,{memoizeOptions:{resultEqualityCheck:Pp}}),hd=Ne([MV,Vi],wj),zV=Ne([RV,Vi,an],H3),Bj=Ne([hd,an,md],Nj),EO=Ne([an],Sj),$V=Ne([an],e=>e.allowDataOverflow),AO=Ne([EO,$V],j3),BV=Ne([md],e=>e.filter(Ap)),UV=Ne([zV,BV,gf,R3],J3),WV=Ne([UV,Vi,nn,AO],Z3),HV=Ne([md],X3),VV=Ne([hd,an,HV,Op,nn],Aj,{memoizeOptions:{resultEqualityCheck:Cp}}),qV=Ne([Q3,nn,cd],dd),KV=Ne([qV,nn],rO),GV=Ne([eO,nn,cd],dd),XV=Ne([GV,nn],nO),YV=Ne([tO,nn,cd],dd),JV=Ne([YV,nn],aO),ZV=Ne([KV,JV,XV],g0),QV=Ne([an,EO,AO,WV,VV,ZV,Pt,nn],Cj),Sf=Ne([an,Pt,hd,Bj,gf,nn,QV],Pj),eq=Ne([Sf,an,$j],Ij),tq=Ne([an,Sf,eq,nn],Fj),CO=e=>{var t=nn(e),r=cd(e),a=!1;return _f(e,t,r,a)},PO=Ne([an,CO],Sp),TO=Ne([an,$j,tq,PO],Oj),rq=Ne([Pt,Bj,an,nn],fO),nq=Ne([Pt,Bj,an,nn],mO),aq=(e,t,r,a,s,i,o,c)=>{if(t){var{type:u}=t,m=Qs(e,c);if(a){var f=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,h=u==="category"&&a.bandwidth?a.bandwidth()/f:0;return h=c==="angleAxis"&&s!=null&&s?.length>=2?pn(s[0]-s[1])*2*h:h,m&&o?o.map((g,p)=>({coordinate:a(g)+h,value:g,index:p,offset:h})):a.domain().map((g,p)=>({coordinate:a(g)+h,value:i?i[g]:g,index:p,offset:h}))}}},Gi=Ne([Pt,an,$j,TO,CO,rq,nq,nn],aq),Uj=Ne([pO,xO,mV],(e,t,r)=>gO(r.shared,e,t)),OO=e=>e.tooltip.settings.trigger,Wj=e=>e.tooltip.settings.defaultIndex,kf=Ne([fd,Uj,OO,Wj],_O),Fo=Ne([kf,hd,wf,Sf],zj),IO=Ne([Gi,Fo],vO),Hj=Ne([kf],e=>{if(e)return e.dataKey}),sq=Ne([kf],e=>{if(e)return e.graphicalItemId}),DO=Ne([fd,Uj,OO,Wj],SO),iq=Ne([Ui,Wi,Pt,tn,Gi,Wj,DO,Nf],NO),oq=Ne([kf,iq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lq=Ne([kf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),cq=Ne([DO,Fo,Vi,wf,IO,Nf,Uj],kO),dq=Ne([cq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(a){uq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hq=()=>st(an),pq=()=>{var e=hq(),t=st(Gi),r=st(TO);return Io(!e||!r?void 0:Z4(Z4({},e),{},{scale:r}),t)};function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(a){xq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xq(e,t,r){return(t=gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yq=(e,t,r,a)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},bq=(e,t,r,a)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=a;return hc(hc(hc({},a),Hr(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var c=s.coordinate,{angle:u}=a;return hc(hc(hc({},a),Hr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jq(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var FO=(e,t,r,a,s)=>{var i,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<o;c++){var u,m,f,h,g,p=c>0?(u=r[c-1])===null||u===void 0?void 0:u.coordinate:(m=r[o-1])===null||m===void 0?void 0:m.coordinate,b=(f=r[c])===null||f===void 0?void 0:f.coordinate,y=c>=o-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(g=r[c+1])===null||g===void 0?void 0:g.coordinate,j=void 0;if(!(p==null||b==null||y==null))if(pn(b-p)!==pn(y-b)){var N=[];if(pn(y-b)===pn(s[1]-s[0])){j=y;var _=b+s[1]-s[0];N[0]=Math.min(_,(_+p)/2),N[1]=Math.max(_,(_+p)/2)}else{j=p;var k=y+s[1]-s[0];N[0]=Math.min(b,(k+b)/2),N[1]=Math.max(b,(k+b)/2)}var E=[Math.min(b,(j+b)/2),Math.max(b,(j+b)/2)];if(e>E[0]&&e<=E[1]||e>=N[0]&&e<=N[1]){var C;return(C=r[c])===null||C===void 0?void 0:C.index}}else{var D=Math.min(p,y),O=Math.max(p,y);if(e>(D+b)/2&&e<=(O+b)/2){var I;return(I=r[c])===null||I===void 0?void 0:I.index}}}else if(t)for(var T=0;T<o;T++){var F=t[T];if(F!=null){var q=t[T+1],U=t[T-1];if(T===0&&q!=null&&e<=(F.coordinate+q.coordinate)/2||T===o-1&&U!=null&&e>(F.coordinate+U.coordinate)/2||T>0&&T<o-1&&U!=null&&q!=null&&e>(F.coordinate+U.coordinate)/2&&e<=(F.coordinate+q.coordinate)/2)return F.index}}return-1},LO=()=>st(fj),Vj=(e,t)=>t,RO=(e,t,r)=>r,qj=(e,t,r,a)=>a,wq=Ne(Gi,e=>Z0(e,t=>t.coordinate)),Kj=Ne([fd,Vj,RO,qj],_O),Gj=Ne([Kj,hd,wf,Sf],zj),_q=(e,t,r)=>{if(t!=null){var a=fd(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},MO=Ne([fd,Vj,RO,qj],SO),v0=Ne([Ui,Wi,Pt,tn,Gi,qj,MO,Nf],NO),Nq=Ne([Kj,v0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),zO=Ne([Gi,Gj],vO),Sq=Ne([MO,Gj,Vi,wf,zO,Nf,Vj],kO),kq=Ne([Kj,Gj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Eq=(e,t,r,a,s,i,o)=>{if(!(!e||!r||!a||!s)&&jq(e,o)){var c=K9(e,t),u=FO(c,i,s,r,a),m=yq(t,s,u,e);return{activeIndex:String(u),activeCoordinate:m}}},Aq=(e,t,r,a,s,i,o)=>{if(!(!e||!a||!s||!i||!r)){var c=uB(e,r);if(c){var u=G9(c,t),m=FO(u,o,i,a,s),f=bq(t,i,m,c);return{activeIndex:String(m),activeCoordinate:f}}}},Cq=(e,t,r,a,s,i,o,c)=>{if(!(!e||!t||!a||!s||!i))return t==="horizontal"||t==="vertical"?Eq(e,t,a,s,i,o,c):Aq(e,t,r,a,s,i,o)},Pq=Ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElement:a.element}}),Tq=Ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Mr)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:hH}});function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(a){Oq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Oq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fq={},Lq={zIndexMap:Object.values(Mr).reduce((e,t)=>tE(tE({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Fq)},Rq=new Set(Object.values(Mr));function Mq(e){return Rq.has(e)}var $O=ka({name:"zIndex",initialState:Lq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:mr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Mq(r)&&delete e.zIndexMap[r])},prepare:mr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElement=a:e.zIndexMap[r].element=a:e.zIndexMap[r]={consumers:0,element:s?void 0:a,panoramaElement:s?a:void 0}},prepare:mr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:mr()}}}),{registerZIndexPortal:zq,unregisterZIndexPortal:$q,registerZIndexPortalElement:Bq,unregisterZIndexPortalElement:Uq}=$O.actions,Wq=$O.reducer;function da(e){var{zIndex:t,children:r}=e,a=kz(),s=a&&t!==void 0&&t!==0,i=bn(),o=sr();v.useLayoutEffect(()=>s?(o(zq({zIndex:t})),()=>{o($q({zIndex:t}))}):sf,[o,t,s]);var c=st(u=>Pq(u,t,i));return s?c?ob.createPortal(r,c):null:r}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F1.apply(null,arguments)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(a){Hq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hq(e,t,r){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kq(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return v.isValidElement(t)?v.cloneElement(t,a):v.createElement(r,a)}function Gq(e){var t,{coordinate:r,payload:a,index:s,offset:i,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:m,chartName:f}=e,h=r,g=a,p=s;if(!u||!h||f!=="ScatterChart"&&m!=="axis")return null;var b,y,j;if(f==="ScatterChart")b=h,y=S$,j=Mr.cursorLine;else if(f==="BarChart")b=k$(c,h,i,o),y=FT,j=Mr.cursorRectangle;else if(c==="radial"&&gP(h)){var{cx:N,cy:_,radius:k,startAngle:E,endAngle:C}=RT(h);b={cx:N,cy:_,startAngle:E,endAngle:C,innerRadius:k,outerRadius:k},y=zT,j=Mr.cursorLine}else b={points:pB(c,h,i)},y=Oc,j=Mr.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,O=th(th(th(th({stroke:"#ccc",pointerEvents:"none"},i),b),Nl(u)),{},{payload:g,payloadIndex:p,className:Ot("recharts-tooltip-cursor",D)});return v.createElement(da,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},v.createElement(Kq,{cursor:u,cursorComp:y,cursorProps:O}))}function Xq(e){var t=pq(),r=yT(),a=Uo(),s=LO();return t==null||r==null||a==null||s==null?null:v.createElement(Gq,F1({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var BO=v.createContext(null),Yq=()=>v.useContext(BO),cy={exports:{}},nE;function Jq(){return nE||(nE=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(u,m,f){this.fn=u,this.context=m,this.once=f||!1}function i(u,m,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,h||u,g),b=r?r+m:m;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],p]:u._events[b].push(p):(u._events[b]=p,u._eventsCount++),u}function o(u,m){--u._eventsCount===0?u._events=new a:delete u._events[m]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],f,h;if(this._eventsCount===0)return m;for(h in f=this._events)t.call(f,h)&&m.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},c.prototype.listeners=function(m){var f=r?r+m:m,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,p=h.length,b=new Array(p);g<p;g++)b[g]=h[g].fn;return b},c.prototype.listenerCount=function(m){var f=r?r+m:m,h=this._events[f];return h?h.fn?1:h.length:0},c.prototype.emit=function(m,f,h,g,p,b){var y=r?r+m:m;if(!this._events[y])return!1;var j=this._events[y],N=arguments.length,_,k;if(j.fn){switch(j.once&&this.removeListener(m,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,f),!0;case 3:return j.fn.call(j.context,f,h),!0;case 4:return j.fn.call(j.context,f,h,g),!0;case 5:return j.fn.call(j.context,f,h,g,p),!0;case 6:return j.fn.call(j.context,f,h,g,p,b),!0}for(k=1,_=new Array(N-1);k<N;k++)_[k-1]=arguments[k];j.fn.apply(j.context,_)}else{var E=j.length,C;for(k=0;k<E;k++)switch(j[k].once&&this.removeListener(m,j[k].fn,void 0,!0),N){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,f);break;case 3:j[k].fn.call(j[k].context,f,h);break;case 4:j[k].fn.call(j[k].context,f,h,g);break;default:if(!_)for(C=1,_=new Array(N-1);C<N;C++)_[C-1]=arguments[C];j[k].fn.apply(j[k].context,_)}}return!0},c.prototype.on=function(m,f,h){return i(this,m,f,h,!1)},c.prototype.once=function(m,f,h){return i(this,m,f,h,!0)},c.prototype.removeListener=function(m,f,h,g){var p=r?r+m:m;if(!this._events[p])return this;if(!f)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===f&&(!g||b.once)&&(!h||b.context===h)&&o(this,p);else{for(var y=0,j=[],N=b.length;y<N;y++)(b[y].fn!==f||g&&!b[y].once||h&&b[y].context!==h)&&j.push(b[y]);j.length?this._events[p]=j.length===1?j[0]:j:o(this,p)}return this},c.prototype.removeAllListeners=function(m){var f;return m?(f=r?r+m:m,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(cy)),cy.exports}var Zq=Jq();const Qq=$i(Zq);var Hu=new Qq,L1="recharts.syncEvent.tooltip",aE="recharts.syncEvent.brush";function Lp(e,t){if(t){var r=Number.parseInt(t,10);if(!os(r))return e?.[r]}}var eK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UO=ka({name:"options",initialState:eK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tK=UO.reducer,{createEventEmitter:rK}=UO.actions;function nK(e){return e.tooltip.syncInteraction}var aK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WO=ka({name:"chartData",initialState:aK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:sE,setDataStartEndIndexes:sK,setComputedData:kue}=WO.actions,iK=WO.reducer,oK=["x","y"];function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(a){lK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lK(e,t,r){return(t=cK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uK(e,t){if(e==null)return{};var r,a,s=fK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function mK(){var e=st(mj),t=st(hj),r=sr(),a=st(M3),s=st(Gi),i=Uo(),o=fp(),c=st(u=>u.rootProps.className);v.useEffect(()=>{if(e==null)return sf;var u=(m,f,h)=>{if(t!==h&&e===m){if(a==="index"){var g;if(o&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var p=f.payload.coordinate,{x:b,y}=p,j=uK(p,oK),{x:N,y:_,width:k,height:E}=f.payload.sourceViewBox,C=pc(pc({},j),{},{x:o.x+(k?(b-N)/k:0)*o.width,y:o.y+(E?(y-_)/E:0)*o.height});r(pc(pc({},f),{},{payload:pc(pc({},f.payload),{},{coordinate:C})}))}else r(f);return}if(s!=null){var D;if(typeof a=="function"){var O={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},I=a(s,O);D=s[I]}else a==="value"&&(D=s.find(X=>String(X.value)===f.payload.label));var{coordinate:T}=f.payload;if(D==null||f.payload.active===!1||T==null||o==null){r(I1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:q}=T,U=Math.min(F,o.x+o.width),J=Math.min(q,o.y+o.height),W={x:i==="horizontal"?D.coordinate:U,y:i==="horizontal"?J:D.coordinate},he=I1({active:f.payload.active,coordinate:W,dataKey:f.payload.dataKey,index:String(D.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(he)}}};return Hu.on(L1,u),()=>{Hu.off(L1,u)}},[c,r,t,e,a,s,i,o])}function hK(){var e=st(mj),t=st(hj),r=sr();v.useEffect(()=>{if(e==null)return sf;var a=(s,i,o)=>{t!==o&&e===s&&r(sK(i))};return Hu.on(aE,a),()=>{Hu.off(aE,a)}},[r,t,e])}function pK(){var e=sr();v.useEffect(()=>{e(rK())},[e]),mK(),hK()}function xK(e,t,r,a,s,i){var o=st(p=>_q(p,e,t)),c=st(hj),u=st(mj),m=st(M3),f=st(nK),h=f?.active,g=fp();v.useEffect(()=>{if(!h&&u!=null&&c!=null){var p=I1({active:i,coordinate:r,dataKey:o,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:g,graphicalItemId:void 0});Hu.emit(L1,u,p,c)}},[h,r,o,s,a,c,u,m,i,g])}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(a){gK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gK(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bK(e){return e.dataKey}function jK(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(a$,t)}var cE=[],wK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yi(e){var t,r,a=Or(e,wK),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:c,content:u,filterNull:m,isAnimationActive:f,offset:h,payloadUniqBy:g,position:p,reverseDirection:b,useTranslate3d:y,wrapperStyle:j,cursor:N,shared:_,trigger:k,defaultIndex:E,portal:C,axisId:D}=a,O=sr(),I=typeof E=="number"?String(E):E;v.useEffect(()=>{O(vV({shared:_,trigger:k,axisId:D,active:s,defaultIndex:I}))},[O,_,k,D,s,I]);var T=fp(),F=PT(),q=fV(_),{activeIndex:U,isActive:J}=(t=st(ye=>kq(ye,q,k,I)))!==null&&t!==void 0?t:{},W=st(ye=>Sq(ye,q,k,I)),he=st(ye=>zO(ye,q,k,I)),X=st(ye=>Nq(ye,q,k,I)),be=W,ne=Yq(),ve=(r=s??J)!==null&&r!==void 0?r:!1,[me,ae]=OP([be,ve]),P=q==="axis"?he:void 0;xK(q,k,X,P,U,ve);var B=C??ne;if(B==null||T==null||q==null)return null;var H=be??cE;ve||(H=cE),m&&H.length&&(H=EP(H.filter(ye=>ye.value!=null&&(ye.hide!==!0||a.includeHidden)),g,bK));var V=H.length>0,te=v.createElement(u$,{allowEscapeViewBox:i,animationDuration:o,animationEasing:c,isAnimationActive:f,active:ve,coordinate:X,hasPayload:V,offset:h,position:p,reverseDirection:b,useTranslate3d:y,viewBox:T,wrapperStyle:j,lastBoundingBox:me,innerRef:ae,hasPortalFromProps:!!C},jK(u,lE(lE({},a),{},{payload:H,label:P,active:ve,activeIndex:U,coordinate:X,accessibilityLayer:F})));return v.createElement(v.Fragment,null,ob.createPortal(te,B),ve&&v.createElement(Xq,{cursor:N,tooltipEventType:q,coordinate:X,payload:H,index:U}))}var pd=e=>null;pd.displayName="Cell";function _K(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=SK(e,"string");return typeof t=="symbol"?t:t+""}function SK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kK{constructor(t){_K(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function EK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(a){AK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=PK(e,"string");return typeof t=="symbol"?t:t+""}function PK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK={cacheSize:2e3,enableCache:!0},HO=EK({},TK),uE=new kK(HO.cacheSize),OK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fE="recharts_measurement_span";function IK(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(c)}var mE=(e,t)=>{try{var r=document.getElementById(fE);r||(r=document.createElement("span"),r.setAttribute("id",fE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,OK,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},bu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ff.isSsr)return{width:0,height:0};if(!HO.enableCache)return mE(t,r);var a=IK(t,r),s=uE.get(a);if(s)return s;var i=mE(t,r);return uE.set(a,i),i},VO;function DK(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$K=["cm","mm","pt","pc","in","Q","px"];function BK(e){return $K.includes(e)}var Ec="NaN";function UK(e,t){return e*zK[t]}class kn{static parse(t){var r,[,a,s]=(r=MK.exec(t))!==null&&r!==void 0?r:[];return a==null?kn.NaN:new kn(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,os(t)&&(this.unit=""),r!==""&&!RK.test(r)&&(this.num=NaN,this.unit=""),BK(r)&&(this.num=UK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kn(NaN,""):new kn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kn(NaN,""):new kn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kn(NaN,""):new kn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kn(NaN,""):new kn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return os(this.num)}}VO=kn;DK(kn,"NaN",new VO(NaN,""));function qO(e){if(e==null||e.includes(Ec))return Ec;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,i]=(r=hE.exec(t))!==null&&r!==void 0?r:[],o=kn.parse(a??""),c=kn.parse(i??""),u=s==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return Ec;t=t.replace(hE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,f,h,g]=(m=pE.exec(t))!==null&&m!==void 0?m:[],p=kn.parse(f??""),b=kn.parse(g??""),y=h==="+"?p.add(b):p.subtract(b);if(y.isNaN())return Ec;t=t.replace(pE,y.toString())}return t}var xE=/\(([^()]*)\)/;function WK(e){for(var t=e,r;(r=xE.exec(t))!=null;){var[,a]=r;t=t.replace(xE,qO(a))}return t}function HK(e){var t=e.replace(/\s+/g,"");return t=WK(t),t=qO(t),t}function VK(e){try{return HK(e)}catch{return Ec}}function dy(e){var t=VK(e.slice(5,-1));return t===Ec?"":t}var qK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],KK=["dx","dy","angle","className","breakAll"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R1.apply(null,arguments)}function gE(e,t){if(e==null)return{};var r,a,s=GK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var KO=/[ \f\n\r\t\v\u2028\u2029]+/,GO=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];cr(t)||(r?s=t.toString().split(""):s=t.toString().split(KO));var i=s.map(c=>({word:c,width:bu(c,a).width})),o=r?0:bu("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function XK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var XO=(e,t,r,a)=>e.reduce((s,i)=>{var{word:o,width:c}=i,u=s[s.length-1];if(u&&c!=null&&(t==null||a||u.width+c+r<Number(t)))u.words.push(o),u.width+=c+r;else{var m={words:[o],width:c};s.push(m)}return s},[]),YO=e=>e.reduce((t,r)=>t.width>r.width?t:r),YK="",vE=(e,t,r,a,s,i,o,c)=>{var u=e.slice(0,t),m=GO({breakAll:r,style:a,children:u+YK});if(!m)return[!1,[]];var f=XO(m.wordsWithComputedWidth,i,o,c),h=f.length>s||YO(f).width>Number(i);return[h,f]},JK=(e,t,r,a,s)=>{var{maxLines:i,children:o,style:c,breakAll:u}=e,m=Qe(i),f=String(o),h=XO(t,a,r,s);if(!m||s)return h;var g=h.length>i||YO(h).width>Number(a);if(!g)return h;for(var p=0,b=f.length-1,y=0,j;p<=b&&y<=f.length-1;){var N=Math.floor((p+b)/2),_=N-1,[k,E]=vE(f,_,u,c,i,a,r,s),[C]=vE(f,N,u,c,i,a,r,s);if(!k&&!C&&(p=N+1),k&&C&&(b=N-1),!k&&C){j=E;break}y++}return j||h},yE=e=>{var t=cr(e)?[]:e.toString().split(KO);return[{words:t,width:void 0}]},ZK=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!ff.isSsr){var c,u,m=GO({breakAll:i,children:a,style:s});if(m){var{wordsWithComputedWidth:f,spaceWidth:h}=m;c=f,u=h}else return yE(a);return JK({breakAll:i,children:a,maxLines:o,style:s},c,u,t,!!r)}return yE(a)},JO="#808080",QK={angle:0,breakAll:!1,capHeight:"0.71em",fill:JO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Rp=v.forwardRef((e,t)=>{var r=Or(e,QK),{x:a,y:s,lineHeight:i,capHeight:o,fill:c,scaleToFit:u,textAnchor:m,verticalAnchor:f}=r,h=gE(r,qK),g=v.useMemo(()=>ZK({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:p,dy:b,angle:y,className:j,breakAll:N}=h,_=gE(h,KK);if(!qs(a)||!qs(s)||g.length===0)return null;var k=Number(a)+(Qe(p)?p:0),E=Number(s)+(Qe(b)?b:0);if(!tr(k)||!tr(E))return null;var C;switch(f){case"start":C=dy("calc(".concat(o,")"));break;case"middle":C=dy("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=dy("calc(".concat(g.length-1," * -").concat(i,")"));break}var D=[];if(u){var O=g[0].width,{width:I}=h;D.push("scale(".concat(Qe(I)&&Qe(O)?I/O:1,")"))}return y&&D.push("rotate(".concat(y,", ").concat(k,", ").concat(E,")")),D.length&&(_.transform=D.join(" ")),v.createElement("text",R1({},Gn(_),{ref:t,x:k,y:E,className:Ot("recharts-text",j),textAnchor:m,fill:c.includes("url")?JO:c}),g.map((T,F)=>{var q=T.words.join(N?"":" ");return v.createElement("tspan",{x:k,dy:F===0?C:i,key:"".concat(q,"-").concat(F)},q)}))});Rp.displayName="Text";var eG=["labelRef"],tG=["content"];function bE(e,t){if(e==null)return{};var r,a,s=rG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(a){nG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nG(e,t,r){return(t=aG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mi.apply(null,arguments)}var ZO=v.createContext(null),iG=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:i,height:o,children:c}=e,u=v.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:i,height:o}),[t,r,a,s,i,o]);return v.createElement(ZO.Provider,{value:u},c)},QO=()=>{var e=v.useContext(ZO),t=fp();return e||vT(t)},oG=v.createContext(null),lG=()=>{var e=v.useContext(oG),t=st(W3);return e||t},cG=e=>{var{value:t,formatter:r}=e,a=cr(e.children)?t:e.children;return typeof r=="function"?r(a):a},Xj=e=>e!=null&&typeof e=="function",dG=(e,t)=>{var r=pn(t-e),a=Math.min(Math.abs(t-e),360);return r*a},uG=(e,t,r,a,s)=>{var{offset:i,className:o}=e,{cx:c,cy:u,innerRadius:m,outerRadius:f,startAngle:h,endAngle:g,clockWise:p}=s,b=(m+f)/2,y=dG(h,g),j=y>=0?1:-1,N,_;switch(t){case"insideStart":N=h+j*i,_=p;break;case"insideEnd":N=g-j*i,_=!p;break;case"end":N=g+j*i,_=p;break;default:throw new Error("Unsupported position ".concat(t))}_=y<=0?_:!_;var k=Hr(c,u,b,N),E=Hr(c,u,b,N+(_?1:-1)*359),C="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),D=cr(e.id)?Tu("recharts-radial-line-"):e.id;return v.createElement("text",mi({},a,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:D,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(D)},r))},fG=(e,t,r)=>{var{cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}=e,m=(c+u)/2;if(r==="outside"){var{x:f,y:h}=Hr(a,s,o+t,m);return{x:f,y:h,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x:p,y:b}=Hr(a,s,g,m);return{x:p,y:b,textAnchor:"middle",verticalAnchor:"middle"}},M1=e=>"cx"in e&&Qe(e.cx),mG=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,i;r!=null&&!M1(r)&&(i=r);var{x:o,y:c,upperWidth:u,lowerWidth:m,height:f}=t,h=o,g=o+(u-m)/2,p=(h+g)/2,b=(u+m)/2,y=h+u/2,j=f>=0?1:-1,N=j*a,_=j>0?"end":"start",k=j>0?"start":"end",E=u>=0?1:-1,C=E*a,D=E>0?"end":"start",O=E>0?"start":"end";if(s==="top"){var I={x:h+u/2,y:c-N,textAnchor:"middle",verticalAnchor:_};return Rr(Rr({},I),i?{height:Math.max(c-i.y,0),width:u}:{})}if(s==="bottom"){var T={x:g+m/2,y:c+f+N,textAnchor:"middle",verticalAnchor:k};return Rr(Rr({},T),i?{height:Math.max(i.y+i.height-(c+f),0),width:m}:{})}if(s==="left"){var F={x:p-C,y:c+f/2,textAnchor:D,verticalAnchor:"middle"};return Rr(Rr({},F),i?{width:Math.max(F.x-i.x,0),height:f}:{})}if(s==="right"){var q={x:p+b+C,y:c+f/2,textAnchor:O,verticalAnchor:"middle"};return Rr(Rr({},q),i?{width:Math.max(i.x+i.width-q.x,0),height:f}:{})}var U=i?{width:b,height:f}:{};return s==="insideLeft"?Rr({x:p+C,y:c+f/2,textAnchor:O,verticalAnchor:"middle"},U):s==="insideRight"?Rr({x:p+b-C,y:c+f/2,textAnchor:D,verticalAnchor:"middle"},U):s==="insideTop"?Rr({x:h+u/2,y:c+N,textAnchor:"middle",verticalAnchor:k},U):s==="insideBottom"?Rr({x:g+m/2,y:c+f-N,textAnchor:"middle",verticalAnchor:_},U):s==="insideTopLeft"?Rr({x:h+C,y:c+N,textAnchor:O,verticalAnchor:k},U):s==="insideTopRight"?Rr({x:h+u-C,y:c+N,textAnchor:D,verticalAnchor:k},U):s==="insideBottomLeft"?Rr({x:g+C,y:c+f-N,textAnchor:O,verticalAnchor:_},U):s==="insideBottomRight"?Rr({x:g+m-C,y:c+f-N,textAnchor:D,verticalAnchor:_},U):s&&typeof s=="object"&&(Qe(s.x)||Ti(s.x))&&(Qe(s.y)||Ti(s.y))?Rr({x:o+Vn(s.x,b),y:c+Vn(s.y,f),textAnchor:"end",verticalAnchor:"end"},U):Rr({x:y,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},U)},hG={angle:0,offset:5,zIndex:Mr.label,position:"middle",textBreakAll:!1};function No(e){var t=Or(e,hG),{viewBox:r,position:a,value:s,children:i,content:o,className:c="",textBreakAll:u,labelRef:m}=t,f=lG(),h=QO(),g=a==="center"?h:f??h,p,b,y;if(r==null?p=g:M1(r)?p=r:p=vT(r),!p||cr(s)&&cr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var j=Rr(Rr({},t),{},{viewBox:p});if(v.isValidElement(o)){var{labelRef:N}=j,_=bE(j,eG);return v.cloneElement(o,_)}if(typeof o=="function"){var{content:k}=j,E=bE(j,tG);if(b=v.createElement(o,E),v.isValidElement(b))return b}else b=cG(t);var C=Gn(t);if(M1(p)){if(a==="insideStart"||a==="insideEnd"||a==="end")return uG(t,a,b,C,p);y=fG(p,t.offset,t.position)}else y=mG(t,p);return v.createElement(da,{zIndex:t.zIndex},v.createElement(Rp,mi({ref:m,className:Ot("recharts-label",c)},C,y,{textAnchor:XK(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:u}),b))}No.displayName="Label";var pG=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?v.createElement(No,mi({key:"label-implicit"},a)):qs(e)?v.createElement(No,mi({key:"label-implicit",value:e},a)):v.isValidElement(e)?e.type===No?v.cloneElement(e,Rr({key:"label-implicit"},a)):v.createElement(No,mi({key:"label-implicit",content:e},a)):Xj(e)?v.createElement(No,mi({key:"label-implicit",content:e},a)):e&&typeof e=="object"?v.createElement(No,mi({},e,{key:"label-implicit"},a)):null};function xG(e){var{label:t,labelRef:r}=e,a=QO();return pG(t,a,r)||null}var uy={},fy={},wE;function gG(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(fy)),fy}var my={},_E;function vG(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(my)),my}var NE;function yG(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gG(),r=vG(),a=kb();function s(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(uy)),uy}var hy,SE;function bG(){return SE||(SE=1,hy=yG().last),hy}var jG=bG();const wG=$i(jG);var _G=["valueAccessor"],NG=["dataKey","clockWise","id","textBreakAll","zIndex"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y0.apply(null,arguments)}function kE(e,t){if(e==null)return{};var r,a,s=SG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var kG=e=>Array.isArray(e.value)?wG(e.value):e.value,e5=v.createContext(void 0),Yj=e5.Provider,t5=v.createContext(void 0),EG=t5.Provider;function AG(){return v.useContext(e5)}function CG(){return v.useContext(t5)}function Eh(e){var{valueAccessor:t=kG}=e,r=kE(e,_G),{dataKey:a,clockWise:s,id:i,textBreakAll:o,zIndex:c}=r,u=kE(r,NG),m=AG(),f=CG(),h=m||f;return!h||!h.length?null:v.createElement(da,{zIndex:c??Mr.label},v.createElement(Tr,{className:"recharts-label-list"},h.map((g,p)=>{var b,y=cr(a)?t(g,p):Ht(g&&g.payload,a),j=cr(i)?{}:{id:"".concat(i,"-").concat(p)};return v.createElement(No,y0({key:"label-".concat(p)},Gn(g),u,j,{fill:(b=r.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:y,textBreakAll:o,viewBox:g.viewBox,index:p,zIndex:0}))})))}Eh.displayName="LabelList";function Mp(e){var{label:t}=e;return t?t===!0?v.createElement(Eh,{key:"labelList-implicit"}):v.isValidElement(t)||Xj(t)?v.createElement(Eh,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Eh,y0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z1.apply(null,arguments)}var r5=e=>{var{cx:t,cy:r,r:a,className:s}=e,i=Ot("recharts-dot",s);return Qe(t)&&Qe(r)&&Qe(a)?v.createElement("circle",z1({},oa(e),Sb(e),{className:i,cx:t,cy:r,r:a})):null},n5=e=>e.graphicalItems.polarItems,PG=Ne([gr,vf],yj),zp=Ne([n5,wr,PG],bj),TG=Ne([zp],jj),$p=Ne([TG,Np],wj),OG=Ne([$p,wr,zp],Nj);Ne([$p,wr,zp],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var i,o=Ht(a,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ht(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var EE=()=>{},IG=Ne([$p,wr,zp,Op,gr],Aj),DG=Ne([wr,kj,Ej,EE,IG,EE,Pt,gr],Cj),a5=Ne([wr,Pt,$p,OG,gf,gr,DG],Pj),FG=Ne([a5,wr,ud],Ij);Ne([wr,a5,FG,gr],Fj);var LG={radiusAxis:{},angleAxis:{}},s5=ka({name:"polarAxis",initialState:LG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Eue,removeRadiusAxis:Aue,addAngleAxis:Cue,removeAngleAxis:Pue}=s5.actions,RG=s5.reducer;function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function CE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(a){MG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BG=(e,t)=>t,Jj=Ne([n5,BG],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),UG=[],Zj=(e,t,r)=>r?.length===0?UG:r,i5=Ne([Np,Jj,Zj],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(i=>CE(CE({},t.presentationProps),i.props))),s!=null)return s}}),WG=Ne([i5,Jj,Zj],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var i,o=Ht(a,t.nameKey,t.name),c;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?c=a.fill:c=t.fill,{value:Bo(o,t.dataKey),color:c,payload:a,type:t.legendType}})}),HG=Ne([i5,Jj,Zj,tn],(e,t,r,a)=>{if(!(t==null||e==null))return qX({offset:a,pieSettings:t,displayedData:e,cells:r})}),py={exports:{}},Jt={};var PE;function VG(){if(PE)return Jt;PE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var j=y.$$typeof;switch(j){case e:switch(y=y.type,y){case r:case s:case a:case u:case m:case g:return y;default:switch(y=y&&y.$$typeof,y){case o:case c:case h:case f:return y;case i:return y;default:return j}}case t:return j}}}return Jt.ContextConsumer=i,Jt.ContextProvider=o,Jt.Element=e,Jt.ForwardRef=c,Jt.Fragment=r,Jt.Lazy=h,Jt.Memo=f,Jt.Portal=t,Jt.Profiler=s,Jt.StrictMode=a,Jt.Suspense=u,Jt.SuspenseList=m,Jt.isContextConsumer=function(y){return b(y)===i},Jt.isContextProvider=function(y){return b(y)===o},Jt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Jt.isForwardRef=function(y){return b(y)===c},Jt.isFragment=function(y){return b(y)===r},Jt.isLazy=function(y){return b(y)===h},Jt.isMemo=function(y){return b(y)===f},Jt.isPortal=function(y){return b(y)===t},Jt.isProfiler=function(y){return b(y)===s},Jt.isStrictMode=function(y){return b(y)===a},Jt.isSuspense=function(y){return b(y)===u},Jt.isSuspenseList=function(y){return b(y)===m},Jt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===a||y===u||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===o||y.$$typeof===i||y.$$typeof===c||y.$$typeof===p||y.getModuleId!==void 0)},Jt.typeOf=b,Jt}var TE;function qG(){return TE||(TE=1,py.exports=VG()),py.exports}var KG=qG(),OE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",IE=null,xy=null,o5=e=>{if(e===IE&&Array.isArray(xy))return xy;var t=[];return v.Children.forEach(e,r=>{cr(r)||(KG.isFragment(r)?t=t.concat(o5(r.props.children)):t.push(r))}),xy=t,IE=e,t};function Qj(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>OE(s)):a=[OE(t)],o5(e).forEach(s=>{var i=kl(s,"type.displayName")||kl(s,"type.name");i&&a.indexOf(i)!==-1&&r.push(s)}),r}var ew=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,gy={},DE;function GG(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(gy)),gy}var vy,FE;function XG(){return FE||(FE=1,vy=GG().isPlainObject),vy}var YG=XG();const JG=$i(YG);var LE,RE,ME,zE,$E;function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function UE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(a){ZG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZG(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b0.apply(null,arguments)}function uu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WE=(e,t,r,a,s)=>{var i=r-a,o;return o=Sr(LE||(LE=uu(["M ",",",""])),e,t),o+=Sr(RE||(RE=uu(["L ",",",""])),e+r,t),o+=Sr(ME||(ME=uu(["L ",",",""])),e+r-i/2,t+s),o+=Sr(zE||(zE=uu(["L ",",",""])),e+r-i/2-a,t+s),o+=Sr($E||($E=uu(["L ",","," Z"])),e,t),o},tX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rX=e=>{var t=Or(e,tX),{x:r,y:a,upperWidth:s,lowerWidth:i,height:o,className:c}=t,{animationEasing:u,animationDuration:m,animationBegin:f,isUpdateAnimationActive:h}=t,g=v.useRef(null),[p,b]=v.useState(-1),y=v.useRef(s),j=v.useRef(i),N=v.useRef(o),_=v.useRef(r),k=v.useRef(a),E=sd(e,"trapezoid-");if(v.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var W=g.current.getTotalLength();W&&b(W)}catch{}},[]),r!==+r||a!==+a||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var C=Ot("recharts-trapezoid",c);if(!h)return v.createElement("g",null,v.createElement("path",b0({},Gn(t),{className:C,d:WE(r,a,s,i,o)})));var D=y.current,O=j.current,I=N.current,T=_.current,F=k.current,q="0px ".concat(p===-1?1:p,"px"),U="".concat(p,"px 0px"),J=TT(["strokeDasharray"],m,u);return v.createElement(ad,{animationId:E,key:E,canBegin:p>0,duration:m,easing:u,isActive:h,begin:f},W=>{var he=Ut(D,s,W),X=Ut(O,i,W),be=Ut(I,o,W),ne=Ut(T,r,W),ve=Ut(F,a,W);g.current&&(y.current=he,j.current=X,N.current=be,_.current=ne,k.current=ve);var me=W>0?{transition:J,strokeDasharray:U}:{strokeDasharray:q};return v.createElement("path",b0({},Gn(t),{className:C,d:WE(ne,ve,he,X,be),ref:g,style:UE(UE({},me),t.style)}))})},nX=["option","shapeType","activeClassName"];function aX(e,t){if(e==null)return{};var r,a,s=sX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function j0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(a){iX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cX(e,t){return j0(j0({},t),e)}function dX(e,t){return e==="symbols"}function VE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(FT,r);case"trapezoid":return v.createElement(rX,r);case"sector":return v.createElement(zT,r);case"symbols":if(dX(t))return v.createElement(Nb,r);break;case"curve":return v.createElement(Oc,r);default:return null}}function uX(e){return v.isValidElement(e)?e.props:e}function tw(e){var{option:t,shapeType:r,activeClassName:a="recharts-active-shape"}=e,s=aX(e,nX),i;if(v.isValidElement(t))i=v.cloneElement(t,j0(j0({},s),uX(t)));else if(typeof t=="function")i=t(s,s.index);else if(JG(t)&&typeof t!="boolean"){var o=cX(t,s);i=v.createElement(VE,{shapeType:r,elementProps:o})}else{var c=s;i=v.createElement(VE,{shapeType:r,elementProps:c})}return s.isActive?v.createElement(Tr,{className:a},i):i}var rw=(e,t,r)=>{var a=sr();return(s,i)=>o=>{e?.(s,i,o),a(bO({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},nw=e=>{var t=sr();return(r,a)=>s=>{e?.(r,a,s),t(yV())}},aw=(e,t,r)=>{var a=sr();return(s,i)=>o=>{e?.(s,i,o),a(bV({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function Bp(e){var{tooltipEntrySettings:t}=e,r=sr(),a=bn(),s=v.useRef(null);return v.useLayoutEffect(()=>{a||(s.current===null?r(pV(t)):s.current!==t&&r(xV({prev:s.current,next:t})),s.current=t)},[t,r,a]),v.useLayoutEffect(()=>()=>{s.current&&(r(gV(s.current)),s.current=null)},[r]),null}function sw(e){var{legendPayload:t}=e,r=sr(),a=bn(),s=v.useRef(null);return v.useLayoutEffect(()=>{a||(s.current===null?r(ET(t)):s.current!==t&&r(AT({prev:s.current,next:t})),s.current=t)},[r,a,t]),v.useLayoutEffect(()=>()=>{s.current&&(r(CT(s.current)),s.current=null)},[r]),null}function fX(e){var{legendPayload:t}=e,r=sr(),a=st(Pt),s=v.useRef(null);return v.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(ET(t)):s.current!==t&&r(AT({prev:s.current,next:t})),s.current=t)},[r,a,t]),v.useLayoutEffect(()=>()=>{s.current&&(r(CT(s.current)),s.current=null)},[r]),null}var yy,mX=()=>{var[e]=v.useState(()=>Tu("uid-"));return e},hX=(yy=z8.useId)!==null&&yy!==void 0?yy:mX;function pX(e,t){var r=hX();return t||(e?"".concat(e,"-").concat(r):r)}var xX=v.createContext(void 0),Up=e=>{var{id:t,type:r,children:a}=e,s=pX("recharts-".concat(r),t);return v.createElement(xX.Provider,{value:s},a(s))},gX={cartesianItems:[],polarItems:[]},l5=ka({name:"graphicalItems",initialState:gX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=ks(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:mr()},removeCartesianGraphicalItem:{reducer(e,t){var r=ks(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mr()},removePolarGraphicalItem:{reducer(e,t){var r=ks(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mr()}}}),{addCartesianGraphicalItem:vX,replaceCartesianGraphicalItem:yX,removeCartesianGraphicalItem:bX,addPolarGraphicalItem:jX,removePolarGraphicalItem:wX}=l5.actions,_X=l5.reducer,NX=e=>{var t=sr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(vX(e)):r.current!==e&&t(yX({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(bX(r.current)),r.current=null)},[t]),null},iw=v.memo(NX);function SX(e){var t=sr();return v.useLayoutEffect(()=>(t(jX(e)),()=>{t(wX(e))}),[t,e]),null}var kX=["key"],EX=["onMouseEnter","onClick","onMouseLeave"],AX=["id"],CX=["id"];function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(a){PX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PX(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lo.apply(null,arguments)}function Wp(e,t){if(e==null)return{};var r,a,s=IX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function DX(e){var t=v.useMemo(()=>Qj(e.children,pd),[e.children]),r=st(a=>WG(a,e.id,t));return r==null?null:v.createElement(fX,{legendPayload:r})}var FX=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:i,fill:o,name:c,hide:u,tooltipType:m,id:f}=e,h={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Bo(c,t),hide:u,type:m,color:o,unit:"",graphicalItemId:f}};return v.createElement(Bp,{tooltipEntrySettings:h})}),LX=(e,t)=>e>t?"start":e<t?"end":"middle",RX=(e,t,r)=>Vn(typeof t=="function"?t(e):t,r,r*.8),MX=(e,t,r)=>{var{top:a,left:s,width:i,height:o}=t,c=LT(i,o),u=s+Vn(e.cx,i,i/2),m=a+Vn(e.cy,o,o/2),f=Vn(e.innerRadius,c,0),h=RX(r,e.outerRadius,c),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:m,innerRadius:f,outerRadius:h,maxRadius:g}},zX=(e,t)=>{var r=pn(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function $X(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var BX=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ot("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=Wp(t,kX);return v.createElement(Oc,Lo({},s,{type:"linear",className:r}))},UX=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),v.isValidElement(a)))return a;var s=Ot("recharts-pie-label-text",$X(e));return v.createElement(Rp,Lo({},t,{alignmentBaseline:"middle",className:s}),a)};function WX(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:i,dataKey:o}=r;if(!a||!s||!t)return null;var c=oa(r),u=Nl(s),m=Nl(i),f=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((g,p)=>{var b=(g.startAngle+g.endAngle)/2,y=Hr(g.cx,g.cy,g.outerRadius+f,b),j=kr(kr(kr(kr({},c),g),{},{stroke:"none"},u),{},{index:p,textAnchor:LX(y.x,g.cx)},y),N=kr(kr(kr(kr({},c),g),{},{fill:"none",stroke:g.fill},m),{},{index:p,points:[Hr(g.cx,g.cy,g.outerRadius,b),y],key:"line"});return v.createElement(da,{zIndex:Mr.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},v.createElement(Tr,null,i&&BX(i,N),UX(s,j,Ht(g,o))))});return v.createElement(Tr,{className:"recharts-pie-labels"},h)}function HX(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?v.createElement(Mp,{label:s}):v.createElement(WX,{sectors:t,props:r,showLabels:a})}function VX(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:i,id:o}=e,c=st(Fo),u=st(Hj),m=st(sq),{onMouseEnter:f,onClick:h,onMouseLeave:g}=s,p=Wp(s,EX),b=rw(f,s.dataKey,o),y=nw(g),j=aw(h,s.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((N,_)=>{if(N?.startAngle===0&&N?.endAngle===0&&t.length!==1)return null;var k=m==null||m===o,E=String(_)===c&&(u==null||s.dataKey===u)&&k,C=c?a:null,D=r&&E?r:C,O=kr(kr({},N),{},{stroke:N.stroke,tabIndex:-1,[mT]:_,[hT]:o});return v.createElement(Tr,Lo({key:"sector-".concat(N?.startAngle,"-").concat(N?.endAngle,"-").concat(N.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},of(p,N,_),{onMouseEnter:b(N,_),onMouseLeave:y(N,_),onClick:j(N,_)}),v.createElement(tw,Lo({option:i??D,index:_,shapeType:"sector",isActive:E},O)))}))}function qX(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:u,dataKey:m,nameKey:f,tooltipType:h}=r,g=Math.abs(r.minAngle),p=zX(c,u),b=Math.abs(p),y=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,j=a.filter(D=>Ht(D,m,0)!==0).length,N=(b>=360?j:j-1)*y,_=b-j*g-N,k=a.reduce((D,O)=>{var I=Ht(O,m,0);return D+(Qe(I)?I:0)},0),E;if(k>0){var C;E=a.map((D,O)=>{var I=Ht(D,m,0),T=Ht(D,f,O),F=MX(r,i,D),q=(Qe(I)?I:0)/k,U,J=kr(kr({},D),s&&s[O]&&s[O].props);O?U=C.endAngle+pn(p)*y*(I!==0?1:0):U=c;var W=U+pn(p)*((I!==0?g:0)+q*_),he=(U+W)/2,X=(F.innerRadius+F.outerRadius)/2,be=[{name:T,value:I,payload:J,dataKey:m,type:h,graphicalItemId:r.id}],ne=Hr(F.cx,F.cy,X,he);return C=kr(kr(kr(kr({},r.presentationProps),{},{percent:q,cornerRadius:typeof o=="string"?parseFloat(o):o,name:T,tooltipPayload:be,midAngle:he,middleRadius:X,tooltipPosition:ne},J),F),{},{value:I,dataKey:m,startAngle:U,endAngle:W,payload:J,paddingAngle:pn(p)*y}),C})}return E}function KX(e){var{showLabels:t,sectors:r,children:a}=e,s=v.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return v.createElement(EG,{value:t?s:void 0},a)}function GX(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=t,p=sd(t,"recharts-pie-"),b=r.current,[y,j]=v.useState(!1),N=v.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),_=v.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return v.createElement(KX,{showLabels:!y,sectors:s},v.createElement(ad,{animationId:p,begin:o,duration:c,isActive:i,easing:u,onAnimationStart:_,onAnimationEnd:N,key:p},k=>{var E=[],C=s&&s[0],D=C?.startAngle;return s?.forEach((O,I)=>{var T=b&&b[I],F=I>0?kl(O,"paddingAngle",0):0;if(T){var q=Ut(T.endAngle-T.startAngle,O.endAngle-O.startAngle,k),U=kr(kr({},O),{},{startAngle:D+F,endAngle:D+q+F});E.push(U),D=U.endAngle}else{var{endAngle:J,startAngle:W}=O,he=Ut(0,J-W,k),X=kr(kr({},O),{},{startAngle:D+F,endAngle:D+he+F});E.push(X),D=X.endAngle}}),r.current=E,v.createElement(Tr,null,v.createElement(VX,{sectors:E,activeShape:m,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:a}))}),v.createElement(HX,{showLabels:!y,sectors:s,props:t}),t.children)}var XX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Mr.area};function YX(e){var{id:t}=e,r=Wp(e,AX),{hide:a,className:s,rootTabIndex:i}=e,o=v.useMemo(()=>Qj(e.children,pd),[e.children]),c=st(f=>HG(f,t,o)),u=v.useRef(null),m=Ot("recharts-pie",s);return a||c==null?(u.current=null,v.createElement(Tr,{tabIndex:i,className:m})):v.createElement(da,{zIndex:e.zIndex},v.createElement(FX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(Tr,{tabIndex:i,className:m},v.createElement(GX,{props:kr(kr({},r),{},{sectors:c}),previousSectorsRef:u,id:t})))}function c5(e){var t=Or(e,XX),{id:r}=t,a=Wp(t,CX),s=oa(a);return v.createElement(Up,{id:r,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(SX,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),v.createElement(DX,Lo({},a,{id:i})),v.createElement(YX,Lo({},a,{id:i}))))}c5.displayName="Pie";var JX=["points"];function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(a){ZX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w0.apply(null,arguments)}function tY(e,t){if(e==null)return{};var r,a,s=rY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nY(e){var{option:t,dotProps:r,className:a}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Ot(a,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,c=tY(i,JX);return v.createElement(r5,w0({},c,{className:s}))}function aY(e,t){return e==null?!1:t?!0:e.length===1}function d5(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:i,baseProps:o,needClip:c,clipPathId:u,zIndex:m=Mr.scatter}=e;if(!aY(t,r))return null;var f=ew(r),h=wR(r),g=t.map((b,y)=>{var j,N,_=by(by(by({r:3},o),h),{},{index:y,cx:(j=b.x)!==null&&j!==void 0?j:void 0,cy:(N=b.y)!==null&&N!==void 0?N:void 0,dataKey:i,value:b.value,payload:b.payload,points:t});return v.createElement(nY,{key:"dot-".concat(y),option:r,dotProps:_,className:s})}),p={};return c&&u!=null&&(p.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),v.createElement(da,{zIndex:m},v.createElement(Tr,w0({className:a},p),g))}function GE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(r),!0).forEach(function(a){sY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u5=0,lY={xAxis:{},yAxis:{},zAxis:{}},f5=ka({name:"cartesianAxis",initialState:lY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mr()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:mr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mr()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:mr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mr()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:mr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mr()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==s.width&&Math.abs(a-i[0])<=1)return;var o=[...i,a].slice(-3);e.yAxis[r]=XE(XE({},e.yAxis[r]),{},{width:a,widthHistory:o})}}}}),{addXAxis:cY,replaceXAxis:dY,removeXAxis:uY,addYAxis:fY,replaceYAxis:mY,removeYAxis:hY,addZAxis:Tue,replaceZAxis:Oue,removeZAxis:Iue,updateYAxisWidth:pY}=f5.actions,xY=f5.reducer,gY=Ne([tn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),vY=Ne([gY,Ui,Wi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Hp=()=>st(vY),yY=()=>st(dq);function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(a){bY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bY(e,t,r){return(t=jY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Y=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:i,clipPath:o}=e;if(s===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=jy(jy(jy({},c),Nl(s)),Sb(s)),m;return v.isValidElement(s)?m=v.cloneElement(s,u):typeof s=="function"?m=s(u):m=v.createElement(r5,u),v.createElement(Tr,{className:"recharts-active-dot",clipPath:o},m)};function $1(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:i,zIndex:o=Mr.activeDot}=e,c=st(Fo),u=yY();if(t==null||u==null)return null;var m=t.find(f=>u.includes(f.payload));return cr(m)?null:v.createElement(da,{zIndex:o},v.createElement(_Y,{point:m,childIndex:Number(c),mainColor:r,dataKey:s,activeDot:a,clipPath:i}))}var JE=(e,t,r)=>{var a=r??e;if(!cr(a))return Vn(a,t,0)},NY=(e,t,r)=>{var a={},s=e.filter(Ap),i=e.filter(m=>m.stackId==null),o=s.reduce((m,f)=>(m[f.stackId]||(m[f.stackId]=[]),m[f.stackId].push(f),m),a),c=Object.entries(o).map(m=>{var[f,h]=m,g=h.map(b=>b.dataKey),p=JE(t,r,h[0].barSize);return{stackId:f,dataKeys:g,barSize:p}}),u=i.map(m=>{var f=[m.dataKey].filter(g=>g!=null),h=JE(t,r,m.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...c,...u]};function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(a){SY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SY(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AY(e,t,r,a,s){var i=a.length;if(!(i<1)){var o=Vn(e,r,0,!0),c,u=[];if(tr(a[0].barSize)){var m=!1,f=r/i,h=a.reduce((N,_)=>N+(_.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&f>0&&(m=!0,f*=.9,h=i*f);var g=(r-h)/2>>0,p={offset:g-o,size:0};c=a.reduce((N,_)=>{var k,E={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:p.offset+p.size+o,size:m?f:(k=_.barSize)!==null&&k!==void 0?k:0}},C=[...N,E];return p=C[C.length-1].position,C},u)}else{var b=Vn(t,r,0,!0);r-2*b-(i-1)*o<=0&&(o=0);var y=(r-2*b-(i-1)*o)/i;y>1&&(y>>=0);var j=tr(s)?Math.min(y,s):y;c=a.reduce((N,_,k)=>[...N,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:b+(y+o)*k+(y-j)/2,size:j}}],u)}return c}}var CY=(e,t,r,a,s,i,o)=>{var c=cr(o)?t:o,u=AY(r,a,s!==i?s:i,e,c);return s!==i&&u!=null&&(u=u.map(m=>rh(rh({},m),{},{position:rh(rh({},m.position),{},{offset:m.position.offset-s/2})}))),u},PY=(e,t)=>{var r=Ep(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}};function TY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&tr(e.zIndex)?e.zIndex:t}var m5=e=>{var{chartData:t}=e,r=sr(),a=bn();return v.useEffect(()=>a?()=>{}:(r(sE(t)),()=>{r(sE(void 0))}),[t,r,a]),null},QE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},h5=ka({name:"brush",initialState:QE,reducers:{setBrushSettings(e,t){return t.payload==null?QE:t.payload}}}),{setBrushSettings:Due}=h5.actions,OY=h5.reducer;function IY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ow{static create(t){return new ow(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}IY(ow,"EPS",1e-4);function LY(e){return(e%180+180)%180}var RY=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=LY(s),o=i*Math.PI/180,c=Math.atan(a/r),u=o>c&&o<Math.PI-c?a/Math.sin(o):r/Math.cos(o);return Math.abs(u)},MY={dots:[],areas:[],lines:[]},p5=ka({name:"referenceElements",initialState:MY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ks(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ks(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ks(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Fue,removeDot:Lue,addArea:Rue,removeArea:Mue,addLine:zue,removeLine:$ue}=p5.actions,zY=p5.reducer,$Y=v.createContext(void 0),BY=e=>{var{children:t}=e,[r]=v.useState("".concat(Tu("recharts"),"-clip")),a=Hp();if(a==null)return null;var{x:s,y:i,width:o,height:c}=a;return v.createElement($Y.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:s,y:i,height:c,width:o}))),t)};function x5(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t){var s=e[a];s!==void 0&&r.push(s)}return r}function UY(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return RY(a,r)}function WY(e,t,r){var a=r==="width",{x:s,y:i,width:o,height:c}=e;return t===1?{start:a?s:i,end:a?s+o:i+c}:{start:a?s+o:i+c,end:a?s:i}}function Vu(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function HY(e,t){return x5(e,t+1)}function VY(e,t,r,a,s){for(var i=(a||[]).slice(),{start:o,end:c}=t,u=0,m=1,f=o,h=function(){var b=a?.[u];if(b===void 0)return{v:x5(a,m)};var y=u,j,N=()=>(j===void 0&&(j=r(b,y)),j),_=b.coordinate,k=u===0||Vu(e,_,N,f,c);k||(u=0,f=o,m+=1),k&&(f=_+e*(N()/2+s),u+=m)},g;m<=i.length;)if(g=h(),g)return g.v;return[]}function qY(e,t,r,a,s){var i=(a||[]).slice(),o=i.length;if(o===0)return[];for(var{start:c,end:u}=t,m=1;m<=o;m++){for(var f=(o-1)%m,h=c,g=!0,p=function(){var _=a[b],k=b,E,C=()=>(E===void 0&&(E=r(_,k)),E),D=_.coordinate,O=b===f||Vu(e,D,C,h,u);if(!O)return g=!1,1;O&&(h=D+e*(C()/2+s))},b=f;b<o&&!p();b+=m);if(g){for(var y=[],j=f;j<o;j+=m)y.push(a[j]);return y}}return[]}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(a){KY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YY(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,{start:c}=t,{end:u}=t,m=function(g){var p=i[g],b,y=()=>(b===void 0&&(b=r(p,g)),b);if(g===o-1){var j=e*(p.coordinate+e*y()/2-u);i[g]=p=Bn(Bn({},p),{},{tickCoord:j>0?p.coordinate-j*e:p.coordinate})}else i[g]=p=Bn(Bn({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var N=Vu(e,p.tickCoord,y,c,u);N&&(u=p.tickCoord-e*(y()/2+s),i[g]=Bn(Bn({},p),{},{isShow:!0}))}},f=o-1;f>=0;f--)m(f);return i}function JY(e,t,r,a,s,i){var o=(a||[]).slice(),c=o.length,{start:u,end:m}=t;if(i){var f=a[c-1],h=r(f,c-1),g=e*(f.coordinate+e*h/2-m);if(o[c-1]=f=Bn(Bn({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate}),f.tickCoord!=null){var p=Vu(e,f.tickCoord,()=>h,u,m);p&&(m=f.tickCoord-e*(h/2+s),o[c-1]=Bn(Bn({},f),{},{isShow:!0}))}}for(var b=i?c-1:c,y=function(_){var k=o[_],E,C=()=>(E===void 0&&(E=r(k,_)),E);if(_===0){var D=e*(k.coordinate-e*C()/2-u);o[_]=k=Bn(Bn({},k),{},{tickCoord:D<0?k.coordinate-D*e:k.coordinate})}else o[_]=k=Bn(Bn({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var O=Vu(e,k.tickCoord,C,u,m);O&&(u=k.tickCoord+e*(C()/2+s),o[_]=Bn(Bn({},k),{},{isShow:!0}))}},j=0;j<b;j++)y(j);return o}function lw(e,t,r){var{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:c,interval:u,tickFormatter:m,unit:f,angle:h}=e;if(!s||!s.length||!a)return[];if(Qe(u)||ff.isSsr){var g;return(g=HY(s,Qe(u)?u:0))!==null&&g!==void 0?g:[]}var p=[],b=c==="top"||c==="bottom"?"width":"height",y=f&&b==="width"?bu(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(k,E)=>{var C=typeof m=="function"?m(k.value,E):k.value;return b==="width"?UY(bu(C,{fontSize:t,letterSpacing:r}),y,h):bu(C,{fontSize:t,letterSpacing:r})[b]},N=s.length>=2?pn(s[1].coordinate-s[0].coordinate):1,_=WY(i,N,b);return u==="equidistantPreserveStart"?VY(N,_,j,s,o):u==="equidistantPreserveEnd"?qY(N,_,j,s,o):(u==="preserveStart"||u==="preserveStartEnd"?p=JY(N,_,j,s,o,u==="preserveStartEnd"):p=YY(N,_,j,s,o),p.filter(k=>k.isShow))}var ZY=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var c=r?r.getBoundingClientRect().width:0,u=s+i,m=o+u+c+(r?a:0);return Math.round(m)}return 0},QY=["axisLine","width","height","className","hide","ticks","axisType"];function eJ(e,t){if(e==null)return{};var r,a,s=tJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tl.apply(null,arguments)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(a){rJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rJ(e,t,r){return(t=nJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mr.axis};function sJ(e){var{x:t,y:r,width:a,height:s,orientation:i,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var m=Ur(Ur(Ur({},u),oa(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);m=Ur(Ur({},m),{},{x1:t,y1:r+f*s,x2:t+a,y2:r+f*s})}else{var h=+(i==="left"&&!o||i==="right"&&o);m=Ur(Ur({},m),{},{x1:t+h*a,y1:r,x2:t+h*a,y2:r+s})}return v.createElement("line",Tl({},m,{className:Ot("recharts-cartesian-axis-line",kl(c,"className"))}))}function iJ(e,t,r,a,s,i,o,c,u){var m,f,h,g,p,b,y=c?-1:1,j=e.tickSize||o,N=Qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":m=f=e.coordinate,g=r+ +!c*s,h=g-y*j,b=h-y*u,p=N;break;case"left":h=g=e.coordinate,f=t+ +!c*a,m=f-y*j,p=m-y*u,b=N;break;case"right":h=g=e.coordinate,f=t+ +c*a,m=f+y*j,p=m+y*u,b=N;break;default:m=f=e.coordinate,g=r+ +c*s,h=g+y*j,b=h+y*u,p=N;break}return{line:{x1:m,y1:h,x2:f,y2:g},tick:{x:p,y:b}}}function oJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function lJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function cJ(e){var{option:t,tickProps:r,value:a}=e,s,i=Ot(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,Ur(Ur({},r),{},{className:i}));else if(typeof t=="function")s=t(Ur(Ur({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ot(o,t?.className)),s=v.createElement(Rp,Tl({},r,{className:o}),a)}return s}var dJ=v.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:i,tickFormatter:o,unit:c,padding:u,tickTextProps:m,orientation:f,mirror:h,x:g,y:p,width:b,height:y,tickSize:j,tickMargin:N,fontSize:_,letterSpacing:k,getTicksConfig:E,events:C,axisType:D}=e,O=lw(Ur(Ur({},E),{},{ticks:r}),_,k),I=oJ(f,h),T=lJ(f,h),F=oa(E),q=Nl(a),U={};typeof s=="object"&&(U=s);var J=Ur(Ur({},F),{},{fill:"none"},U),W=O.map(be=>Ur({entry:be},iJ(be,g,p,b,y,f,j,h,N))),he=W.map(be=>{var{entry:ne,line:ve}=be;return v.createElement(Tr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},s&&v.createElement("line",Tl({},J,ve,{className:Ot("recharts-cartesian-axis-tick-line",kl(s,"className"))})))}),X=W.map((be,ne)=>{var{entry:ve,tick:me}=be,ae=Ur(Ur(Ur(Ur({textAnchor:I,verticalAnchor:T},F),{},{stroke:"none",fill:i},q),me),{},{index:ne,payload:ve,visibleTicksCount:O.length,tickFormatter:o,padding:u},m);return v.createElement(Tr,Tl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},of(C,ve,ne)),a&&v.createElement(cJ,{option:a,tickProps:ae,value:"".concat(typeof o=="function"?o(ve.value,ne):ve.value).concat(c||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},X.length>0&&v.createElement(da,{zIndex:Mr.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},X)),he.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},he))}),uJ=v.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:i,hide:o,ticks:c,axisType:u}=e,m=eJ(e,QY),[f,h]=v.useState(""),[g,p]=v.useState(""),b=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return ZY({ticks:b.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(j=>{if(j){var N=j.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=N;var _=N[0];if(_){var k=window.getComputedStyle(_),E=k.fontSize,C=k.letterSpacing;(E!==f||C!==g)&&(h(E),p(C))}}},[f,g]);return o||a!=null&&a<=0||s!=null&&s<=0?null:v.createElement(da,{zIndex:e.zIndex},v.createElement(Tr,{className:Ot("recharts-cartesian-axis",i)},v.createElement(sJ,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:oa(e)}),v.createElement(dJ,{ref:y,axisType:u,events:m,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(iG,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(xG,{label:e.label,labelRef:e.labelRef}),e.children)))}),cw=v.forwardRef((e,t)=>{var r=Or(e,bi);return v.createElement(uJ,Tl({},r,{ref:t}))});cw.displayName="CartesianAxis";var fJ=["x1","y1","x2","y2","key"],mJ=["offset"],hJ=["xAxisId","yAxisId"],pJ=["xAxisId","yAxisId"];function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(a){xJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vl.apply(null,arguments)}function _0(e,t){if(e==null)return{};var r,a,s=yJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var bJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:i,height:o,ry:c}=e;return v.createElement("rect",{x:a,y:s,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function g5(e){var{option:t,lineItemProps:r}=e,a;if(v.isValidElement(t))a=v.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:i,y1:o,x2:c,y2:u,key:m}=r,f=_0(r,fJ),h=(s=oa(f))!==null&&s!==void 0?s:{},{offset:g}=h,p=_0(h,mJ);a=v.createElement("line",vl({},p,{x1:i,y1:o,x2:c,y2:u,fill:"none",key:m}))}return a}function jJ(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,c=_0(e,hJ),u=s.map((m,f)=>{var h=Wn(Wn({},c),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(f),index:f});return v.createElement(g5,{key:"line-".concat(f),option:a,lineItemProps:h})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function wJ(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,c=_0(e,pJ),u=s.map((m,f)=>{var h=Wn(Wn({},c),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(f),index:f});return v.createElement(g5,{option:a,lineItemProps:h,key:"line-".concat(f)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function _J(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:i,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var m=c.map(h=>Math.round(h+s-s)).sort((h,g)=>h-g);s!==m[0]&&m.unshift(0);var f=m.map((h,g)=>{var p=!m[g+1],b=p?s+o-h:m[g+1]-h;if(b<=0)return null;var y=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:h,x:a,height:b,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function NJ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:i,width:o,height:c,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var m=u.map(h=>Math.round(h+s-s)).sort((h,g)=>h-g);s!==m[0]&&m.unshift(0);var f=m.map((h,g)=>{var p=!m[g+1],b=p?s+o-h:m[g+1]-h;if(b<=0)return null;var y=g%r.length;return v.createElement("rect",{key:"react-".concat(g),x:h,y:i,width:b,height:c,stroke:"none",fill:r[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var SJ=(e,t)=>{var{xAxis:r,width:a,height:s,offset:i}=e;return cT(lw(Wn(Wn(Wn({},bi),r),{},{ticks:dT(r),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,t)},kJ=(e,t)=>{var{yAxis:r,width:a,height:s,offset:i}=e;return cT(lw(Wn(Wn(Wn({},bi),r),{},{ticks:dT(r),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,t)},EJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mr.grid};function ji(e){var t=Lb(),r=Rb(),a=yT(),s=Wn(Wn({},Or(e,EJ)),{},{x:Qe(e.x)?e.x:a.left,y:Qe(e.y)?e.y:a.top,width:Qe(e.width)?e.width:a.width,height:Qe(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:c,y:u,width:m,height:f,syncWithTicks:h,horizontalValues:g,verticalValues:p}=s,b=bn(),y=st(T=>K4(T,"xAxis",i,b)),j=st(T=>K4(T,"yAxis",o,b));if(!Ks(m)||!Ks(f)||!Qe(c)||!Qe(u))return null;var N=s.verticalCoordinatesGenerator||SJ,_=s.horizontalCoordinatesGenerator||kJ,{horizontalPoints:k,verticalPoints:E}=s;if((!k||!k.length)&&typeof _=="function"){var C=g&&g.length,D=_({yAxis:j?Wn(Wn({},j),{},{ticks:C?g:j.ticks}):void 0,width:t??m,height:r??f,offset:a},C?!0:h);Xh(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(k=D)}if((!E||!E.length)&&typeof N=="function"){var O=p&&p.length,I=N({xAxis:y?Wn(Wn({},y),{},{ticks:O?p:y.ticks}):void 0,width:t??m,height:r??f,offset:a},O?!0:h);Xh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(E=I)}return v.createElement(da,{zIndex:s.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(bJ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(_J,vl({},s,{horizontalPoints:k})),v.createElement(NJ,vl({},s,{verticalPoints:E})),v.createElement(jJ,vl({},s,{offset:a,horizontalPoints:k,xAxis:y,yAxis:j})),v.createElement(wJ,vl({},s,{offset:a,verticalPoints:E,xAxis:y,yAxis:j}))))}ji.displayName="CartesianGrid";var AJ={},v5=ka({name:"errorBars",initialState:AJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Bue,replaceErrorBar:Uue,removeErrorBar:Wue}=v5.actions,CJ=v5.reducer,PJ=["children"];function TJ(e,t){if(e==null)return{};var r,a,s=OJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var IJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DJ=v.createContext(IJ);function y5(e){var{children:t}=e,r=TJ(e,PJ);return v.createElement(DJ.Provider,{value:r},t)}function Vp(e,t){var r,a,s=st(m=>qi(m,e)),i=st(m=>Ki(m,t)),o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:dn.allowDataOverflow,c=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:un.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function dw(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=Hp(),{needClipX:i,needClipY:o,needClip:c}=Vp(t,r);if(!c||!s)return null;var{x:u,y:m,width:f,height:h}=s;return v.createElement("clipPath",{id:"clipPath-".concat(a)},v.createElement("rect",{x:i?u:u-f/2,y:o?m:m-h/2,width:i?f:f*2,height:o?h:h*2}))}var b5=(e,t,r,a)=>Ys(e,"xAxis",t,a),j5=(e,t,r,a)=>Xs(e,"xAxis",t,a),w5=(e,t,r,a)=>Ys(e,"yAxis",r,a),_5=(e,t,r,a)=>Xs(e,"yAxis",r,a),FJ=Ne([Pt,b5,w5,j5,_5],(e,t,r,a,s)=>Qs(e,"xAxis")?Io(t,a,!1):Io(r,s,!1)),LJ=(e,t,r,a,s)=>s;function RJ(e){return e.type==="line"}var MJ=Ne([bf,LJ],(e,t)=>e.filter(RJ).find(r=>r.id===t)),zJ=Ne([Pt,b5,w5,j5,_5,MJ,FJ,cj],(e,t,r,a,s,i,o,c)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:f}=c;if(!(i==null||t==null||r==null||a==null||s==null||a.length===0||s.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:g}=i,p;if(g!=null&&g.length>0?p=g:p=u?.slice(m,f+1),p!=null)return SZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:h,bandSize:o,displayedData:p})}});function N5(e){var t=Nl(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:i}=t,o=Number(s),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=a),{r:o,strokeWidth:c}}return{r,strokeWidth:a}}var wy={exports:{}},_y={};var nA;function $J(){if(nA)return _y;nA=1;var e=Jc();function t(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return _y.useSyncExternalStoreWithSelector=function(u,m,f,h,g){var p=s(null);if(p.current===null){var b={hasValue:!1,value:null};p.current=b}else b=p.current;p=o(function(){function j(C){if(!N){if(N=!0,_=C,C=h(C),g!==void 0&&b.hasValue){var D=b.value;if(g(D,C))return k=D}return k=C}if(D=k,r(_,C))return D;var O=h(C);return g!==void 0&&g(D,O)?(_=C,D):(_=C,k=O)}var N=!1,_,k,E=f===void 0?null:f;return[function(){return j(m())},E===null?void 0:function(){return j(E())}]},[m,f,h,g]);var y=a(u,p[0],p[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),c(y),y},_y}var aA;function BJ(){return aA||(aA=1,wy.exports=$J()),wy.exports}BJ();function UJ(e){e()}function WJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var sA={notify(){},get:()=>[]};function HJ(e,t){let r,a=sA,s=0,i=!1;function o(y){f();const j=a.subscribe(y);let N=!1;return()=>{N||(N=!0,j(),h())}}function c(){a.notify()}function u(){b.onStateChange&&b.onStateChange()}function m(){return i}function f(){s++,r||(r=e.subscribe(u),a=WJ())}function h(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=sA)}function g(){i||(i=!0,f())}function p(){i&&(i=!1,h())}const b={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:m,trySubscribe:g,tryUnsubscribe:p,getListeners:()=>a};return b}var VJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qJ=VJ(),KJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GJ=KJ(),XJ=()=>qJ||GJ?v.useLayoutEffect:v.useEffect,YJ=XJ();function iA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function JJ(e,t){if(iA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!iA(e[r[s]],t[r[s]]))return!1;return!0}var ZJ=Symbol.for("react-redux-context"),QJ=typeof globalThis<"u"?globalThis:{};function eZ(){if(!v.createContext)return{};const e=QJ[ZJ]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var tZ=eZ();function rZ(e){const{children:t,context:r,serverState:a,store:s}=e,i=v.useMemo(()=>{const u=HJ(s);return{store:s,subscription:u,getServerState:a?()=>a:void 0}},[s,a]),o=v.useMemo(()=>s.getState(),[s]);YJ(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const c=r||tZ;return v.createElement(c.Provider,{value:i},t)}var nZ=rZ,aZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ef(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(aZ.has(a)){if(e[a]==null&&t[a]==null)continue;if(!JJ(e[a],t[a]))return!1}else if(!sZ(e[a],t[a]))return!1;return!0}var iZ=["id"],oZ=["type","layout","connectNulls","needClip","shape"],lZ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qu.apply(null,arguments)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(a){cZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cZ(e,t,r){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=uZ(e,"string");return typeof t=="symbol"?t:t+""}function uZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uw(e,t){if(e==null)return{};var r,a,s=fZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var mZ=e=>{var{dataKey:t,name:r,stroke:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:Bo(r,t),payload:e}]},hZ=v.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,unit:u,tooltipType:m,id:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Bo(o,t),hide:c,type:m,color:a,unit:u,graphicalItemId:f}};return v.createElement(Bp,{tooltipEntrySettings:h})}),S5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function pZ(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...r];return a}var xZ=(e,t,r)=>{var a=r.reduce((h,g)=>h+g);if(!a)return S5(t,e);for(var s=Math.floor(e/a),i=e%a,o=t-e,c=[],u=0,m=0;u<r.length;m+=r[u],++u)if(m+r[u]>i){c=[...r.slice(0,u),i-m];break}var f=c.length%2===0?[0,o]:[o];return[...pZ(r,s),...c,...f].map(h=>"".concat(h,"px")).join(", ")};function gZ(e){var{clipPathId:t,points:r,props:a}=e,{dot:s,dataKey:i,needClip:o}=a,{id:c}=a,u=uw(a,iZ),m=oa(u);return v.createElement(d5,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:m,needClip:o,clipPathId:t})}function vZ(e){var{showLabels:t,children:r,points:a}=e,s=v.useMemo(()=>a?.map(i=>{var o,c,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bs(Bs({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[a]);return v.createElement(Yj,{value:t?s:void 0},r)}function lA(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:s,props:i}=e,{type:o,layout:c,connectNulls:u,needClip:m,shape:f}=i,h=uw(i,oZ),g=Bs(Bs({},Gn(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:a,type:o,layout:c,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return v.createElement(v.Fragment,null,a?.length>1&&v.createElement(tw,qu({shapeType:"curve",option:f},g,{pathRef:r})),v.createElement(gZ,{points:a,clipPathId:t,props:i}))}function yZ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bZ(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:u,animationBegin:m,animationDuration:f,animationEasing:h,animateNewValues:g,width:p,height:b,onAnimationEnd:y,onAnimationStart:j}=r,N=s.current,_=sd(o,"recharts-line-"),k=v.useRef(_),[E,C]=v.useState(!1),D=!E,O=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),I=v.useCallback(()=>{typeof j=="function"&&j(),C(!0)},[j]),T=yZ(a.current),F=v.useRef(0);k.current!==_&&(F.current=i.current,k.current=_);var q=F.current;return v.createElement(vZ,{points:o,showLabels:D},r.children,v.createElement(ad,{animationId:_,begin:m,duration:f,isActive:u,easing:h,onAnimationEnd:O,onAnimationStart:I,key:_},U=>{var J=Ut(q,T+q,U),W=Math.min(J,T),he;if(u)if(c){var X="".concat(c).split(/[,\s]+/gim).map(ve=>parseFloat(ve));he=xZ(W,T,X)}else he=S5(T,W);else he=c==null?void 0:String(c);if(U>0&&T>0&&(s.current=o,i.current=Math.max(i.current,W)),N){var be=N.length/o.length,ne=U===1?o:o.map((ve,me)=>{var ae=Math.floor(me*be);if(N[ae]){var P=N[ae];return Bs(Bs({},ve),{},{x:Ut(P.x,ve.x,U),y:Ut(P.y,ve.y,U)})}return g?Bs(Bs({},ve),{},{x:Ut(p*2,ve.x,U),y:Ut(b/2,ve.y,U)}):Bs(Bs({},ve),{},{x:ve.x,y:ve.y})});return s.current=ne,v.createElement(lA,{props:r,points:ne,clipPathId:t,pathRef:a,strokeDasharray:he})}return v.createElement(lA,{props:r,points:o,clipPathId:t,pathRef:a,strokeDasharray:he})}),v.createElement(Mp,{label:r.label}))}function jZ(e){var{clipPathId:t,props:r}=e,a=v.useRef(null),s=v.useRef(0),i=v.useRef(null);return v.createElement(bZ,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:i})}var wZ=(e,t)=>{var r,a;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:Ht(e.payload,t)}};class _Z extends v.Component{render(){var{hide:t,dot:r,points:a,className:s,xAxisId:i,yAxisId:o,top:c,left:u,width:m,height:f,id:h,needClip:g,zIndex:p}=this.props;if(t)return null;var b=Ot("recharts-line",s),y=h,{r:j,strokeWidth:N}=N5(r),_=ew(r),k=j*2+N,E=g?"url(#clipPath-".concat(_?"":"dots-").concat(y,")"):void 0;return v.createElement(da,{zIndex:p},v.createElement(Tr,{className:b},g&&v.createElement("defs",null,v.createElement(dw,{clipPathId:y,xAxisId:i,yAxisId:o}),!_&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:u-k/2,y:c-k/2,width:m+k,height:f+k}))),v.createElement(y5,{xAxisId:i,yAxisId:o,data:a,dataPointFormatter:wZ,errorBarOffset:0},v.createElement(jZ,{props:this.props,clipPathId:y}))),v.createElement($1,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var k5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Mr.line,type:"linear"};function NZ(e){var t=Or(e,k5),{activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,hide:m,isAnimationActive:f,label:h,legendType:g,xAxisId:p,yAxisId:b,id:y}=t,j=uw(t,lZ),{needClip:N}=Vp(p,b),_=Hp(),k=Uo(),E=bn(),C=st(F=>zJ(F,p,b,E,y));if(k!=="horizontal"&&k!=="vertical"||C==null||_==null)return null;var{height:D,width:O,x:I,y:T}=_;return v.createElement(_Z,qu({},j,{id:y,connectNulls:c,dot:u,activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:m,label:h,legendType:g,xAxisId:p,yAxisId:b,points:C,layout:k,height:D,width:O,left:I,top:T,needClip:N}))}function SZ(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:u}=e;return u.map((m,f)=>{var h=Ht(m,o);if(t==="horizontal"){var g=Gh({axis:r,ticks:s,bandSize:c,entry:m,index:f}),p=cr(h)?null:a.scale(h);return{x:g,y:p,value:h,payload:m}}var b=cr(h)?null:r.scale(h),y=Gh({axis:a,ticks:i,bandSize:c,entry:m,index:f});return b==null||y==null?null:{x:b,y,value:h,payload:m}}).filter(Boolean)}function kZ(e){var t=Or(e,k5),r=bn();return v.createElement(Up,{id:t.id,type:"line"},a=>v.createElement(v.Fragment,null,v.createElement(sw,{legendPayload:mZ(t)}),v.createElement(hZ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),v.createElement(iw,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(NZ,qu({},t,{id:a}))))}var E5=v.memo(kZ,Ef);E5.displayName="Line";function ei(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&r!==void 0?r:u5}function ti(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&r!==void 0?r:u5}var A5=(e,t,r)=>Ys(e,"xAxis",ei(e,t),r),C5=(e,t,r)=>Xs(e,"xAxis",ei(e,t),r),P5=(e,t,r)=>Ys(e,"yAxis",ti(e,t),r),T5=(e,t,r)=>Xs(e,"yAxis",ti(e,t),r),EZ=Ne([Pt,A5,P5,C5,T5],(e,t,r,a,s)=>Qs(e,"xAxis")?Io(t,a,!1):Io(r,s,!1)),AZ=(e,t)=>t,O5=Ne([bf,AZ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),I5=e=>{var t=Pt(e),r=Qs(t,"xAxis");return r?"yAxis":"xAxis"},CZ=(e,t)=>{var r=I5(e);return r==="yAxis"?ti(e,t):ei(e,t)},PZ=(e,t,r)=>x0(e,I5(e),CZ(e,t),r),TZ=Ne([O5,PZ],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:a}=e,s=Ep(e);if(!(a==null||s==null)){var i=(r=t[a])===null||r===void 0?void 0:r.stackedData,o=i?.find(c=>c.key===s);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),OZ=Ne([Pt,A5,P5,C5,T5,TZ,b3,EZ,O5,lH],(e,t,r,a,s,i,o,c,u,m)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||c==null)){var{data:p}=u,b;if(p&&p.length>0?b=p:b=f?.slice(h,g+1),b!=null)return JZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:h,areaSettings:u,stackedData:i,displayedData:b,chartBaseValue:m,bandSize:c})}}),IZ=["id"],DZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wl.apply(null,arguments)}function D5(e,t){if(e==null)return{};var r,a,s=FZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(a){LZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function LZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(e,t){return e&&e!=="none"?e:t}var zZ=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:N0(a,s),value:Bo(r,t),payload:e}]},$Z=v.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:c,unit:u,tooltipType:m,id:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Bo(o,t),hide:c,type:m,color:N0(a,i),unit:u,graphicalItemId:f}};return v.createElement(Bp,{tooltipEntrySettings:h})});function BZ(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:i,dataKey:o}=a,c=oa(a);return v.createElement(d5,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:s,clipPathId:t})}function UZ(e){var{showLabels:t,children:r,points:a}=e,s=a.map(i=>{var o,c,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ac(Ac({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return v.createElement(Yj,{value:t?s:void 0},r)}function dA(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:o,type:c,stroke:u,connectNulls:m,isRange:f}=i,{id:h}=i,g=D5(i,IZ),p=oa(g),b=Gn(g);return v.createElement(v.Fragment,null,t?.length>1&&v.createElement(Tr,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},v.createElement(Oc,wl({},b,{id:h,points:t,connectNulls:m,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(Oc,wl({},p,{className:"recharts-area-curve",layout:o,type:c,connectNulls:m,fill:"none",points:t})),u!=="none"&&f&&v.createElement(Oc,wl({},p,{className:"recharts-area-curve",layout:o,type:c,connectNulls:m,fill:"none",points:r}))),v.createElement(BZ,{points:t,props:g,clipPathId:s}))}function WZ(e){var t,r,{alpha:a,baseLine:s,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.y,u=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!tr(c)||!tr(u))return null;var m=a*Math.abs(c-u),f=Math.max(...i.map(h=>h.x||0));return Qe(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.x||0),f)),Qe(f)?v.createElement("rect",{x:0,y:c<u?c:c-m,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(m)}):null}function HZ(e){var t,r,{alpha:a,baseLine:s,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.x,u=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!tr(c)||!tr(u))return null;var m=a*Math.abs(c-u),f=Math.max(...i.map(h=>h.y||0));return Qe(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.y||0),f)),Qe(f)?v.createElement("rect",{x:c<u?c:c-m,y:0,width:m,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}function VZ(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return r==="vertical"?v.createElement(WZ,{alpha:t,points:a,baseLine:s,strokeWidth:i}):v.createElement(HZ,{alpha:t,points:a,baseLine:s,strokeWidth:i})}function qZ(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:m,animationDuration:f,animationEasing:h,onAnimationStart:g,onAnimationEnd:p}=a,b=v.useMemo(()=>({points:o,baseLine:c}),[o,c]),y=sd(b,"recharts-area-"),j=Sz(),[N,_]=v.useState(!1),k=!N,E=v.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),C=v.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);if(j==null)return null;var D=s.current,O=i.current;return v.createElement(UZ,{showLabels:k,points:o},a.children,v.createElement(ad,{animationId:y,begin:m,duration:f,isActive:u,easing:h,onAnimationEnd:E,onAnimationStart:C,key:y},I=>{if(D){var T=D.length/o.length,F=I===1?o:o.map((U,J)=>{var W=Math.floor(J*T);if(D[W]){var he=D[W];return Ac(Ac({},U),{},{x:Ut(he.x,U.x,I),y:Ut(he.y,U.y,I)})}return U}),q;return Qe(c)?q=Ut(O,c,I):cr(c)||os(c)?q=Ut(O,0,I):q=c.map((U,J)=>{var W=Math.floor(J*T);if(Array.isArray(O)&&O[W]){var he=O[W];return Ac(Ac({},U),{},{x:Ut(he.x,U.x,I),y:Ut(he.y,U.y,I)})}return U}),I>0&&(s.current=F,i.current=q),v.createElement(dA,{points:F,baseLine:q,needClip:t,clipPathId:r,props:a})}return I>0&&(s.current=o,i.current=c),v.createElement(Tr,null,u&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(r)},v.createElement(VZ,{alpha:I,points:o,baseLine:c,layout:j,strokeWidth:a.strokeWidth}))),v.createElement(Tr,{clipPath:"url(#animationClipPath-".concat(r,")")},v.createElement(dA,{points:o,baseLine:c,needClip:t,clipPathId:r,props:a})))}),v.createElement(Mp,{label:a.label}))}function KZ(e){var{needClip:t,clipPathId:r,props:a}=e,s=v.useRef(null),i=v.useRef();return v.createElement(qZ,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class GZ extends v.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:i,left:o,needClip:c,xAxisId:u,yAxisId:m,width:f,height:h,id:g,baseLine:p,zIndex:b}=this.props;if(t)return null;var y=Ot("recharts-area",s),j=g,{r:N,strokeWidth:_}=N5(r),k=ew(r),E=N*2+_,C=c?"url(#clipPath-".concat(k?"":"dots-").concat(j,")"):void 0;return v.createElement(da,{zIndex:b},v.createElement(Tr,{className:y},c&&v.createElement("defs",null,v.createElement(dw,{clipPathId:j,xAxisId:u,yAxisId:m}),!k&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:o-E/2,y:i-E/2,width:f+E,height:h+E}))),v.createElement(KZ,{needClip:c,clipPathId:j,props:this.props})),v.createElement($1,{points:a,mainColor:N0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(p)&&v.createElement($1,{points:p,mainColor:N0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var F5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Mr.area};function XZ(e){var t,r=Or(e,F5),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:c,dot:u,fill:m,fillOpacity:f,hide:h,isAnimationActive:g,legendType:p,stroke:b,xAxisId:y,yAxisId:j}=r,N=D5(r,DZ),_=Uo(),k=LO(),{needClip:E}=Vp(y,j),C=bn(),{points:D,isRange:O,baseLine:I}=(t=st(W=>OZ(W,e.id,C)))!==null&&t!==void 0?t:{},T=Hp();if(_!=="horizontal"&&_!=="vertical"||T==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:F,width:q,x:U,y:J}=T;return!D||!D.length?null:v.createElement(GZ,wl({},N,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:I,connectNulls:c,dot:u,fill:m,fillOpacity:f,height:F,hide:h,layout:_,isAnimationActive:g==="auto"?!ff.isSsr:g,isRange:O,legendType:p,needClip:E,points:D,stroke:b,width:q,left:U,top:J,xAxisId:y,yAxisId:j}))}var YZ=(e,t,r,a,s)=>{var i=r??t;if(Qe(i))return i;var o=e==="horizontal"?s:a,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),m=Math.min(c[0],c[1]);return i==="dataMin"?m:i==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function JZ(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:m,dataStartIndex:f,xAxisTicks:h,yAxisTicks:g,bandSize:p}=e,b=s&&s.length,y=YZ(i,o,r,c,u),j=i==="horizontal",N=!1,_=m.map((E,C)=>{var D,O,I;if(b)I=s[f+C];else{var T=Ht(E,a);Array.isArray(T)?(I=T,N=!0):I=[y,T]}var F=(D=(O=I)===null||O===void 0?void 0:O[1])!==null&&D!==void 0?D:null,q=F==null||b&&!t&&Ht(E,a)==null;return j?{x:Gh({axis:c,ticks:h,bandSize:p,entry:E,index:C}),y:q?null:u.scale(F),value:I,payload:E}:{x:q?null:c.scale(F),y:Gh({axis:u,ticks:g,bandSize:p,entry:E,index:C}),value:I,payload:E}}),k;return b||N?k=_.map(E=>{var C=Array.isArray(E.value)?E.value[0]:null;return j?{x:E.x,y:C!=null&&E.y!=null?u.scale(C):null,payload:E.payload}:{x:C!=null?c.scale(C):null,y:E.y,payload:E.payload}}):k=j?u.scale(y):c.scale(y),{points:_,baseLine:k,isRange:N}}function ZZ(e){var t=Or(e,F5),r=bn();return v.createElement(Up,{id:t.id,type:"area"},a=>v.createElement(v.Fragment,null,v.createElement(sw,{legendPayload:zZ(t)}),v.createElement($Z,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),v.createElement(iw,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:uT(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),v.createElement(XZ,wl({},t,{id:a}))))}var ju=v.memo(ZZ,Ef);ju.displayName="Area";var QZ="Invariant failed";function eQ(e,t){throw new Error(QZ)}function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B1.apply(null,arguments)}function S0(e){return v.createElement(tw,B1({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var tQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Qe(t))return t;var i=Qe(a)||cr(a);return i?t(a,s):(i||eQ(),r)}},rQ=(e,t,r)=>r,nQ=(e,t)=>t,Af=Ne([bf,nQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),aQ=Ne([Af],e=>e?.maxBarSize),sQ=(e,t,r,a)=>a,iQ=Ne([Pt,bf,ei,ti,rQ],(e,t,r,a,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),oQ=(e,t,r)=>{var a=Pt(e),s=ei(e,t),i=ti(e,t);if(!(s==null||i==null))return a==="horizontal"?x0(e,"yAxis",i,r):x0(e,"xAxis",s,r)},lQ=(e,t)=>{var r=Pt(e),a=ei(e,t),s=ti(e,t);if(!(a==null||s==null))return r==="horizontal"?q4(e,"xAxis",a):q4(e,"yAxis",s)},cQ=Ne([iQ,oH,lQ],NY),dQ=(e,t,r)=>{var a,s,i=Af(e,t);if(i!=null){var o=ei(e,t),c=ti(e,t);if(!(o==null||c==null)){var u=Pt(e),m=F3(e),{maxBarSize:f}=i,h=cr(f)?m:f,g,p;return u==="horizontal"?(g=Ys(e,"xAxis",o,r),p=Xs(e,"xAxis",o,r)):(g=Ys(e,"yAxis",c,r),p=Xs(e,"yAxis",c,r)),(a=(s=Io(g,p,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}}},L5=(e,t,r)=>{var a=Pt(e),s=ei(e,t),i=ti(e,t);if(!(s==null||i==null)){var o,c;return a==="horizontal"?(o=Ys(e,"xAxis",s,r),c=Xs(e,"xAxis",s,r)):(o=Ys(e,"yAxis",i,r),c=Xs(e,"yAxis",i,r)),Io(o,c)}},uQ=Ne([cQ,F3,iH,L3,dQ,L5,aQ],CY),fQ=(e,t,r)=>{var a=ei(e,t);if(a!=null)return Ys(e,"xAxis",a,r)},mQ=(e,t,r)=>{var a=ti(e,t);if(a!=null)return Ys(e,"yAxis",a,r)},hQ=(e,t,r)=>{var a=ei(e,t);if(a!=null)return Xs(e,"xAxis",a,r)},pQ=(e,t,r)=>{var a=ti(e,t);if(a!=null)return Xs(e,"yAxis",a,r)},xQ=Ne([uQ,Af],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),gQ=Ne([oQ,Af],PY),vQ=Ne([tn,Db,fQ,mQ,hQ,pQ,xQ,Pt,b3,L5,gQ,Af,sQ],(e,t,r,a,s,i,o,c,u,m,f,h,g)=>{var{chartData:p,dataStartIndex:b,dataEndIndex:y}=u;if(!(h==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||a==null||s==null||i==null||m==null)){var{data:j}=h,N;if(j!=null&&j.length>0?N=j:N=p?.slice(b,y+1),N!=null)return KQ({layout:c,barSettings:h,pos:o,parentViewBox:t,bandSize:m,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,stackedData:f,displayedData:N,offset:e,cells:g,dataStartIndex:b})}}),yQ=["index"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U1.apply(null,arguments)}function bQ(e,t){if(e==null)return{};var r,a,s=jQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var R5=v.createContext(void 0),wQ=e=>{var t=v.useContext(R5);if(t!=null)return t.stackId;if(e!=null)return uT(e)},_Q=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),NQ=e=>{var t=v.useContext(R5);if(t!=null){var{stackId:r}=t;return"url(#".concat(_Q(r,e),")")}},SQ=e=>{var{index:t}=e,r=bQ(e,yQ),a=NQ(t);return v.createElement(Tr,U1({className:"recharts-bar-stack-layer",clipPath:a},r))},kQ=["onMouseEnter","onMouseLeave","onClick"],EQ=["value","background","tooltipPosition"],AQ=["id"],CQ=["onMouseEnter","onClick","onMouseLeave"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ri.apply(null,arguments)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(a){PQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PQ(e,t,r){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(e,t){if(e==null)return{};var r,a,s=IQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var DQ=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:a,value:Bo(r,t),payload:e}]},FQ=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:i,hide:o,unit:c,tooltipType:u,id:m}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Bo(i,t),hide:o,type:u,color:s,unit:c,graphicalItemId:m}};return v.createElement(Bp,{tooltipEntrySettings:f})});function LQ(e){var t=st(Fo),{data:r,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:u}=i,m=k0(i,kQ),f=rw(o,a,i.id),h=nw(c),g=aw(u,a,i.id);if(!s||r==null)return null;var p=Nl(s);return v.createElement(da,{zIndex:TY(s,Mr.barBackground)},r.map((b,y)=>{var{value:j,background:N,tooltipPosition:_}=b,k=k0(b,EQ);if(!N)return null;var E=f(b,y),C=h(b,y),D=g(b,y),O=ta(ta(ta(ta(ta({option:s,isActive:String(y)===t},k),{},{fill:"#eee"},N),p),of(m,b,y)),{},{onMouseEnter:E,onMouseLeave:C,onClick:D,dataKey:a,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(S0,Ri({key:"background-bar-".concat(y)},O))}))}function RQ(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return ta(ta({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return v.createElement(Yj,{value:t?s:void 0},r)}function MQ(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:i,dataKey:o}=e,c=st(Fo),u=st(Hj),m=r&&String(i)===c&&(u==null||o===u),f=m?r:t;return m?v.createElement(da,{zIndex:Mr.activeBar},v.createElement(S0,Ri({},a,{name:String(a.name)},s,{isActive:m,option:f,index:i,dataKey:o}))):v.createElement(S0,Ri({},a,{name:String(a.name)},s,{isActive:m,option:f,index:i,dataKey:o}))}function zQ(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:i}=e;return v.createElement(S0,Ri({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:i}))}function $Q(e){var t,{data:r,props:a}=e,s=(t=oa(a))!==null&&t!==void 0?t:{},{id:i}=s,o=k0(s,AQ),{shape:c,dataKey:u,activeBar:m}=a,{onMouseEnter:f,onClick:h,onMouseLeave:g}=a,p=k0(a,CQ),b=rw(f,u,i),y=nw(g),j=aw(h,u,i);return r?v.createElement(v.Fragment,null,r.map((N,_)=>v.createElement(SQ,Ri({index:_,key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(_),className:"recharts-bar-rectangle"},of(p,N,_),{onMouseEnter:b(N,_),onMouseLeave:y(N,_),onClick:j(N,_)}),m?v.createElement(MQ,{shape:c,activeBar:m,baseProps:o,entry:N,index:_,dataKey:u}):v.createElement(zQ,{shape:c,baseProps:o,entry:N,index:_,dataKey:u})))):null}function BQ(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:m,onAnimationStart:f}=t,h=r.current,g=sd(t,"recharts-bar-"),[p,b]=v.useState(!1),y=!p,j=v.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),N=v.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return v.createElement(RQ,{showLabels:y,rects:a},v.createElement(ad,{animationId:g,begin:o,duration:c,isActive:i,easing:u,onAnimationEnd:j,onAnimationStart:N,key:g},_=>{var k=_===1?a:a?.map((E,C)=>{var D=h&&h[C];if(D)return ta(ta({},E),{},{x:Ut(D.x,E.x,_),y:Ut(D.y,E.y,_),width:Ut(D.width,E.width,_),height:Ut(D.height,E.height,_)});if(s==="horizontal"){var O=Ut(0,E.height,_),I=Ut(E.stackedBarStart,E.y,_);return ta(ta({},E),{},{y:I,height:O})}var T=Ut(0,E.width,_),F=Ut(E.stackedBarStart,E.x,_);return ta(ta({},E),{},{width:T,x:F})});return _>0&&(r.current=k??null),k==null?null:v.createElement(Tr,null,v.createElement($Q,{props:t,data:k}))}),v.createElement(Mp,{label:t.label}),t.children)}function UQ(e){var t=v.useRef(null);return v.createElement(BQ,{previousRectanglesRef:t,props:e})}var M5=0,WQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ht(e,t)}};class HQ extends v.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:i,yAxisId:o,needClip:c,background:u,id:m}=this.props;if(t||r==null)return null;var f=Ot("recharts-bar",s),h=m;return v.createElement(Tr,{className:f,id:m},c&&v.createElement("defs",null,v.createElement(dw,{clipPathId:h,xAxisId:i,yAxisId:o})),v.createElement(Tr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(h,")"):void 0},v.createElement(LQ,{data:r,dataKey:a,background:u,allOtherBarProps:this.props}),v.createElement(UQ,this.props)))}}var VQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:M5,xAxisId:0,yAxisId:0,zIndex:Mr.bar};function qQ(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:m,isAnimationActive:f}=e,{needClip:h}=Vp(t,r),g=Uo(),p=bn(),b=Qj(e.children,pd),y=st(_=>vQ(_,e.id,p,b));if(g!=="vertical"&&g!=="horizontal")return null;var j,N=y?.[0];return N==null||N.height==null||N.width==null?j=0:j=g==="vertical"?N.height/2:N.width/2,v.createElement(y5,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:WQ,errorBarOffset:j},v.createElement(HQ,Ri({},e,{layout:g,needClip:h,data:y,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:m,isAnimationActive:f})))}function KQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:m,stackedData:f,displayedData:h,offset:g,cells:p,parentViewBox:b,dataStartIndex:y}=e,j=t==="horizontal"?c:o,N=f?j.scale.domain():null,_=W9({numericAxis:j}),k=j.scale(_);return h.map((E,C)=>{var D,O,I,T,F,q;if(f){var U=f[C+y];if(U==null)return null;D=M9(U,N)}else D=Ht(E,r),Array.isArray(D)||(D=[_,D]);var J=tQ(a,M5)(D[1],C);if(t==="horizontal"){var W,[he,X]=[c.scale(D[0]),c.scale(D[1])];O=YS({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:E,index:C}),I=(W=X??he)!==null&&W!==void 0?W:void 0,T=s.size;var be=he-X;if(F=os(be)?0:be,q={x:O,y:g.top,width:T,height:g.height},Math.abs(J)>0&&Math.abs(F)<Math.abs(J)){var ne=pn(F||J)*(Math.abs(J)-Math.abs(F));I-=ne,F+=ne}}else{var[ve,me]=[o.scale(D[0]),o.scale(D[1])];if(O=ve,I=YS({axis:c,ticks:m,bandSize:i,offset:s.offset,entry:E,index:C}),T=me-ve,F=s.size,q={x:g.left,y:I,width:g.width,height:F},Math.abs(J)>0&&Math.abs(T)<Math.abs(J)){var ae=pn(T||J)*(Math.abs(J)-Math.abs(T));T+=ae}}if(O==null||I==null||T==null||F==null)return null;var P=ta(ta({},E),{},{stackedBarStart:k,x:O,y:I,width:T,height:F,value:f?D:D[1],payload:E,background:q,tooltipPosition:{x:O+T/2,y:I+F/2},parentViewBox:b},p&&p[C]&&p[C].props);return P}).filter(Boolean)}function GQ(e){var t=Or(e,VQ),r=wQ(t.stackId),a=bn();return v.createElement(Up,{id:t.id,type:"bar"},s=>v.createElement(v.Fragment,null,v.createElement(sw,{legendPayload:DQ(t)}),v.createElement(FQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:s}),v.createElement(iw,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),v.createElement(da,{zIndex:t.zIndex},v.createElement(qQ,Ri({},t,{id:s})))))}var Kc=v.memo(GQ,Ef);Kc.displayName="Bar";var XQ=["domain","range"],YQ=["domain","range"];function fA(e,t){if(e==null)return{};var r,a,s=JQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function JQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function mA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function z5(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=fA(e,XQ),{domain:i,range:o}=t,c=fA(t,YQ);return!mA(r,i)||!mA(a,o)?!1:Ef(s,c)}var ZQ=["dangerouslySetInnerHTML","ticks","scale"],QQ=["id","scale"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W1.apply(null,arguments)}function hA(e,t){if(e==null)return{};var r,a,s=eee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function tee(e){var t=sr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(cY(e)):r.current!==e&&t(dY({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(uY(r.current)),r.current=null)},[t]),null}var ree=e=>{var{xAxisId:t,className:r}=e,a=st(Db),s=bn(),i="xAxis",o=st(N=>hO(N,i,t,s)),c=st(N=>dO(N,t)),u=st(N=>sV(N,t)),m=st(N=>V3(N,t));if(c==null||u==null||m==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:g}=e,p=hA(e,ZQ),{id:b,scale:y}=m,j=hA(m,QQ);return v.createElement(cw,W1({},p,j,{x:u.x,y:u.y,width:c.width,height:c.height,className:Ot("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:o,axisType:i}))},nee={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,angle:dn.angle,axisLine:bi.axisLine,height:dn.height,hide:!1,includeHidden:dn.includeHidden,interval:dn.interval,minTickGap:dn.minTickGap,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,tickLine:bi.tickLine,tickSize:bi.tickSize,type:dn.type,xAxisId:0},aee=e=>{var t=Or(e,nee);return v.createElement(v.Fragment,null,v.createElement(tee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(ree,t))},wi=v.memo(aee,z5);wi.displayName="XAxis";var see=["dangerouslySetInnerHTML","ticks","scale"],iee=["id","scale"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H1.apply(null,arguments)}function pA(e,t){if(e==null)return{};var r,a,s=oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function lee(e){var t=sr(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(fY(e)):r.current!==e&&t(mY({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(hY(r.current)),r.current=null)},[t]),null}var cee=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,i=v.useRef(null),o=v.useRef(null),c=st(Db),u=bn(),m=sr(),f="yAxis",h=st(D=>uO(D,t)),g=st(D=>oV(D,t)),p=st(D=>hO(D,f,t,u)),b=st(D=>q3(D,t));if(v.useLayoutEffect(()=>{if(!(a!=="auto"||!h||Xj(s)||v.isValidElement(s)||b==null)){var D=i.current;if(D){var O=D.getCalculatedWidth();Math.round(h.width)!==Math.round(O)&&m(pY({id:t,width:O}))}}},[p,h,m,s,t,a,b]),h==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:y,ticks:j,scale:N}=e,_=pA(e,see),{id:k,scale:E}=b,C=pA(b,iee);return v.createElement(cw,H1({},_,C,{ref:i,labelRef:o,x:g.x,y:g.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:h.width,height:h.height,className:Ot("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:p,axisType:f}))},dee={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,angle:un.angle,axisLine:bi.axisLine,hide:!1,includeHidden:un.includeHidden,interval:un.interval,minTickGap:un.minTickGap,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tick:un.tick,tickCount:un.tickCount,tickLine:bi.tickLine,tickSize:bi.tickSize,type:un.type,width:un.width,yAxisId:0},uee=e=>{var t=Or(e,dee);return v.createElement(v.Fragment,null,v.createElement(lee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(cee,t))},_i=v.memo(uee,z5);_i.displayName="YAxis";var fee=(e,t)=>t,fw=Ne([fee,Pt,W3,nn,PO,Gi,wq,tn],Cq),mw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},$5=ls("mouseClick"),B5=cf();B5.startListening({actionCreator:$5,effect:(e,t)=>{var r=e.payload,a=fw(t.getState(),mw(r));a?.activeIndex!=null&&t.dispatch(jV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var V1=ls("mouseMove"),U5=cf(),nh=null;U5.startListening({actionCreator:V1,effect:(e,t)=>{var r=e.payload;nh!==null&&cancelAnimationFrame(nh);var a=mw(r);nh=requestAnimationFrame(()=>{var s=t.getState(),i=Mj(s,s.tooltip.settings.shared);if(i==="axis"){var o=fw(s,a);o?.activeIndex!=null?t.dispatch(wO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(jO())}nh=null})}});function mee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var xA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W5=ka({name:"rootProps",initialState:xA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:xA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),hee=W5.reducer,{updateOptions:pee}=W5.actions,H5=ka({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xee}=H5.actions,gee=H5.reducer,V5=ls("keyDown"),q5=ls("focus"),hw=cf();hw.startListening({actionCreator:V5,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=zj(s,hd(r),wf(r),Sf(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Gi(r);if(i==="Enter"){var m=v0(r,"axis","hover",String(s.index));t.dispatch(D1({active:!s.active,activeIndex:s.index,activeCoordinate:m}));return}var f=uV(r),h=f==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,p=c+g*h;if(!(u==null||p>=u.length||p<0)){var b=v0(r,"axis","hover",String(p));t.dispatch(D1({active:!0,activeIndex:p.toString(),activeCoordinate:b}))}}}}}});hw.startListening({actionCreator:q5,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=v0(r,"axis","hover",String(i));t.dispatch(D1({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var ts=ls("externalEvent"),K5=cf(),Ny=new Map;K5.startListening({actionCreator:ts,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,i=Ny.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:oq(c),activeDataKey:Hj(c),activeIndex:Fo(c),activeLabel:IO(c),activeTooltipIndex:Fo(c),isTooltipActive:lq(c)};r(u,a)}finally{Ny.delete(s)}});Ny.set(s,o)}}});var vee=Ne([fd],e=>e.tooltipItemPayloads),yee=Ne([vee,Nf,(e,t)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(c=>c.settings.graphicalItemId===a);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),G5=ls("touchMove"),X5=cf();X5.startListening({actionCreator:G5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=Mj(a,a.tooltip.settings.shared);if(s==="axis"){var i=r.touches[0];if(i==null)return;var o=fw(a,mw({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(wO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(mT),h=(c=m.getAttribute(hT))!==null&&c!==void 0?c:void 0,g=md(a).find(y=>y.id===h);if(f==null||g==null||h==null)return;var{dataKey:p}=g,b=yee(a,f,h);t.dispatch(bO({activeDataKey:p,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:h}))}}}});var bee=DP({brush:OY,cartesianAxis:xY,chartData:iK,errorBars:CJ,graphicalItems:_X,layout:O9,legend:$z,options:tK,polarAxis:RG,polarOptions:gee,referenceElements:zY,rootProps:hee,tooltip:wV,zIndex:Wq}),jee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return n9({reducer:bee,preloadedState:t,middleware:a=>{var s;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([B5.middleware,U5.middleware,hw.middleware,K5.middleware,X5.middleware])},enhancers:a=>{var s=a;return typeof a=="function"&&(s=a()),s.concat(XP({type:"raf"}))},devTools:{serialize:{replacer:mee},name:"recharts-".concat(r)}})};function Y5(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=bn(),i=v.useRef(null);if(s)return r;i.current==null&&(i.current=jee(t,a));var o=Eb;return v.createElement(nZ,{context:o,store:i.current},r)}function wee(e){var{layout:t,margin:r}=e,a=sr(),s=bn();return v.useEffect(()=>{s||(a(C9(t)),a(A9(r)))},[a,s,t,r]),null}var J5=v.memo(wee,Ef);function Z5(e){var t=sr();return v.useEffect(()=>{t(pee(e))},[t,e]),null}function gA(e){var{zIndex:t,isPanorama:r}=e,a=v.useRef(null),s=sr();return v.useLayoutEffect(()=>(a.current&&s(Bq({zIndex:t,element:a.current,isPanorama:r})),()=>{s(Uq({zIndex:t,isPanorama:r}))}),[s,t,r]),v.createElement("g",{tabIndex:-1,ref:a})}function vA(e){var{children:t,isPanorama:r}=e,a=st(Tq);if(!a||a.length===0)return t;var s=a.filter(o=>o<0),i=a.filter(o=>o>0);return v.createElement(v.Fragment,null,s.map(o=>v.createElement(gA,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>v.createElement(gA,{key:o,zIndex:o,isPanorama:r})))}var _ee=["children"];function Nee(e,t){if(e==null)return{};var r,a,s=See(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function See(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E0.apply(null,arguments)}var kee={width:"100%",height:"100%",display:"block"},Eee=v.forwardRef((e,t)=>{var r=Lb(),a=Rb(),s=PT();if(!Ks(r)||!Ks(a))return null;var{children:i,otherAttributes:o,title:c,desc:u}=e,m,f;return o!=null&&(typeof o.tabIndex=="number"?m=o.tabIndex:m=s?0:void 0,typeof o.role=="string"?f=o.role:f=s?"application":void 0),v.createElement(gb,E0({},o,{title:c,desc:u,role:f,tabIndex:m,width:r,height:a,style:kee,ref:t}),i)}),Aee=e=>{var{children:t}=e,r=st(up);if(!r)return null;var{width:a,height:s,y:i,x:o}=r;return v.createElement(gb,{width:a,height:s,x:o,y:i},t)},yA=v.forwardRef((e,t)=>{var{children:r}=e,a=Nee(e,_ee),s=bn();return s?v.createElement(Aee,null,v.createElement(vA,{isPanorama:!0},r)):v.createElement(Eee,E0({ref:t},a),v.createElement(vA,{isPanorama:!1},r))});function Cee(){var e=sr(),[t,r]=v.useState(null),a=st(X9);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;tr(i)&&i!==a&&e(T9(i))}},[t,e,a]),r}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(a){Tee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tee(e,t,r){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ol.apply(null,arguments)}var Dee=()=>(pK(),null);function A0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Fee=v.forwardRef((e,t)=>{var r,a,s=v.useRef(null),[i,o]=v.useState({containerWidth:A0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:A0((a=e.style)===null||a===void 0?void 0:a.height)}),c=v.useCallback((m,f)=>{o(h=>{var g=Math.round(m),p=Math.round(f);return h.containerWidth===g&&h.containerHeight===p?h:{containerWidth:g,containerHeight:p}})},[]),u=v.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=m.getBoundingClientRect();c(f,h);var g=b=>{var{width:y,height:j}=b[0].contentRect;c(y,j)},p=new ResizeObserver(g);p.observe(m),s.current=p}},[t,c]);return v.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[c]),v.createElement(v.Fragment,null,v.createElement(mp,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Ol({ref:u},e)))}),Lee=v.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,i]=v.useState({containerWidth:A0(r),containerHeight:A0(a)}),o=v.useCallback((u,m)=>{i(f=>{var h=Math.round(u),g=Math.round(m);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),c=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:m,height:f}=u.getBoundingClientRect();o(m,f)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(mp,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",Ol({ref:c},e)))}),Ree=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return v.createElement(v.Fragment,null,v.createElement(mp,{width:r,height:a}),v.createElement("div",Ol({ref:t},e)))}),Mee=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return Ti(r)||Ti(a)?v.createElement(Lee,Ol({},e,{ref:t})):v.createElement(Ree,Ol({},e,{ref:t}))});function zee(e){return e===!0?Fee:Mee}var $ee=v.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:m,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:p,onTouchMove:b,onTouchStart:y,style:j,width:N,responsive:_,dispatchTouchEvents:k=!0}=e,E=v.useRef(null),C=sr(),[D,O]=v.useState(null),[I,T]=v.useState(null),F=Cee(),q=Fb(),U=q?.width>0?q.width:N,J=q?.height>0?q.height:s,W=v.useCallback(R=>{F(R),typeof t=="function"&&t(R),O(R),T(R),R!=null&&(E.current=R)},[F,t,O,T]),he=v.useCallback(R=>{C($5(R)),C(ts({handler:i,reactEvent:R}))},[C,i]),X=v.useCallback(R=>{C(V1(R)),C(ts({handler:m,reactEvent:R}))},[C,m]),be=v.useCallback(R=>{C(jO()),C(ts({handler:f,reactEvent:R}))},[C,f]),ne=v.useCallback(R=>{C(V1(R)),C(ts({handler:h,reactEvent:R}))},[C,h]),ve=v.useCallback(()=>{C(q5())},[C]),me=v.useCallback(R=>{C(V5(R.key))},[C]),ae=v.useCallback(R=>{C(ts({handler:o,reactEvent:R}))},[C,o]),P=v.useCallback(R=>{C(ts({handler:c,reactEvent:R}))},[C,c]),B=v.useCallback(R=>{C(ts({handler:u,reactEvent:R}))},[C,u]),H=v.useCallback(R=>{C(ts({handler:g,reactEvent:R}))},[C,g]),V=v.useCallback(R=>{C(ts({handler:y,reactEvent:R}))},[C,y]),te=v.useCallback(R=>{k&&C(G5(R)),C(ts({handler:b,reactEvent:R}))},[C,k,b]),ye=v.useCallback(R=>{C(ts({handler:p,reactEvent:R}))},[C,p]),ke=zee(_);return v.createElement(BO.Provider,{value:D},v.createElement(YC.Provider,{value:I},v.createElement(ke,{width:U??j?.width,height:J??j?.height,className:Ot("recharts-wrapper",a),style:Pee({position:"relative",cursor:"default",width:U,height:J},j),onClick:he,onContextMenu:ae,onDoubleClick:P,onFocus:ve,onKeyDown:me,onMouseDown:B,onMouseEnter:X,onMouseLeave:be,onMouseMove:ne,onMouseUp:H,onTouchEnd:ye,onTouchMove:te,onTouchStart:V,ref:W},v.createElement(Dee,null),r)))}),Bee=["width","height","responsive","children","className","style","compact","title","desc"];function Uee(e,t){if(e==null)return{};var r,a,s=Wee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Q5=v.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:i,className:o,style:c,compact:u,title:m,desc:f}=e,h=Uee(e,Bee),g=oa(h);return u?v.createElement(v.Fragment,null,v.createElement(mp,{width:r,height:a}),v.createElement(yA,{otherAttributes:g,title:m,desc:f},i)):v.createElement($ee,{className:o,style:c,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(yA,{otherAttributes:g,title:m,desc:f,ref:t},v.createElement(BY,null,i)))});function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},q1.apply(null,arguments)}var Hee={top:5,right:5,bottom:5,left:5},Vee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Hee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pw=v.forwardRef(function(t,r){var a,s=Or(t.categoricalChartProps,Vee),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:m}=t,f={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return v.createElement(Y5,{preloadedState:{options:f},reduxStoreName:(a=m.id)!==null&&a!==void 0?a:i},v.createElement(m5,{chartData:m.data}),v.createElement(J5,{layout:s.layout,margin:s.margin}),v.createElement(Z5,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),v.createElement(Q5,q1({},s,{ref:r})))}),qee=["axis"],Kee=v.forwardRef((e,t)=>v.createElement(pw,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qee,tooltipPayloadSearcher:Lp,categoricalChartProps:e,ref:t})),Gee=["axis","item"],Ku=v.forwardRef((e,t)=>v.createElement(pw,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gee,tooltipPayloadSearcher:Lp,categoricalChartProps:e,ref:t}));function Xee(e){var t=sr();return v.useEffect(()=>{t(xee(e))},[t,e]),null}var Yee=["layout"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K1.apply(null,arguments)}function Jee(e,t){if(e==null)return{};var r,a,s=Zee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Qee={top:5,right:5,bottom:5,left:5},e6={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ete=v.forwardRef(function(t,r){var a,s=Or(t.categoricalChartProps,e6),{layout:i}=s,o=Jee(s,Yee),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(Y5,{preloadedState:{options:h},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:c},v.createElement(m5,{chartData:s.data}),v.createElement(J5,{layout:i,margin:s.margin}),v.createElement(Z5,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),v.createElement(Xee,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),v.createElement(Q5,K1({},o,{ref:r})))});function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(a){tte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ate=["item"],ste=wA(wA({},e6),{},{layout:"centric",startAngle:0,endAngle:360}),ite=v.forwardRef((e,t)=>{var r=Or(e,ste);return v.createElement(ete,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ate,tooltipPayloadSearcher:Lp,categoricalChartProps:r,ref:t})}),ote=["axis"],t6=v.forwardRef((e,t)=>v.createElement(pw,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ote,tooltipPayloadSearcher:Lp,categoricalChartProps:e,ref:t}));const lte=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=qC(e,t);if(a)return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((c,u)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),n.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"})]},u))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((c,u)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-100",children:[n.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},u))})]})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load growth activity"});const i=[{name:"Revenue Growth",value:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth.toFixed(1)}%`,icon:yu,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Booking Growth",value:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth.toFixed(1)}%`,icon:Cr,color:"blue",gradient:"from-blue-400 to-cyan-500"},{name:"User Growth",value:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth.toFixed(1)}%`,icon:yu,color:"purple",gradient:"from-purple-400 to-indigo-500"}],o=[{type:"New Bookings",count:r.recent_activity.new_bookings,color:"blue",icon:Cr,gradient:"from-blue-400 to-cyan-500"},{type:"Completed Bookings",count:r.recent_activity.completed_bookings,color:"emerald",icon:Cr,gradient:"from-emerald-400 to-teal-500"},{type:"New Disputes",count:r.recent_activity.new_disputes,color:"red",icon:$o,gradient:"from-red-400 to-rose-500"},{type:"Payments Received",count:r.recent_activity.payments_received,color:"green",icon:Ai,gradient:"from-green-400 to-emerald-500"}];return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full mr-3"}),"Growth Overview"]}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(c=>{const u=c.icon;return n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${c.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(u,{className:"w-8 h-8 text-white"})}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:c.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.name})]},c.name)})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded-full mr-3"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-4",children:o.map(c=>{const u=c.icon;return n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/60 backdrop-blur-sm hover:bg-white/80 transition-all duration-200 border border-white/30 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${c.gradient} shadow-md`,children:n.jsx(u,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"font-semibold text-gray-900",children:c.type})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:c.count}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Today"})]})]},c.type)})})]}),n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30 col-span-1 lg:col-span-2",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(yu,{className:"w-5 h-5 mr-2 text-blue-600"}),"Growth Rates Comparison"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Ku,{data:[{name:"Revenue Growth",value:r.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:r.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:r.growth_rates.user_growth,color:"#8b5cf6"}],children:[n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Growth %",angle:-90,position:"insideLeft"},tickFormatter:c=>`${c>0?"+":""}${c}%`}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:c=>[`${c>0?"+":""}${c.toFixed(1)}%`,"Growth"]}),n.jsx(Kc,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Revenue Growth",value:r.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:r.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:r.growth_rates.user_growth,color:"#8b5cf6"}].map((c,u)=>n.jsx(pd,{fill:c.color},`cell-${u}`))})]})})]})]})},cte=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=cR(e,t);if(a)return n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:n.jsx("div",{className:"space-y-4",children:[...Array(6)].map((m,f)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-8 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"flex-1 h-6 bg-gray-200 rounded-full"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},f))})})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load revenue insights"});const i=r.trend||[],o=r.payment_methods||[],c=r.category_revenue||[],u=r.top_providers||[];return i.length>0&&Math.max(...i.map(m=>m.total_revenue||0)),i.reduce((m,f)=>m+(f.total_revenue||0),0),o.length>0&&Math.max(...o.map(m=>m.total_amount||0)),c.length>0&&Math.max(...c.map(m=>m.total_revenue||0)),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full mr-3"}),"Revenue Insights"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(yu,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Revenue Over Time"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Kee,{data:i,children:[n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"period",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:m=>`${(m/1e3).toFixed(0)}k`}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:m=>[`${m.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(gp,{}),n.jsx(E5,{type:"monotone",dataKey:"total_revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Revenue"})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Ai,{className:"w-5 h-5 mr-2 text-primary"}),"Payment Methods Distribution"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(ite,{children:[n.jsx(c5,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({method:m,percent:f})=>`${m}: ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:o.map((m,f)=>{const h=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return n.jsx(pd,{fill:h[f%h.length]},`cell-${f}`)})}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:m=>[`${m.toLocaleString("en-IN")}`,"Amount"]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(KL,{className:"w-5 h-5 mr-2 text-purple-600"}),"Revenue by Category"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(Ku,{data:c,children:[n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"category",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"},tickFormatter:m=>`${(m/1e3).toFixed(0)}k`}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:m=>[`${m.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(Kc,{dataKey:"total_revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Pi,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top Earning Providers"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((m,f)=>n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-xl border border-white/30 hover:bg-white/80 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:m.name.split(" ").map(h=>h[0]).join("")}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:m.name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:m.business_name})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",m.total_earnings.toLocaleString("en-IN")]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[n.jsx(Pi,{className:"w-4 h-4 text-yellow-500 fill-current"}),n.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:[m.booking_count," bookings"]})]})]})]},m.name))})]})]})},dte=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=uR(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((h,g)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},g))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load user analytics"});const i=r.activity_metrics||{};r.engagement_metrics;const o=i.total_users||0,c=i.active_users_30d||0,u=i.verified_users||0,m=i.users_with_bookings||0,f=[{name:"Total Users",value:o.toLocaleString(),change:`${u} verified`,changeType:"positive",icon:Vs,gradient:"from-blue-400 to-cyan-500"},{name:"Active Users (30d)",value:c.toLocaleString(),change:"Last 30 days",changeType:"positive",icon:Th,gradient:"from-green-400 to-emerald-500"},{name:"Users with Bookings",value:m.toLocaleString(),change:`${o>0?Math.round(m/o*100):0}% of total`,changeType:"positive",icon:VC,gradient:"from-purple-400 to-indigo-500"},{name:"Verified Users",value:u.toLocaleString(),change:`${o>0?Math.round(u/o*100):0}% verified`,changeType:"positive",icon:tR,gradient:"from-red-400 to-rose-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(h=>{const g=h.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:n.jsx(g,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),n.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:h.change})]},h.name)})}),r.registration_trend&&r.registration_trend.length>0&&n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Th,{className:"w-5 h-5 mr-2 text-blue-600"}),"User Registration Trends"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(t6,{data:r.registration_trend,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRegistrations",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(gp,{}),n.jsx(ju,{type:"monotone",dataKey:"new_users",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRegistrations)",name:"New Users"})]})})]}),r.geographic_distribution&&r.geographic_distribution.length>0&&n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Vs,{className:"w-5 h-5 mr-2 text-purple-600"}),"User Geographic Distribution"]}),n.jsx(gi,{width:"100%",height:300,children:n.jsxs(Ku,{data:r.geographic_distribution,children:[n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"city",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:100}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Kc,{dataKey:"user_count",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})},ute=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=mR(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,g)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},g))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load booking analytics"});const i=r.booking_trend&&r.booking_trend.length>0?r.booking_trend[r.booking_trend.length-1]:null,o=r.booking_trend?r.booking_trend.reduce((h,g)=>h+g.total_bookings,0):0,c=r.booking_trend?r.booking_trend.reduce((h,g)=>h+g.completed_bookings,0):0,u=r.booking_trend?r.booking_trend.reduce((h,g)=>h+g.cancelled_bookings,0):0,m=r.booking_trend&&r.booking_trend.length>0?r.booking_trend.reduce((h,g)=>h+g.completion_rate,0)/r.booking_trend.length:0,f=[{name:"Total Bookings",value:o.toLocaleString(),change:`${i?.total_bookings||0} today`,changeType:"positive",icon:Cr,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:c.toLocaleString(),change:`${m.toFixed(1)}% avg completion`,changeType:"positive",icon:Wr,gradient:"from-green-400 to-emerald-500"},{name:"Cancelled Bookings",value:u.toLocaleString(),change:`${(u/o*100).toFixed(1)}% cancellation rate`,changeType:"negative",icon:Hn,gradient:"from-red-400 to-rose-500"},{name:"Peak Hour",value:`${r.peak_booking_times&&r.peak_booking_times.length>0?r.peak_booking_times.reduce((h,g)=>h.booking_count>g.booking_count?h:g).hour:0}:00`,change:"Most Active",changeType:"positive",icon:Kr,gradient:"from-yellow-400 to-orange-500"},{name:"Search to Booking",value:`${r.conversion_funnel.search_to_booking_rate.toFixed(1)}%`,change:`${r.conversion_funnel.searches.toLocaleString()} searches`,changeType:"positive",icon:rd,gradient:"from-purple-400 to-indigo-500"},{name:"Profile Views",value:r.conversion_funnel.profile_views.toLocaleString(),change:`${(r.conversion_funnel.profile_views/r.conversion_funnel.searches*100).toFixed(1)}% view rate`,changeType:"positive",icon:To,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:f.map(h=>{const g=h.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:n.jsx(g,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),n.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":h.changeType==="negative"?"text-red-700 bg-red-100 border border-red-200":"text-yellow-700 bg-yellow-100 border border-yellow-200"}`,children:h.change})]},h.name)})}),n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Cr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Booking Trends Over Time"]}),n.jsx(gi,{width:"100%",height:350,children:n.jsxs(t6,{data:r.booking_trend||[],children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCancelled",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(gp,{}),n.jsx(ju,{type:"monotone",dataKey:"total_bookings",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTotal)",name:"Total Bookings"}),n.jsx(ju,{type:"monotone",dataKey:"completed_bookings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorCompleted)",name:"Completed"}),n.jsx(ju,{type:"monotone",dataKey:"cancelled_bookings",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorCancelled)",name:"Cancelled"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Wr,{className:"w-5 h-5 mr-2 text-green-600"}),"Booking Status Distribution"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(Ku,{data:r.status_distribution||[],children:[n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"status",stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Kc,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Kr,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Peak Booking Times"]}),n.jsx(gi,{width:"100%",height:250,children:n.jsxs(Ku,{data:r.peak_booking_times||[],children:[n.jsx(ji,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(wi,{dataKey:"hour",stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Hour",position:"insideBottom",offset:-5}}),n.jsx(_i,{stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Bookings",angle:-90,position:"insideLeft"}}),n.jsx(yi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Kc,{dataKey:"booking_count",fill:"#f59e0b",radius:[8,8,0,0]})]})})]})]})]})},fte=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=pR(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,f)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},f))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load provider analytics"});const i=r.registration_trend&&r.registration_trend.length>0?r.registration_trend[r.registration_trend.length-1]:null,o=r.status_distribution?r.status_distribution.reduce((m,f)=>m+f.count,0):0,c=r.status_distribution?r.status_distribution.filter(m=>m.verification_status==="verified").reduce((m,f)=>m+f.count,0):0,u=[{name:"Total Providers",value:o.toLocaleString(),change:`${i?.new_providers||0} new today`,changeType:"positive",icon:Pu,gradient:"from-blue-400 to-cyan-500"},{name:"Verified Providers",value:c.toLocaleString(),change:`${(c/o*100).toFixed(1)}% verified`,changeType:"positive",icon:Th,gradient:"from-green-400 to-emerald-500"},{name:"Average Rating",value:r.performance_metrics.avg_platform_rating.toFixed(1),change:`${r.performance_metrics.avg_completion_rate.toFixed(1)}% completion`,changeType:"positive",icon:Pi,gradient:"from-yellow-400 to-orange-500"},{name:"Active Providers",value:r.performance_metrics.active_providers.toLocaleString(),change:`${(r.performance_metrics.active_providers/o*100).toFixed(1)}% active`,changeType:"positive",icon:rd,gradient:"from-purple-400 to-indigo-500"},{name:"Top Performer",value:r.top_performers[0]?.name||"N/A",change:`${r.top_performers[0]?.rating.toFixed(1)||"0"} rating`,changeType:"positive",icon:Kr,gradient:"from-pink-400 to-rose-500"},{name:"Category Leaders",value:r.category_distribution.length.toString(),change:`${r.category_distribution[0]?.category||"N/A"} leading`,changeType:"positive",icon:To,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Provider Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>{const f=m.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${m.gradient} rounded-xl shadow-md`,children:n.jsx(f,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value}),n.jsx("p",{className:"text-sm text-gray-600",children:m.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${m.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:m.change})]},m.name)})})]})},mte=()=>{const{data:e,loading:t,error:r}=gR();if(t)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,i)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},i))})]});if(r||!e)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:r||"Failed to load system performance data"});const a=[{name:"Response Time",value:`${e.current_metrics.avg_response_time_ms}ms`,change:`${e.current_metrics.avg_response_time_ms<200?"Good":"Slow"}`,changeType:e.current_metrics.avg_response_time_ms<200?"positive":"negative",icon:Kr,gradient:"from-blue-400 to-cyan-500"},{name:"DB Query Time",value:`${e.current_metrics.avg_db_query_time_ms}ms`,change:`${e.current_metrics.avg_db_query_time_ms<100?"Fast":"Slow"}`,changeType:e.current_metrics.avg_db_query_time_ms<100?"positive":"negative",icon:DL,gradient:"from-purple-400 to-indigo-500"},{name:"Server Load",value:`${e.current_metrics.avg_server_load}%`,change:`${e.current_metrics.avg_server_load<80?"Normal":"High"}`,changeType:e.current_metrics.avg_server_load<80?"positive":"negative",icon:YL,gradient:"from-emerald-400 to-teal-500"},{name:"Memory Usage",value:`${e.current_metrics.avg_memory_usage}%`,change:`${e.current_metrics.avg_memory_usage<80?"Good":"High"}`,changeType:e.current_metrics.avg_memory_usage<80?"positive":"negative",icon:ML,gradient:"from-orange-400 to-red-500"},{name:"Error Rate",value:`${e.current_metrics.avg_error_rate}%`,change:`${e.current_metrics.avg_error_rate<1?"Low":"High"}`,changeType:e.current_metrics.avg_error_rate<1?"positive":"negative",icon:To,gradient:"from-pink-400 to-rose-500"},{name:"Uptime",value:`${e.current_metrics.avg_uptime}%`,change:`${e.current_metrics.avg_uptime>99.9?"Excellent":"Good"}`,changeType:"positive",icon:Cu,gradient:"from-yellow-400 to-orange-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Performance"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>{const i=s.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${s.gradient} rounded-xl shadow-md`,children:n.jsx(i,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),n.jsx("p",{className:"text-sm text-gray-600",children:s.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${s.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:s.change})]},s.name)})})]})},_A="Apricott Care_admin_sidebar_scroll",NA=({isMobile:e,toggleSidebar:t})=>{const{user:r,logout:a}=vn(),s=ca(),i=Na(),o=s.pathname==="/admin/finance-panel",u=new URLSearchParams(s.search).get("tab")||"overview",[m,f]=v.useState({}),[h,g]=v.useState(0),p=v.useRef(null),b=v.useCallback(()=>{const T=p.current;if(T)try{sessionStorage.setItem(_A,String(T.scrollTop))}catch{}},[]);v.useEffect(()=>{if(p.current)try{const F=sessionStorage.getItem(_A);if(F!==null){const q=parseInt(F,10);if(!isNaN(q)&&q>=0){const U=requestAnimationFrame(()=>{const J=p.current;J&&(J.scrollTop=q)});return()=>cancelAnimationFrame(U)}}}catch{}},[s.pathname,s.search,m]),v.useEffect(()=>()=>b(),[b]),v.useEffect(()=>{const T=s.pathname,F={};T.startsWith("/admin/categories")&&(F.categories=!0),T.startsWith("/admin/helping-staff-panel")&&(F["helping-staff-panel"]=!0),T.startsWith("/admin/lab-tests")&&(F["lab-tests"]=!0),T.startsWith("/admin/site-management")&&(F["site-management"]=!0),T.startsWith("/admin/coupons")&&(F.coupons=!0),f(F)},[s.pathname]);const y=v.useCallback(async()=>{if(r?.role==="admin")try{const T=localStorage.getItem("Apricott Care_token"),F=await fetch(`${we}/admin/doctors?list=pending`,{headers:{Authorization:`Bearer ${T}`}});if(F.ok){const q=await F.json();g(q.pagination?.total||0)}}catch(T){console.error("Error fetching pending doctor count:",T)}},[r]);v.useEffect(()=>{y();const T=setInterval(y,300*1e3);return()=>clearInterval(T)},[y]);const j=T=>{f(F=>({...F,[T]:!F[T]}))},N=[{id:"overview",label:"Overview",icon:yu},{id:"bookings",label:"Bookings",icon:Cr},{id:"vendors",label:"Vendors",icon:JL},{id:"settlements",label:"Settlements",icon:Un},{id:"payouts",label:"Payouts",icon:Ai},{id:"gst",label:"GST Reports",icon:Ar},{id:"transactions",label:"Transactions",icon:rd},...r?.role==="admin"?[{id:"staff",label:"Financial Staff",icon:Wt}]:[]],_=[{name:"Categories",icon:n.jsx(vu,{size:20}),basePath:"/admin/categories",subItems:[{name:"Categories",to:"/admin/categories",icon:n.jsx(vu,{size:18})},{name:"Inventory",to:"/admin/categories/inventory",icon:n.jsx(FL,{size:18})},{name:"Generic",to:"/admin/categories/generic",icon:n.jsx(fl,{size:18})},{name:"Branded",to:"/admin/categories/branded",icon:n.jsx(ra,{size:18})}]},{name:"Helping Staff Panel",icon:n.jsx(kN,{size:20}),basePath:"/admin/helping-staff-panel",subItems:[{name:"Prescriptions",to:"/admin/helping-staff-panel/prescriptions",icon:n.jsx(Ar,{size:18})},{name:"Orders Pending Approval",to:"/admin/helping-staff-panel/orders",icon:n.jsx(ra,{size:18})}]},{name:"Lab Tests",icon:n.jsx(Pc,{size:20}),basePath:"/admin/lab-tests",subItems:[{name:"Bookings",to:"/admin/lab-tests/bookings",icon:n.jsx(Cr,{size:18})},{name:"Categories",to:"/admin/lab-tests/categories",icon:n.jsx(vu,{size:18})},{name:"Packages",to:"/admin/lab-tests/packages",icon:n.jsx(ra,{size:18})}]},{name:"Site Management",icon:n.jsx(RL,{size:20}),basePath:"/admin/site-management",subItems:[{name:"Banners",to:"/admin/site-management/banners",icon:n.jsx(Sc,{size:18})}]},{name:"Coupons",icon:n.jsx(QL,{size:20}),basePath:"/admin/coupons",subItems:[{name:"Medicine Booking",to:"/admin/coupons/medicine",icon:n.jsx(Ws,{size:18})},{name:"Lab Test",to:"/admin/coupons/lab-test",icon:n.jsx(Pc,{size:18})}]}],k=[{type:"link",link:{name:"Dashboard",to:"/admin/dashboard",icon:n.jsx(EN,{size:20})},position:1},{type:"link",link:{name:"Doctors",to:"/admin/doctors",icon:n.jsx(Vy,{size:20}),badge:h>0?h.toString():void 0},position:2.1},{type:"link",link:{name:"Nurses",to:"/admin/nurses",icon:n.jsx(Cu,{size:20})},position:2.15},{type:"link",link:{name:"Lab Service Providers",to:"/admin/lab-service-providers",icon:n.jsx(ja,{size:20})},position:2.2},{type:"link",link:{name:"Labs",to:"/admin/labs",icon:n.jsx(ub,{size:20})},position:2.25},{type:"link",link:{name:"Pharmacy Providers",to:"/admin/pharmacy-providers",icon:n.jsx(Ws,{size:20})},position:2.3},{type:"link",link:{name:"Specialists",to:"/admin/specialists",icon:n.jsx(Vy,{size:20})},position:2.32},{type:"link",link:{name:"Ambulance Providers",to:"/admin/ambulance-providers",icon:n.jsx(Ch,{size:20})},position:2.35},{type:"link",link:{name:"Users",to:"/admin/users",icon:n.jsx(Wt,{size:20})},position:3},{type:"link",link:{name:"Lead Management",to:"/admin/lead-management",icon:n.jsx(IL,{size:20})},position:3.05},{type:"link",link:{name:"Appointments",to:"/admin/appointments",icon:n.jsx(Cr,{size:20})},position:3.1},{type:"link",link:{name:"Nurse Bookings",to:"/admin/nurse-bookings",icon:n.jsx(Ph,{size:20})},position:3.15},{type:"link",link:{name:"Ambulance Bookings",to:"/admin/ambulance-bookings",icon:n.jsx(Ch,{size:20})},position:3.16},{type:"link",link:{name:"Lab Referrals",to:"/admin/lab-referrals",icon:n.jsx(Pc,{size:20})},position:3.2},{type:"link",link:{name:"Pharmacy Referrals",to:"/admin/pharmacy-referrals",icon:n.jsx(Ws,{size:20})},position:3.3},{type:"link",link:{name:"Admin Reports",to:"/admin/all-reports",icon:n.jsx(Ar,{size:20})},position:3.4},{type:"link",link:{name:"Helpdesk",to:"/admin/helpdesk",icon:n.jsx(mb,{size:20})},position:12},{type:"expandable",section:_[3],position:15}],E=[{name:"Dashboard",to:"/provider",icon:n.jsx(EN,{size:20})},{name:"Opportunities",to:"/provider/opportunities",icon:n.jsx(zc,{size:20}),badge:"New"},{name:"My Tasks",to:"/provider/tasks",icon:n.jsx(Ph,{size:20})},{name:"Raise Request",to:"/provider/request",icon:n.jsx(kN,{size:20})},{name:"Previous Work",to:"/provider/history",icon:n.jsx(UL,{size:20})},{name:"Profile",to:"/provider/profile",icon:n.jsx(Wt,{size:20})}],C=[{name:"My Services",to:"/user",icon:n.jsx(CL,{size:20})},{name:"Book Service",to:"/user/new-service",icon:n.jsx(ia,{size:20})},{name:"Payment History",to:"/user/payments",icon:n.jsx(Ai,{size:20})},{name:"Report Issue",to:"/user/report",icon:n.jsx(To,{size:20})}],D=[{name:"Home",to:"/",icon:n.jsx($L,{size:20})},{name:"Login",to:"/login",icon:n.jsx(Wt,{size:20})}],I=(()=>{if(!r)return D;switch(r.role){case"admin":return[];case"provider":return E;case"user":return C;default:return D}})();return n.jsxs("div",{className:`h-screen bg-theme-gradient text-white flex flex-col transition-all duration-300 ${e?"fixed top-0 left-0 z-40 w-64 shadow-2xl transform":"w-64"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary/30",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-secondary flex items-center justify-center shadow-lg ring-2 ring-primary/40 overflow-hidden",children:n.jsx("img",{src:"/apricottcare.png",alt:"Apricott Care Logo",className:"h-full w-full object-contain p-1"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary rounded-full border-2 border-primary"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-secondary to-secondary/80 bg-clip-text text-transparent",children:"Apricott Care"}),n.jsx("div",{className:"text-xs text-secondary/80 mt-0.5",children:r?.role==="admin"?"Admin Portal":r?.role==="provider"?"Vendor Hub":r?.role==="user"?"Customer Portal":"Welcome"})]})]}),e&&n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-primary/40 transition-colors",children:n.jsx(Tt,{size:20})})]}),r&&n.jsx("div",{className:"p-6 border-b border-primary/30",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center shadow-lg",children:n.jsx(Wt,{size:20,className:"text-primary"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-secondary rounded-full border-2 border-primary flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-white truncate",children:r.name||"User"}),n.jsx("p",{className:"text-sm text-secondary/80 truncate",children:r.email})]})]})}),n.jsxs("div",{ref:p,className:"flex-1 overflow-y-auto py-6 px-4",onScroll:b,children:[n.jsx("nav",{className:"space-y-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 pb-4 border-b border-primary/30",children:n.jsx("h3",{className:"text-sm font-semibold text-secondary/80 mb-2 px-3",children:"Finance Panel"})}),N.map(T=>{const F=T.icon,q=u===T.id;return n.jsx("div",{className:"relative",children:n.jsxs("button",{onClick:()=>{i(`/admin/finance-panel?tab=${T.id}`),e&&t()},className:`w-full group flex items-center space-x-3 p-3 rounded-xl transition-all duration-200 ${q?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,children:[n.jsx("div",{className:"relative",children:n.jsx(F,{size:20})}),n.jsx("span",{className:"font-medium",children:T.label})]})},T.id)})]}):n.jsx(n.Fragment,{children:r?.role==="admin"?k.map(T=>{if(T.type==="expandable"&&T.section){const F=T.section,q=F.basePath.replace("/admin/","").replace(/-/g,"-"),U=m[q]||!1,J=s.pathname.startsWith(F.basePath);return n.jsxs("div",{className:"mb-1",children:[n.jsxs("button",{onClick:()=>j(q),className:`w-full group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${J?"bg-secondary/20 text-white":"text-secondary/80 hover:bg-primary/40 hover:text-white"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"relative",children:F.icon}),n.jsx("span",{className:"font-medium",children:F.name})]}),n.jsx("div",{className:"transition-transform duration-200",style:{transform:U?"rotate(0deg)":"rotate(-90deg)"},children:n.jsx(In,{size:16})})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${U?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"pl-4 pt-1 space-y-1",children:F.subItems.map(W=>{const he=s.pathname===W.to;return n.jsxs(jc,{to:W.to,className:({isActive:X})=>`group flex items-center space-x-3 p-2.5 rounded-lg transition-all duration-200 ${X||he?"bg-secondary text-primary shadow-md":"text-secondary/70 hover:bg-primary/30 hover:text-white"}`,onClick:e?t:void 0,children:[n.jsx("div",{className:"relative",children:W.icon}),n.jsx("span",{className:"text-sm font-medium",children:W.name})]},W.to)})})})]},F.name)}else if(T.type==="link"&&T.link){const F=T.link;return n.jsxs("div",{className:"relative",children:[n.jsxs(jc,{to:F.to,className:({isActive:q})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${q?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[F.icon,F.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:F.name})]}),F.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:F.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===F.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},F.name)}return null}):I.map(T=>n.jsxs("div",{className:"relative",children:[n.jsxs(jc,{to:T.to,className:({isActive:F})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${F?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[T.icon,T.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:T.name})]}),T.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:T.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===T.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},T.name))})}),r?.role==="user"&&n.jsxs("div",{className:"mt-8 p-4 bg-secondary/20 rounded-xl border border-primary/30",children:[n.jsx("h3",{className:"text-sm font-semibold text-secondary mb-3",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(jc,{to:"/user/orders",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(nR,{size:16}),n.jsx("span",{className:"text-sm",children:"Place Order"})]}),n.jsxs(jc,{to:"/user/prescriptions",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(Pi,{size:16}),n.jsx("span",{className:"text-sm",children:"Upload Prescription"})]})]})]})]}),r&&n.jsx("div",{className:"p-4 border-t border-primary/30",children:n.jsxs("button",{onClick:a,className:"flex items-center justify-center w-full p-3 rounded-xl text-secondary/80 hover:bg-primary/40 hover:text-secondary transition-all duration-200 group",children:[n.jsx(fb,{size:20,className:"mr-3 group-hover:transform group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},hte=({toggleSidebar:e})=>{const t=Na(),{user:r,logout:a,refreshUserData:s}=vn(),[i,o]=v.useState(!1),[c,u]=v.useState(!1),[m,f]=v.useState(0),[h,g]=v.useState(!1),p=v.useRef(null),b=v.useRef(null),y=v.useRef(),j=v.useRef(),N=()=>{a(),t("/login")},_=async()=>{g(!0);try{await s(),await new Promise(O=>setTimeout(O,100)),console.log("Header refresh completed")}catch(O){console.error("Error refreshing user data:",O)}finally{setTimeout(()=>g(!1),1e3)}},k=()=>{f(O=>O+1),j.current&&clearTimeout(j.current),m>=2?(_(),f(0)):j.current=setTimeout(()=>{f(0)},2e3)},E=[{id:1,type:"service",title:"Service Completed",message:"Your AC repair service has been completed successfully.",time:"2 hours ago",read:!1},{id:2,type:"promotion",title:"Special Offer",message:"Get 20% off on your next home cleaning service.",time:"1 day ago",read:!1},{id:3,type:"reminder",title:"Upcoming Service",message:"Your plumbing service is scheduled for tomorrow at 10:00 AM.",time:"2 days ago",read:!0}],C=E.filter(O=>!O.read).length;v.useEffect(()=>{const O=T=>{p.current&&!p.current.contains(T.target)&&o(!1),b.current&&!b.current.contains(T.target)&&u(!1)},I=T=>{T.ctrlKey&&T.shiftKey&&T.key==="R"&&(T.preventDefault(),_())};return document.addEventListener("mousedown",O),document.addEventListener("keydown",I),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("keydown",I),y.current&&clearTimeout(y.current),j.current&&clearTimeout(j.current)}},[]),v.useEffect(()=>{r&&r.id&&s()},[r?.id]);const D=O=>{switch(O){case"service":return n.jsx(Pi,{size:16,className:"text-orange-500"});case"promotion":return n.jsx(AN,{size:16,className:"text-amber-500"});case"reminder":return n.jsx(Kr,{size:16,className:"text-rose-400"});default:return n.jsx(zc,{size:16,className:"text-orange-300"})}};return n.jsxs("header",{className:"bg-gradient-to-r from-orange-50/95 via-white/95 to-orange-50/95 backdrop-blur-sm shadow-sm border-b border-orange-100/70 h-16 flex items-center justify-between px-4 lg:px-6 relative z-30 text-orange-950",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("button",{onClick:e,className:"p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 lg:hidden transition-all duration-200",children:n.jsx(HL,{size:24})})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!c),className:"relative p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 transition-all duration-200 group",children:[n.jsx(zc,{size:20}),C>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-orange-500 to-amber-400 text-white text-xs rounded-full flex items-center justify-center font-semibold animate-pulse",children:C})]}),c&&n.jsxs("div",{ref:b,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-2 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-orange-900",children:"Notifications"}),n.jsxs("span",{className:"text-xs text-orange-500",children:[C," new"]})]})}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:E.map(O=>n.jsx("div",{className:`px-4 py-3 hover:bg-orange-50/60 cursor-pointer transition-colors duration-200 ${O.read?"":"bg-orange-50/70"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"mt-1",children:D(O.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm",children:O.title}),!O.read&&n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full ml-2"})]}),n.jsx("p",{className:"text-orange-700/80 text-sm mt-1",children:O.message}),n.jsx("p",{className:"text-orange-400 text-xs mt-1",children:O.time})]})]})},O.id))}),n.jsx("div",{className:"px-4 py-3 border-t border-orange-100 bg-orange-50/60",children:n.jsx("button",{className:"w-full text-center text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all notifications"})})]})]}),r?n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-xl hover:bg-orange-100/60 transition-all duration-200",onClick:()=>o(!i),onDoubleClick:k,children:[n.jsxs("div",{className:"hidden sm:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-orange-900",children:r.name||"User"}),n.jsx("p",{className:"text-xs text-orange-500 capitalize",children:r.role})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:h?n.jsx(Un,{size:20,className:"text-orange-50 animate-spin"}):n.jsx(Wt,{size:20,className:"text-white"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"}),h&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"})]}),n.jsx(In,{size:16,className:"text-orange-400 hidden sm:block"})]}),i&&n.jsxs("div",{ref:p,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-3 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:n.jsx(Wt,{size:24,className:"text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-orange-900 truncate",children:r.name||"User"}),n.jsx("p",{className:"text-sm text-orange-600 truncate",children:r.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 capitalize",children:r.role}),n.jsxs("span",{className:"flex items-center text-xs text-emerald-600",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Online"]})]})]})]})}),n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cr,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Member since"})]}),n.jsx("span",{className:"text-orange-900",children:"Jan 2024"})]}),r.role==="user"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Pi,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Services booked"})]}),n.jsx("span",{className:"text-orange-900",children:"12"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(AN,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Loyalty points"})]}),n.jsx("span",{className:"text-amber-600 font-semibold",children:"850"})]})]})]})}),n.jsx("div",{className:"px-4 py-2 border-t border-orange-100 bg-orange-50/60",children:n.jsx("div",{className:"space-y-1",children:n.jsxs("button",{onClick:N,className:"w-full flex items-center space-x-3 text-sm text-red-600 hover:bg-red-50 py-2 px-3 rounded-lg transition-colors duration-200",children:[n.jsx(fb,{size:16}),n.jsx("span",{children:"Sign Out"})]})})})]})]}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 text-sm font-medium text-orange-700 hover:text-orange-900 transition-colors duration-200",children:"Sign In"}),n.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-amber-400 hover:from-orange-600 hover:to-amber-500 rounded-lg transition-all duration-200",children:"Get Started"})]})]})]})},It=({children:e})=>{const{user:t}=vn(),[r,a]=v.useState(!1),s=()=>{a(!r)};return n.jsxs("div",{className:"flex h-screen bg-secondary",children:[n.jsx("div",{className:"hidden lg:block",children:n.jsx(NA,{isMobile:!1,toggleSidebar:s})}),r&&n.jsxs("div",{className:"lg:hidden",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s}),n.jsx(NA,{isMobile:!0,toggleSidebar:s})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(hte,{toggleSidebar:s}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]})},pte=()=>{const[e,t]=v.useState("30d"),[r,a]=v.useState(""),[s,i]=v.useState("");v.useEffect(()=>{const c=new Date,u=c.toISOString().split("T")[0];let m;switch(e){case"7d":m=new Date(c.setDate(c.getDate()-7)).toISOString().split("T")[0];break;case"30d":m=new Date(c.setDate(c.getDate()-30)).toISOString().split("T")[0];break;case"90d":m=new Date(c.setDate(c.getDate()-90)).toISOString().split("T")[0];break;case"1y":m=new Date(c.setFullYear(c.getFullYear()-1)).toISOString().split("T")[0];break;default:m=new Date(c.setDate(c.getDate()-7)).toISOString().split("T")[0]}a(m),i(u)},[e]);const o=(c,u)=>{a(c),i(u)};return n.jsx(It,{children:n.jsxs("div",{className:"min-h-screen bg-secondary",children:[n.jsx(iR,{dateFrom:r,dateTo:s,onDateRangeChange:o}),n.jsx("div",{className:"pt-20 pb-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[n.jsx(vR,{dateFrom:r,dateTo:s}),n.jsx(lte,{dateFrom:r,dateTo:s}),n.jsx(cte,{dateFrom:r,dateTo:s}),n.jsx(dte,{dateFrom:r,dateTo:s}),n.jsx(ute,{dateFrom:r,dateTo:s}),n.jsx(fte,{dateFrom:r,dateTo:s}),n.jsx(mte,{})]})})]})})},Je=({children:e,className:t=""})=>n.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${t}`,children:e}),jt=({children:e,className:t=""})=>n.jsx("div",{className:`p-6 border-b border-gray-200 ${t}`,children:e}),wt=({children:e,className:t=""})=>n.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),Ze=({children:e,className:t=""})=>n.jsx("div",{className:`p-6 ${t}`,children:e}),De=({variant:e="primary",size:t="md",children:r,fullWidth:a=!1,isLoading:s=!1,className:i="",disabled:o,...c})=>{const u="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",m={primary:"bg-primary hover:bg-primary-dark text-secondary-dark",secondary:"bg-secondary text-white hover:bg-secondary-light",outline:"border border-primary bg-transparent text-black hover:bg-primary/10 hover:text-black",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",link:"bg-transparent underline-offset-4 hover:underline text-primary p-0 h-auto"},f={sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"},h=a?"w-full":"";return n.jsxs("button",{className:`${u} ${m[e]} ${f[t]} ${h} ${i}`,disabled:o||s,...c,children:[s?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r]})},xte=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},gte=(e,t)=>({classGroupId:e,validator:t}),r6=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),C0="-",SA=[],vte="arbitrary..",yte=e=>{const t=jte(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return bte(o);const c=o.split(C0),u=c[0]===""&&c.length>1?1:0;return n6(c,u,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const u=a[o],m=r[o];return u?m?xte(m,u):u:m||SA}return r[o]||SA}}},n6=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const m=n6(e,t+1,i);if(m)return m}const o=r.validators;if(o===null)return;const c=t===0?e.join(C0):e.slice(t).join(C0),u=o.length;for(let m=0;m<u;m++){const f=o[m];if(f.validator(c))return f.classGroupId}},bte=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?vte+a:void 0})(),jte=e=>{const{theme:t,classGroups:r}=e;return wte(r,t)},wte=(e,t)=>{const r=r6();for(const a in e){const s=e[a];xw(s,r,a,t)}return r},xw=(e,t,r,a)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];_te(o,t,r,a)}},_te=(e,t,r,a)=>{if(typeof e=="string"){Nte(e,t,r);return}if(typeof e=="function"){Ste(e,t,r,a);return}kte(e,t,r,a)},Nte=(e,t,r)=>{const a=e===""?t:a6(t,e);a.classGroupId=r},Ste=(e,t,r,a)=>{if(Ete(e)){xw(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(gte(r,e))},kte=(e,t,r,a)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[c,u]=s[o];xw(u,a6(t,c),r,a)}},a6=(e,t)=>{let r=e;const a=t.split(C0),s=a.length;for(let i=0;i<s;i++){const o=a[i];let c=r.nextPart.get(o);c||(c=r6(),r.nextPart.set(o,c)),r=c}return r},Ete=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Ate=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=a[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},G1="!",kA=":",Cte=[],EA=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),Pte=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const i=[];let o=0,c=0,u=0,m;const f=s.length;for(let y=0;y<f;y++){const j=s[y];if(o===0&&c===0){if(j===kA){i.push(s.slice(u,y)),u=y+1;continue}if(j==="/"){m=y;continue}}j==="["?o++:j==="]"?o--:j==="("?c++:j===")"&&c--}const h=i.length===0?s:s.slice(u);let g=h,p=!1;h.endsWith(G1)?(g=h.slice(0,-1),p=!0):h.startsWith(G1)&&(g=h.slice(1),p=!0);const b=m&&m>u?m-u:void 0;return EA(i,p,g,b)};if(t){const s=t+kA,i=a;a=o=>o.startsWith(s)?i(o.slice(s.length)):EA(Cte,!1,o,void 0,!0)}if(r){const s=a;a=i=>r({className:i,parseClassName:s})}return a},Tte=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",u=t.has(o);c||u?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(o)):s.push(o)}return s.length>0&&(s.sort(),a.push(...s)),a}},Ote=e=>({cache:Ate(e.cacheSize),parseClassName:Pte(e),sortModifiers:Tte(e),...yte(e)}),Ite=/\s+/,Dte=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],c=e.trim().split(Ite);let u="";for(let m=c.length-1;m>=0;m-=1){const f=c[m],{isExternal:h,modifiers:g,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:y}=r(f);if(h){u=f+(u.length>0?" "+u:u);continue}let j=!!y,N=a(j?b.substring(0,y):b);if(!N){if(!j){u=f+(u.length>0?" "+u:u);continue}if(N=a(b),!N){u=f+(u.length>0?" "+u:u);continue}j=!1}const _=g.length===0?"":g.length===1?g[0]:i(g).join(":"),k=p?_+G1:_,E=k+N;if(o.indexOf(E)>-1)continue;o.push(E);const C=s(N,j);for(let D=0;D<C.length;++D){const O=C[D];o.push(k+O)}u=f+(u.length>0?" "+u:u)}return u},Fte=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=s6(r))&&(s&&(s+=" "),s+=a);return s},s6=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=s6(e[a]))&&(r&&(r+=" "),r+=t);return r},Lte=(e,...t)=>{let r,a,s,i;const o=u=>{const m=t.reduce((f,h)=>h(f),e());return r=Ote(m),a=r.cache.get,s=r.cache.set,i=c,c(u)},c=u=>{const m=a(u);if(m)return m;const f=Dte(u,r);return s(u,f),f};return i=o,(...u)=>i(Fte(...u))},Rte=[],Zr=e=>{const t=r=>r[e]||Rte;return t.isThemeGetter=!0,t},i6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,o6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mte=/^\d+\/\d+$/,zte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$te=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ute=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xc=e=>Mte.test(e),At=e=>!!e&&!Number.isNaN(Number(e)),yo=e=>!!e&&Number.isInteger(Number(e)),Sy=e=>e.endsWith("%")&&At(e.slice(0,-1)),di=e=>zte.test(e),Hte=()=>!0,Vte=e=>$te.test(e)&&!Bte.test(e),l6=()=>!1,qte=e=>Ute.test(e),Kte=e=>Wte.test(e),Gte=e=>!lt(e)&&!ct(e),Xte=e=>xd(e,u6,l6),lt=e=>i6.test(e),ll=e=>xd(e,f6,Vte),ky=e=>xd(e,ere,At),AA=e=>xd(e,c6,l6),Yte=e=>xd(e,d6,Kte),ah=e=>xd(e,m6,qte),ct=e=>o6.test(e),fu=e=>gd(e,f6),Jte=e=>gd(e,tre),CA=e=>gd(e,c6),Zte=e=>gd(e,u6),Qte=e=>gd(e,d6),sh=e=>gd(e,m6,!0),xd=(e,t,r)=>{const a=i6.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},gd=(e,t,r=!1)=>{const a=o6.exec(e);return a?a[1]?t(a[1]):r:!1},c6=e=>e==="position"||e==="percentage",d6=e=>e==="image"||e==="url",u6=e=>e==="length"||e==="size"||e==="bg-size",f6=e=>e==="length",ere=e=>e==="number",tre=e=>e==="family-name",m6=e=>e==="shadow",rre=()=>{const e=Zr("color"),t=Zr("font"),r=Zr("text"),a=Zr("font-weight"),s=Zr("tracking"),i=Zr("leading"),o=Zr("breakpoint"),c=Zr("container"),u=Zr("spacing"),m=Zr("radius"),f=Zr("shadow"),h=Zr("inset-shadow"),g=Zr("text-shadow"),p=Zr("drop-shadow"),b=Zr("blur"),y=Zr("perspective"),j=Zr("aspect"),N=Zr("ease"),_=Zr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...E(),ct,lt],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],I=()=>[ct,lt,u],T=()=>[xc,"full","auto",...I()],F=()=>[yo,"none","subgrid",ct,lt],q=()=>["auto",{span:["full",yo,ct,lt]},yo,ct,lt],U=()=>[yo,"auto",ct,lt],J=()=>["auto","min","max","fr",ct,lt],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...I()],be=()=>[xc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],ne=()=>[e,ct,lt],ve=()=>[...E(),CA,AA,{position:[ct,lt]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",Zte,Xte,{size:[ct,lt]}],P=()=>[Sy,fu,ll],B=()=>["","none","full",m,ct,lt],H=()=>["",At,fu,ll],V=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[At,Sy,CA,AA],ke=()=>["","none",b,ct,lt],R=()=>["none",At,ct,lt],G=()=>["none",At,ct,lt],ge=()=>[At,ct,lt],le=()=>[xc,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[di],breakpoint:[di],color:[Hte],container:[di],"drop-shadow":[di],ease:["in","out","in-out"],font:[Gte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[di],shadow:[di],spacing:["px",At],text:[di],"text-shadow":[di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xc,lt,ct,j]}],container:["container"],columns:[{columns:[At,lt,ct,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[yo,"auto",ct,lt]}],basis:[{basis:[xc,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,xc,"auto","initial","none",lt]}],grow:[{grow:["",At,ct,lt]}],shrink:[{shrink:["",At,ct,lt]}],order:[{order:[yo,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[c,"screen",...be()]}],"min-w":[{"min-w":[c,"screen","none",...be()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...be()]}],h:[{h:["screen","lh",...be()]}],"min-h":[{"min-h":["screen","lh","none",...be()]}],"max-h":[{"max-h":["screen","lh",...be()]}],"font-size":[{text:["base",r,fu,ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ct,ky]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sy,lt]}],"font-family":[{font:[Jte,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ct,lt]}],"line-clamp":[{"line-clamp":[At,"none",ct,ky]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",ct,ll]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[At,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yo,ct,lt],radial:["",ct,lt],conic:[yo,ct,lt]},Qte,Yte]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,ct,lt]}],"outline-w":[{outline:["",At,fu,ll]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",f,sh,ah]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",h,sh,ah]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[At,ll]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",g,sh,ah]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[At,ct,lt]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[At]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[ct,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[At]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,lt]}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:ke()}],brightness:[{brightness:[At,ct,lt]}],contrast:[{contrast:[At,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",p,sh,ah]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",At,ct,lt]}],"hue-rotate":[{"hue-rotate":[At,ct,lt]}],invert:[{invert:["",At,ct,lt]}],saturate:[{saturate:[At,ct,lt]}],sepia:[{sepia:["",At,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[At,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[At,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",At,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[At,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[At,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",At,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",ct,lt]}],ease:[{ease:["linear","initial",N,ct,lt]}],delay:[{delay:[At,ct,lt]}],animate:[{animate:["none",_,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ct,lt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:G()}],"scale-x":[{"scale-x":G()}],"scale-y":[{"scale-y":G()}],"scale-z":[{"scale-z":G()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[At,fu,ll,ky]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nre=Lte(rre);function P0(...e){return nre(Ot(e))}const Xi=({value:e,onValueChange:t,children:r,className:a})=>n.jsx("div",{className:P0("w-full",a),children:jr.Children.map(r,s=>jr.isValidElement(s)?jr.cloneElement(s,{children:jr.Children.map(s.props.children,i=>{if(jr.isValidElement(i)){const o=i.props.value===e;return jr.cloneElement(i,{onValueChange:t,className:P0(i.props.className,o?"bg-secondary text-primary":"text-gray-500 hover:text-primary")})}return i})}):s)}),Yi=({children:e,className:t})=>n.jsx("div",{className:P0("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),children:e}),hr=({value:e,children:t,className:r,onValueChange:a})=>n.jsx("button",{className:P0("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),onClick:()=>a?.(e),children:t}),are=({fieldVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[e.name&&n.jsx("th",{className:"text-left pb-4",children:"Provider"}),e.contact&&n.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&n.jsx("th",{className:"text-left pb-4",children:"Status"}),e.verification&&n.jsx("th",{className:"text-left pb-4",children:"Verification"}),e.earnings&&n.jsx("th",{className:"text-left pb-4",children:"Earnings"}),e.experience&&n.jsx("th",{className:"text-left pb-4",children:"Experience"}),e.featured&&n.jsx("th",{className:"text-left pb-4",children:"Featured"}),e.action&&n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),sre=({provider:e,onStatusAction:t})=>n.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(De,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1",children:[n.jsx(Wr,{size:12}),n.jsx("span",{children:"Approve"})]}),n.jsxs(De,{onClick:()=>t(e.id,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1",children:[n.jsx(Hn,{size:12}),n.jsx("span",{children:"Reject"})]})]}),e.status==="approved"&&n.jsxs(De,{onClick:()=>t(e.id,"suspend"),className:"flex items-center space-x-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1",children:[n.jsx(ja,{size:12}),n.jsx("span",{children:"Suspend"})]}),e.status==="suspended"&&n.jsxs(De,{onClick:()=>t(e.id,"reinstate"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(Wr,{size:12}),n.jsx("span",{children:"Reinstate"})]}),e.status==="blocked"&&n.jsxs(De,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(Wr,{size:12}),n.jsx("span",{children:"Approve"})]})]}),ire=({provider:e,formatDate:t})=>{const r=s=>{switch(s){case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"blocked":return"bg-red-100 text-red-700";case"suspended":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},a=s=>{switch(s){case"approved":return n.jsx(Wr,{size:14,className:"text-green-600"});case"pending":return n.jsx(Kr,{size:14,className:"text-yellow-600"});case"blocked":return n.jsx(Hn,{size:14,className:"text-red-600"});case"suspended":return n.jsx(ja,{size:14,className:"text-orange-600"});default:return null}};return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[a(e.status),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",t(e.created_at)]})]})},ore=({provider:e,fieldVisibility:t,expandingUsers:r,onStatusAction:a,onToggleDropdown:s,formatDate:i,formatCurrency:o,isExpanded:c=!1,isLoading:u=!1})=>{const m=u&&r.has(e.id),f=c||r.has(e.id);return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(De,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-black hover:border-primary hover:shadow-md group",disabled:m,children:m?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx(yn,{size:14,className:"mr-1 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:f?"Hide":"Details"}),f?n.jsx(Sa,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"}):n.jsx(In,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"})]})})})}),t.name&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-primary",children:e.name.charAt(0)})}),n.jsx("div",{children:n.jsx("p",{className:"font-medium text-gray-900",children:e.name})})]})}),t.contact&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wa,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sa,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.phone})]})]})}),t.location&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-sm",children:[e.city,", ",e.state]}),n.jsx("div",{className:"text-sm text-gray-500",children:e.pincode})]})}),t.status&&n.jsx("td",{className:"py-4",children:n.jsx(ire,{provider:e,formatDate:i})}),t.verification&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[e.verification_status==="verified"?n.jsx(ja,{size:16,className:"text-green-500"}):n.jsx(ja,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.verification_status})]})}),t.earnings&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium",children:o(e.total_earnings)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",e.commission_rate,"%"]})]})}),t.experience&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kr,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-sm",children:[e.experience_years," years"]})]})}),t.featured&&n.jsx("td",{className:"py-4",children:e.is_featured?n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Featured"}):n.jsx("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),t.action&&n.jsx("td",{className:"py-4",children:n.jsx(sre,{provider:e,onStatusAction:a})})]})},lre=({provider:e,formatDate:t,serviceCatalog:r})=>{const a=!!(e.bank_details&&(e.bank_details.account_holder_name||e.bank_details.bank_name||e.bank_details.account_number||e.bank_details.ifsc_code)),s=v.useMemo(()=>{const f=new Map;return Object.entries(r.categories).forEach(([h,g])=>{f.set(Number(h),g.name)}),e.subcategory_links?.forEach(h=>{h.category_name&&h.category_id&&f.set(h.category_id,h.category_name)}),f},[e.subcategory_links,r]),i=v.useMemo(()=>{const f=new Map,h=(g,p)=>{const b=g!==null?`cat-${g}`:`misc-${p}`;return f.has(b)||f.set(b,{key:b,category_id:g,category_name:p,subcategories:[],services:[]}),f.get(b)};return(e.category_ids??[]).forEach(g=>{const p=s.get(g)||`Category ${g}`;h(g,p)}),(e.subcategory_links??[]).forEach(g=>{const p=g.category_id||null,b=p&&g.subcategory_id?r.categories[p]?.services?.[g.subcategory_id]??null:null,y=g.category_name||(p?s.get(p)||`Category ${p}`:"Other");h(p,y).subcategories.push({id:g.subcategory_id||null,rawName:g.subcategory_name,catalogName:b})}),(e.services??[]).forEach(g=>{const p=g.category_name||"General",y=(e.category_ids??[]).find(N=>s.get(N)===g.category_name)??null;h(y,p).services.push(g)}),f.size===0&&(e.services?.length??0)>0&&f.set("general",{key:"general",category_id:null,category_name:"Services",subcategories:[],services:e.services??[]}),Array.from(f.values())},[e.category_ids,e.subcategory_links,e.services,s,r]),o=i.length>0,[c,u]=v.useState(new Set),m=f=>{u(h=>{const g=new Set(h);return g.has(f)?g.delete(f):g.add(f),g})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Vs,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Provider Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Wa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Wa,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(sa,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-4 border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Pn,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Pn,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),e.services&&e.services.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-rose-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(db,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-rose-900",children:"Services"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.services.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-rose-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:f.service_name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[f.duration_minutes," mins"]}),n.jsxs("span",{className:"font-medium text-primary",children:["",f.price_min," - ",f.price_max]})]}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:f.category_name})})]},f.id))})]}),e.service_areas&&e.service_areas.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Pn,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-teal-900",children:"Service Areas"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.service_areas.map((f,h)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-teal-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:f.area_name}),f.is_primary&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Primary"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[f.city,", ",f.state]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pincode: ",f.pincode]})]},h))})]}),e.documents&&e.documents.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ar,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Documents"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.documents.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-orange-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:f.document_type}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})]}),n.jsx("p",{className:"text-sm text-gray-600",children:f.document_name}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",t(f.uploaded_at)]}),f.verified_at&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Verified: ",t(f.verified_at)]}),f.rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.rejection_reason})]}),f.document_url&&n.jsx(De,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.open(f.document_url,"_blank","noopener,noreferrer"),children:"View Document"})]},f.id))})]}),o&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(BL,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Service Coverage"})]}),n.jsx("div",{className:"space-y-3",children:i.map(f=>{const h=c.has(f.key)||f.services.length===0;return n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 shadow-sm",children:[n.jsxs("button",{type:"button",onClick:()=>m(f.key),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.category_name}),f.category_id!==null&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Category ID: ",f.category_id]}),f.services.length>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.services.length," service",f.services.length>1?"s":""]})]}),f.services.length>0&&n.jsx(In,{size:16,className:`text-blue-500 transition-transform ${h?"rotate-180":""}`})]}),f.subcategories.length>0&&n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Services"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:f.subcategories.map((g,p)=>{const b=g.catalogName||(g.id?r.servicesById[g.id]:null)||g.rawName||(f.services.find(y=>y.id===g.id)?.service_name??null)||`Service ${g.id||p+1}`;return n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-primary/20 text-sm text-blue-700 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(fl,{size:14,className:"text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b}),g.id&&n.jsxs("p",{className:"text-xs text-blue-400",children:["Service ID: ",g.id]})]})]}),f.services.length>0&&n.jsx("button",{type:"button",onClick:()=>m(f.key),className:"text-xs text-blue-500 hover:underline",children:"View details"})]},`${f.key}-${g.id??p}`)})})]}),f.services.length>0&&h&&n.jsx("div",{className:"border-t border-blue-50 bg-blue-50/50 px-4 py-3 space-y-2",children:f.services.map(g=>n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"font-medium text-sm text-gray-900",children:g.service_name}),(g.price_min||g.price_max)&&n.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",g.price_min," - ",g.price_max]})]}),g.description&&n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:g.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[g.duration_minutes>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:["Duration: ",g.duration_minutes," mins"]}),g.status&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full capitalize",children:["Status: ",g.status]})]})]},`${f.key}-service-${g.id}`))})]},f.key)})})]}),a&&e.bank_details&&n.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 border border-slate-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ai,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Account Verification"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Holder Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_holder_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Bank Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.bank_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Number"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_number||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"IFSC Code"}),n.jsx("p",{className:"text-sm text-gray-800 uppercase",children:e.bank_details.ifsc_code||"N/A"})]})]})]}),e.portfolio&&e.portfolio.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Sc,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Portfolio"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.portfolio.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-primary/20",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:f.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:f.before_image,alt:"Before",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"Before"})]}),n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:f.after_image,alt:"After",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"After"})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:["Created: ",t(f.created_at)]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]})]},f.id))})]})]})},cre=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Dn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search providers...",className:"pl-8 pr-4 py-2 w-full rounded-lg border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",value:e,onChange:r=>t(r.target.value)})]}),dre=({showFieldManagement:e,onToggleSettings:t,fieldVisibility:r,onToggleField:a,onResetFields:s})=>n.jsxs("div",{className:"relative",children:[n.jsxs(De,{variant:"outline",size:"sm",onClick:t,className:"border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary group",children:[n.jsx(Hy,{size:16,className:"mr-2 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:"Fields"})]}),e&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[400px] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b border-gray-100 flex-shrink-0",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Field Visibility"}),n.jsx(De,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:n.jsx(Tt,{size:14})})]}),n.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-3 min-h-0",children:n.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,o])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:()=>a(i),disabled:["name","status","action"].includes(i),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","status","action"].includes(i)?"opacity-50":""}`}),n.jsxs("span",{className:`text-sm capitalize ${["name","status","action"].includes(i)?"font-medium":""}`,children:[i.replace(/([A-Z])/g," $1").trim(),["name","status","action"].includes(i)&&" (Required)"]})]},i))})}),n.jsx("div",{className:"p-4 pt-3 border-t border-gray-200 flex-shrink-0",children:n.jsx(De,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Reset to Default"})})]})]}),ure=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," providers"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(td,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(De,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]}),fre=({isOpen:e,providerId:t,action:r,reason:a,notes:s,onClose:i,onConfirm:o,onReasonChange:c,onNotesChange:u})=>{if(!e||!t||!r)return null;const m=()=>{switch(r){case"approve":return"Approve Provider";case"reject":return"Reject Provider";case"suspend":return"Suspend Provider";case"reinstate":return"Reinstate Provider";default:return""}},f=()=>{switch(r){case"approve":return"bg-green-600 text-white hover:bg-green-700";case"reject":return"bg-red-600 text-white hover:bg-red-700";case"suspend":return"bg-yellow-600 text-white hover:bg-yellow-700";case"reinstate":return"bg-primary text-white hover:bg-primary-dark";default:return""}},h=()=>{switch(r){case"approve":return"Approve";case"reject":return"Reject";case"suspend":return"Suspend";case"reinstate":return"Reinstate";default:return""}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:m()}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:a,onChange:g=>c(g.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter any additional notes...",value:s,onChange:g=>u(g.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(De,{variant:"outline",onClick:i,children:"Cancel"}),n.jsx(De,{variant:"outline",onClick:()=>o(t,r,a,s),className:f(),children:h()})]})]})})},mre=({isOpen:e,providerId:t,documentId:r,action:a,reason:s,onClose:i,onConfirm:o,onReasonChange:c})=>!e||!t||!r||!a?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:a==="approve"?"Approve Document":"Reject Document"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:s,onChange:u=>c(u.target.value)})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(De,{variant:"outline",onClick:i,children:"Cancel"}),n.jsx(De,{variant:"outline",onClick:()=>o(t,r,a,s),className:`${a==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:a==="approve"?"Approve":"Reject"})]})]})}),PA=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+27",country:"South Africa",flag:""}],TA={store_name:"",owner_name:"",owner_number:"",owner_country_code:"+91",store_contact_number:"",store_country_code:"+91",email:"",store_address:"",pincode:"",city:"",state:"",latitude:"",longitude:"",store_opening_time:"",store_closing_time:"",pos_billing_software_name:"",real_time_stock_capability:"",bank_account_name:"",bank_account_number:"",bank_name:"",ifsc_code:"",drug_license:null,gst_certificate:null,pan_card:null,aadhar_card:null,store_front_view:null,medicine_racks_view:null,owner_photo_with_store:null,medicine_inventory_file:null,cancel_cheque_passbook:null,shop_license:null},hre=({isOpen:e,onClose:t,onSubmit:r,isSubmitting:a})=>{const[s,i]=v.useState(TA),[o,c]=v.useState({});v.useEffect(()=>{e||(i(TA),c({}))},[e]);const u=p=>{const{name:b,value:y}=p.target;i(j=>({...j,[b]:y}))},m=(p,b)=>{const y=p.target.files?.[0]||null;if(y)if(i(j=>({...j,[b]:y})),y.type.startsWith("image/")){const j=new FileReader;j.onloadend=()=>{c(N=>({...N,[b]:j.result}))},j.readAsDataURL(y)}else c(j=>({...j,[b]:null}))},f=p=>{i(b=>({...b,[p]:null})),c(b=>{const y={...b};return delete y[p],y})},h=async p=>{if(p.preventDefault(),!s.store_name||!s.owner_name||!s.owner_number||!s.store_contact_number||!s.email||!s.store_address||!s.pincode||!s.latitude||!s.longitude||!s.store_opening_time||!s.store_closing_time||!s.pos_billing_software_name||!s.bank_account_name||!s.bank_account_number||!s.bank_name||!s.ifsc_code||!s.drug_license||!s.gst_certificate||!s.pan_card||!s.store_front_view||!s.owner_photo_with_store||!s.cancel_cheque_passbook){alert("Please fill all mandatory fields");return}const b=new FormData;b.append("store_name",s.store_name),b.append("owner_name",s.owner_name),b.append("owner_number",`${s.owner_country_code}${s.owner_number}`),b.append("store_contact_number",`${s.store_country_code}${s.store_contact_number}`),b.append("email",s.email),b.append("store_address",s.store_address),b.append("pincode",s.pincode),b.append("city",s.city),b.append("state",s.state),b.append("latitude",s.latitude),b.append("longitude",s.longitude),b.append("store_opening_time",s.store_opening_time),b.append("store_closing_time",s.store_closing_time),b.append("pos_billing_software_name",s.pos_billing_software_name),s.real_time_stock_capability&&b.append("real_time_stock_capability",s.real_time_stock_capability),b.append("bank_account_name",s.bank_account_name),b.append("bank_account_number",s.bank_account_number),b.append("bank_name",s.bank_name),b.append("ifsc_code",s.ifsc_code),s.drug_license&&b.append("drug_license",s.drug_license),s.gst_certificate&&b.append("gst_certificate",s.gst_certificate),s.pan_card&&b.append("pan_card",s.pan_card),s.aadhar_card&&b.append("aadhar_card",s.aadhar_card),s.store_front_view&&b.append("store_front_view",s.store_front_view),s.medicine_racks_view&&b.append("medicine_racks_view",s.medicine_racks_view),s.owner_photo_with_store&&b.append("owner_photo_with_store",s.owner_photo_with_store),s.medicine_inventory_file&&b.append("medicine_inventory_file",s.medicine_inventory_file),s.cancel_cheque_passbook&&b.append("cancel_cheque_passbook",s.cancel_cheque_passbook),s.shop_license&&b.append("shop_license",s.shop_license),await r(b)};if(!e)return null;const g=(p,b,y=!1,j=".pdf,.jpg,.jpeg,.png",N=!0)=>{const _=s[p],k=o[p];return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[b," ",y&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsx("input",{type:"file",accept:j,onChange:E=>m(E,p),className:"hidden",required:y}),n.jsxs("div",{className:"flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-md hover:border-primary transition-colors",children:[n.jsx($c,{size:20,className:"mr-2 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Upload ",N?"Image":"File"]})]})]}),_&&n.jsxs("div",{className:"flex items-center space-x-2",children:[N&&k&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:k,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>f(p),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:n.jsx(Tt,{size:12})})]}),!N&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-600",children:_.name}),n.jsx("button",{type:"button",onClick:()=>f(p),className:"text-red-500 hover:text-red-700",children:n.jsx(Tt,{size:16})})]})]})]})]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Register New Provider"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:a,children:n.jsx(Tt,{size:24})})]}),n.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"store_name",required:!0,value:s.store_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"owner_country_code",value:s.owner_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:PA.map(p=>n.jsxs("option",{value:p.code,children:[p.flag," ",p.code]},p.code))}),n.jsx("input",{type:"tel",name:"owner_number",required:!0,value:s.owner_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Contact Number (for login in app) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"store_country_code",value:s.store_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:PA.map(p=>n.jsxs("option",{value:p.code,children:[p.flag," ",p.code]},p.code))}),n.jsx("input",{type:"tel",name:"store_contact_number",required:!0,value:s.store_contact_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email-ID ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,value:s.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Address With Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"store_address",required:!0,value:s.store_address,onChange:u,rows:2,placeholder:"Enter full address with pincode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pincode",required:!0,value:s.pincode,onChange:u,placeholder:"XXXXXX",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["City ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"city",required:!0,value:s.city,onChange:u,placeholder:"Enter city",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["State ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"state",required:!0,value:s.state,onChange:u,placeholder:"Enter state",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Latitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"latitude",required:!0,value:s.latitude,onChange:u,step:"any",placeholder:"e.g., 28.6139",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Longitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"longitude",required:!0,value:s.longitude,onChange:u,step:"any",placeholder:"e.g., 77.2090",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Timings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Opening Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_opening_time",required:!0,value:s.store_opening_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Closing Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_closing_time",required:!0,value:s.store_closing_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Business Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["POS/Billing Software Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pos_billing_software_name",required:!0,value:s.pos_billing_software_name,onChange:u,placeholder:"e.g., Tally, QuickBooks, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Do you have real-time stock update capability?"}),n.jsxs("select",{name:"real_time_stock_capability",value:s.real_time_stock_capability,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Bank Account Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Holder Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_name",required:!0,value:s.bank_account_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_number",required:!0,value:s.bank_account_number,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_name",required:!0,value:s.bank_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["IFSC Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"ifsc_code",required:!0,value:s.ifsc_code,onChange:u,placeholder:"ABCD0123456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Documents"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("drug_license","Drug license (Form 20/21)",!0),g("gst_certificate","GST Certificate",!0),g("pan_card","Pan Card (OWNER/BUSINESS)",!0),g("aadhar_card","Aadhar Card (OWNER)",!1),g("store_front_view","Front view of store (WITH SIGNBOARD)",!0),g("medicine_racks_view","Inside view of medicine racks",!1),g("owner_photo_with_store","Owner photo with store",!0),g("medicine_inventory_file","Upload Medicine Inventory File (Excel/CSV)",!1,".xlsx,.xls,.csv",!1),g("cancel_cheque_passbook","Cancel Cheque/Passbook Photo",!0),g("shop_license","Shop License (If Available)",!1)]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx(De,{type:"button",variant:"outline",onClick:t,disabled:a,className:"border-2 border-primary !text-black font-semibold hover:bg-gray-100 hover:border-gray-500 hover:!text-black",children:"Cancel"}),n.jsx(De,{type:"submit",variant:"primary",disabled:a,className:"font-semibold shadow-md hover:shadow-lg",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register Provider"})]})]})]})})},Ey={pending:{status:"pending",verification_status:"pending"},verification_in_progress:{status:"pending",verification_status:"pending"},in_progress:{status:"pending",verification_status:"pending"},approved:{status:"approved",verification_status:"verified"},verified:{status:"approved",verification_status:"verified"},active:{status:"approved",verification_status:"verified"},rejected:{status:"blocked",verification_status:"rejected"},blocked:{status:"blocked",verification_status:"rejected"},suspend:{status:"suspended",verification_status:"verified"},suspended:{status:"suspended",verification_status:"verified"}},pre=e=>{if(!e)return Ey.pending;const t=e.toLowerCase();return Ey[t]||Ey.pending},mn=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return Number.isFinite(r)?r:t},_c=(e,t=!1)=>{if(e==null)return t;if(typeof e=="string"){const r=e.trim().toLowerCase();if(["true","1","yes","verified","approved"].includes(r))return!0;if(["false","0","no","pending","rejected"].includes(r))return!1}return!!e},Bt=(e,t="")=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},Gc=(e,t=null)=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},xre=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>Bt(t)).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>Bt(r)).filter(Boolean)}catch{return e.split(",").map(t=>t.trim()).filter(Boolean)}return e?[e]:[]}return[]},gre=e=>Array.isArray(e)?e.map((t,r)=>({id:mn(t?.id,r+1),service_name:Bt(t?.service_name??t?.title,`Service ${r+1}`),description:Bt(t?.description,""),price_min:mn(t?.price_min??t?.price??t?.price_original,0),price_max:mn(t?.price_max??t?.price??t?.price_original,0),duration_minutes:mn(t?.duration_minutes??t?.duration,0),status:Bt(t?.status,"active"),category_name:Bt(t?.category_name??t?.category,"General")})):[],vre=(e,t,r)=>Array.isArray(e)?e.map((a,s)=>({pincode:Bt(a?.pincode,""),area_name:Bt(a?.area_name??a?.name,`Area ${s+1}`),city:Bt(a?.city,t),state:Bt(a?.state,r),is_primary:_c(a?.is_primary??a?.primary,s===0)})):[],yre=(e,t)=>{if(Array.isArray(e?.documents)&&e.documents.length>0)return e.documents.map((o,c)=>({id:mn(o?.id,c+1),document_type:Bt(o?.document_type??o?.type,`document_${c+1}`),document_name:Bt(o?.document_name??o?.document_type??o?.type,`Document ${c+1}`),status:Bt(o?.status,o?.verified_at?"approved":o?.rejection_reason?"rejected":"submitted"),uploaded_at:Bt(o?.uploaded_at,e?.created_at||t?.created_at||new Date().toISOString()),verified_at:o?.verified_at??null,rejection_reason:o?.rejection_reason??null,document_url:Gc(o?.document_url??o?.url??o?.file_url??o?.path??o?.link??null,null)}));const r=[],a=new Set,s=(o,c)=>{const u=o.trim();if(!u)return;const m=u.toLowerCase();a.has(m)||(a.add(m),r.push({id:r.length+1,document_type:u,document_name:u,status:"submitted",uploaded_at:e?.created_at||t?.created_at||new Date().toISOString(),verified_at:null,rejection_reason:null,document_url:Gc(c??null,null)}))};return e?.documents&&typeof e.documents=="object"&&Object.entries(e.documents).forEach(([o,c])=>{if(!c)return;const u=o.replace(/_url|_doc_url/g,"").replace(/_/g," ").trim();if(u){if(Array.isArray(c))c.forEach((m,f)=>{if(!m)return;const h=c.length>1?`${u} ${f+1}`:u;if(typeof m=="string")s(h,m);else if(typeof m=="object"){const g=m.url??m?.document_url??m?.path??m?.file_url;g&&s(h,String(g))}});else if(typeof c=="string")s(u,c);else if(typeof c=="object"){const m=c.url??c?.document_url??c?.path??c?.file_url;m&&s(u,String(m))}}}),[{key:"profile_photo_url",label:"Profile Photo"},{key:"aadhaar_doc_url",label:"Aadhaar Document"},{key:"pan_doc_url",label:"PAN Document"},{key:"degree_doc_url",label:"Degree Document"}].forEach(({key:o,label:c})=>{e?.[o]&&s(c,e[o])}),r.length===0&&t?.documents?t.documents:r},bre=(e,t)=>{if(Array.isArray(e?.portfolio)&&e.portfolio.length>0)return e.portfolio;const r=xre(e?.previous_work_images);return r.length===0?t?.portfolio??[]:r.map((a,s)=>({id:s+1,title:`Work ${s+1}`,description:"",image_path:a,before_image:a,after_image:a,display_order:s+1,status:"active",created_at:e?.created_at||t?.created_at||new Date().toISOString()}))},jre=(e,t)=>{if(!e&&!t)return null;const r=e||t;return r?{account_holder_name:Bt(r.account_holder_name,t?.account_holder_name??""),bank_name:Bt(r.bank_name,t?.bank_name??""),account_number:Bt(r.account_number,t?.account_number??""),ifsc_code:Bt(r.ifsc_code,t?.ifsc_code??"")}:null},wre=(e,t)=>Array.isArray(e)?e.map(r=>mn(r)).filter(r=>Number.isFinite(r)&&r>0):t||[],_re=(e,t)=>{if(Array.isArray(e)){const r=[];return e.forEach((a,s)=>{const i=mn(a?.category_id,a?.category?Number(a?.category):0),o=mn(a?.subcategory_id,s+1);!i&&!o||r.push({category_id:i,subcategory_id:o,category_name:Gc(a?.category_name??a?.category??null,null),subcategory_name:Gc(a?.subcategory_name??a?.subcategory??null,null)})}),r}return t||[]},gc=(e,t)=>{if(!e&&t)return t;if(!e)return{id:0,name:"",email:"",phone:"",business_name:"",address:"",pincode:"",city:"",state:"",profile_image:null,business_logo:null,experience_years:0,description:null,status:"pending",verification_status:"pending",email_verified:!1,phone_verified:!1,identity_verified:!1,documents_verified:!1,average_rating:0,total_reviews:0,total_bookings:0,total_earnings:0,commission_rate:0,is_featured:!1,created_at:new Date().toISOString(),services:[],service_areas:[],documents:[],portfolio:[]};const r=e?.details?{...e.details,...e}:e,{status:a,verification_status:s}=pre(r?.status),i=Bt(r?.city,t?.city??""),o=Bt(r?.state,t?.state??""),c=gre(r?.services),u=vre(r?.service_areas,i,o),m=yre(r,t),f=bre(r,t),h=jre(r?.bank_details,t?.bank_details),g=wre(r?.categories,t?.category_ids),p=_re(r?.subcategories,t?.subcategory_links),b=Bt(r?.created_at,t?.created_at??new Date().toISOString()),y=r?.average_rating??r?.rating,j=r?.total_reviews??(Array.isArray(r?.reviews)?r.reviews.length:void 0),N=r?.total_bookings??r?.completed_appointments;return{id:mn(r?.id??r?.provider_id,t?.id??0),name:Bt(r?.full_name??r?.name,t?.name??""),email:Bt(r?.email,t?.email??""),phone:Bt(r?.phone_number??r?.phone,t?.phone??""),business_name:Bt(r?.business_name,t?.business_name??""),address:Bt(r?.address,t?.address??""),pincode:Bt(r?.pincode,t?.pincode??""),city:i,state:o,profile_image:Gc(r?.profile_photo_url??r?.profile_image??r?.documents?.profile_photo_url,t?.profile_image??null),business_logo:Gc(r?.business_logo,t?.business_logo??null),experience_years:mn(r?.experience_years,t?.experience_years??0),description:r?.description??t?.description??null,status:a,verification_status:s,email_verified:_c(r?.email_verified,t?.email_verified??!1),phone_verified:_c(r?.phone_verified,t?.phone_verified??!1),identity_verified:_c(r?.identity_verified,t?.identity_verified??!1),documents_verified:_c(r?.documents_verified,t?.documents_verified??a==="approved"),average_rating:mn(y,t?.average_rating??0),total_reviews:mn(j,t?.total_reviews??0),total_bookings:mn(N,t?.total_bookings??0),total_earnings:mn(r?.total_earnings,t?.total_earnings??0),commission_rate:mn(r?.commission_rate,t?.commission_rate??0),is_featured:_c(r?.is_featured,t?.is_featured??!1),created_at:b,services:c.length>0?c:t?.services??[],service_areas:u.length>0?u:t?.service_areas??[],documents:m.length>0?m:t?.documents??[],portfolio:f.length>0?f:t?.portfolio??[],bank_details:h,category_ids:g,subcategory_links:p}},ih=(e,t)=>{if(!t)return e;const r=e.findIndex(s=>s.id===t.id);if(r===-1)return e;const a=[...e];return a[r]=t,a},Nre={approve:{apiAction:"approve",nextStatus:"approved",verification:"verified"},reject:{apiAction:"reject",nextStatus:"blocked",verification:"rejected"},suspend:{apiAction:"suspend",nextStatus:"suspended",verification:"verified"},reinstate:{apiAction:"reinstate",nextStatus:"approved",verification:"verified"}},Sre=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(""),[c,u]=v.useState(1),[m,f]=v.useState(new Set),[h,g]=v.useState(!1),[p,b]=v.useState({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1}),y=5,[j,N]=v.useState("all"),[_,k]=v.useState([]),[E,C]=v.useState(!1),[D,O]=v.useState({isOpen:!1,providerId:null,action:null,reason:"",notes:""}),[I,T]=v.useState({isOpen:!1,providerId:null,documentId:null,action:null}),[F,q]=v.useState(!1),[U,J]=v.useState(!1),[W,he]=v.useState({categories:{},servicesById:{}}),X=v.useCallback(async()=>{const Ce=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const[Ae,_e]=await Promise.all([fetch(`${we}/admin/categories`,{headers:{"Content-Type":"application/json",...Ce?{Authorization:`Bearer ${Ce}`}:{}}}),fetch(`${we}/admin/services`,{headers:{"Content-Type":"application/json",...Ce?{Authorization:`Bearer ${Ce}`}:{}}})]),it=await Ae.json(),Xe=await _e.json();if(Ae.ok&&Array.isArray(it.categories)){const gt={};it.categories.forEach(vt=>{const St=mn(vt?.id,0);if(!St)return;const yt={},_r=Array.isArray(vt?.subcategories)?vt.subcategories:vt?.services;Array.isArray(_r)&&_r.forEach((_t,se)=>{const Y=mn(_t?.id,se+1);Y&&(yt[Y]=Bt(_t?.name??_t?.title??_t?.service_name,`Service ${Y}`))}),gt[St]={name:Bt(vt?.name,`Category ${St}`),services:yt}});const at={};_e.ok&&Array.isArray(Xe.services)&&Xe.services.forEach((vt,St)=>{const yt=mn(vt?.id,St+1);yt&&(at[yt]=Bt(vt?.title??vt?.name??vt?.service_name,`Service ${yt}`))}),he({categories:gt,servicesById:at})}else throw new Error(it.message||"Failed to fetch categories")}catch(Ae){console.error("Error fetching categories catalog:",Ae);const _e=Ae instanceof Error?Ae.message:"Failed to fetch categories";e(_e,"error")}},[we,e]),be=v.useCallback(async(Ce=!1)=>{const Ae=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!Ae){e("Please login to view providers","error"),Ce&&s(!1);return}Ce&&s(!0);try{const _e=await fetch(`${we}/admin/providers`,{headers:{Authorization:`Bearer ${Ae}`,"Content-Type":"application/json"}});if(!_e.ok)throw new Error(`HTTP error! status: ${_e.status}`);const it=_e.headers.get("content-type");if(!it||!it.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),r([]);return}const Xe=await _e.text();if(!Xe||Xe.trim()===""){console.warn("Empty response body, treating as empty list"),r([]);return}let gt;try{gt=JSON.parse(Xe)}catch(at){throw console.error("JSON parse error:",at,"Response text:",Xe),new Error("Invalid JSON response from server")}if(Array.isArray(gt.data)){const at=gt.data.map(vt=>gc(vt));r(at)}else if(gt.success===!1)console.warn("API returned error:",gt.message),r([]);else throw new Error(gt.message||"Failed to fetch providers")}catch(_e){console.error("Error fetching providers:",_e);const it=_e instanceof Error?_e.message:"Failed to fetch providers";e(it,"error"),r([])}finally{Ce&&s(!1)}},[we,e]),ne=v.useCallback(async()=>{C(!0);const Ce=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!Ce){e("Please login to view pending providers","error"),C(!1);return}try{const Ae=await fetch(`${we}/admin/providers?list=pending`,{headers:{Authorization:`Bearer ${Ce}`,"Content-Type":"application/json"}});if(!Ae.ok)throw new Error(`HTTP error! status: ${Ae.status}`);const _e=Ae.headers.get("content-type");if(!_e||!_e.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),k([]);return}const it=await Ae.text();if(!it||it.trim()===""){console.warn("Empty response body, treating as empty list"),k([]);return}let Xe;try{Xe=JSON.parse(it)}catch(gt){throw console.error("JSON parse error:",gt,"Response text:",it),new Error("Invalid JSON response from server")}if(Array.isArray(Xe.data)){const gt=Xe.data.map(at=>gc(at));k(gt)}else if(Xe.success===!1)console.warn("API returned error:",Xe.message),k([]);else throw new Error(Xe.message||"Failed to fetch pending providers")}catch(Ae){console.error("Error fetching pending providers:",Ae);const _e=Ae instanceof Error?Ae.message:"Failed to fetch pending providers";e(_e,"error"),k([])}finally{C(!1)}},[we,e]);v.useEffect(()=>{be(!0),ne(),X()},[be,ne,X]),v.useEffect(()=>{j==="pending"||be(),ne()},[j,ne,be]),v.useEffect(()=>{const Ce=setInterval(()=>{be(),ne()},3e4);return()=>clearInterval(Ce)},[ne,be]);const ve=async Ce=>{const Ae=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!Ae){e("Please login to view provider details","error");return}try{const _e=await fetch(`${we}/admin/providers?provider_id=${Ce}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae}`}}),it=await _e.json(),Xe=Array.isArray(it?.data)?it.data[0]:it?.data;if(_e.ok&&Xe){const gt=Xe;let at=null;r(vt=>{const St=vt.find(yt=>yt.id===Ce);return at=gc(gt,St),ih(vt,at)}),k(vt=>{if(!at){const St=vt.find(yt=>yt.id===Ce);at=gc(gt,St)}return ih(vt,at)})}else throw new Error(it.message||"Failed to fetch provider details")}catch(_e){console.error("Error fetching provider details:",_e),e(_e instanceof Error?_e.message:"Failed to fetch provider details","error")}},me=Ce=>{const Ae=new Set(m);m.has(Ce)?Ae.delete(Ce):(Ae.add(Ce),ve(Ce)),f(Ae)},ae=Ce=>{Ce==="name"||Ce==="status"||Ce==="action"||b(Ae=>({...Ae,[Ce]:!Ae[Ce]}))},P=()=>{b({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1})},B=()=>{O({isOpen:!1,providerId:null,action:null,reason:"",notes:""})},H=(Ce,Ae)=>{if(Ae==="reject"||Ae==="suspend"){O({isOpen:!0,providerId:Ce,action:Ae,reason:"",notes:""});return}R(Ce,Ae)},V=t.filter(Ce=>Ce.name.toLowerCase().includes(i.toLowerCase())||Ce.email.toLowerCase().includes(i.toLowerCase())||Ce.phone.includes(i)||Ce.city.toLowerCase().includes(i.toLowerCase())),te=Math.ceil(V.length/y),ye=(c-1)*y,ke=V.slice(ye,ye+y),R=async(Ce,Ae,_e,it)=>{const Xe=Nre[Ae];if(!Xe)return;const gt=(it||_e||"").trim();if((Ae==="reject"||Ae==="suspend")&&!gt){e("Please provide a reason for this action","error");return}try{const at=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!at){e("Please login to verify provider","error");return}const vt={action:Xe.apiAction};gt&&(vt.notes=gt);const St=await fetch(`${we}/admin/provider/verify/${Ce}`,{method:"PUT",headers:{Authorization:`Bearer ${at}`,"Content-Type":"application/json"},body:JSON.stringify(vt)});if(!St.ok){let _t="Failed to update provider status";try{const se=await St.json();_t=se.message||se.error?.message||_t}catch{_t=`Failed to update provider status: ${St.status} ${St.statusText}`}throw new Error(_t)}let yt={};if(St.status!==204)try{const _t=St.headers.get("content-type");if(_t&&_t.includes("application/json")){const se=await St.text();se&&se.trim()&&(yt=JSON.parse(se))}}catch(_t){console.warn("Failed to parse response JSON, but response was successful. Provider status was updated:",_t),yt={}}const _r=Xe.nextStatus!=="pending";if(yt.provider){const _t=yt.provider;let se=null;r(Y=>{const Pe=Y.find(ht=>ht.id===Ce);return se=gc(_t,Pe),ih(Y,se)}),k(Y=>{if(!se){const Ie=Y.find(ht=>ht.id===Ce);se=gc(_t,Ie)}const Pe=ih(Y,se);return _r?Pe.filter(Ie=>Ie.id!==Ce):Pe})}else r(_t=>_t.map(se=>se.id===Ce?{...se,status:Xe.nextStatus,verification_status:Xe.verification}:se)),k(_t=>{const se=_t.map(Y=>Y.id===Ce?{...Y,status:Xe.nextStatus,verification_status:Xe.verification}:Y);return _r?se.filter(Y=>Y.id!==Ce):se});B(),e(yt.message||`Provider ${Ae}d successfully`,"success");try{await be()}catch(_t){console.error("Error refreshing providers list:",_t)}try{await ne()}catch(_t){console.error("Error refreshing pending providers list:",_t)}}catch(at){console.error("Error updating provider status:",at),e(at instanceof Error?at.message:"Failed to update provider status","error")}},G=async Ce=>{J(!0);try{const Ae=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!Ae){e("Please login to register a provider","error"),J(!1);return}const _e=await fetch(`${we}/provider/register`,{method:"POST",headers:{Authorization:`Bearer ${Ae}`},body:Ce}),it=await _e.json();if(_e.ok&&it.provider_id){e(it.message||"Provider registered successfully","success"),q(!1);try{await be(),await ne()}catch(Xe){console.error("Error refreshing providers list:",Xe)}}else{const Xe=it?.error?.message||it?.message||"Failed to register provider";e(Xe,"error")}}catch(Ae){console.error("Error registering provider:",Ae),e(Ae instanceof Error?Ae.message:"Failed to register provider","error")}finally{J(!1)}},ge=async(Ce,Ae,_e,it)=>{try{const Xe=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!Xe){e("Please login to update document","error");return}const at=await(await fetch(`${we}/admin/providers/${Ce}/documents/${Ae}`,{method:"POST",headers:{Authorization:`Bearer ${Xe}`,"Content-Type":"application/json"},body:JSON.stringify({action:_e,reason:it})})).json();at.success&&(r(vt=>vt.map(St=>St.id===Ce?{...St,documents:St.documents?.map(yt=>yt.id===Ae?{...yt,status:_e==="approve"?"approved":"rejected",rejection_reason:it||null}:yt)}:St)),e(at.message,"success"))}catch(Xe){console.error("Error updating document status:",Xe),e("Failed to update document status","error")}},le=Ce=>Ce?new Date(Ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ze=Ce=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Ce),Fe=()=>{const Ce=j==="pending"?_:ke;return j==="pending"&&!E&&_.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(p).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(Vs,{size:24,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Providers"}),n.jsx("p",{className:"text-gray-500 max-w-sm",children:"There are currently no vendors waiting for approval."})]})})}):E&&j==="pending"?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(p).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading pending providers..."})]})})}):Ce.map(Ae=>n.jsxs(jr.Fragment,{children:[n.jsx(ore,{provider:Ae,fieldVisibility:p,expandingUsers:m,onStatusAction:H,onToggleDropdown:me,formatDate:le,formatCurrency:ze,isExpanded:m.has(Ae.id)}),m.has(Ae.id)&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-primary/5 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(p).filter(Boolean).length+1,className:"p-6",children:n.jsx(lre,{provider:Ae,formatDate:le,serviceCatalog:W})})})]},Ae.id))};return n.jsxs(It,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Vendors"}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:n.jsx(Vs,{className:"h-5 w-5 text-white"})}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:"Manage and approve pharmacy vendor profiles, monitor their performance, and handle verification requests."})]})]})]}),a&&j==="all"?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading vendors..."})]}):n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(wt,{children:"Vendors"}),n.jsx(Xi,{value:j,onValueChange:Ce=>N(Ce),children:n.jsxs(Yi,{children:[n.jsxs(hr,{value:"all",className:"relative",children:["Partnered Stores",n.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:t.length})]}),n.jsxs(hr,{value:"pending",className:"relative",children:["Pending Approval",n.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:_.length})]})]})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(De,{onClick:()=>q(!0),variant:"primary",className:"flex items-center space-x-2",children:[n.jsx(ia,{size:18}),n.jsx("span",{children:"Add Provider"})]}),n.jsx(dre,{showFieldManagement:h,onToggleSettings:()=>g(!h),fieldVisibility:p,onToggleField:ae,onResetFields:P}),n.jsx(cre,{searchTerm:i,onSearchChange:o})]})]}),n.jsxs(Ze,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx(are,{fieldVisibility:p}),n.jsx("tbody",{children:Fe()})]})}),j==="all"&&te>1&&n.jsx(ure,{currentPage:c,totalPages:te,startIndex:ye,itemsPerPage:y,totalItems:V.length,onPageChange:u})]})]}),n.jsx(fre,{isOpen:D.isOpen,providerId:D.providerId,action:D.action,reason:D.reason,notes:D.notes,onClose:B,onConfirm:R,onReasonChange:Ce=>O(Ae=>({...Ae,reason:Ce})),onNotesChange:Ce=>O(Ae=>({...Ae,notes:Ce}))}),n.jsx(mre,{isOpen:I.isOpen,providerId:I.providerId,documentId:I.documentId,action:I.action,reason:I.reason,onClose:()=>T({isOpen:!1,providerId:null,documentId:null,action:null}),onConfirm:ge,onReasonChange:Ce=>T(Ae=>({...Ae,reason:Ce}))}),n.jsx(hre,{isOpen:F,onClose:()=>q(!1),onSubmit:G,isSubmitting:U})]})},Xc=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}),h6=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>t<=1?null:n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," users"]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:`border-2 font-semibold transition-all duration-200 group ${e===1?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx(td,{size:16,className:e===1?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"}),n.jsx("span",{className:"ml-1",children:"Previous"})]}),n.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:[e," of ",t]}),n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:`border-2 font-semibold transition-all duration-200 group ${e===t?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx("span",{className:"mr-1",children:"Next"}),n.jsx(Bi,{size:16,className:e===t?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"})]})]})]}),p6=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Dn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),kre=({user:e,formatDate:t,getActivityIcon:r})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Wt,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"User Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Login"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.last_login)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Wa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Wa,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(sa,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Pn,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Pn,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]})]}),Ere=({columnVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[e.name&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Name"}),e.contact&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Location"}),e.status&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Status"}),e.activity&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Activity"}),e.actions&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Actions"})]})}),Are=({user:e,columnVisibility:t,expandingUsers:r,onStatusChange:a,onToggleDropdown:s,formatDate:i})=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[t.name&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-3 min-w-[180px]",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-2 ring-primary/10 flex-shrink-0",children:n.jsx("span",{className:"text-sm font-semibold text-primary",children:e.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),t.contact&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[220px]",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(Wa,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900 break-words",children:e.email}),e.email_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(ja,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(sa,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900",children:e.phone}),e.phone_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(ja,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]})]})}),t.location&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"text-sm min-w-[180px]",children:[n.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[e.city,", ",e.state]}),n.jsxs("p",{className:"text-gray-500 flex items-center",children:[n.jsx(Pn,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsx("span",{children:e.pincode})]})]})}),t.status&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsx("div",{className:"min-w-[120px]",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700 border border-green-200":e.status==="suspended"?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 flex-shrink-0 ${e.status==="active"?"bg-green-500":e.status==="suspended"?"bg-red-500":"bg-gray-500"}`}),e.status==="inactive"?"Active":e.status.charAt(0).toUpperCase()+e.status.slice(1)]})})}),t.activity&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cr,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-sm text-gray-900",children:["Last: ",i(e.last_login)]})]}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Cr,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:[e.total_bookings," bookings"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ai,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:["",e.total_spent.toLocaleString()]})]})]})]})}),t.actions&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-2 min-w-[280px]",children:[n.jsxs("select",{value:e.status,onChange:o=>a(e.id,o.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white text-gray-900",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"suspended",children:"Suspended"})]}),n.jsx(De,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-black hover:border-primary hover:shadow-md group",disabled:r.has(e.id),children:r.has(e.id)?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx(yn,{size:14,className:"mr-1 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:"Details"}),e.expanded?n.jsx(Sa,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"}):n.jsx(In,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"})]})})]})})]});var T0={};T0.version="0.18.5";var x6=1252,Cre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],g6=function(e){Cre.indexOf(e)!=-1&&(x6=e)};function Pre(){g6(1252)}var Gu=function(e){g6(e)};function Tre(){Gu(1200),Pre()}var oh=function(t){return String.fromCharCode(t)},OA=function(t){return String.fromCharCode(t)},O0,Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xu(e){for(var t="",r=0,a=0,s=0,i=0,o=0,c=0,u=0,m=0;m<e.length;)r=e.charCodeAt(m++),i=r>>2,a=e.charCodeAt(m++),o=(r&3)<<4|a>>4,s=e.charCodeAt(m++),c=(a&15)<<2|s>>6,u=s&63,isNaN(a)?c=u=64:isNaN(s)&&(u=64),t+=Eo.charAt(i)+Eo.charAt(o)+Eo.charAt(c)+Eo.charAt(u);return t}function Mi(e){var t="",r=0,a=0,s=0,i=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<e.length;)i=Eo.indexOf(e.charAt(m++)),o=Eo.indexOf(e.charAt(m++)),r=i<<2|o>>4,t+=String.fromCharCode(r),c=Eo.indexOf(e.charAt(m++)),a=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(a)),u=Eo.indexOf(e.charAt(m++)),s=(c&3)<<6|u,u!==64&&(t+=String.fromCharCode(s));return t}var $t=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ji=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Il(e){return $t?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function IA(e){return $t?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ns=function(t){return $t?Ji(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function qp(e){if(typeof ArrayBuffer>"u")return Ns(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Cf(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Ore(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var An=$t?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ji(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Ire(e){for(var t=[],r=0,a=e.length+250,s=Il(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|c>>6&15|(o&3)<<4,s[r++]=128|c&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=Il(65535),a=65530)}return t.push(s.slice(0,r)),An(t)}var wu=/\u0000/g,lh=/[\u0001-\u0006]/g;function Dc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ss(e,t){var r=""+e;return r.length>=t?r:Er("0",t-r.length)+r}function gw(e,t){var r=""+e;return r.length>=t?r:Er(" ",t-r.length)+r}function I0(e,t){var r=""+e;return r.length>=t?r:r+Er(" ",t-r.length)}function Dre(e,t){var r=""+Math.round(e);return r.length>=t?r:Er("0",t-r.length)+r}function Fre(e,t){var r=""+e;return r.length>=t?r:Er("0",t-r.length)+r}var DA=Math.pow(2,32);function vc(e,t){if(e>DA||e<-DA)return Dre(e,t);var r=Math.round(e);return Fre(r,t)}function D0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var FA=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ay=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lre(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Pr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},LA={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Rre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function F0(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,c=0,u=1,m=0,f=0,h=Math.floor(s);m<t&&(h=Math.floor(s),c=h*o+i,f=h*m+u,!(s-h<5e-8));)s=1/(s-h),i=o,o=c,u=m,m=f;if(f>t&&(m>t?(f=u,c=i):(f=m,c=o)),!r)return[0,a*c,f];var g=Math.floor(a*c/f);return[g,a*c-g*f,f]}function ch(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],c={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++a,++c.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),r&&(i=Hre(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var v6=new Date(1899,11,31,0,0,0),Mre=v6.getTime(),zre=new Date(1900,2,1,0,0,0);function y6(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=zre&&(r+=1440*60*1e3),(r-(Mre+(e.getTimezoneOffset()-v6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function vw(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $re(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Bre(e){var t=e<0?12:11,r=vw(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Ure(e){var t=vw(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Wre(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Bre(e):t===10?r=e.toFixed(10).substr(0,12):r=Ure(e),vw($re(r.toUpperCase()))}function X1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Wre(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ro(14,y6(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Hre(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Vre(e,t,r,a){var s="",i=0,o=0,c=r.y,u,m=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:u=c%100,m=2;break;default:u=c%1e4,m=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,m=t.length;break;case 3:return Ay[r.m-1][1];case 5:return Ay[r.m-1][0];default:return Ay[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,m=t.length;break;case 3:return FA[r.q][0];default:return FA[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,m=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,m=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,m=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ss(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Ss(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}m=t.length===3?1:2;break;case 101:u=c,m=1;break}var f=m>0?Ss(u,m):"";return f}function Ao(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var b6=/%/g;function qre(e,t,r){var a=t.replace(b6,""),s=t.length-a.length;return Ni(e,a,r*Math.pow(10,2*s))+Er("%",s)}function Kre(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Ni(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function j6(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+j6(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,m,f){return u+m+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var w6=/# (\?+)( ?)\/( ?)(\d+)/;function Gre(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,c=a;return r+(i===0?"":""+i)+" "+(o===0?Er(" ",e[1].length+1+e[4].length):gw(o,e[1].length)+e[2]+"/"+e[3]+Ss(c,e[4].length))}function Xre(e,t,r){return r+(t===0?"":""+t)+Er(" ",e[1].length+2+e[4].length)}var _6=/^#*0*\.([0#]+)/,N6=/\).*[0#]/,S6=/\(###\) ###\\?-####/;function Qn(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function RA(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function MA(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function Yre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Jre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function rs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(N6)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?rs("n",a,r):"("+rs("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Kre(e,t,r);if(t.indexOf("%")!==-1)return qre(e,t,r);if(t.indexOf("E")!==-1)return j6(t,r);if(t.charCodeAt(0)===36)return"$"+rs(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,c,u=Math.abs(r),m=r<0?"-":"";if(t.match(/^00+$/))return m+vc(u,t.length);if(t.match(/^[#?]+$/))return s=vc(r,0),s==="0"&&(s=""),s.length>t.length?s:Qn(t.substr(0,t.length-s.length))+s;if(i=t.match(w6))return Gre(i,u,m);if(t.match(/^#+0+$/))return m+vc(u,t.length-t.indexOf("0"));if(i=t.match(_6))return s=RA(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Qn(i[1])).replace(/\.$/,"."+Qn(i[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+Er("0",Qn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return m+RA(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return m+Ao(vc(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+rs(e,t,-r):Ao(""+(Math.floor(r)+Yre(r,i[1].length)))+"."+Ss(MA(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return rs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Dc(rs(e,t.replace(/[\\-]/g,""),r)),o=0,Dc(Dc(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<s.length?s.charAt(o++):b==="0"?"0":""}));if(t.match(S6))return s=rs(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=F0(u,Math.pow(10,o)-1,!1),s=""+m,f=Ni("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=I0(c[2],o),f.length<i[4].length&&(f=Qn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=F0(u,Math.pow(10,o)-1,!0),m+(c[0]||(c[1]?"":"0"))+" "+(c[1]?gw(c[1],o)+i[2]+"/"+i[3]+I0(c[2],o):Er(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=vc(r,0),t.length<=s.length?s:Qn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,g=t.length-s.length-h;return Qn(t.substr(0,h)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=MA(r,i[1].length),r<0?"-"+rs(e,t,-r):Ao(Jre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ss(0,3-b.length):"")+b})+"."+Ss(o,i[1].length);switch(t){case"###,##0.00":return rs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Ao(vc(u,0));return p!=="0"?m+p:"";case"###,###.00":return rs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return rs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Zre(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Ni(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Qre(e,t,r){var a=t.replace(b6,""),s=t.length-a.length;return Ni(e,a,r*Math.pow(10,2*s))+Er("%",s)}function k6(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+k6(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,m,f){return u+m+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function zs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(N6)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?zs("n",a,r):"("+zs("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zre(e,t,r);if(t.indexOf("%")!==-1)return Qre(e,t,r);if(t.indexOf("E")!==-1)return k6(t,r);if(t.charCodeAt(0)===36)return"$"+zs(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,c,u=Math.abs(r),m=r<0?"-":"";if(t.match(/^00+$/))return m+Ss(u,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Qn(t.substr(0,t.length-s.length))+s;if(i=t.match(w6))return Xre(i,u,m);if(t.match(/^#+0+$/))return m+Ss(u,t.length-t.indexOf("0"));if(i=t.match(_6))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Qn(i[1])).replace(/\.$/,"."+Qn(i[1])),s=s.replace(/\.(\d*)$/,function(b,y){return"."+y+Er("0",Qn(i[1]).length-y.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return m+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return m+Ao(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+zs(e,t,-r):Ao(""+r)+"."+Er("0",i[1].length);if(i=t.match(/^#,#*,#0/))return zs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Dc(zs(e,t.replace(/[\\-]/g,""),r)),o=0,Dc(Dc(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<s.length?s.charAt(o++):b==="0"?"0":""}));if(t.match(S6))return s=zs(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=F0(u,Math.pow(10,o)-1,!1),s=""+m,f=Ni("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=I0(c[2],o),f.length<i[4].length&&(f=Qn(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=F0(u,Math.pow(10,o)-1,!0),m+(c[0]||(c[1]?"":"0"))+" "+(c[1]?gw(c[1],o)+i[2]+"/"+i[3]+I0(c[2],o):Er(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Qn(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,g=t.length-s.length-h;return Qn(t.substr(0,h)+s+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+zs(e,t,-r):Ao(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ss(0,3-b.length):"")+b})+"."+Ss(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Ao(""+u);return p!=="0"?m+p:"";default:if(t.match(/\.[0#?]*$/))return zs(e,t.slice(0,t.lastIndexOf(".")),r)+Qn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ni(e,t,r){return(r|0)===r?zs(e,t,r):rs(e,t,r)}function ene(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var E6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function A6(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":D0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(E6))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function tne(e,t,r,a){for(var s=[],i="",o=0,c="",u="t",m,f,h,g="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!D0(e,o))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),b=p==="("||p===")"?p:"t";s[s.length]={t:b,v:p},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(m==null&&(m=ch(t,r,e.charAt(o+1)==="2"),m==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||m==null&&(m=ch(t,r),m==null))return"";for(i=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var y={t:c,v:c};if(m==null&&(m=ch(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(m!=null&&(y.v=m.H>=12?"P":"A"),y.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(m!=null&&(y.v=m.H>=12?"PM":"AM"),y.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(m!=null&&(y.v=m.H>=12?"":""),y.t="T",o+=5,g="h"):(y.t="t",++o),m==null&&y.t==="T")return"";s[s.length]=y,u=c;break;case"[":for(i=c;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(E6)){if(m==null&&(m=ch(t,r),m==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",A6(e)||(s[s.length]={t:"t",v:i}));break;case".":if(m!=null){for(i=c;++o<e.length&&(c=e.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++o;break}var j=0,N=0,_;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=g,u="h",j<1&&(j=1);break;case"s":(_=s[o].v.match(/\.0+$/))&&(N=Math.max(N,_[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&s[o].v.match(/[Hh]/)&&(j=1),j<2&&s[o].v.match(/[Mm]/)&&(j=2),j<3&&s[o].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var k="",E;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Vre(s[o].t.charCodeAt(0),s[o].v,m,N),s[o].t="t";break;case"n":case"?":for(E=o+1;s[E]!=null&&((c=s[E].t)==="?"||c==="D"||(c===" "||c==="t")&&s[E+1]!=null&&(s[E+1].t==="?"||s[E+1].t==="t"&&s[E+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[E].v==="/"||s[E].v===" "&&s[E+1]!=null&&s[E+1].t=="?"));)s[o].v+=s[E].v,s[E]={v:"",t:";"},++E;k+=s[o].v,o=E-1;break;case"G":s[o].t="t",s[o].v=X1(t,r);break}var C="",D,O;if(k.length>0){k.charCodeAt(0)==40?(D=t<0&&k.charCodeAt(0)===45?-t:t,O=Ni("n",k,D)):(D=t<0&&a>1?-t:t,O=Ni("n",k,D),D<0&&s[0]&&s[0].t=="t"&&(O=O.substr(1),s[0].v="-"+s[0].v)),E=O.length-1;var I=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){I=o;break}var T=s.length;if(I===s.length&&O.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(E>=s[o].v.length-1?(E-=s[o].v.length,s[o].v=O.substr(E+1,s[o].v.length)):E<0?s[o].v="":(s[o].v=O.substr(0,E+1),E=-1),s[o].t="t",T=o);E>=0&&T<s.length&&(s[T].v=O.substr(0,E+1)+s[T].v)}else if(I!==s.length&&O.indexOf("E")===-1){for(E=O.indexOf(".")-1,o=I;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===I?s[o].v.indexOf(".")-1:s[o].v.length-1,C=s[o].v.substr(f+1);f>=0;--f)E>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(C=O.charAt(E--)+C);s[o].v=C,s[o].t="t",T=o}for(E>=0&&T<s.length&&(s[T].v=O.substr(0,E+1)+s[T].v),E=O.indexOf(".")+1,o=I;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==I)){for(f=s[o].v.indexOf(".")>-1&&o===I?s[o].v.indexOf(".")+1:0,C=s[o].v.substr(0,f);f<s[o].v.length;++f)E<O.length&&(C+=O.charAt(E++));s[o].v=C,s[o].t="t",T=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(D=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Ni(s[o].t,s[o].v,D),s[o].t="t");var F="";for(o=0;o!==s.length;++o)s[o]!=null&&(F+=s[o].v);return F}var zA=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $A(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function rne(e,t){var r=ene(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(zA),c=r[1].match(zA);return $A(t,o)?[a,r[0]]:$A(t,c)?[a,r[1]]:[a,r[o!=null&&c!=null?2:1]]}return[a,i]}function Ro(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Pr)[e],a==null&&(a=r.table&&r.table[LA[e]]||Pr[LA[e]]),a==null&&(a=Rre[e]||"General");break}if(D0(a,0))return X1(t,r);t instanceof Date&&(t=y6(t,r.date1904));var s=rne(a,t);if(D0(s[1]))return X1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return tne(s[1],t,r,s[0])}function C6(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Pr[r]==null){t<0&&(t=r);continue}if(Pr[r]==e){t=r;break}}t<0&&(t=391)}return Pr[t]=e,t}function Kp(e){for(var t=0;t!=392;++t)e[t]!==void 0&&C6(e[t],t)}function Gp(){Pr=Lre()}var P6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nne(e){var t=typeof e=="number"?Pr[e]:e;return t=t.replace(P6,"(\\d+)"),new RegExp("^"+t+"$")}function ane(e,t,r){var a=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(t.match(P6)||[]).forEach(function(h,g){var p=parseInt(r[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":o=p;break;case"s":u=p;break;case"m":o>=0?c=p:s=p;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var m=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?m:a==-1&&s==-1&&i==-1?f:m+"T"+f}var sne=(function(){var e={};e.version="1.2.0";function t(){for(var O=0,I=new Array(256),T=0;T!=256;++T)O=T,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,I[T]=O;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function a(O){var I=0,T=0,F=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)q[F]=O[F];for(F=0;F!=256;++F)for(T=O[F],I=256+F;I<4096;I+=256)T=q[I]=T>>>8^O[T&255];var U=[];for(F=1;F!=16;++F)U[F-1]=typeof Int32Array<"u"?q.subarray(F*256,F*256+256):q.slice(F*256,F*256+256);return U}var s=a(r),i=s[0],o=s[1],c=s[2],u=s[3],m=s[4],f=s[5],h=s[6],g=s[7],p=s[8],b=s[9],y=s[10],j=s[11],N=s[12],_=s[13],k=s[14];function E(O,I){for(var T=I^-1,F=0,q=O.length;F<q;)T=T>>>8^r[(T^O.charCodeAt(F++))&255];return~T}function C(O,I){for(var T=I^-1,F=O.length-15,q=0;q<F;)T=k[O[q++]^T&255]^_[O[q++]^T>>8&255]^N[O[q++]^T>>16&255]^j[O[q++]^T>>>24]^y[O[q++]]^b[O[q++]]^p[O[q++]]^g[O[q++]]^h[O[q++]]^f[O[q++]]^m[O[q++]]^u[O[q++]]^c[O[q++]]^o[O[q++]]^i[O[q++]]^r[O[q++]];for(F+=15;q<F;)T=T>>>8^r[(T^O[q++])&255];return~T}function D(O,I){for(var T=I^-1,F=0,q=O.length,U=0,J=0;F<q;)U=O.charCodeAt(F++),U<128?T=T>>>8^r[(T^U)&255]:U<2048?(T=T>>>8^r[(T^(192|U>>6&31))&255],T=T>>>8^r[(T^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,J=O.charCodeAt(F++)&1023,T=T>>>8^r[(T^(240|U>>8&7))&255],T=T>>>8^r[(T^(128|U>>2&63))&255],T=T>>>8^r[(T^(128|J>>6&15|(U&3)<<4))&255],T=T>>>8^r[(T^(128|J&63))&255]):(T=T>>>8^r[(T^(224|U>>12&15))&255],T=T>>>8^r[(T^(128|U>>6&63))&255],T=T>>>8^r[(T^(128|U&63))&255]);return~T}return e.table=r,e.bstr=E,e.buf=C,e.str=D,e})(),Zt=(function(){var t={};t.version="1.2.1";function r(z,Q){for(var K=z.split("/"),Z=Q.split("/"),ee=0,re=0,M=Math.min(K.length,Z.length);ee<M;++ee){if(re=K[ee].length-Z[ee].length)return re;if(K[ee]!=Z[ee])return K[ee]<Z[ee]?-1:1}return K.length-Z.length}function a(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:a(z.slice(0,-1));var Q=z.lastIndexOf("/");return Q===-1?z:z.slice(0,Q+1)}function s(z){if(z.charAt(z.length-1)=="/")return s(z.slice(0,-1));var Q=z.lastIndexOf("/");return Q===-1?z:z.slice(Q+1)}function i(z,Q){typeof Q=="string"&&(Q=new Date(Q));var K=Q.getHours();K=K<<6|Q.getMinutes(),K=K<<5|Q.getSeconds()>>>1,z.write_shift(2,K);var Z=Q.getFullYear()-1980;Z=Z<<4|Q.getMonth()+1,Z=Z<<5|Q.getDate(),z.write_shift(2,Z)}function o(z){var Q=z.read_shift(2)&65535,K=z.read_shift(2)&65535,Z=new Date,ee=K&31;K>>>=5;var re=K&15;K>>>=4,Z.setMilliseconds(0),Z.setFullYear(K+1980),Z.setMonth(re-1),Z.setDate(ee);var M=Q&31;Q>>>=5;var ce=Q&63;return Q>>>=6,Z.setHours(Q),Z.setMinutes(ce),Z.setSeconds(M<<1),Z}function c(z){La(z,0);for(var Q={},K=0;z.l<=z.length-4;){var Z=z.read_shift(2),ee=z.read_shift(2),re=z.l+ee,M={};Z===21589&&(K=z.read_shift(1),K&1&&(M.mtime=z.read_shift(4)),ee>5&&(K&2&&(M.atime=z.read_shift(4)),K&4&&(M.ctime=z.read_shift(4))),M.mtime&&(M.mt=new Date(M.mtime*1e3))),z.l=re,Q[Z]=M}return Q}var u;function m(){return u||(u={})}function f(z,Q){if(z[0]==80&&z[1]==75)return Xn(z,Q);if((z[0]|32)==109&&(z[1]|32)==105)return Yn(z,Q);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var K=3,Z=512,ee=0,re=0,M=0,ce=0,oe=0,de=[],xe=z.slice(0,512);La(xe,0);var Te=h(xe);switch(K=Te[0],K){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Te[1]==0)return Xn(z,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}Z!==512&&(xe=z.slice(0,Z),La(xe,28));var $e=z.slice(0,Z);g(xe,K);var tt=xe.read_shift(4,"i");if(K===3&&tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+tt);xe.l+=4,M=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),ce=xe.read_shift(4,"i"),ee=xe.read_shift(4,"i"),oe=xe.read_shift(4,"i"),re=xe.read_shift(4,"i");for(var He=-1,We=0;We<109&&(He=xe.read_shift(4,"i"),!(He<0));++We)de[We]=He;var Nt=p(z,Z);j(oe,re,Nt,Z,de);var Qt=_(Nt,M,de,Z);Qt[M].name="!Directory",ee>0&&ce!==J&&(Qt[ce].name="!MiniFAT"),Qt[de[0]].name="!FAT",Qt.fat_addrs=de,Qt.ssz=Z;var rr={},Dr=[],Ko=[],Zi=[];k(M,Qt,Nt,Dr,ee,rr,Ko,ce),b(Ko,Zi,Dr),Dr.shift();var Is={FileIndex:Ko,FullPaths:Zi};return Q&&Q.raw&&(Is.raw={header:$e,sectors:Nt}),Is}function h(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(W,"Header Signature: "),z.l+=16;var Q=z.read_shift(2,"u");return[z.read_shift(2,"u"),Q]}function g(z,Q){var K=9;switch(z.l+=2,K=z.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function p(z,Q){for(var K=Math.ceil(z.length/Q)-1,Z=[],ee=1;ee<K;++ee)Z[ee-1]=z.slice(ee*Q,(ee+1)*Q);return Z[K-1]=z.slice(K*Q),Z}function b(z,Q,K){for(var Z=0,ee=0,re=0,M=0,ce=0,oe=K.length,de=[],xe=[];Z<oe;++Z)de[Z]=xe[Z]=Z,Q[Z]=K[Z];for(;ce<xe.length;++ce)Z=xe[ce],ee=z[Z].L,re=z[Z].R,M=z[Z].C,de[Z]===Z&&(ee!==-1&&de[ee]!==ee&&(de[Z]=de[ee]),re!==-1&&de[re]!==re&&(de[Z]=de[re])),M!==-1&&(de[M]=Z),ee!==-1&&Z!=de[Z]&&(de[ee]=de[Z],xe.lastIndexOf(ee)<ce&&xe.push(ee)),re!==-1&&Z!=de[Z]&&(de[re]=de[Z],xe.lastIndexOf(re)<ce&&xe.push(re));for(Z=1;Z<oe;++Z)de[Z]===Z&&(re!==-1&&de[re]!==re?de[Z]=de[re]:ee!==-1&&de[ee]!==ee&&(de[Z]=de[ee]));for(Z=1;Z<oe;++Z)if(z[Z].type!==0){if(ce=Z,ce!=de[ce])do ce=de[ce],Q[Z]=Q[ce]+"/"+Q[Z];while(ce!==0&&de[ce]!==-1&&ce!=de[ce]);de[Z]=-1}for(Q[0]+="/",Z=1;Z<oe;++Z)z[Z].type!==2&&(Q[Z]+="/")}function y(z,Q,K){for(var Z=z.start,ee=z.size,re=[],M=Z;K&&ee>0&&M>=0;)re.push(Q.slice(M*U,M*U+U)),ee-=U,M=ml(K,M*4);return re.length===0?Oe(0):An(re).slice(0,z.size)}function j(z,Q,K,Z,ee){var re=J;if(z===J){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var M=K[z],ce=(Z>>>2)-1;if(!M)return;for(var oe=0;oe<ce&&(re=ml(M,oe*4))!==J;++oe)ee.push(re);j(ml(M,Z-4),Q-1,K,Z,ee)}}function N(z,Q,K,Z,ee){var re=[],M=[];ee||(ee=[]);var ce=Z-1,oe=0,de=0;for(oe=Q;oe>=0;){ee[oe]=!0,re[re.length]=oe,M.push(z[oe]);var xe=K[Math.floor(oe*4/Z)];if(de=oe*4&ce,Z<4+de)throw new Error("FAT boundary crossed: "+oe+" 4 "+Z);if(!z[xe])break;oe=ml(z[xe],de)}return{nodes:re,data:GA([M])}}function _(z,Q,K,Z){var ee=z.length,re=[],M=[],ce=[],oe=[],de=Z-1,xe=0,Te=0,$e=0,tt=0;for(xe=0;xe<ee;++xe)if(ce=[],$e=xe+Q,$e>=ee&&($e-=ee),!M[$e]){oe=[];var He=[];for(Te=$e;Te>=0;){He[Te]=!0,M[Te]=!0,ce[ce.length]=Te,oe.push(z[Te]);var We=K[Math.floor(Te*4/Z)];if(tt=Te*4&de,Z<4+tt)throw new Error("FAT boundary crossed: "+Te+" 4 "+Z);if(!z[We]||(Te=ml(z[We],tt),He[Te]))break}re[$e]={nodes:ce,data:GA([oe])}}return re}function k(z,Q,K,Z,ee,re,M,ce){for(var oe=0,de=Z.length?2:0,xe=Q[z].data,Te=0,$e=0,tt;Te<xe.length;Te+=128){var He=xe.slice(Te,Te+128);La(He,64),$e=He.read_shift(2),tt=_w(He,0,$e-de),Z.push(tt);var We={name:tt,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},Nt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Nt!==0&&(We.ct=E(He,He.l-8));var Qt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Qt!==0&&(We.mt=E(He,He.l-8)),We.start=He.read_shift(4,"i"),We.size=He.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=J,We.name=""),We.type===5?(oe=We.start,ee>0&&oe!==J&&(Q[oe].name="!StreamData")):We.size>=4096?(We.storage="fat",Q[We.start]===void 0&&(Q[We.start]=N(K,We.start,Q.fat_addrs,Q.ssz)),Q[We.start].name=We.name,We.content=Q[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:oe!==J&&We.start!==J&&Q[oe]&&(We.content=y(We,Q[oe].data,(Q[ce]||{}).data))),We.content&&La(We.content,0),re[tt]=We,M.push(We)}}function E(z,Q){return new Date((Ma(z,Q+4)/1e7*Math.pow(2,32)+Ma(z,Q)/1e7-11644473600)*1e3)}function C(z,Q){return m(),f(u.readFileSync(z),Q)}function D(z,Q){var K=Q&&Q.type;switch(K||$t&&Buffer.isBuffer(z)&&(K="buffer"),K||"base64"){case"file":return C(z,Q);case"base64":return f(Ns(Mi(z)),Q);case"binary":return f(Ns(z),Q)}return f(z,Q)}function O(z,Q){var K=Q||{},Z=K.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=Z+"/",z.FileIndex[0]={name:Z,type:5}),K.CLSID&&(z.FileIndex[0].clsid=K.CLSID),I(z)}function I(z){var Q="Sh33tJ5";if(!Zt.find(z,"/"+Q)){var K=Oe(4);K[0]=55,K[1]=K[3]=50,K[2]=54,z.FileIndex.push({name:Q,type:2,content:K,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+Q),T(z)}}function T(z,Q){O(z);for(var K=!1,Z=!1,ee=z.FullPaths.length-1;ee>=0;--ee){var re=z.FileIndex[ee];switch(re.type){case 0:Z?K=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(re.R*re.L*re.C)&&(K=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!Q)){var M=new Date(1987,1,19),ce=0,oe=Object.create?Object.create(null):{},de=[];for(ee=0;ee<z.FullPaths.length;++ee)oe[z.FullPaths[ee]]=!0,z.FileIndex[ee].type!==0&&de.push([z.FullPaths[ee],z.FileIndex[ee]]);for(ee=0;ee<de.length;++ee){var xe=a(de[ee][0]);Z=oe[xe],Z||(de.push([xe,{name:s(xe).replace("/",""),type:1,clsid:X,ct:M,mt:M,content:null}]),oe[xe]=!0)}for(de.sort(function(tt,He){return r(tt[0],He[0])}),z.FullPaths=[],z.FileIndex=[],ee=0;ee<de.length;++ee)z.FullPaths[ee]=de[ee][0],z.FileIndex[ee]=de[ee][1];for(ee=0;ee<de.length;++ee){var Te=z.FileIndex[ee],$e=z.FullPaths[ee];if(Te.name=s($e).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||X,ee===0)Te.C=de.length>1?1:-1,Te.size=0,Te.type=5;else if($e.slice(-1)=="/"){for(ce=ee+1;ce<de.length&&a(z.FullPaths[ce])!=$e;++ce);for(Te.C=ce>=de.length?-1:ce,ce=ee+1;ce<de.length&&a(z.FullPaths[ce])!=a($e);++ce);Te.R=ce>=de.length?-1:ce,Te.type=1}else a(z.FullPaths[ee+1]||"")==a($e)&&(Te.R=ee+1),Te.type=2}}}function F(z,Q){var K=Q||{};if(K.fileType=="mad")return Ln(z,K);if(T(z),K.fileType==="zip")return qe(z,K);var Z=(function(tt){for(var He=0,We=0,Nt=0;Nt<tt.FileIndex.length;++Nt){var Qt=tt.FileIndex[Nt];if(Qt.content){var rr=Qt.content.length;rr>0&&(rr<4096?He+=rr+63>>6:We+=rr+511>>9)}}for(var Dr=tt.FullPaths.length+3>>2,Ko=He+7>>3,Zi=He+127>>7,Is=Ko+We+Dr+Zi,sn=Is+127>>7,wd=sn<=109?0:Math.ceil((sn-109)/127);Is+sn+wd+127>>7>sn;)wd=++sn<=109?0:Math.ceil((sn-109)/127);var Fr=[1,wd,sn,Zi,Dr,We,He,0];return tt.FileIndex[0].size=He<<6,Fr[7]=(tt.FileIndex[0].start=Fr[0]+Fr[1]+Fr[2]+Fr[3]+Fr[4]+Fr[5])+(Fr[6]+7>>3),Fr})(z),ee=Oe(Z[7]<<9),re=0,M=0;{for(re=0;re<8;++re)ee.write_shift(1,he[re]);for(re=0;re<8;++re)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),re=0;re<3;++re)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,Z[2]),ee.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:J),ee.write_shift(4,Z[3]),ee.write_shift(-4,Z[1]?Z[0]-1:J),ee.write_shift(4,Z[1]),re=0;re<109;++re)ee.write_shift(-4,re<Z[2]?Z[1]+re:-1)}if(Z[1])for(M=0;M<Z[1];++M){for(;re<236+M*127;++re)ee.write_shift(-4,re<Z[2]?Z[1]+re:-1);ee.write_shift(-4,M===Z[1]-1?J:M+1)}var ce=function(tt){for(M+=tt;re<M-1;++re)ee.write_shift(-4,re+1);tt&&(++re,ee.write_shift(-4,J))};for(M=re=0,M+=Z[1];re<M;++re)ee.write_shift(-4,be.DIFSECT);for(M+=Z[2];re<M;++re)ee.write_shift(-4,be.FATSECT);ce(Z[3]),ce(Z[4]);for(var oe=0,de=0,xe=z.FileIndex[0];oe<z.FileIndex.length;++oe)xe=z.FileIndex[oe],xe.content&&(de=xe.content.length,!(de<4096)&&(xe.start=M,ce(de+511>>9)));for(ce(Z[6]+7>>3);ee.l&511;)ee.write_shift(-4,be.ENDOFCHAIN);for(M=re=0,oe=0;oe<z.FileIndex.length;++oe)xe=z.FileIndex[oe],xe.content&&(de=xe.content.length,!(!de||de>=4096)&&(xe.start=M,ce(de+63>>6)));for(;ee.l&511;)ee.write_shift(-4,be.ENDOFCHAIN);for(re=0;re<Z[4]<<2;++re){var Te=z.FullPaths[re];if(!Te||Te.length===0){for(oe=0;oe<17;++oe)ee.write_shift(4,0);for(oe=0;oe<3;++oe)ee.write_shift(4,-1);for(oe=0;oe<12;++oe)ee.write_shift(4,0);continue}xe=z.FileIndex[re],re===0&&(xe.start=xe.size?xe.start-1:J);var $e=re===0&&K.root||xe.name;if(de=2*($e.length+1),ee.write_shift(64,$e,"utf16le"),ee.write_shift(2,de),ee.write_shift(1,xe.type),ee.write_shift(1,xe.color),ee.write_shift(-4,xe.L),ee.write_shift(-4,xe.R),ee.write_shift(-4,xe.C),xe.clsid)ee.write_shift(16,xe.clsid,"hex");else for(oe=0;oe<4;++oe)ee.write_shift(4,0);ee.write_shift(4,xe.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,xe.start),ee.write_shift(4,xe.size),ee.write_shift(4,0)}for(re=1;re<z.FileIndex.length;++re)if(xe=z.FileIndex[re],xe.size>=4096)if(ee.l=xe.start+1<<9,$t&&Buffer.isBuffer(xe.content))xe.content.copy(ee,ee.l,0,xe.size),ee.l+=xe.size+511&-512;else{for(oe=0;oe<xe.size;++oe)ee.write_shift(1,xe.content[oe]);for(;oe&511;++oe)ee.write_shift(1,0)}for(re=1;re<z.FileIndex.length;++re)if(xe=z.FileIndex[re],xe.size>0&&xe.size<4096)if($t&&Buffer.isBuffer(xe.content))xe.content.copy(ee,ee.l,0,xe.size),ee.l+=xe.size+63&-64;else{for(oe=0;oe<xe.size;++oe)ee.write_shift(1,xe.content[oe]);for(;oe&63;++oe)ee.write_shift(1,0)}if($t)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function q(z,Q){var K=z.FullPaths.map(function(oe){return oe.toUpperCase()}),Z=K.map(function(oe){var de=oe.split("/");return de[de.length-(oe.slice(-1)=="/"?2:1)]}),ee=!1;Q.charCodeAt(0)===47?(ee=!0,Q=K[0].slice(0,-1)+Q):ee=Q.indexOf("/")!==-1;var re=Q.toUpperCase(),M=ee===!0?K.indexOf(re):Z.indexOf(re);if(M!==-1)return z.FileIndex[M];var ce=!re.match(lh);for(re=re.replace(wu,""),ce&&(re=re.replace(lh,"!")),M=0;M<K.length;++M)if((ce?K[M].replace(lh,"!"):K[M]).replace(wu,"")==re||(ce?Z[M].replace(lh,"!"):Z[M]).replace(wu,"")==re)return z.FileIndex[M];return null}var U=64,J=-2,W="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:J,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(z,Q,K){m();var Z=F(z,K);u.writeFileSync(Q,Z)}function ve(z){for(var Q=new Array(z.length),K=0;K<z.length;++K)Q[K]=String.fromCharCode(z[K]);return Q.join("")}function me(z,Q){var K=F(z,Q);switch(Q&&Q.type||"buffer"){case"file":return m(),u.writeFileSync(Q.filename,K),K;case"binary":return typeof K=="string"?K:ve(K);case"base64":return Xu(typeof K=="string"?K:ve(K));case"buffer":if($t)return Buffer.isBuffer(K)?K:Ji(K);case"array":return typeof K=="string"?Ns(K):K}return K}var ae;function P(z){try{var Q=z.InflateRaw,K=new Q;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)ae=z;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function B(z,Q){if(!ae)return Aa(z,Q);var K=ae.InflateRaw,Z=new K,ee=Z._processChunk(z.slice(z.l),Z._finishFlushFlag);return z.l+=Z.bytesRead,ee}function H(z){return ae?ae.deflateRawSync(z):Ie(z)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(z){var Q=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var R=typeof Uint8Array<"u",G=R?new Uint8Array(256):[],ge=0;ge<256;++ge)G[ge]=ke(ge);function le(z,Q){var K=G[z&255];return Q<=8?K>>>8-Q:(K=K<<8|G[z>>8&255],Q<=16?K>>>16-Q:(K=K<<8|G[z>>16&255],K>>>24-Q))}function ze(z,Q){var K=Q&7,Z=Q>>>3;return(z[Z]|(K<=6?0:z[Z+1]<<8))>>>K&3}function Fe(z,Q){var K=Q&7,Z=Q>>>3;return(z[Z]|(K<=5?0:z[Z+1]<<8))>>>K&7}function Ce(z,Q){var K=Q&7,Z=Q>>>3;return(z[Z]|(K<=4?0:z[Z+1]<<8))>>>K&15}function Ae(z,Q){var K=Q&7,Z=Q>>>3;return(z[Z]|(K<=3?0:z[Z+1]<<8))>>>K&31}function _e(z,Q){var K=Q&7,Z=Q>>>3;return(z[Z]|(K<=1?0:z[Z+1]<<8))>>>K&127}function it(z,Q,K){var Z=Q&7,ee=Q>>>3,re=(1<<K)-1,M=z[ee]>>>Z;return K<8-Z||(M|=z[ee+1]<<8-Z,K<16-Z)||(M|=z[ee+2]<<16-Z,K<24-Z)||(M|=z[ee+3]<<24-Z),M&re}function Xe(z,Q,K){var Z=Q&7,ee=Q>>>3;return Z<=5?z[ee]|=(K&7)<<Z:(z[ee]|=K<<Z&255,z[ee+1]=(K&7)>>8-Z),Q+3}function gt(z,Q,K){var Z=Q&7,ee=Q>>>3;return K=(K&1)<<Z,z[ee]|=K,Q+1}function at(z,Q,K){var Z=Q&7,ee=Q>>>3;return K<<=Z,z[ee]|=K&255,K>>>=8,z[ee+1]=K,Q+8}function vt(z,Q,K){var Z=Q&7,ee=Q>>>3;return K<<=Z,z[ee]|=K&255,K>>>=8,z[ee+1]=K&255,z[ee+2]=K>>>8,Q+16}function St(z,Q){var K=z.length,Z=2*K>Q?2*K:Q+5,ee=0;if(K>=Q)return z;if($t){var re=IA(Z);if(z.copy)z.copy(re);else for(;ee<z.length;++ee)re[ee]=z[ee];return re}else if(R){var M=new Uint8Array(Z);if(M.set)M.set(z);else for(;ee<K;++ee)M[ee]=z[ee];return M}return z.length=Z,z}function yt(z){for(var Q=new Array(z),K=0;K<z;++K)Q[K]=0;return Q}function _r(z,Q,K){var Z=1,ee=0,re=0,M=0,ce=0,oe=z.length,de=R?new Uint16Array(32):yt(32);for(re=0;re<32;++re)de[re]=0;for(re=oe;re<K;++re)z[re]=0;oe=z.length;var xe=R?new Uint16Array(oe):yt(oe);for(re=0;re<oe;++re)de[ee=z[re]]++,Z<ee&&(Z=ee),xe[re]=0;for(de[0]=0,re=1;re<=Z;++re)de[re+16]=ce=ce+de[re-1]<<1;for(re=0;re<oe;++re)ce=z[re],ce!=0&&(xe[re]=de[ce+16]++);var Te=0;for(re=0;re<oe;++re)if(Te=z[re],Te!=0)for(ce=le(xe[re],Z)>>Z-Te,M=(1<<Z+4-Te)-1;M>=0;--M)Q[ce|M<<Te]=Te&15|re<<4;return Z}var _t=R?new Uint16Array(512):yt(512),se=R?new Uint16Array(32):yt(32);if(!R){for(var Y=0;Y<512;++Y)_t[Y]=0;for(Y=0;Y<32;++Y)se[Y]=0}(function(){for(var z=[],Q=0;Q<32;Q++)z.push(5);_r(z,se,32);var K=[];for(Q=0;Q<=143;Q++)K.push(8);for(;Q<=255;Q++)K.push(9);for(;Q<=279;Q++)K.push(7);for(;Q<=287;Q++)K.push(8);_r(K,_t,288)})();var Pe=(function(){for(var Q=R?new Uint8Array(32768):[],K=0,Z=0;K<ye.length-1;++K)for(;Z<ye[K+1];++Z)Q[Z]=K;for(;Z<32768;++Z)Q[Z]=29;var ee=R?new Uint8Array(259):[];for(K=0,Z=0;K<te.length-1;++K)for(;Z<te[K+1];++Z)ee[Z]=K;function re(ce,oe){for(var de=0;de<ce.length;){var xe=Math.min(65535,ce.length-de),Te=de+xe==ce.length;for(oe.write_shift(1,+Te),oe.write_shift(2,xe),oe.write_shift(2,~xe&65535);xe-- >0;)oe[oe.l++]=ce[de++]}return oe.l}function M(ce,oe){for(var de=0,xe=0,Te=R?new Uint16Array(32768):[];xe<ce.length;){var $e=Math.min(65535,ce.length-xe);if($e<10){for(de=Xe(oe,de,+(xe+$e==ce.length)),de&7&&(de+=8-(de&7)),oe.l=de/8|0,oe.write_shift(2,$e),oe.write_shift(2,~$e&65535);$e-- >0;)oe[oe.l++]=ce[xe++];de=oe.l*8;continue}de=Xe(oe,de,+(xe+$e==ce.length)+2);for(var tt=0;$e-- >0;){var He=ce[xe];tt=(tt<<5^He)&32767;var We=-1,Nt=0;if((We=Te[tt])&&(We|=xe&-32768,We>xe&&(We-=32768),We<xe))for(;ce[We+Nt]==ce[xe+Nt]&&Nt<250;)++Nt;if(Nt>2){He=ee[Nt],He<=22?de=at(oe,de,G[He+1]>>1)-1:(at(oe,de,3),de+=5,at(oe,de,G[He-23]>>5),de+=3);var Qt=He<8?0:He-4>>2;Qt>0&&(vt(oe,de,Nt-te[He]),de+=Qt),He=Q[xe-We],de=at(oe,de,G[He]>>3),de-=3;var rr=He<4?0:He-2>>1;rr>0&&(vt(oe,de,xe-We-ye[He]),de+=rr);for(var Dr=0;Dr<Nt;++Dr)Te[tt]=xe&32767,tt=(tt<<5^ce[xe])&32767,++xe;$e-=Nt-1}else He<=143?He=He+48:de=gt(oe,de,1),de=at(oe,de,G[He]),Te[tt]=xe&32767,++xe}de=at(oe,de,0)-1}return oe.l=(de+7)/8|0,oe.l}return function(oe,de){return oe.length<8?re(oe,de):M(oe,de)}})();function Ie(z){var Q=Oe(50+Math.floor(z.length*1.1)),K=Pe(z,Q);return Q.slice(0,K)}var ht=R?new Uint16Array(32768):yt(32768),Et=R?new Uint16Array(32768):yt(32768),Ye=R?new Uint16Array(128):yt(128),Ir=1,zr=1;function vr(z,Q){var K=Ae(z,Q)+257;Q+=5;var Z=Ae(z,Q)+1;Q+=5;var ee=Ce(z,Q)+4;Q+=4;for(var re=0,M=R?new Uint8Array(19):yt(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,de=R?new Uint8Array(8):yt(8),xe=R?new Uint8Array(8):yt(8),Te=M.length,$e=0;$e<ee;++$e)M[V[$e]]=re=Fe(z,Q),oe<re&&(oe=re),de[re]++,Q+=3;var tt=0;for(de[0]=0,$e=1;$e<=oe;++$e)xe[$e]=tt=tt+de[$e-1]<<1;for($e=0;$e<Te;++$e)(tt=M[$e])!=0&&(ce[$e]=xe[tt]++);var He=0;for($e=0;$e<Te;++$e)if(He=M[$e],He!=0){tt=G[ce[$e]]>>8-He;for(var We=(1<<7-He)-1;We>=0;--We)Ye[tt|We<<He]=He&7|$e<<3}var Nt=[];for(oe=1;Nt.length<K+Z;)switch(tt=Ye[_e(z,Q)],Q+=tt&7,tt>>>=3){case 16:for(re=3+ze(z,Q),Q+=2,tt=Nt[Nt.length-1];re-- >0;)Nt.push(tt);break;case 17:for(re=3+Fe(z,Q),Q+=3;re-- >0;)Nt.push(0);break;case 18:for(re=11+_e(z,Q),Q+=7;re-- >0;)Nt.push(0);break;default:Nt.push(tt),oe<tt&&(oe=tt);break}var Qt=Nt.slice(0,K),rr=Nt.slice(K);for($e=K;$e<286;++$e)Qt[$e]=0;for($e=Z;$e<30;++$e)rr[$e]=0;return Ir=_r(Qt,ht,286),zr=_r(rr,Et,30),Q}function Ea(z,Q){if(z[0]==3&&!(z[1]&3))return[Il(Q),2];for(var K=0,Z=0,ee=IA(Q||1<<18),re=0,M=ee.length>>>0,ce=0,oe=0;(Z&1)==0;){if(Z=Fe(z,K),K+=3,Z>>>1)Z>>1==1?(ce=9,oe=5):(K=vr(z,K),ce=Ir,oe=zr);else{K&7&&(K+=8-(K&7));var de=z[K>>>3]|z[(K>>>3)+1]<<8;if(K+=32,de>0)for(!Q&&M<re+de&&(ee=St(ee,re+de),M=ee.length);de-- >0;)ee[re++]=z[K>>>3],K+=8;continue}for(;;){!Q&&M<re+32767&&(ee=St(ee,re+32767),M=ee.length);var xe=it(z,K,ce),Te=Z>>>1==1?_t[xe]:ht[xe];if(K+=Te&15,Te>>>=4,(Te>>>8&255)===0)ee[re++]=Te;else{if(Te==256)break;Te-=257;var $e=Te<8?0:Te-4>>2;$e>5&&($e=0);var tt=re+te[Te];$e>0&&(tt+=it(z,K,$e),K+=$e),xe=it(z,K,oe),Te=Z>>>1==1?se[xe]:Et[xe],K+=Te&15,Te>>>=4;var He=Te<4?0:Te-2>>1,We=ye[Te];for(He>0&&(We+=it(z,K,He),K+=He),!Q&&M<tt&&(ee=St(ee,tt+100),M=ee.length);re<tt;)ee[re]=ee[re-We],++re}}}return Q?[ee,K+7>>>3]:[ee.slice(0,re),K+7>>>3]}function Aa(z,Q){var K=z.slice(z.l||0),Z=Ea(K,Q);return z.l+=Z[1],Z[0]}function Ca(z,Q){if(z)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function Xn(z,Q){var K=z;La(K,0);var Z=[],ee=[],re={FileIndex:Z,FullPaths:ee};O(re,{root:Q.root});for(var M=K.length-4;(K[M]!=80||K[M+1]!=75||K[M+2]!=5||K[M+3]!=6)&&M>=0;)--M;K.l=M+4,K.l+=4;var ce=K.read_shift(2);K.l+=6;var oe=K.read_shift(4);for(K.l=oe,M=0;M<ce;++M){K.l+=20;var de=K.read_shift(4),xe=K.read_shift(4),Te=K.read_shift(2),$e=K.read_shift(2),tt=K.read_shift(2);K.l+=8;var He=K.read_shift(4),We=c(K.slice(K.l+Te,K.l+Te+$e));K.l+=Te+$e+tt;var Nt=K.l;K.l=He+4,ue(K,de,xe,re,We),K.l=Nt}return re}function ue(z,Q,K,Z,ee){z.l+=2;var re=z.read_shift(2),M=z.read_shift(2),ce=o(z);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var oe=z.read_shift(4),de=z.read_shift(4),xe=z.read_shift(4),Te=z.read_shift(2),$e=z.read_shift(2),tt="",He=0;He<Te;++He)tt+=String.fromCharCode(z[z.l++]);if($e){var We=c(z.slice(z.l,z.l+$e));(We[21589]||{}).mt&&(ce=We[21589].mt),((ee||{})[21589]||{}).mt&&(ce=ee[21589].mt)}z.l+=$e;var Nt=z.slice(z.l,z.l+de);switch(M){case 8:Nt=B(z,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+M)}var Qt=!1;re&8&&(oe=z.read_shift(4),oe==134695760&&(oe=z.read_shift(4),Qt=!0),de=z.read_shift(4),xe=z.read_shift(4)),de!=Q&&Ca(Qt,"Bad compressed size: "+Q+" != "+de),xe!=K&&Ca(Qt,"Bad uncompressed size: "+K+" != "+xe),fa(Z,tt,Nt,{unsafe:!0,mt:ce})}function qe(z,Q){var K=Q||{},Z=[],ee=[],re=Oe(1),M=K.compression?8:0,ce=0,oe=0,de=0,xe=0,Te=0,$e=z.FullPaths[0],tt=$e,He=z.FileIndex[0],We=[],Nt=0;for(oe=1;oe<z.FullPaths.length;++oe)if(tt=z.FullPaths[oe].slice($e.length),He=z.FileIndex[oe],!(!He.size||!He.content||tt=="Sh33tJ5")){var Qt=xe,rr=Oe(tt.length);for(de=0;de<tt.length;++de)rr.write_shift(1,tt.charCodeAt(de)&127);rr=rr.slice(0,rr.l),We[Te]=sne.buf(He.content,0);var Dr=He.content;M==8&&(Dr=H(Dr)),re=Oe(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,ce),re.write_shift(2,M),He.mt?i(re,He.mt):re.write_shift(4,0),re.write_shift(-4,We[Te]),re.write_shift(4,Dr.length),re.write_shift(4,He.content.length),re.write_shift(2,rr.length),re.write_shift(2,0),xe+=re.length,Z.push(re),xe+=rr.length,Z.push(rr),xe+=Dr.length,Z.push(Dr),re=Oe(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,ce),re.write_shift(2,M),re.write_shift(4,0),re.write_shift(-4,We[Te]),re.write_shift(4,Dr.length),re.write_shift(4,He.content.length),re.write_shift(2,rr.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,Qt),Nt+=re.l,ee.push(re),Nt+=rr.length,ee.push(rr),++Te}return re=Oe(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Te),re.write_shift(2,Te),re.write_shift(4,Nt),re.write_shift(4,xe),re.write_shift(2,0),An([An(Z),An(ee),re])}var mt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ur(z,Q){if(z.ctype)return z.ctype;var K=z.name||"",Z=K.match(/\.([^\.]+)$/);return Z&&mt[Z[1]]||Q&&(Z=(K=Q).match(/[\.\\]([^\.\\])+$/),Z&&mt[Z[1]])?mt[Z[1]]:"application/octet-stream"}function Lt(z){for(var Q=Xu(z),K=[],Z=0;Z<Q.length;Z+=76)K.push(Q.slice(Z,Z+76));return K.join(`\r
`)+`\r
`}function Xr(z){var Q=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var xe=de.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],Z=Q.split(`\r
`),ee=0;ee<Z.length;++ee){var re=Z[ee];if(re.length==0){K.push("");continue}for(var M=0;M<re.length;){var ce=76,oe=re.slice(M,M+ce);oe.charAt(ce-1)=="="?ce--:oe.charAt(ce-2)=="="?ce-=2:oe.charAt(ce-3)=="="&&(ce-=3),oe=re.slice(M,M+ce),M+=ce,M<re.length&&(oe+="="),K.push(oe)}}return K.join(`\r
`)}function Fn(z){for(var Q=[],K=0;K<z.length;++K){for(var Z=z[K];K<=z.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+z[++K];Q.push(Z)}for(var ee=0;ee<Q.length;++ee)Q[ee]=Q[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return Ns(Q.join(`\r
`))}function ua(z,Q,K){for(var Z="",ee="",re="",M,ce=0;ce<10;++ce){var oe=Q[ce];if(!oe||oe.match(/^\s*$/))break;var de=oe.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":Z=de[2].trim();break;case"content-type":re=de[2].trim();break;case"content-transfer-encoding":ee=de[2].trim();break}}switch(++ce,ee.toLowerCase()){case"base64":M=Ns(Mi(Q.slice(ce).join("")));break;case"quoted-printable":M=Fn(Q.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var xe=fa(z,Z.slice(K.length),M,{unsafe:!0});re&&(xe.ctype=re)}function Yn(z,Q){if(ve(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=Q&&Q.root||"",Z=($t&&Buffer.isBuffer(z)?z.toString("binary"):ve(z)).split(`\r
`),ee=0,re="";for(ee=0;ee<Z.length;++ee)if(re=Z[ee],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),K||(K=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),re.slice(0,K.length)!=K););var M=(Z[1]||"").match(/boundary="(.*?)"/);if(!M)throw new Error("MAD cannot find boundary");var ce="--"+(M[1]||""),oe=[],de=[],xe={FileIndex:oe,FullPaths:de};O(xe);var Te,$e=0;for(ee=0;ee<Z.length;++ee){var tt=Z[ee];tt!==ce&&tt!==ce+"--"||($e++&&ua(xe,Z.slice(Te,ee),K),Te=ee)}return xe}function Ln(z,Q){var K=Q||{},Z=K.boundary||"SheetJS";Z="------="+Z;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],re=z.FullPaths[0],M=re,ce=z.FileIndex[0],oe=1;oe<z.FullPaths.length;++oe)if(M=z.FullPaths[oe].slice(re.length),ce=z.FileIndex[oe],!(!ce.size||!ce.content||M=="Sh33tJ5")){M=M.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Nt){return"_x"+Nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Nt){return"_u"+Nt.charCodeAt(0).toString(16)+"_"});for(var de=ce.content,xe=$t&&Buffer.isBuffer(de)?de.toString("binary"):ve(de),Te=0,$e=Math.min(1024,xe.length),tt=0,He=0;He<=$e;++He)(tt=xe.charCodeAt(He))>=32&&tt<128&&++Te;var We=Te>=$e*4/5;ee.push(Z),ee.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+M),ee.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),ee.push("Content-Type: "+ur(ce,M)),ee.push(""),ee.push(We?Xr(xe):Lt(xe))}return ee.push(Z+`--\r
`),ee.join(`\r
`)}function fs(z){var Q={};return O(Q,z),Q}function fa(z,Q,K,Z){var ee=Z&&Z.unsafe;ee||O(z);var re=!ee&&Zt.find(z,Q);if(!re){var M=z.FullPaths[0];Q.slice(0,M.length)==M?M=Q:(M.slice(-1)!="/"&&(M+="/"),M=(M+Q).replace("//","/")),re={name:s(Q),type:2},z.FileIndex.push(re),z.FullPaths.push(M),ee||Zt.utils.cfb_gc(z)}return re.content=K,re.size=K?K.length:0,Z&&(Z.CLSID&&(re.clsid=Z.CLSID),Z.mt&&(re.mt=Z.mt),Z.ct&&(re.ct=Z.ct)),re}function qo(z,Q){O(z);var K=Zt.find(z,Q);if(K){for(var Z=0;Z<z.FileIndex.length;++Z)if(z.FileIndex[Z]==K)return z.FileIndex.splice(Z,1),z.FullPaths.splice(Z,1),!0}return!1}function Ts(z,Q,K){O(z);var Z=Zt.find(z,Q);if(Z){for(var ee=0;ee<z.FileIndex.length;++ee)if(z.FileIndex[ee]==Z)return z.FileIndex[ee].name=s(K),z.FullPaths[ee]=K,!0}return!1}function Os(z){T(z,!0)}return t.find=q,t.read=D,t.parse=f,t.write=me,t.writeFile=ne,t.utils={cfb_new:fs,cfb_add:fa,cfb_del:qo,cfb_mov:Ts,cfb_gc:Os,ReadShift:Nu,CheckField:G6,prep_blob:La,bconcat:An,use_zlib:P,_deflateRaw:Ie,_inflateRaw:Aa,consts:be},t})();function ine(e){return typeof e=="string"?qp(e):Array.isArray(e)?Ore(e):e}function Pf(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=qp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Ju(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([ine(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=Cf(t)),c.write(t),c.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function On(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function BA(e,t){for(var r=[],a=On(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function yw(e){for(var t=[],r=On(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function Xp(e){for(var t=[],r=On(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function one(e){for(var t=[],r=On(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var L0=new Date(1899,11,30,0,0,0);function wa(e,t){var r=e.getTime(),a=L0.getTime()+(e.getTimezoneOffset()-L0.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var T6=new Date,lne=L0.getTime()+(T6.getTimezoneOffset()-L0.getTimezoneOffset())*6e4,UA=T6.getTimezoneOffset();function O6(e){var t=new Date;return t.setTime(e*24*60*60*1e3+lne),t.getTimezoneOffset()!==UA&&t.setTime(t.getTime()+(t.getTimezoneOffset()-UA)*6e4),t}var WA=new Date("2017-02-19T19:06:09.000Z"),I6=isNaN(WA.getFullYear())?new Date("2/19/17"):WA,cne=I6.getFullYear()==2017;function aa(e,t){var r=new Date(e);if(cne)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(I6.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Yp(e,t){if($t&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function _a(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=_a(e[r]));return t}function Er(e,t){for(var r="";r.length<t;)r+=e;return r}function Si(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var dne=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yu(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&dne.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return $t?a=Ji(r):a=Ire(r),Zt.utils.cfb_add(e,t,a)}Zt.utils.cfb_add(e,t,r)}else e.file(t,r)}function bw(){return Zt.utils.cfb_new()}var Gr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,une={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},jw=yw(une),ww=/[&<>'"]/g,fne=/[\u0000-\u0008\u000b-\u001f]/g;function Xt(e){var t=e+"";return t.replace(ww,function(r){return jw[r]}).replace(fne,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function HA(e){return Xt(e).replace(/ /g,"_x0020_")}var D6=/[\u0000-\u001f]/g;function mne(e){var t=e+"";return t.replace(ww,function(r){return jw[r]}).replace(/\n/g,"<br/>").replace(D6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function hne(e){var t=e+"";return t.replace(ww,function(r){return jw[r]}).replace(D6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function pne(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function xne(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cy(e){for(var t="",r=0,a=0,s=0,i=0,o=0,c=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function VA(e){var t=Il(2*e.length),r,a,s=1,i=0,o=0,c;for(a=0;a<e.length;a+=s)s=1,(c=e.charCodeAt(a))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(a+1)&63),s=2):c<240?(r=(c&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(c&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function qA(e){return Ji(e,"binary").toString("utf8")}var dh="foo bar baz",_u=$t&&(qA(dh)==Cy(dh)&&qA||VA(dh)==Cy(dh)&&VA)||Cy,Ju=$t?function(e){return Ji(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},gne=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}})(),F6=/(^\s|\s$|\n)/;function Cn(e,t){return"<"+e+(t.match(F6)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Zu(e){return On(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ke(e,t,r){return"<"+e+(r!=null?Zu(r):"")+(t!=null?(t.match(F6)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Y1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function vne(e,t){switch(typeof e){case"string":var r=Ke("vt:lpwstr",Xt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ke((e|0)==e?"vt:i4":"vt:r8",Xt(String(e)));case"boolean":return Ke("vt:bool",e?"true":"false")}if(e instanceof Date)return Ke("vt:filetime",Y1(e));throw new Error("Unable to serialize "+e)}var hn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},vd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ra={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yne(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function bne(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[r+c]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var KA=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},GA=$t?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ji(t)})):KA(e)}:KA,XA=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(gu(e,s)));return a.join("").replace(wu,"")},_w=$t?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(wu,""):XA(e,t,r)}:XA,YA=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},L6=$t?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):YA(e,t,r)}:YA,JA=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(Nc(e,s)));return a.join("")},Tf=$t?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):JA(t,r,a)}:JA,R6=function(e,t){var r=Ma(e,t);return r>0?Tf(e,t+4,t+4+r-1):""},M6=R6,z6=function(e,t){var r=Ma(e,t);return r>0?Tf(e,t+4,t+4+r-1):""},$6=z6,B6=function(e,t){var r=2*Ma(e,t);return r>0?Tf(e,t+4,t+4+r-1):""},U6=B6,W6=function(t,r){var a=Ma(t,r);return a>0?_w(t,r+4,r+4+a):""},H6=W6,V6=function(e,t){var r=Ma(e,t);return r>0?Tf(e,t+4,t+4+r):""},q6=V6,K6=function(e,t){return yne(e,t)},R0=K6,Nw=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$t&&(M6=function(t,r){if(!Buffer.isBuffer(t))return R6(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},$6=function(t,r){if(!Buffer.isBuffer(t))return z6(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},U6=function(t,r){if(!Buffer.isBuffer(t))return B6(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},H6=function(t,r){if(!Buffer.isBuffer(t))return W6(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},q6=function(t,r){if(!Buffer.isBuffer(t))return V6(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},R0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):K6(t,r)},Nw=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Nc=function(e,t){return e[t]},gu=function(e,t){return e[t+1]*256+e[t]},jne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ma=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ml=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},wne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Nu(e,t){var r="",a,s,i=[],o,c,u,m;switch(t){case"dbcs":if(m=this.l,$t&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(gu(this,m)),m+=2;e*=2;break;case"utf8":r=Tf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=_w(this,this.l,this.l+e);break;case"wstr":return Nu.call(this,e,"dbcs");case"lpstr-ansi":r=M6(this,this.l),e=4+Ma(this,this.l);break;case"lpstr-cp":r=$6(this,this.l),e=4+Ma(this,this.l);break;case"lpwstr":r=U6(this,this.l),e=4+2*Ma(this,this.l);break;case"lpp4":e=4+Ma(this,this.l),r=H6(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ma(this,this.l),r=q6(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Nc(this,this.l+e++))!==0;)i.push(oh(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=gu(this,this.l+e))!==0;)i.push(oh(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",m=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(m)!==-1)return o=Nc(this,m),this.l=m+1,c=Nu.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(oh(gu(this,m))),m+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",m=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(m)!==-1)return o=Nc(this,m),this.l=m+1,c=Nu.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(oh(Nc(this,m))),m+=1}r=i.join("");break;default:switch(e){case 1:return a=Nc(this,this.l),this.l++,a;case 2:return a=(t==="i"?jne:gu)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?ml:wne)(this,this.l),this.l+=4,a):(s=Ma(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=R0(this,this.l):s=R0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=L6(this,this.l,e);break}}return this.l+=e,r}var _ne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Nne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Sne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function kne(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Sne(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,_ne(this,t,this.l);break;case 8:if(a=8,r==="f"){bne(this,t,this.l);break}case 16:break;case-4:a=4,Nne(this,t,this.l);break}return this.l+=a,this}function G6(e,t){var r=L6(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function La(e,t){e.l=t,e.read_shift=Nu,e.chk=G6,e.write_shift=kne}function Js(e,t){e.l+=t}function Oe(e){var t=Il(e);return La(t,0),t}function ba(){var e=[],t=$t?256:2048,r=function(m){var f=Oe(m);return La(f,0),f},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(m){return a&&m<a.length-a.l?a:(s(),a=r(Math.max(m+1,t)))},o=function(){return s(),An(e)},c=function(m){s(),a=m,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:c,end:o,_bufs:e}}function Le(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=yce[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&Nw(r)&&e.push(r)}}function Su(e,t,r){var a=_a(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function ZA(e,t,r){var a=_a(e);return a.s=Su(a.s,t.s,r),a.e=Su(a.e,t.s,r),a}function ku(e,t){if(e.cRel&&e.c<0)for(e=_a(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=_a(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Yt(e);return!e.cRel&&e.cRel!=null&&(r=Cne(r)),!e.rRel&&e.rRel!=null&&(r=Ene(r)),r}function Py(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+qn(e.s.c)+":"+(e.e.cRel?"":"$")+qn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Tn(e.s.r)+":"+(e.e.rRel?"":"$")+Tn(e.e.r):ku(e.s,t.biff)+":"+ku(e.e,t.biff)}function Sw(e){return parseInt(Ane(e),10)-1}function Tn(e){return""+(e+1)}function Ene(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ane(e){return e.replace(/\$(\d+)$/,"$1")}function kw(e){for(var t=Pne(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function qn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Cne(e){return e.replace(/^([A-Z])/,"$$$1")}function Pne(e){return e.replace(/^\$([A-Z])/,"$1")}function Tne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xn(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Yt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Va(e){var t=e.indexOf(":");return t==-1?{s:xn(e),e:xn(e)}:{s:xn(e.slice(0,t)),e:xn(e.slice(t+1))}}function qr(e,t){return typeof t>"u"||typeof t=="number"?qr(e.s,e.e):(typeof e!="string"&&(e=Yt(e)),typeof t!="string"&&(t=Yt(t)),e==t?e:e+":"+t)}function dr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function QA(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ro(e.z,r?wa(t):t)}catch{}try{return e.w=Ro((e.XF||{}).numFmtId||(r?14:0),r?wa(t):t)}catch{return""+t}}function zi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Of[e.v]||e.v:t==null?QA(e,e.v):QA(e,t))}function Ml(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function X6(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,c=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?xn(a.origin):a.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=dr(i["!ref"]);m.s.c=f.s.c,m.s.r=f.s.r,m.e.c=Math.max(m.e.c,f.e.c),m.e.r=Math.max(m.e.r,f.e.r),o==-1&&(m.e.r=o=f.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(!(typeof t[h][g]>"u")){var p={v:t[h][g]},b=o+h,y=c+g;if(m.s.r>b&&(m.s.r=b),m.s.c>y&&(m.s.c=y),m.e.r<b&&(m.e.r=b),m.e.c<y&&(m.e.c=y),t[h][g]&&typeof t[h][g]=="object"&&!Array.isArray(t[h][g])&&!(t[h][g]instanceof Date))p=t[h][g];else if(Array.isArray(p.v)&&(p.f=t[h][g][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||Pr[14],a.cellDates?(p.t="d",p.w=Ro(p.z,wa(p.v))):(p.t="n",p.v=wa(p.v),p.w=Ro(p.z,p.v))):p.t="s";if(s)i[b]||(i[b]=[]),i[b][y]&&i[b][y].z&&(p.z=i[b][y].z),i[b][y]=p;else{var j=Yt({c:y,r:b});i[j]&&i[j].z&&(p.z=i[j].z),i[j]=p}}}return m.s.c<1e7&&(i["!ref"]=qr(m)),i}function yd(e,t){return X6(null,e,t)}function One(e){return e.read_shift(4,"i")}function Es(e,t){return t||(t=Oe(4)),t.write_shift(4,e),t}function Kn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function gn(e,t){var r=!1;return t==null&&(r=!0,t=Oe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Ine(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Dne(e,t){return t||(t=Oe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Ew(e,t){var r=e.l,a=e.read_shift(1),s=Kn(e),i=[],o={t:s,h:s};if((a&1)!==0){for(var c=e.read_shift(4),u=0;u!=c;++u)i.push(Ine(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Fne(e,t){var r=!1;return t==null&&(r=!0,t=Oe(15+4*e.t.length)),t.write_shift(1,0),gn(e.t,t),r?t.slice(0,t.l):t}var Lne=Ew;function Rne(e,t){var r=!1;return t==null&&(r=!0,t=Oe(23+4*e.t.length)),t.write_shift(1,1),gn(e.t,t),t.write_shift(4,1),Dne({},t),r?t.slice(0,t.l):t}function us(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function zl(e,t){return t==null&&(t=Oe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function $l(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Bl(e,t){return t==null&&(t=Oe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Mne=Kn,Y6=gn;function Aw(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function M0(e,t){var r=!1;return t==null&&(r=!0,t=Oe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var zne=Kn,J1=Aw,Cw=M0;function J6(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?R0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ml(t,0)>>2;return r?s/100:s}function Z6(e,t){t==null&&(t=Oe(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Q6(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function $ne(e,t){return t||(t=Oe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ul=Q6,bd=$ne;function jd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Dl(e,t){return(t||Oe(8)).write_shift(8,e,"f")}function Bne(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var m=Yne[s];m&&(t.rgb=dC(m));break;case 2:t.rgb=dC([o,c,u]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function z0(e,t){if(t||(t=Oe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function Une(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Wne(e,t){t||(t=Oe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var eI=2,Da=3,uh=11,$0=19,fh=64,Hne=65,Vne=71,qne=4108,Kne=4126,En=80,eC={1:{n:"CodePage",t:eI},2:{n:"Category",t:En},3:{n:"PresentationFormat",t:En},4:{n:"ByteCount",t:Da},5:{n:"LineCount",t:Da},6:{n:"ParagraphCount",t:Da},7:{n:"SlideCount",t:Da},8:{n:"NoteCount",t:Da},9:{n:"HiddenCount",t:Da},10:{n:"MultimediaClipCount",t:Da},11:{n:"ScaleCrop",t:uh},12:{n:"HeadingPairs",t:qne},13:{n:"TitlesOfParts",t:Kne},14:{n:"Manager",t:En},15:{n:"Company",t:En},16:{n:"LinksUpToDate",t:uh},17:{n:"CharacterCount",t:Da},19:{n:"SharedDoc",t:uh},22:{n:"HyperlinksChanged",t:uh},23:{n:"AppVersion",t:Da,p:"version"},24:{n:"DigSig",t:Hne},26:{n:"ContentType",t:En},27:{n:"ContentStatus",t:En},28:{n:"Language",t:En},29:{n:"Version",t:En},255:{},2147483648:{n:"Locale",t:$0},2147483651:{n:"Behavior",t:$0},1919054434:{}},tC={1:{n:"CodePage",t:eI},2:{n:"Title",t:En},3:{n:"Subject",t:En},4:{n:"Author",t:En},5:{n:"Keywords",t:En},6:{n:"Comments",t:En},7:{n:"Template",t:En},8:{n:"LastAuthor",t:En},9:{n:"RevNumber",t:En},10:{n:"EditTime",t:fh},11:{n:"LastPrinted",t:fh},12:{n:"CreatedDate",t:fh},13:{n:"ModifiedDate",t:fh},14:{n:"PageCount",t:Da},15:{n:"WordCount",t:Da},16:{n:"CharCount",t:Da},17:{n:"Thumbnail",t:Vne},18:{n:"Application",t:En},19:{n:"DocSecurity",t:Da},255:{},2147483648:{n:"Locale",t:$0},2147483651:{n:"Behavior",t:$0},1919054434:{}};function Gne(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Xne=Gne([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yne=_a(Xne),Of={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Jne={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},mh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function tI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rI(e,t){var r=one(Jne),a=[],s;a[a.length]=Gr,a[a.length]=Ke("Types",null,{xmlns:hn.CT,"xmlns:xsd":hn.xsd,"xmlns:xsi":hn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Ke("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(s=e[u][0],a[a.length]=Ke("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:mh[u][t.bookType]||mh[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(m){a[a.length]=Ke("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:mh[u][t.bookType]||mh[u].xlsx})})},c=function(u){(e[u]||[]).forEach(function(m){a[a.length]=Ke("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:r[u][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Mt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function nI(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Fc(e){var t=[Gr,Ke("Relationships",null,{xmlns:hn.RELS})];return On(e["!id"]).forEach(function(r){t[t.length]=Ke("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Kt(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[Mt.HLINK,Mt.XPATH,Mt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Zne(e){var t=[Gr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function rC(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Qne(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function eae(e){var t=[Gr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(rC(e[r][0],e[r][1])),t.push(Qne("",e[r][0]));return t.push(rC("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function aI(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+T0.version+"</meta:generator></office:meta></office:document-meta>"}var _l=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ty(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Xt(t),a[a.length]=r?Ke(e,t,r):Cn(e,t))}function sI(e,t){var r=t||{},a=[Gr,Ke("cp:coreProperties",null,{"xmlns:cp":hn.CORE_PROPS,"xmlns:dc":hn.dc,"xmlns:dcterms":hn.dcterms,"xmlns:dcmitype":hn.dcmitype,"xmlns:xsi":hn.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Ty("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Y1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&Ty("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Y1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=_l.length;++i){var o=_l[i],c=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Ty(o[0],c,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Lc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iI=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oI(e){var t=[],r=Ke;return e||(e={}),e.Application="SheetJS",t[t.length]=Gr,t[t.length]=Ke("Properties",null,{xmlns:hn.EXT_PROPS,"xmlns:vt":hn.vt}),Lc.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=Xt(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Xt(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function lI(e){var t=[Gr,Ke("Properties",null,{xmlns:hn.CUST_PROPS,"xmlns:vt":hn.vt})];if(!e)return t.join("");var r=1;return On(e).forEach(function(s){++r,t[t.length]=Ke("property",vne(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Xt(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var nC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function tae(e,t){var r=[];return On(nC).map(function(a){for(var s=0;s<_l.length;++s)if(_l[s][1]==a)return _l[s];for(s=0;s<Lc.length;++s)if(Lc[s][1]==a)return Lc[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];a[2]==="date"&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Cn(nC[a[1]]||a[1],s))}}),Ke("DocumentProperties",r.join(""),{xmlns:Ra.o})}function rae(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&On(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<_l.length;++o)if(i==_l[o][1])return;for(o=0;o<Lc.length;++o)if(i==Lc[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var c=e[i],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),s.push(Ke(HA(i),c,{"dt:dt":u}))}}),t&&On(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Ke(HA(i),o,{"dt:dt":c}))}}),"<"+a+' xmlns="'+Ra.o+'">'+s.join("")+"</"+a+">"}function nae(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=Oe(8);return o.write_shift(4,a),o.write_shift(4,s),o}function aC(e,t){var r=Oe(4),a=Oe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Oe(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=nae(t);break;case 31:case 80:for(a=Oe(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return An([r,a])}var cI=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aae(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function sC(e,t,r){var a=Oe(8),s=[],i=[],o=8,c=0,u=Oe(8),m=Oe(8);if(u.write_shift(4,2),u.write_shift(4,1200),m.write_shift(4,1),i.push(u),s.push(m),o+=8+u.length,!t){m=Oe(8),m.write_shift(4,0),s.unshift(m);var f=[Oe(4)];for(f[0].write_shift(4,e.length),c=0;c<e.length;++c){var h=e[c][0];for(u=Oe(8+2*(h.length+1)+(h.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,h.length+1),u.write_shift(0,h,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=An(f),i.unshift(u),o+=8+u.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(cI.indexOf(e[c][0])>-1||iI.indexOf(e[c][0])>-1)&&e[c][1]!=null){var g=e[c][1],p=0;if(t){p=+t[e[c][0]];var b=r[p];if(b.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}u=aC(b.t,g)}else{var j=aae(g);j==-1&&(j=31,g=String(g)),u=aC(j,g)}i.push(u),m=Oe(8),m.write_shift(4,t?p:2+c),s.push(m),o+=8+u.length}var N=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,N),N+=i[c].length;return a.write_shift(4,o),a.write_shift(4,i.length),An([a].concat(s).concat(i))}function iC(e,t,r,a,s,i){var o=Oe(s?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Zt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var u=sC(e,r,a);if(c.push(u),s){var m=sC(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+u.length),c.push(m)}return An(c)}function sae(e,t){t||(t=Oe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function iae(e,t){return e.read_shift(t)===1}function ea(e,t){return t||(t=Oe(2)),t.write_shift(2,+!!e),t}function dI(e){return e.read_shift(2,"u")}function as(e,t){return t||(t=Oe(2)),t.write_shift(2,e),t}function uI(e,t,r){return r||(r=Oe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function fI(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function oae(e){var t=e.t||"",r=Oe(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Oe(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return An(s)}function lae(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function cae(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):lae(e,a,r)}function dae(e,t,r){if(r.biff>5)return cae(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function mI(e,t,r){return r||(r=Oe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function oC(e,t){t||(t=Oe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function uae(e){var t=Oe(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),oC(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var c=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)t.write_shift(2,c.charCodeAt(r));t.write_shift(2,0),i&8&&oC(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Fl(e,t,r,a){return a||(a=Oe(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function fae(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function mae(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function hI(e,t){return t||(t=Oe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Pw(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Oe(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function hae(e,t){var r=!t||t.biff==8,a=Oe(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function pae(e,t){var r=!t||t.biff>=8?2:1,a=Oe(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function xae(e,t){var r=Oe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=oae(e[s]);var i=An([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function gae(){var e=Oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function vae(e){var t=Oe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function yae(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=Oe(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function bae(e,t,r,a){var s=Oe(10);return Fl(e,t,a,s),s.write_shift(4,r),s}function jae(e,t,r,a,s){var i=!s||s.biff==8,o=Oe(8+ +i+(1+i)*r.length);return Fl(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function wae(e,t,r,a){var s=r&&r.biff==5;a||(a=Oe(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function _ae(e,t){var r=t.biff==8||!t.biff?4:2,a=Oe(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function lC(e,t,r,a){var s=r&&r.biff==5;a||(a=Oe(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function Nae(e){var t=Oe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Sae(e,t,r,a,s,i){var o=Oe(8);return Fl(e,t,a,o),uI(r,i,o),o}function kae(e,t,r,a){var s=Oe(14);return Fl(e,t,a,s),Dl(r,s),s}function Eae(e,t,r){if(r.biff<8)return Aae(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(fae(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function Aae(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=fI(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function Cae(e){var t=Oe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)hI(e[r],t);return t}function Pae(e){var t=Oe(24),r=xn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return An([t,uae(e[1])])}function Tae(e){var t=e[1].Tooltip,r=Oe(10+2*(t.length+1));r.write_shift(2,2048);var a=xn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function Oae(e){return e||(e=Oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Iae(e,t,r){if(!r.cellStyles)return Js(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var m={s,e:i,w:o,ixfe:c,flags:u};return(r.biff>=5||!r.biff)&&(m.level=u>>8&7),m}function Dae(e,t){var r=Oe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Fae(e){for(var t=Oe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Lae(e,t,r){var a=Oe(15);return Df(a,e,t),a.write_shift(8,r,"f"),a}function Rae(e,t,r){var a=Oe(9);return Df(a,e,t),a.write_shift(2,r),a}var Mae=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=yw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,u){var m=[],f=Il(1);switch(u.type){case"base64":f=Ns(Mi(c));break;case"binary":f=Ns(c);break;case"buffer":case"array":f=c;break}La(f,0);var h=f.read_shift(1),g=!!(h&136),p=!1,b=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,g=!0;break;case 49:p=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var y=0,j=521;h==2&&(y=f.read_shift(2)),f.l+=3,h!=2&&(y=f.read_shift(4)),y>1048576&&(y=1e6),h!=2&&(j=f.read_shift(2));var N=f.read_shift(2),_=u.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(_=e[f[f.l]]),f.l+=1,f.l+=2),b&&(f.l+=36);for(var k=[],E={},C=Math.min(f.length,h==2?521:j-10-(p?264:0)),D=b?32:11;f.l<C&&f[f.l]!=13;)switch(E={},E.name=O0.utils.decode(_,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,E.type=String.fromCharCode(f.read_shift(1)),h!=2&&!b&&(E.offset=f.read_shift(4)),E.len=f.read_shift(1),h==2&&(E.offset=f.read_shift(2)),E.dec=f.read_shift(1),E.name.length&&k.push(E),h!=2&&(f.l+=b?13:14),E.type){case"B":(!p||E.len!=8)&&u.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(f[f.l]!==13&&(f.l=j-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=j;var O=0,I=0;for(m[0]=[],I=0;I!=k.length;++I)m[0][I]=k[I].name;for(;y-- >0;){if(f[f.l]===42){f.l+=N;continue}for(++f.l,m[++O]=[],I=0,I=0;I!=k.length;++I){var T=f.slice(f.l,f.l+k[I].len);f.l+=k[I].len,La(T,0);var F=O0.utils.decode(_,T);switch(k[I].type){case"C":F.trim().length&&(m[O][I]=F.replace(/\s+$/,""));break;case"D":F.length===8?m[O][I]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):m[O][I]=F;break;case"F":m[O][I]=parseFloat(F.trim());break;case"+":case"I":m[O][I]=b?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":m[O][I]=!0;break;case"N":case"F":m[O][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));m[O][I]="##MEMO##"+(b?parseInt(F.trim(),10):T.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(m[O][I]=+F||0);break;case"@":m[O][I]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":m[O][I]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":m[O][I]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[O][I]=-T.read_shift(-8,"f");break;case"B":if(p&&k[I].len==8){m[O][I]=T.read_shift(8,"f");break}case"G":case"P":T.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(m=m.slice(0,u.sheetRows)),u.DBF=k,m}function a(c,u){var m=u||{};m.dateNF||(m.dateNF="yyyymmdd");var f=yd(r(c,m),m);return f["!cols"]=m.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete m.DBF,f}function s(c,u){try{return Ml(a(c,u),u)}catch(m){if(u&&u.WTF)throw m}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var m=u||{};if(+m.codepage>=0&&Gu(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var f=ba(),h=V0(c,{header:1,raw:!0,cellDates:!0}),g=h[0],p=h.slice(1),b=c["!cols"]||[],y=0,j=0,N=0,_=1;for(y=0;y<g.length;++y){if(((b[y]||{}).DBF||{}).name){g[y]=b[y].DBF.name,++N;continue}if(g[y]!=null){if(++N,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(j=0;j<1024;++j)if(g.indexOf(g[y]+"_"+j)==-1){g[y]+="_"+j;break}}}}var k=dr(c["!ref"]),E=[],C=[],D=[];for(y=0;y<=k.e.c-k.s.c;++y){var O="",I="",T=0,F=[];for(j=0;j<p.length;++j)p[j][y]!=null&&F.push(p[j][y]);if(F.length==0||g[y]==null){E[y]="?";continue}for(j=0;j<F.length;++j){switch(typeof F[j]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=F[j]instanceof Date?"D":"C";break;default:I="C"}T=Math.max(T,String(F[j]).length),O=O&&O!=I?"C":I}T>250&&(T=250),I=((b[y]||{}).DBF||{}).type,I=="C"&&b[y].DBF.len>T&&(T=b[y].DBF.len),O=="B"&&I=="N"&&(O="N",D[y]=b[y].DBF.dec,T=b[y].DBF.len),C[y]=O=="C"||I=="N"?T:i[O]||0,_+=C[y],E[y]=O}var q=f.next(32);for(q.write_shift(4,318902576),q.write_shift(4,p.length),q.write_shift(2,296+32*N),q.write_shift(2,_),y=0;y<4;++y)q.write_shift(4,0);for(q.write_shift(4,0|(+t[x6]||3)<<8),y=0,j=0;y<g.length;++y)if(g[y]!=null){var U=f.next(32),J=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,J,"sbcs"),U.write_shift(1,E[y]=="?"?"C":E[y],"sbcs"),U.write_shift(4,j),U.write_shift(1,C[y]||i[E[y]]||0),U.write_shift(1,D[y]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),j+=C[y]||i[E[y]]||0}var W=f.next(264);for(W.write_shift(4,13),y=0;y<65;++y)W.write_shift(4,0);for(y=0;y<p.length;++y){var he=f.next(_);for(he.write_shift(1,0),j=0;j<g.length;++j)if(g[j]!=null)switch(E[j]){case"L":he.write_shift(1,p[y][j]==null?63:p[y][j]?84:70);break;case"B":he.write_shift(8,p[y][j]||0,"f");break;case"N":var X="0";for(typeof p[y][j]=="number"&&(X=p[y][j].toFixed(D[j]||0)),N=0;N<C[j]-X.length;++N)he.write_shift(1,32);he.write_shift(1,X,"sbcs");break;case"D":p[y][j]?(he.write_shift(4,("0000"+p[y][j].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(p[y][j].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+p[y][j].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var be=String(p[y][j]!=null?p[y][j]:"").slice(0,C[j]);for(he.write_shift(1,be,"sbcs"),N=0;N<C[j]-be.length;++N)he.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}})(),zae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+On(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,p){var b=e[p];return typeof b=="number"?OA(b):b},a=function(g,p,b){var y=p.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?g:OA(y)};e["|"]=254;function s(g,p){switch(p.type){case"base64":return i(Mi(g),p);case"binary":return i(g,p);case"buffer":return i($t&&Buffer.isBuffer(g)?g.toString("binary"):Cf(g),p);case"array":return i(Yp(g),p)}throw new Error("Unrecognized type "+p.type)}function i(g,p){var b=g.split(/[\n\r]+/),y=-1,j=-1,N=0,_=0,k=[],E=[],C=null,D={},O=[],I=[],T=[],F=0,q;for(+p.codepage>=0&&Gu(+p.codepage);N!==b.length;++N){F=0;var U=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),J=U.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),W=J[0],he;if(U.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":J[1].charAt(0)=="P"&&E.push(U.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,be=!1,ne=!1,ve=!1,me=-1,ae=-1;for(_=1;_<J.length;++_)switch(J[_].charAt(0)){case"A":break;case"X":j=parseInt(J[_].slice(1))-1,be=!0;break;case"Y":for(y=parseInt(J[_].slice(1))-1,be||(j=0),q=k.length;q<=y;++q)k[q]=[];break;case"K":he=J[_].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(Si(he))?isNaN(Yu(he).getDate())||(he=aa(he)):(he=Si(he),C!==null&&A6(C)&&(he=O6(he))),X=!0;break;case"E":ve=!0;var P=Rse(J[_].slice(1),{r:y,c:j});k[y][j]=[k[y][j],P];break;case"S":ne=!0,k[y][j]=[k[y][j],"S5S"];break;case"G":break;case"R":me=parseInt(J[_].slice(1))-1;break;case"C":ae=parseInt(J[_].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+U)}if(X&&(k[y][j]&&k[y][j].length==2?k[y][j][0]=he:k[y][j]=he,C=null),ne){if(ve)throw new Error("SYLK shared formula cannot have own formula");var B=me>-1&&k[me][ae];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");k[y][j][1]=Mse(B[1],{r:y-me,c:j-ae})}break;case"F":var H=0;for(_=1;_<J.length;++_)switch(J[_].charAt(0)){case"X":j=parseInt(J[_].slice(1))-1,++H;break;case"Y":for(y=parseInt(J[_].slice(1))-1,q=k.length;q<=y;++q)k[q]=[];break;case"M":F=parseInt(J[_].slice(1))/20;break;case"F":break;case"G":break;case"P":C=E[parseInt(J[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=J[_].slice(1).split(" "),q=parseInt(T[0],10);q<=parseInt(T[1],10);++q)F=parseInt(T[2],10),I[q-1]=F===0?{hidden:!0}:{wch:F},Tw(I[q-1]);break;case"C":j=parseInt(J[_].slice(1))-1,I[j]||(I[j]={});break;case"R":y=parseInt(J[_].slice(1))-1,O[y]||(O[y]={}),F>0?(O[y].hpt=F,O[y].hpx=yI(F)):F===0&&(O[y].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+U)}H<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+U)}}return O.length>0&&(D["!rows"]=O),I.length>0&&(D["!cols"]=I),p&&p.sheetRows&&(k=k.slice(0,p.sheetRows)),[k,D]}function o(g,p){var b=s(g,p),y=b[0],j=b[1],N=yd(y,p);return On(j).forEach(function(_){N[_]=j[_]}),N}function c(g,p){return Ml(o(g,p),p)}function u(g,p,b,y){var j="C;Y"+(b+1)+";X"+(y+1)+";K";switch(g.t){case"n":j+=g.v||0,g.f&&!g.F&&(j+=";E"+Iw(g.f,{r:b,c:y}));break;case"b":j+=g.v?"TRUE":"FALSE";break;case"e":j+=g.w||g.v;break;case"d":j+='"'+(g.w||g.v)+'"';break;case"s":j+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function m(g,p){p.forEach(function(b,y){var j="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?j+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=B0(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=U0(b.wpx)),typeof b.wch=="number"&&(j+=Math.round(b.wch))),j.charAt(j.length-1)!=" "&&g.push(j)})}function f(g,p){p.forEach(function(b,y){var j="F;";b.hidden?j+="M0;":b.hpt?j+="M"+20*b.hpt+";":b.hpx&&(j+="M"+20*W0(b.hpx)+";"),j.length>2&&g.push(j+"R"+(y+1))})}function h(g,p){var b=["ID;PWXL;N;E"],y=[],j=dr(g["!ref"]),N,_=Array.isArray(g),k=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&m(b,g["!cols"]),g["!rows"]&&f(b,g["!rows"]),b.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var E=j.s.r;E<=j.e.r;++E)for(var C=j.s.c;C<=j.e.c;++C){var D=Yt({r:E,c:C});N=_?(g[E]||[])[C]:g[D],!(!N||N.v==null&&(!N.f||N.F))&&y.push(u(N,g,E,C))}return b.join(k)+k+y.join(k)+k+"E"+k}return{to_workbook:c,to_sheet:o,from_sheet:h}})(),$ae=(function(){function e(i,o){switch(o.type){case"base64":return t(Mi(i),o);case"binary":return t(i,o);case"buffer":return t($t&&Buffer.isBuffer(i)?i.toString("binary"):Cf(i),o);case"array":return t(Yp(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var c=i.split(`
`),u=-1,m=-1,f=0,h=[];f!==c.length;++f){if(c[f].trim()==="BOT"){h[++u]=[],m=0;continue}if(!(u<0)){var g=c[f].trim().split(","),p=g[0],b=g[1];++f;for(var y=c[f]||"";(y.match(/["]/g)||[]).length&1&&f<c.length-1;)y+=`
`+c[++f];switch(y=y.trim(),+p){case-1:if(y==="BOT"){h[++u]=[],m=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?h[u][m]=!0:y==="FALSE"?h[u][m]=!1:isNaN(Si(b))?isNaN(Yu(b).getDate())?h[u][m]=b:h[u][m]=aa(b):h[u][m]=Si(b),++m;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),h[u][m++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return yd(e(i,o),o)}function a(i,o){return Ml(r(i,o),o)}var s=(function(){var i=function(u,m,f,h,g){u.push(m),u.push(f+","+h),u.push('"'+g.replace(/"/g,'""')+'"')},o=function(u,m,f,h){u.push(m+","+f),u.push(m==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(u){var m=[],f=dr(u["!ref"]),h,g=Array.isArray(u);i(m,"TABLE",0,1,"sheetjs"),i(m,"VECTORS",0,f.e.r-f.s.r+1,""),i(m,"TUPLES",0,f.e.c-f.s.c+1,""),i(m,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){o(m,-1,0,"BOT");for(var b=f.s.c;b<=f.e.c;++b){var y=Yt({r:p,c:b});if(h=g?(u[p]||[])[b]:u[y],!h){o(m,1,0,"");continue}switch(h.t){case"n":var j=h.w;!j&&h.v!=null&&(j=h.v),j==null?h.f&&!h.F?o(m,1,0,"="+h.f):o(m,1,0,""):o(m,0,j,"V");break;case"b":o(m,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(m,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ro(h.z||Pr[14],wa(aa(h.v)))),o(m,0,h.w,"V");break;default:o(m,1,0,"")}}}o(m,-1,0,"EOD");var N=`\r
`,_=m.join(N);return _}})();return{to_workbook:a,to_sheet:r,from_sheet:s}})(),pI=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){for(var p=h.split(`
`),b=-1,y=-1,j=0,N=[];j!==p.length;++j){var _=p[j].trim().split(":");if(_[0]==="cell"){var k=xn(_[1]);if(N.length<=k.r)for(b=N.length;b<=k.r;++b)N[b]||(N[b]=[]);switch(b=k.r,y=k.c,_[2]){case"t":N[b][y]=e(_[3]);break;case"v":N[b][y]=+_[3];break;case"vtf":var E=_[_.length-1];case"vtc":_[3]==="nl"?N[b][y]=!!+_[4]:N[b][y]=+_[4],_[2]=="vtf"&&(N[b][y]=[N[b][y],E])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function a(h,g){return yd(r(h,g),g)}function s(h,g){return Ml(a(h,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function m(h){if(!h||!h["!ref"])return"";for(var g=[],p=[],b,y="",j=Va(h["!ref"]),N=Array.isArray(h),_=j.s.r;_<=j.e.r;++_)for(var k=j.s.c;k<=j.e.c;++k)if(y=Yt({r:_,c:k}),b=N?(h[_]||[])[k]:h[y],!(!b||b.v==null||b.t==="z")){switch(p=["cell",y,"t"],b.t){case"s":case"str":p.push(t(b.v));break;case"n":b.f?(p[2]="vtf",p[3]="n",p[4]=b.v,p[5]=t(b.f)):(p[2]="v",p[3]=b.v);break;case"b":p[2]="vt"+(b.f?"f":"c"),p[3]="nl",p[4]=b.v?"1":"0",p[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var E=wa(aa(b.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=b.w||Ro(b.z||Pr[14],E);break;case"e":continue}g.push(p.join(":"))}return g.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(h){return[i,o,c,o,m(h),u].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:f}})(),Bae=(function(){function e(f,h,g,p,b){b.raw?h[g][p]=f:f===""||(f==="TRUE"?h[g][p]=!0:f==="FALSE"?h[g][p]=!1:isNaN(Si(f))?isNaN(Yu(f).getDate())?h[g][p]=f:h[g][p]=aa(f):h[g][p]=Si(f))}function t(f,h){var g=h||{},p=[];if(!f||f.length===0)return p;for(var b=f.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var j=10,N=0,_=0;_<=y;++_)N=b[_].indexOf(" "),N==-1?N=b[_].length:N++,j=Math.max(j,N);for(_=0;_<=y;++_){p[_]=[];var k=0;for(e(b[_].slice(0,j).trim(),p,_,k,g),k=1;k<=(b[_].length-j)/10+1;++k)e(b[_].slice(j+(k-1)*10,j+k*10).trim(),p,_,k,g)}return g.sheetRows&&(p=p.slice(0,g.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(f){for(var h={},g=!1,p=0,b=0;p<f.length;++p)(b=f.charCodeAt(p))==34?g=!g:!g&&b in r&&(h[b]=(h[b]||0)+1);b=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&b.push([h[p],p]);if(!b.length){h=a;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&b.push([h[p],p])}return b.sort(function(y,j){return y[0]-j[0]||a[y[1]]-a[j[1]]}),r[b.pop()[1]]||44}function i(f,h){var g=h||{},p="",b=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=s(f.slice(0,1024)):g&&g.FS?p=g.FS:p=s(f.slice(0,1024));var j=0,N=0,_=0,k=0,E=0,C=p.charCodeAt(0),D=!1,O=0,I=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var T=g.dateNF!=null?nne(g.dateNF):null;function F(){var q=f.slice(k,E),U={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)U.t="z";else if(g.raw)U.t="s",U.v=q;else if(q.trim().length===0)U.t="s",U.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(U.t="s",U.v=q.slice(2,-1).replace(/""/g,'"')):zse(q)?(U.t="n",U.f=q.slice(1)):(U.t="s",U.v=q);else if(q=="TRUE")U.t="b",U.v=!0;else if(q=="FALSE")U.t="b",U.v=!1;else if(!isNaN(_=Si(q)))U.t="n",g.cellText!==!1&&(U.w=q),U.v=_;else if(!isNaN(Yu(q).getDate())||T&&q.match(T)){U.z=g.dateNF||Pr[14];var J=0;T&&q.match(T)&&(q=ane(q,g.dateNF,q.match(T)||[]),J=1),g.cellDates?(U.t="d",U.v=aa(q,J)):(U.t="n",U.v=wa(aa(q,J))),g.cellText!==!1&&(U.w=Ro(U.z,U.v instanceof Date?wa(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=q;if(U.t=="z"||(g.dense?(b[j]||(b[j]=[]),b[j][N]=U):b[Yt({c:N,r:j})]=U),k=E+1,I=f.charCodeAt(k),y.e.c<N&&(y.e.c=N),y.e.r<j&&(y.e.r=j),O==C)++N;else if(N=0,++j,g.sheetRows&&g.sheetRows<=j)return!0}e:for(;E<f.length;++E)switch(O=f.charCodeAt(E)){case 34:I===34&&(D=!D);break;case C:case 10:case 13:if(!D&&F())break e;break}return E-k>0&&F(),b["!ref"]=qr(y),b}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):yd(t(f,h),h)}function c(f,h){var g="",p=h.type=="string"?[0,0,0,0]:Qce(f,h);switch(h.type){case"base64":g=Mi(f);break;case"binary":g=f;break;case"buffer":h.codepage==65001?g=f.toString("utf8"):h.codepage&&typeof O0<"u"||(g=$t&&Buffer.isBuffer(f)?f.toString("binary"):Cf(f));break;case"array":g=Yp(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?g=_u(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=_u(g):h.type=="binary"&&typeof O0<"u",g.slice(0,19)=="socialcalc:version:"?pI.to_sheet(h.type=="string"?g:_u(g),h):o(g,h)}function u(f,h){return Ml(c(f,h),h)}function m(f){for(var h=[],g=dr(f["!ref"]),p,b=Array.isArray(f),y=g.s.r;y<=g.e.r;++y){for(var j=[],N=g.s.c;N<=g.e.c;++N){var _=Yt({r:y,c:N});if(p=b?(f[y]||[])[N]:f[_],!p||p.v==null){j.push("          ");continue}for(var k=(p.w||(zi(p),p.w)||"").slice(0,10);k.length<10;)k+=" ";j.push(k+(N===0?" ":""))}h.push(j.join(""))}return h.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:m}})(),cC=(function(){function e(P,B,H){if(P){La(P,P.l||0);for(var V=H.Enum||me;P.l<P.length;){var te=P.read_shift(2),ye=V[te]||V[65535],ke=P.read_shift(2),R=P.l+ke,G=ye.f&&ye.f(P,ke,H);if(P.l=R,B(G,ye,te))return}}}function t(P,B){switch(B.type){case"base64":return r(Ns(Mi(P)),B);case"binary":return r(Ns(P),B);case"buffer":case"array":return r(P,B)}throw"Unsupported type "+B.type}function r(P,B){if(!P)return P;var H=B||{},V=H.dense?[]:{},te="Sheet1",ye="",ke=0,R={},G=[],ge=[],le={s:{r:0,c:0},e:{r:0,c:0}},ze=H.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)H.Enum=me,e(P,function(_e,it,Xe){switch(Xe){case 0:H.vers=_e,_e>=4096&&(H.qpro=!0);break;case 6:le=_e;break;case 204:_e&&(ye=_e);break;case 222:ye=_e;break;case 15:case 51:H.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:Xe==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=H.dateNF||Pr[14],H.cellDates&&(_e[1].t="d",_e[1].v=O6(_e[1].v))),H.qpro&&_e[3]>ke&&(V["!ref"]=qr(le),R[te]=V,G.push(te),V=H.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},ke=_e[3],te=ye||"Sheet"+(ke+1),ye="");var gt=H.dense?(V[_e[0].r]||[])[_e[0].c]:V[Yt(_e[0])];if(gt){gt.t=_e[1].t,gt.v=_e[1].v,_e[1].z!=null&&(gt.z=_e[1].z),_e[1].f!=null&&(gt.f=_e[1].f);break}H.dense?(V[_e[0].r]||(V[_e[0].r]=[]),V[_e[0].r][_e[0].c]=_e[1]):V[Yt(_e[0])]=_e[1];break}},H);else if(P[2]==26||P[2]==14)H.Enum=ae,P[2]==14&&(H.qpro=!0,P.l=0),e(P,function(_e,it,Xe){switch(Xe){case 204:te=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>ke&&(V["!ref"]=qr(le),R[te]=V,G.push(te),V=H.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},ke=_e[3],te="Sheet"+(ke+1)),ze>0&&_e[0].r>=ze)break;H.dense?(V[_e[0].r]||(V[_e[0].r]=[]),V[_e[0].r][_e[0].c]=_e[1]):V[Yt(_e[0])]=_e[1],le.e.c<_e[0].c&&(le.e.c=_e[0].c),le.e.r<_e[0].r&&(le.e.r=_e[0].r);break;case 27:_e[14e3]&&(ge[_e[14e3][0]]=_e[14e3][1]);break;case 1537:ge[_e[0]]=_e[1],_e[0]==ke&&(te=_e[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(V["!ref"]=qr(le),R[ye||te]=V,G.push(ye||te),!ge.length)return{SheetNames:G,Sheets:R};for(var Fe={},Ce=[],Ae=0;Ae<ge.length;++Ae)R[G[Ae]]?(Ce.push(ge[Ae]||G[Ae]),Fe[ge[Ae]]=R[ge[Ae]]||R[G[Ae]]):(Ce.push(ge[Ae]),Fe[ge[Ae]]={"!ref":"A1"});return{SheetNames:Ce,Sheets:Fe}}function a(P,B){var H=B||{};if(+H.codepage>=0&&Gu(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var V=ba(),te=dr(P["!ref"]),ye=Array.isArray(P),ke=[];Ge(V,0,i(1030)),Ge(V,6,u(te));for(var R=Math.min(te.e.r,8191),G=te.s.r;G<=R;++G)for(var ge=Tn(G),le=te.s.c;le<=te.e.c;++le){G===te.s.r&&(ke[le]=qn(le));var ze=ke[le]+ge,Fe=ye?(P[G]||[])[le]:P[ze];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?Ge(V,13,p(G,le,Fe.v)):Ge(V,14,y(G,le,Fe.v));else{var Ce=zi(Fe);Ge(V,15,h(G,le,Ce.slice(0,239)))}}return Ge(V,1),V.end()}function s(P,B){var H=B||{};if(+H.codepage>=0&&Gu(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var V=ba();Ge(V,0,o(P));for(var te=0,ye=0;te<P.SheetNames.length;++te)(P.Sheets[P.SheetNames[te]]||{})["!ref"]&&Ge(V,27,ve(P.SheetNames[te],ye++));var ke=0;for(te=0;te<P.SheetNames.length;++te){var R=P.Sheets[P.SheetNames[te]];if(!(!R||!R["!ref"])){for(var G=dr(R["!ref"]),ge=Array.isArray(R),le=[],ze=Math.min(G.e.r,8191),Fe=G.s.r;Fe<=ze;++Fe)for(var Ce=Tn(Fe),Ae=G.s.c;Ae<=G.e.c;++Ae){Fe===G.s.r&&(le[Ae]=qn(Ae));var _e=le[Ae]+Ce,it=ge?(R[Fe]||[])[Ae]:R[_e];if(!(!it||it.t=="z"))if(it.t=="n")Ge(V,23,F(Fe,Ae,ke,it.v));else{var Xe=zi(it);Ge(V,22,O(Fe,Ae,ke,Xe.slice(0,239)))}}++ke}}return Ge(V,1),V.end()}function i(P){var B=Oe(2);return B.write_shift(2,P),B}function o(P){var B=Oe(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var H=0,V=0,te=0,ye=0;ye<P.SheetNames.length;++ye){var ke=P.SheetNames[ye],R=P.Sheets[ke];if(!(!R||!R["!ref"])){++te;var G=Va(R["!ref"]);H<G.e.r&&(H=G.e.r),V<G.e.c&&(V=G.e.c)}}return H>8191&&(H=8191),B.write_shift(2,H),B.write_shift(1,te),B.write_shift(1,V),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function c(P,B,H){var V={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&H.qpro?(V.s.c=P.read_shift(1),P.l++,V.s.r=P.read_shift(2),V.e.c=P.read_shift(1),P.l++,V.e.r=P.read_shift(2),V):(V.s.c=P.read_shift(2),V.s.r=P.read_shift(2),B==12&&H.qpro&&(P.l+=2),V.e.c=P.read_shift(2),V.e.r=P.read_shift(2),B==12&&H.qpro&&(P.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function u(P){var B=Oe(8);return B.write_shift(2,P.s.c),B.write_shift(2,P.s.r),B.write_shift(2,P.e.c),B.write_shift(2,P.e.r),B}function m(P,B,H){var V=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(V[0].c=P.read_shift(1),V[3]=P.read_shift(1),V[0].r=P.read_shift(2),P.l+=2):(V[2]=P.read_shift(1),V[0].c=P.read_shift(2),V[0].r=P.read_shift(2)),V}function f(P,B,H){var V=P.l+B,te=m(P,B,H);if(te[1].t="s",H.vers==20768){P.l++;var ye=P.read_shift(1);return te[1].v=P.read_shift(ye,"utf8"),te}return H.qpro&&P.l++,te[1].v=P.read_shift(V-P.l,"cstr"),te}function h(P,B,H){var V=Oe(7+H.length);V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,P),V.write_shift(1,39);for(var te=0;te<V.length;++te){var ye=H.charCodeAt(te);V.write_shift(1,ye>=128?95:ye)}return V.write_shift(1,0),V}function g(P,B,H){var V=m(P,B,H);return V[1].v=P.read_shift(2,"i"),V}function p(P,B,H){var V=Oe(7);return V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,P),V.write_shift(2,H,"i"),V}function b(P,B,H){var V=m(P,B,H);return V[1].v=P.read_shift(8,"f"),V}function y(P,B,H){var V=Oe(13);return V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,P),V.write_shift(8,H,"f"),V}function j(P,B,H){var V=P.l+B,te=m(P,B,H);if(te[1].v=P.read_shift(8,"f"),H.qpro)P.l=V;else{var ye=P.read_shift(2);E(P.slice(P.l,P.l+ye),te),P.l+=ye}return te}function N(P,B,H){var V=B&32768;return B&=-32769,B=(V?P:0)+(B>=8192?B-16384:B),(V?"":"$")+(H?qn(B):Tn(B))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(P,B){La(P,0);for(var H=[],V=0,te="",ye="",ke="",R="";P.l<P.length;){var G=P[P.l++];switch(G){case 0:H.push(P.read_shift(8,"f"));break;case 1:ye=N(B[0].c,P.read_shift(2),!0),te=N(B[0].r,P.read_shift(2),!1),H.push(ye+te);break;case 2:{var ge=N(B[0].c,P.read_shift(2),!0),le=N(B[0].r,P.read_shift(2),!1);ye=N(B[0].c,P.read_shift(2),!0),te=N(B[0].r,P.read_shift(2),!1),H.push(ge+le+":"+ye+te)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(P.read_shift(2));break;case 6:{for(var ze="";G=P[P.l++];)ze+=String.fromCharCode(G);H.push('"'+ze.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:R=H.pop(),ke=H.pop(),H.push(["AND","OR"][G-20]+"("+ke+","+R+")");break;default:if(G<32&&k[G])R=H.pop(),ke=H.pop(),H.push(ke+k[G]+R);else if(_[G]){if(V=_[G][1],V==69&&(V=P[P.l++]),V>H.length){console.error("WK1 bad formula parse 0x"+G.toString(16)+":|"+H.join("|")+"|");return}var Fe=H.slice(-V);H.length-=V,H.push(_[G][0]+"("+Fe.join(",")+")")}else return G<=7?console.error("WK1 invalid opcode "+G.toString(16)):G<=24?console.error("WK1 unsupported op "+G.toString(16)):G<=30?console.error("WK1 invalid opcode "+G.toString(16)):G<=115?console.error("WK1 unsupported function opcode "+G.toString(16)):console.error("WK1 unrecognized opcode "+G.toString(16))}}H.length==1?B[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function C(P){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=P.read_shift(2),B[3]=P[P.l++],B[0].c=P[P.l++],B}function D(P,B){var H=C(P);return H[1].t="s",H[1].v=P.read_shift(B-4,"cstr"),H}function O(P,B,H,V){var te=Oe(6+V.length);te.write_shift(2,P),te.write_shift(1,H),te.write_shift(1,B),te.write_shift(1,39);for(var ye=0;ye<V.length;++ye){var ke=V.charCodeAt(ye);te.write_shift(1,ke>=128?95:ke)}return te.write_shift(1,0),te}function I(P,B){var H=C(P);H[1].v=P.read_shift(2);var V=H[1].v>>1;if(H[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return H[1].v=V,H}function T(P,B){var H=C(P),V=P.read_shift(4),te=P.read_shift(4),ye=P.read_shift(2);if(ye==65535)return V===0&&te===3221225472?(H[1].t="e",H[1].v=15):V===0&&te===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ke=ye&32768;return ye=(ye&32767)-16446,H[1].v=(1-ke*2)*(te*Math.pow(2,ye+32)+V*Math.pow(2,ye)),H}function F(P,B,H,V){var te=Oe(14);if(te.write_shift(2,P),te.write_shift(1,H),te.write_shift(1,B),V==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ye=0,ke=0,R=0,G=0;return V<0&&(ye=1,V=-V),ke=Math.log2(V)|0,V/=Math.pow(2,ke-31),G=V>>>0,(G&2147483648)==0&&(V/=2,++ke,G=V>>>0),V-=G,G|=2147483648,G>>>=0,V*=Math.pow(2,32),R=V>>>0,te.write_shift(4,R),te.write_shift(4,G),ke+=16383+(ye?32768:0),te.write_shift(2,ke),te}function q(P,B){var H=T(P);return P.l+=B-14,H}function U(P,B){var H=C(P),V=P.read_shift(4);return H[1].v=V>>6,H}function J(P,B){var H=C(P),V=P.read_shift(8,"f");return H[1].v=V,H}function W(P,B){var H=J(P);return P.l+=B-10,H}function he(P,B){return P[P.l+B-1]==0?P.read_shift(B,"cstr"):""}function X(P,B){var H=P[P.l++];H>B-1&&(H=B-1);for(var V="";V.length<H;)V+=String.fromCharCode(P[P.l++]);return V}function be(P,B,H){if(!(!H.qpro||B<21)){var V=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var te=P.read_shift(B-21,"cstr");return[V,te]}}function ne(P,B){for(var H={},V=P.l+B;P.l<V;){var te=P.read_shift(2);if(te==14e3){for(H[te]=[0,""],H[te][0]=P.read_shift(2);P[P.l];)H[te][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return H}function ve(P,B){var H=Oe(5+P.length);H.write_shift(2,14e3),H.write_shift(2,B);for(var V=0;V<P.length;++V){var te=P.charCodeAt(V);H[H.l++]=te>127?95:te}return H[H.l++]=0,H}var me={0:{n:"BOF",f:dI},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:J},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}})(),Uae=/^\s|\s$|[\t\n\r]/;function xI(e,t){if(!t.bookSST)return"";var r=[Gr];r[r.length]=Ke("sst",null,{xmlns:vd[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Uae)&&(i+=' xml:space="preserve"'),i+=">"+Xt(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Wae(e){return[e.read_shift(4),e.read_shift(4)]}function Hae(e,t){return t||(t=Oe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Vae=Fne;function qae(e){var t=ba();Le(t,159,Hae(e));for(var r=0;r<e.length;++r)Le(t,19,Vae(e[r]));return Le(t,160),t.end()}function Kae(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function gI(e){var t=0,r,a=Kae(e),s=a.length+1,i,o,c,u,m;for(r=Il(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],c=(t&16384)===0?0:1,u=t<<1&32767,m=c|u,t=m^o;return t^52811}var Gae=(function(){function e(s,i){switch(i.type){case"base64":return t(Mi(s),i);case"binary":return t(s,i);case"buffer":return t($t&&Buffer.isBuffer(s)?s.toString("binary"):Cf(s),i);case"array":return t(Yp(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,h){Array.isArray(c)&&(c[h]=[]);for(var g=/\\\w+\b/g,p=0,b,y=-1;b=g.exec(f);){switch(b[0]){case"\\cell":var j=f.slice(p,g.lastIndex-b[0].length);if(j[0]==" "&&(j=j.slice(1)),++y,j.length){var N={v:j,t:"s"};Array.isArray(c)?c[h][y]=N:c[Yt({r:h,c:y})]=N}break}p=g.lastIndex}y>m.e.c&&(m.e.c=y)}),c["!ref"]=qr(m),c}function r(s,i){return Ml(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=dr(s["!ref"]),c,u=Array.isArray(s),m=o.s.r;m<=o.e.r;++m){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=Yt({r:m,c:f});c=u?(s[m]||[])[f]:s[h],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(zi(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function dC(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Xae=6,ki=Xae;function B0(e){return Math.floor((e+Math.round(128/ki)/256)*ki)}function U0(e){return Math.floor((e-5)/ki*100+.5)/100}function Z1(e){return Math.round((e*ki+5)/ki*256)/256}function Tw(e){e.width?(e.wpx=B0(e.width),e.wch=U0(e.wpx),e.MDW=ki):e.wpx?(e.wch=U0(e.wpx),e.width=Z1(e.wch),e.MDW=ki):typeof e.wch=="number"&&(e.width=Z1(e.wch),e.wpx=B0(e.width),e.MDW=ki),e.customWidth&&delete e.customWidth}var Yae=96,vI=Yae;function W0(e){return e*96/vI}function yI(e){return e*vI/96}function Jae(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=Ke("numFmt",null,{numFmtId:a,formatCode:Xt(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Zae(e){var t=[];return t[t.length]=Ke("cellXfs",null),e.forEach(function(r){t[t.length]=Ke("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function bI(e,t){var r=[Gr,Ke("styleSheet",null,{xmlns:vd[0],"xmlns:vt":hn.vt})],a;return e.SSF&&(a=Jae(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Zae(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Qae(e,t){var r=e.read_shift(2),a=Kn(e);return[r,a]}function ese(e,t,r){r||(r=Oe(6+4*t.length)),r.write_shift(2,e),gn(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function tse(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=Une(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var c=e.read_shift(1);c>0&&(a.family=c);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=Bne(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Kn(e),a}function rse(e,t){t||(t=Oe(153)),t.write_shift(2,e.sz*20),Wne(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),z0(e.color,t);var a=0;return a=2,t.write_shift(1,a),gn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var nse=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Oy,ase=Js;function uC(e,t){t||(t=Oe(84)),Oy||(Oy=yw(nse));var r=Oy[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(z0({auto:1},t),z0({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function sse(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function jI(e,t,r){r||(r=Oe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function mu(e,t){return t||(t=Oe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ise=Js;function ose(e,t){return t||(t=Oe(51)),t.write_shift(1,0),mu(null,t),mu(null,t),mu(null,t),mu(null,t),mu(null,t),t.length>t.l?t.slice(0,t.l):t}function lse(e,t){return t||(t=Oe(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),M0(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function cse(e,t,r){var a=Oe(2052);return a.write_shift(4,e),M0(t,a),M0(r,a),a.length>a.l?a.slice(0,a.l):a}function dse(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(Le(e,615,Es(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Le(e,44,ese(s,t[s]))}),Le(e,616))}}function use(e){var t=1;Le(e,611,Es(t)),Le(e,43,rse({sz:12,color:{theme:1},name:"Calibri",family:2})),Le(e,612)}function fse(e){var t=2;Le(e,603,Es(t)),Le(e,45,uC({patternType:"none"})),Le(e,45,uC({patternType:"gray125"})),Le(e,604)}function mse(e){var t=1;Le(e,613,Es(t)),Le(e,46,ose()),Le(e,614)}function hse(e){var t=1;Le(e,626,Es(t)),Le(e,47,jI({numFmtId:0},65535)),Le(e,627)}function pse(e,t){Le(e,617,Es(t.length)),t.forEach(function(r){Le(e,47,jI(r,0))}),Le(e,618)}function xse(e){var t=1;Le(e,619,Es(t)),Le(e,48,lse({xfId:0,name:"Normal"})),Le(e,620)}function gse(e){var t=0;Le(e,505,Es(t)),Le(e,506)}function vse(e){var t=0;Le(e,508,cse(t,"TableStyleMedium9","PivotStyleMedium4")),Le(e,509)}function yse(e,t){var r=ba();return Le(r,278),dse(r,e.SSF),use(r),fse(r),mse(r),hse(r),pse(r,t.cellXfs),xse(r),gse(r),vse(r),Le(r,279),r.end()}function wI(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Gr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function bse(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Kn(e)}}function jse(e){var t=Oe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),gn(e.name,t),t.slice(0,t.l)}function wse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function _se(e){var t=Oe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Nse(e,t){var r=Oe(8+2*t.length);return r.write_shift(4,e),gn(t,r),r.slice(0,r.l)}function Sse(e){return e.l+=4,e.read_shift(4)!=0}function kse(e,t){var r=Oe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Ese(){var e=ba();return Le(e,332),Le(e,334,Es(1)),Le(e,335,jse({name:"XLDAPR",version:12e4,flags:3496657072})),Le(e,336),Le(e,339,Nse(1,"XLDAPR")),Le(e,52),Le(e,35,Es(514)),Le(e,4096,Es(0)),Le(e,4097,as(1)),Le(e,36),Le(e,53),Le(e,340),Le(e,337,kse(1)),Le(e,51,_se([[1,0]])),Le(e,338),Le(e,333),e.end()}function _I(){var e=[Gr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ase(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Yt(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var Cc=1024;function NI(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ke("xml",null,{"xmlns:v":Ra.v,"xmlns:o":Ra.o,"xmlns:x":Ra.x,"xmlns:mv":Ra.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Cc<e*1e3;)Cc+=1e3;return t.forEach(function(i){var o=xn(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=Ke("v:fill",u,c),f={on:"t",obscured:"t"};++Cc,s=s.concat(["<v:shape"+Zu({id:"_x0000_s"+Cc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,Ke("v:shadow",null,f),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Cn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Cn("x:AutoFill","False"),Cn("x:Row",String(o.r)),Cn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function SI(e){var t=[Gr,Ke("comments",null,{xmlns:vd[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=Xt(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(s=r.indexOf(Xt(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Cn("t",Xt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)o+=`Reply:
    `+i[c]+`
`;t.push(Cn("t",Xt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Cse(e,t,r){var a=[Gr,Ke("ThreadedComments",null,{xmlns:hn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=u.id:u.parentId=i,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(Ke("threadedComment",Cn("text",o.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function Pse(e){var t=[Gr,Ke("personList",null,{xmlns:hn.TCMNT,"xmlns:x":vd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(Ke("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Tse(e){var t={};t.iauthor=e.read_shift(4);var r=Ul(e);return t.rfx=r.s,t.ref=Yt(r.s),e.l+=16,t}function Ose(e,t){return t==null&&(t=Oe(36)),t.write_shift(4,e[1].iauthor),bd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ise=Kn;function Dse(e){return gn(e.slice(0,54))}function Fse(e){var t=ba(),r=[];return Le(t,628),Le(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Le(t,632,Dse(s.a)))})}),Le(t,631),Le(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:xn(a[0]),e:xn(a[0])};Le(t,635,Ose([i,s])),s.t&&s.t.length>0&&Le(t,637,Rne(s)),Le(t,636),delete s.iauthor})}),Le(t,634),Le(t,629),t.end()}function Lse(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Zt.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var kI=["xlsb","xlsm","xlam","biff8","xla"],Rse=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var m=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=t.c:--f,u?m+=t.r:--m,s+(c?"":"$")+qn(f)+(u?"":"$")+Tn(m)}return function(s,i){return t=i,s.replace(e,r)}})(),Ow=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Iw=(function(){return function(t,r){return t.replace(Ow,function(a,s,i,o,c,u){var m=kw(o)-(i?0:r.c),f=Sw(u)-(c?0:r.r),h=f==0?"":c?f+1:"["+f+"]",g=m==0?"":i?m+1:"["+m+"]";return s+"R"+h+"C"+g})}})();function Mse(e,t){return e.replace(Ow,function(r,a,s,i,o,c){return a+(s=="$"?s+i:qn(kw(i)+t.c))+(o=="$"?o+c:Tn(Sw(c)+t.r))})}function zse(e){return e.length!=1}function Br(e){e.l+=1}function Mo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function EI(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return AI(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=Mo(e),c=Mo(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function AI(e){var t=Mo(e),r=Mo(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function $se(e,t,r){if(r.biff<8)return AI(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=Mo(e),o=Mo(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function CI(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Bse(e);var a=e.read_shift(r&&r.biff==12?4:2),s=Mo(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function Bse(e){var t=Mo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Use(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Wse(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return Hse(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function Hse(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function Vse(e,t,r){var a=(e[e.l++]&96)>>5,s=EI(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function qse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=EI(e,i,r);return[a,s,o]}function Kse(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function Gse(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function Xse(e,t,r){var a=(e[e.l++]&96)>>5,s=$se(e,t-1,r);return[a,s]}function Yse(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function fC(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Jse(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Zse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Qse(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function eie(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tie(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function PI(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rie(e){return e.read_shift(2),PI(e)}function nie(e){return e.read_shift(2),PI(e)}function aie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=CI(e,0,r);return[a,s]}function sie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=Wse(e,0,r);return[a,s]}function iie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=CI(e,0,r);return[a,s,i]}function oie(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[ooe[s],II[s],a]}function lie(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:cie(e);return[s,(i[0]===0?II:ioe)[i[1]]]}function cie(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function die(e,t,r){e.l+=r&&r.biff==2?3:4}function uie(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function fie(e){return e.l++,Of[e.read_shift(1)]}function mie(e){return e.l++,e.read_shift(2)}function hie(e){return e.l++,e.read_shift(1)!==0}function pie(e){return e.l++,jd(e)}function xie(e,t,r){return e.l++,fI(e,t-1,r)}function gie(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=iae(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Of[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=jd(e);break;case 2:r[1]=dae(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vie(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?Ul:mae)(e));return s}function yie(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=gie(e,r.biff);return o}function bie(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function jie(e,t,r){if(r.biff==5)return wie(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function wie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function _ie(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function Nie(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function Sie(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function kie(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var Eie=Js,Aie=Js,Cie=Js;function If(e,t,r){return e.l+=2,[Use(e)]}function Dw(e){return e.l+=6,[]}var Pie=If,Tie=Dw,Oie=Dw,Iie=If;function TI(e){return e.l+=2,[dI(e),e.read_shift(2)&1]}var Die=If,Fie=TI,Lie=Dw,Rie=If,Mie=If,zie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $ie(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=zie[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function Bie(e){return e.l+=2,[e.read_shift(4)]}function Uie(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Wie(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Hie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Vie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function qie(e){return e.l+=4,[0,0]}var mC={1:{n:"PtgExp",f:uie},2:{n:"PtgTbl",f:Cie},3:{n:"PtgAdd",f:Br},4:{n:"PtgSub",f:Br},5:{n:"PtgMul",f:Br},6:{n:"PtgDiv",f:Br},7:{n:"PtgPower",f:Br},8:{n:"PtgConcat",f:Br},9:{n:"PtgLt",f:Br},10:{n:"PtgLe",f:Br},11:{n:"PtgEq",f:Br},12:{n:"PtgGe",f:Br},13:{n:"PtgGt",f:Br},14:{n:"PtgNe",f:Br},15:{n:"PtgIsect",f:Br},16:{n:"PtgUnion",f:Br},17:{n:"PtgRange",f:Br},18:{n:"PtgUplus",f:Br},19:{n:"PtgUminus",f:Br},20:{n:"PtgPercent",f:Br},21:{n:"PtgParen",f:Br},22:{n:"PtgMissArg",f:Br},23:{n:"PtgStr",f:xie},26:{n:"PtgSheet",f:Uie},27:{n:"PtgEndSheet",f:Wie},28:{n:"PtgErr",f:fie},29:{n:"PtgBool",f:hie},30:{n:"PtgInt",f:mie},31:{n:"PtgNum",f:pie},32:{n:"PtgArray",f:Yse},33:{n:"PtgFunc",f:oie},34:{n:"PtgFuncVar",f:lie},35:{n:"PtgName",f:bie},36:{n:"PtgRef",f:aie},37:{n:"PtgArea",f:Vse},38:{n:"PtgMemArea",f:_ie},39:{n:"PtgMemErr",f:Eie},40:{n:"PtgMemNoMem",f:Aie},41:{n:"PtgMemFunc",f:Nie},42:{n:"PtgRefErr",f:Sie},43:{n:"PtgAreaErr",f:Kse},44:{n:"PtgRefN",f:sie},45:{n:"PtgAreaN",f:Xse},46:{n:"PtgMemAreaN",f:Hie},47:{n:"PtgMemNoMemN",f:Vie},57:{n:"PtgNameX",f:jie},58:{n:"PtgRef3d",f:iie},59:{n:"PtgArea3d",f:qse},60:{n:"PtgRefErr3d",f:kie},61:{n:"PtgAreaErr3d",f:Gse},255:{}},Kie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Gie={1:{n:"PtgElfLel",f:TI},2:{n:"PtgElfRw",f:Rie},3:{n:"PtgElfCol",f:Pie},6:{n:"PtgElfRwV",f:Mie},7:{n:"PtgElfColV",f:Iie},10:{n:"PtgElfRadical",f:Die},11:{n:"PtgElfRadicalS",f:Lie},13:{n:"PtgElfColS",f:Tie},15:{n:"PtgElfColSV",f:Oie},16:{n:"PtgElfRadicalLel",f:Fie},25:{n:"PtgList",f:$ie},29:{n:"PtgSxName",f:Bie},255:{}},Xie={0:{n:"PtgAttrNoop",f:qie},1:{n:"PtgAttrSemi",f:tie},2:{n:"PtgAttrIf",f:Qse},4:{n:"PtgAttrChoose",f:Jse},8:{n:"PtgAttrGoto",f:Zse},16:{n:"PtgAttrSum",f:die},32:{n:"PtgAttrBaxcel",f:fC},33:{n:"PtgAttrBaxcel",f:fC},64:{n:"PtgAttrSpace",f:rie},65:{n:"PtgAttrSpaceSemi",f:nie},128:{n:"PtgAttrIfError",f:eie},255:{}};function Yie(e,t,r,a){if(a.biff<8)return Js(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=yie(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=vie(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Js(e,t)),i}function Jie(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=mC[i]||mC[Kie[i]],(i===24||i===25)&&(s=(i===24?Gie:Xie)[e[e.l+1]]),!s||!s.f?Js(e,t):o.push([s.n,s.f(e,t,r)]);return o}function Zie(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];o?o[0]===2?s.push('"'+o[1].replace(/"/g,'""')+'"'):s.push(o[1]):s.push("")}t.push(s.join(","))}return t.join(";")}var Qie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eoe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function OI(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function hC(e,t,r){var a=OI(e,t,r);return a=="#REF"?a:eoe(a,r)}function Yc(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],u,m,f,h=0,g=0,p,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,j="",N=0,_=e[0].length;N<_;++N){var k=e[0][N];switch(k[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),m=c.pop(),y>=0){switch(e[0][y][1][0]){case 0:j=Er(" ",e[0][y][1][1]);break;case 1:j=Er("\r",e[0][y][1][1]);break;default:if(j="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}m=m+j,y=-1}c.push(m+Qie[k[0]]+u);break;case"PtgIsect":u=c.pop(),m=c.pop(),c.push(m+" "+u);break;case"PtgUnion":u=c.pop(),m=c.pop(),c.push(m+","+u);break;case"PtgRange":u=c.pop(),m=c.pop(),c.push(m+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Su(k[1][1],o,s),c.push(ku(f,i));break;case"PtgRefN":f=r?Su(k[1][1],r,s):k[1][1],c.push(ku(f,i));break;case"PtgRef3d":h=k[1][1],f=Su(k[1][2],o,s),b=hC(a,h,s),c.push(b+"!"+ku(f,i));break;case"PtgFunc":case"PtgFuncVar":var E=k[1][0],C=k[1][1];E||(E=0),E&=127;var D=E==0?[]:c.slice(-E);c.length-=E,C==="User"&&(C=D.shift()),c.push(C+"("+D.join(",")+")");break;case"PtgBool":c.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(k[1]);break;case"PtgNum":c.push(String(k[1]));break;case"PtgStr":c.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(k[1]);break;case"PtgAreaN":p=ZA(k[1][1],r?{s:r}:o,s),c.push(Py(p,s));break;case"PtgArea":p=ZA(k[1][1],o,s),c.push(Py(p,s));break;case"PtgArea3d":h=k[1][1],p=k[1][2],b=hC(a,h,s),c.push(b+"!"+Py(p,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=k[1][2];var O=(a.names||[])[g-1]||(a[0]||[])[g],I=O?O.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),c.push(I);break;case"PtgNameX":var T=k[1][1];g=k[1][2];var F;if(s.biff<=5)T<0&&(T=-T),a[T]&&(F=a[T][g]);else{var q="";if(((a[T]||[])[0]||[])[0]==14849||(((a[T]||[])[0]||[])[0]==1025?a[T][g]&&a[T][g].itab>0&&(q=a.SheetNames[a[T][g].itab-1]+"!"):q=a.SheetNames[g-1]+"!"),a[T]&&a[T][g])q+=a[T][g].Name;else if(a[0]&&a[0][g])q+=a[0][g].Name;else{var U=(OI(a,T,s)||"").split(";;");U[g-1]?q=U[g-1]:q+="SH33TJSERRX"}c.push(q);break}F||(F={Name:"SH33TJSERRY"}),c.push(F.Name);break;case"PtgParen":var J="(",W=")";if(y>=0){switch(j="",e[0][y][1][0]){case 2:J=Er(" ",e[0][y][1][1])+J;break;case 3:J=Er("\r",e[0][y][1][1])+J;break;case 4:W=Er(" ",e[0][y][1][1])+W;break;case 5:W=Er("\r",e[0][y][1][1])+W;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}c.push(J+c.pop()+W);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:k[1][1],r:k[1][0]};var he={c:r.c,r:r.r};if(a.sharedf[Yt(f)]){var X=a.sharedf[Yt(f)];c.push(Yc(X,o,he,a,s))}else{var be=!1;for(u=0;u!=a.arrayf.length;++u)if(m=a.arrayf[u],!(f.c<m[0].s.c||f.c>m[0].e.c)&&!(f.r<m[0].s.r||f.r>m[0].e.r)){c.push(Yc(m[1],o,he,a,s)),be=!0;break}be||c.push(k[1])}break;case"PtgArray":c.push("{"+Zie(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&ne.indexOf(e[0][N][0])==-1){k=e[0][y];var ve=!0;switch(k[1][0]){case 4:ve=!1;case 0:j=Er(" ",k[1][1]);break;case 5:ve=!1;case 1:j=Er("\r",k[1][1]);break;default:if(j="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}c.push((ve?j:"")+c.pop()+(ve?"":j)),y=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function toe(e){if(e==null){var t=Oe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Dl(e);return Dl(0)}function roe(e,t,r,a,s){var i=Fl(t,r,s),o=toe(e.v),c=Oe(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var m=Oe(e.bf.length),f=0;f<e.bf.length;++f)m[f]=e.bf[f];var h=An([i,o,c,m]);return h}function Jp(e,t,r){var a=e.read_shift(4),s=Jie(e,a,r),i=e.read_shift(4),o=i>0?Yie(e,i,s,r):null;return[s,o]}var noe=Jp,Zp=Jp,aoe=Jp,soe=Jp,ioe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},II={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ooe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function loe(e){var t="of:="+e.replace(Ow,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function coe(e){return e.replace(/\./,"!")}var Eu=typeof Map<"u";function Fw(e,t,r){var a=0,s=e.length;if(r){if(Eu?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Eu?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(Eu?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function Qp(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(ki=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=U0(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Z1(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function DI(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Vo(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){C6(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function doe(e,t,r){if(e&&e["!ref"]){var a=dr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function uoe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+qr(e[r])+'"/>';return t+"</mergeCells>"}function foe(e,t,r,a,s){var i=!1,o={},c=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,o.codeName=Ju(Xt(u))}if(e&&e["!outline"]){var m={summaryBelow:1,summaryRight:1};e["!outline"].above&&(m.summaryBelow=0),e["!outline"].left&&(m.summaryRight=0),c=(c||"")+Ke("outlinePr",null,m)}!i&&!c||(s[s.length]=Ke("sheetPr",c,o))}var moe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hoe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function poe(e){var t={sheet:1};return moe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),hoe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=gI(e.password).toString(16).toUpperCase()),Ke("sheetProtection",null,t)}function xoe(e){return DI(e),Ke("pageMargins",null,e)}function goe(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=Ke("col",null,Qp(s,a)));return r[r.length]="</cols>",r.join("")}function voe(e,t,r,a){var s=typeof e.ref=="string"?e.ref:qr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Va(s);o.s.r==o.e.r&&(o.e.r=Va(t["!ref"]).e.r,s=qr(o));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),Ke("autoFilter",null,{ref:s})}function yoe(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,s),{})}function boe(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Of[e.v];break;case"d":a&&a.cellDates?s=aa(e.v,-1).toISOString():(e=_a(e),e.t="n",s=""+(e.v=wa(aa(e.v)))),typeof e.z>"u"&&(e.z=Pr[14]);break;default:s=e.v;break}var c=Cn("v",Xt(s)),u={r:t},m=Vo(a.cellXfs,e,a);switch(m!==0&&(u.s=m),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){c=Cn("v",""+Fw(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=Ke("f",Xt(e.f),f)+(e.v!=null?c:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),Ke("c",c,u)}function joe(e,t,r,a){var s=[],i=[],o=dr(e["!ref"]),c="",u,m="",f=[],h=0,g=0,p=e["!rows"],b=Array.isArray(e),y={r:m},j,N=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=qn(g);for(h=o.s.r;h<=o.e.r;++h){for(i=[],m=Tn(h),g=o.s.c;g<=o.e.c;++g){u=f[g]+m;var _=b?(e[h]||[])[g]:e[u];_!==void 0&&(c=boe(_,u,e,t))!=null&&i.push(c)}(i.length>0||p&&p[h])&&(y={r:m},p&&p[h]&&(j=p[h],j.hidden&&(y.hidden=1),N=-1,j.hpx?N=W0(j.hpx):j.hpt&&(N=j.hpt),N>-1&&(y.ht=N,y.customHeight=1),j.level&&(y.outlineLevel=j.level)),s[s.length]=Ke("row",i.join(""),y))}if(p)for(;h<p.length;++h)p&&p[h]&&(y={r:h+1},j=p[h],j.hidden&&(y.hidden=1),N=-1,j.hpx?N=W0(j.hpx):j.hpt&&(N=j.hpt),N>-1&&(y.ht=N,y.customHeight=1),j.level&&(y.outlineLevel=j.level),s[s.length]=Ke("row","",y));return s.join("")}function FI(e,t,r,a){var s=[Gr,Ke("worksheet",null,{xmlns:vd[0],"xmlns:r":hn.r})],i=r.SheetNames[e],o=0,c="",u=r.Sheets[i];u==null&&(u={});var m=u["!ref"]||"A1",f=dr(m);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),m=qr(f)}a||(a={}),u["!comments"]=[];var h=[];foe(u,r,e,t,s),s[s.length]=Ke("dimension",null,{ref:m}),s[s.length]=yoe(u,t,e,r),t.sheetFormat&&(s[s.length]=Ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(s[s.length]=goe(u,u["!cols"])),s[o=s.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=joe(u,t),c.length>0&&(s[s.length]=c)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),u["!protect"]&&(s[s.length]=poe(u["!protect"])),u["!autofilter"]!=null&&(s[s.length]=voe(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(s[s.length]=uoe(u["!merges"]));var g=-1,p,b=-1;return u["!links"].length>0&&(s[s.length]="<hyperlinks>",u["!links"].forEach(function(y){y[1].Target&&(p={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=Kt(a,-1,Xt(y[1].Target).replace(/#.*$/,""),Mt.HLINK),p["r:id"]="rId"+b),(g=y[1].Target.indexOf("#"))>-1&&(p.location=Xt(y[1].Target.slice(g+1))),y[1].Tooltip&&(p.tooltip=Xt(y[1].Tooltip)),s[s.length]=Ke("hyperlink",null,p))}),s[s.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(s[s.length]=xoe(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Cn("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:m}))),h.length>0&&(b=Kt(a,-1,"../drawings/drawing"+(e+1)+".xml",Mt.DRAW),s[s.length]=Ke("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=h),u["!comments"].length>0&&(b=Kt(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Mt.VML),s[s.length]=Ke("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function woe(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function _oe(e,t,r){var a=Oe(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=W0(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var c=0,u=a.l;a.l+=4;for(var m={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,g=-1,p=f<<10;p<f+1<<10;++p){m.c=p;var b=Array.isArray(r)?(r[m.r]||[])[m.c]:r[Yt(m)];b&&(h<0&&(h=p),g=p)}h<0||(++c,a.write_shift(4,h),a.write_shift(4,g))}var y=a.l;return a.l=u,a.write_shift(4,c),a.l=y,a.length>a.l?a.slice(0,a.l):a}function Noe(e,t,r,a){var s=_oe(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&Le(e,0,s)}var Soe=Ul,koe=bd;function Eoe(){}function Aoe(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Mne(e),r}function Coe(e,t,r){r==null&&(r=Oe(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return z0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Y6(e,r),r.slice(0,r.l)}function Poe(e){var t=us(e);return[t]}function Toe(e,t,r){return r==null&&(r=Oe(8)),zl(t,r)}function Ooe(e){var t=$l(e);return[t]}function Ioe(e,t,r){return r==null&&(r=Oe(4)),Bl(t,r)}function Doe(e){var t=us(e),r=e.read_shift(1);return[t,r,"b"]}function Foe(e,t,r){return r==null&&(r=Oe(9)),zl(t,r),r.write_shift(1,e.v?1:0),r}function Loe(e){var t=$l(e),r=e.read_shift(1);return[t,r,"b"]}function Roe(e,t,r){return r==null&&(r=Oe(5)),Bl(t,r),r.write_shift(1,e.v?1:0),r}function Moe(e){var t=us(e),r=e.read_shift(1);return[t,r,"e"]}function zoe(e,t,r){return r==null&&(r=Oe(9)),zl(t,r),r.write_shift(1,e.v),r}function $oe(e){var t=$l(e),r=e.read_shift(1);return[t,r,"e"]}function Boe(e,t,r){return r==null&&(r=Oe(8)),Bl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Uoe(e){var t=us(e),r=e.read_shift(4);return[t,r,"s"]}function Woe(e,t,r){return r==null&&(r=Oe(12)),zl(t,r),r.write_shift(4,t.v),r}function Hoe(e){var t=$l(e),r=e.read_shift(4);return[t,r,"s"]}function Voe(e,t,r){return r==null&&(r=Oe(8)),Bl(t,r),r.write_shift(4,t.v),r}function qoe(e){var t=us(e),r=jd(e);return[t,r,"n"]}function Koe(e,t,r){return r==null&&(r=Oe(16)),zl(t,r),Dl(e.v,r),r}function Goe(e){var t=$l(e),r=jd(e);return[t,r,"n"]}function Xoe(e,t,r){return r==null&&(r=Oe(12)),Bl(t,r),Dl(e.v,r),r}function Yoe(e){var t=us(e),r=J6(e);return[t,r,"n"]}function Joe(e,t,r){return r==null&&(r=Oe(12)),zl(t,r),Z6(e.v,r),r}function Zoe(e){var t=$l(e),r=J6(e);return[t,r,"n"]}function Qoe(e,t,r){return r==null&&(r=Oe(8)),Bl(t,r),Z6(e.v,r),r}function ele(e){var t=us(e),r=Ew(e);return[t,r,"is"]}function tle(e){var t=us(e),r=Kn(e);return[t,r,"str"]}function rle(e,t,r){return r==null&&(r=Oe(12+4*e.v.length)),zl(t,r),gn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nle(e){var t=$l(e),r=Kn(e);return[t,r,"str"]}function ale(e,t,r){return r==null&&(r=Oe(8+4*e.v.length)),Bl(t,r),gn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function sle(e,t,r){var a=e.l+t,s=us(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var c=Zp(e,a-e.l,r);o[3]=Yc(c,null,s,r.supbooks,r)}else e.l=a;return o}function ile(e,t,r){var a=e.l+t,s=us(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var c=Zp(e,a-e.l,r);o[3]=Yc(c,null,s,r.supbooks,r)}else e.l=a;return o}function ole(e,t,r){var a=e.l+t,s=us(e);s.r=r["!row"];var i=jd(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var c=Zp(e,a-e.l,r);o[3]=Yc(c,null,s,r.supbooks,r)}else e.l=a;return o}function lle(e,t,r){var a=e.l+t,s=us(e);s.r=r["!row"];var i=Kn(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var c=Zp(e,a-e.l,r);o[3]=Yc(c,null,s,r.supbooks,r)}else e.l=a;return o}var cle=Ul,dle=bd;function ule(e,t){return t==null&&(t=Oe(4)),t.write_shift(4,e),t}function fle(e,t){var r=e.l+t,a=Ul(e),s=Aw(e),i=Kn(e),o=Kn(e),c=Kn(e);e.l=r;var u={rfx:a,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function mle(e,t){var r=Oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));bd({s:xn(e[0]),e:xn(e[0])},r),Cw("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return gn(s||"",r),gn(e[1].Tooltip||"",r),gn("",r),r.slice(0,r.l)}function hle(){}function ple(e,t,r){var a=e.l+t,s=Q6(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var c=noe(e,a-e.l,r);o[1]=c}else e.l=a;return o}function xle(e,t,r){var a=e.l+t,s=Ul(e),i=[s];if(r.cellFormula){var o=soe(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function gle(e,t,r){r==null&&(r=Oe(18));var a=Qp(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var LI=["left","right","top","bottom","header","footer"];function vle(e){var t={};return LI.forEach(function(r){t[r]=jd(e)}),t}function yle(e,t){return t==null&&(t=Oe(48)),DI(e),LI.forEach(function(r){Dl(e[r],t)}),t}function ble(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function jle(e,t,r){r==null&&(r=Oe(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function wle(e){var t=Oe(24);return t.write_shift(4,4),t.write_shift(4,1),bd(e,t),t}function _le(e,t){return t==null&&(t=Oe(66)),t.write_shift(2,e.password?gI(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Nle(){}function Sle(){}function kle(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=_a(t),t.z=t.z||Pr[14],t.v=wa(aa(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var u={r,c:a};switch(u.s=Vo(s.cellXfs,t,s),t.l&&i["!links"].push([Yt(u),t.l]),t.c&&i["!comments"].push([Yt(u),t.c]),t.t){case"s":case"str":return s.bookSST?(c=Fw(s.Strings,t.v,s.revStrings),u.t="s",u.v=c,o?Le(e,18,Voe(t,u)):Le(e,7,Woe(t,u))):(u.t="str",o?Le(e,17,ale(t,u)):Le(e,6,rle(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Le(e,13,Qoe(t,u)):Le(e,2,Joe(t,u)):o?Le(e,16,Xoe(t,u)):Le(e,5,Koe(t,u)),!0;case"b":return u.t="b",o?Le(e,15,Roe(t,u)):Le(e,4,Foe(t,u)),!0;case"e":return u.t="e",o?Le(e,14,Boe(t,u)):Le(e,3,zoe(t,u)),!0}return o?Le(e,12,Ioe(t,u)):Le(e,1,Toe(t,u)),!0}function Ele(e,t,r,a){var s=dr(t["!ref"]||"A1"),i,o="",c=[];Le(e,145);var u=Array.isArray(t),m=s.e.r;t["!rows"]&&(m=Math.max(s.e.r,t["!rows"].length-1));for(var f=s.s.r;f<=m;++f){o=Tn(f),Noe(e,t,s,f);var h=!1;if(f<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){f===s.s.r&&(c[g]=qn(g)),i=c[g]+o;var p=u?(t[f]||[])[g]:t[i];if(!p){h=!1;continue}h=kle(e,p,f,g,a,t,h)}}Le(e,146)}function Ale(e,t){!t||!t["!merges"]||(Le(e,177,ule(t["!merges"].length)),t["!merges"].forEach(function(r){Le(e,176,dle(r))}),Le(e,178))}function Cle(e,t){!t||!t["!cols"]||(Le(e,390),t["!cols"].forEach(function(r,a){r&&Le(e,60,gle(a,r))}),Le(e,391))}function Ple(e,t){!t||!t["!ref"]||(Le(e,648),Le(e,649,wle(dr(t["!ref"]))),Le(e,650))}function Tle(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=Kt(r,-1,a[1].Target.replace(/#.*$/,""),Mt.HLINK);Le(e,494,mle(a,s))}}),delete t["!links"]}function Ole(e,t,r,a){if(t["!comments"].length>0){var s=Kt(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Mt.VML);Le(e,551,Cw("rId"+s)),t["!legacy"]=s}}function Ile(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:qr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,c=Va(i);c.s.r==c.e.r&&(c.e.r=Va(t["!ref"]).e.r,i=qr(c));for(var u=0;u<o.length;++u){var m=o[u];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==a){m.Ref="'"+r.SheetNames[a]+"'!"+i;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),Le(e,161,bd(dr(i))),Le(e,162)}}function Dle(e,t,r){Le(e,133),Le(e,137,jle(t,r)),Le(e,138),Le(e,134)}function Fle(e,t){t["!protect"]&&Le(e,535,_le(t["!protect"]))}function Lle(e,t,r,a){var s=ba(),i=r.SheetNames[e],o=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[e].CodeName||c)}catch{}var u=dr(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Le(s,129),(r.vbaraw||o["!outline"])&&Le(s,147,Coe(c,o["!outline"])),Le(s,148,koe(u)),Dle(s,o,r.Workbook),Cle(s,o),Ele(s,o,e,t),Fle(s,o),Ile(s,o,r,e),Ale(s,o),Tle(s,o,a),o["!margins"]&&Le(s,476,yle(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Ple(s,o),Ole(s,o,e,a),Le(s,130),s.end()}function Rle(e,t){e.l+=10;var r=Kn(e);return{name:r}}var Mle=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function zle(e){return!e.Workbook||!e.Workbook.WBProps?"false":xne(e.Workbook.WBProps.date1904)?"true":"false"}var $le="][*?/\\".split("");function RI(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return $le.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ble(e,t,r){e.forEach(function(a,s){RI(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Ule(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ble(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)doe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function MI(e){var t=[Gr];t[t.length]=Ke("workbook",null,{xmlns:vd[0],"xmlns:r":hn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Mle.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(a[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Ke("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Xt(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Ke("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(t[t.length]=Ke("definedName",Xt(c.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Wle(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=J1(e),r.name=Kn(e),r}function Hle(e,t){return t||(t=Oe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Cw(e.strRelID,t),gn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Vle(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Kn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function qle(e,t){t||(t=Oe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Y6(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Kle(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=zne(e),o=aoe(e,0,r),c=Aw(e);e.l=a;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function Gle(e,t){Le(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Le(e,156,Hle(s))}Le(e,144)}function Xle(e,t){t||(t=Oe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return gn("SheetJS",t),gn(T0.version,t),gn(T0.version,t),gn("7262",t),t.length>t.l?t.slice(0,t.l):t}function Yle(e,t){t||(t=Oe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Jle(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(Le(e,135),Le(e,158,Yle(s)),Le(e,136))}}function Zle(e,t){var r=ba();return Le(r,131),Le(r,128,Xle()),Le(r,153,qle(e.Workbook&&e.Workbook.WBProps||null)),Jle(r,e),Gle(r,e),Le(r,132),r.end()}function Qle(e,t,r){return(t.slice(-4)===".bin"?Zle:MI)(e)}function ece(e,t,r,a,s){return(t.slice(-4)===".bin"?Lle:FI)(e,r,a,s)}function tce(e,t,r){return(t.slice(-4)===".bin"?yse:bI)(e,r)}function rce(e,t,r){return(t.slice(-4)===".bin"?qae:xI)(e,r)}function nce(e,t,r){return(t.slice(-4)===".bin"?Fse:SI)(e)}function ace(e){return(e.slice(-4)===".bin"?Ese:_I)()}function sce(e,t){var r=[];return e.Props&&r.push(tae(e.Props,t)),e.Custprops&&r.push(rae(e.Props,e.Custprops)),r.join("")}function ice(){return""}function oce(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(Ke("NumberFormat",null,{"ss:Format":Xt(Pr[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Ke("Style",i.join(""),o))}),Ke("Styles",r.join(""))}function zI(e){return Ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Iw(e.Ref,{r:0,c:0})})}function lce(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(zI(s)))}return Ke("Names",r.join(""))}function cce(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var c=s[o];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(zI(c)))}return i.join("")}function dce(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Ke("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(Ke("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Cn("ProtectContents","True")),e["!protect"].objects&&s.push(Cn("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Cn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Cn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Cn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Ke("WorksheetOptions",s.join(""),{xmlns:Ra.x})}function uce(e){return e.map(function(t){var r=pne(t.t||""),a=Ke("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",a,{"ss:Author":t.a})}).join("")}function fce(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+Xt(Iw(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=xn(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=Xt(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=Xt(e.l.Tooltip))),r["!merges"])for(var m=r["!merges"],f=0;f!=m.length;++f)m[f].s.c!=o.c||m[f].s.r!=o.r||(m[f].e.c>m[f].s.c&&(c["ss:MergeAcross"]=m[f].e.c-m[f].s.c),m[f].e.r>m[f].s.r&&(c["ss:MergeDown"]=m[f].e.r-m[f].s.r));var h="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":h="Number",g=String(e.v);break;case"b":h="Boolean",g=e.v?"1":"0";break;case"e":h="Error",g=Of[e.v];break;case"d":h="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Pr[14]);break;case"s":h="String",g=hne(e.v||"");break}var p=Vo(a.cellXfs,e,a);c["ss:StyleID"]="s"+(21+p),c["ss:Index"]=o.c+1;var b=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+h+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=uce(e.c)),Ke("Cell",y,c)}function mce(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=yI(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hce(e,t,r,a){if(!e["!ref"])return"";var s=dr(e["!ref"]),i=e["!merges"]||[],o=0,c=[];e["!cols"]&&e["!cols"].forEach(function(j,N){Tw(j);var _=!!j.width,k=Qp(N,j),E={"ss:Index":N+1};_&&(E["ss:Width"]=B0(k.width)),j.hidden&&(E["ss:Hidden"]="1"),c.push(Ke("Column",null,E))});for(var u=Array.isArray(e),m=s.s.r;m<=s.e.r;++m){for(var f=[mce(m,(e["!rows"]||[])[m])],h=s.s.c;h<=s.e.c;++h){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>m)&&!(i[o].e.c<h)&&!(i[o].e.r<m)){(i[o].s.c!=h||i[o].s.r!=m)&&(g=!0);break}if(!g){var p={r:m,c:h},b=Yt(p),y=u?(e[m]||[])[h]:e[b];f.push(fce(y,b,e,t,r,a,p))}}f.push("</Row>"),f.length>2&&c.push(f.join(""))}return c.join("")}function pce(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?cce(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?hce(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(dce(i,t,e,r)),a.join("")}function xce(e,t){t||(t={}),e.SSF||(e.SSF=_a(Pr)),e.SSF&&(Gp(),Kp(e.SSF),t.revssf=Xp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(sce(e,t)),r.push(ice()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(Ke("Worksheet",pce(a,t,e),{"ss:Name":Xt(e.SheetNames[a])}));return r[2]=oce(e,t),r[3]=lce(e),Gr+Ke("Workbook",r.join(""),{xmlns:Ra.ss,"xmlns:o":Ra.o,"xmlns:x":Ra.x,"xmlns:ss":Ra.ss,"xmlns:dt":Ra.dt,"xmlns:html":Ra.html})}var Iy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gce(e,t){var r=[],a=[],s=[],i=0,o,c=BA(eC,"n"),u=BA(tC,"n");if(e.Props)for(o=On(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=On(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(c,o[i])?r:Object.prototype.hasOwnProperty.call(u,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var m=[];for(i=0;i<s.length;++i)cI.indexOf(s[i][0])>-1||iI.indexOf(s[i][0])>-1||s[i][1]!=null&&m.push(s[i]);a.length&&Zt.utils.cfb_add(t,"/SummaryInformation",iC(a,Iy.SI,u,tC)),(r.length||m.length)&&Zt.utils.cfb_add(t,"/DocumentSummaryInformation",iC(r,Iy.DSI,c,eC,m.length?m:null,Iy.UDI))}function vce(e,t){var r=t||{},a=Zt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Zt.utils.cfb_add(a,s,$I(e,r)),r.biff==8&&(e.Props||e.Custprops)&&gce(e,a),r.biff==8&&e.vbaraw&&Lse(a,Zt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var yce={0:{f:woe},1:{f:Poe},2:{f:Yoe},3:{f:Moe},4:{f:Doe},5:{f:qoe},6:{f:tle},7:{f:Uoe},8:{f:lle},9:{f:ole},10:{f:sle},11:{f:ile},12:{f:Ooe},13:{f:Zoe},14:{f:$oe},15:{f:Loe},16:{f:Goe},17:{f:nle},18:{f:Hoe},19:{f:Ew},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Kle},40:{},42:{},43:{f:tse},44:{f:Qae},45:{f:ase},46:{f:ise},47:{f:sse},48:{},49:{f:One},50:{},51:{f:wse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Iae},62:{f:ele},63:{f:Ase},64:{f:Nle},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Js,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ble},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Aoe},148:{f:Soe,p:16},151:{f:hle},152:{},153:{f:Vle},154:{},155:{},156:{f:Wle},157:{},158:{},159:{T:1,f:Wae},160:{T:-1},161:{T:1,f:Ul},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cle},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:bse},336:{T:-1},337:{f:Sse,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:J1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Eae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ple},427:{f:xle},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:vle},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Eoe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fle},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:J1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ise},633:{T:1},634:{T:-1},635:{T:1,f:Tse},636:{T:-1},637:{f:Lne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Rle},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Sle},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ge(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&Nw(r)&&e.push(r)}}function bce(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return Ge(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],c=0,u=0,m=0;m+(o[c]||8224)<=8224;)m+=o[c]||8224,c++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,m),e.push(r.slice(u,u+m)),u+=m;u<s;){for(f=e.next(4),f.write_shift(2,60),m=0;m+(o[c]||8224)<=8224;)m+=o[c]||8224,c++;f.write_shift(2,m),e.push(r.slice(u,u+m)),u+=m}}}function Df(e,t,r){return e||(e=Oe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function jce(e,t,r,a){var s=Oe(9);return Df(s,e,t),uI(r,a||"b",s),s}function wce(e,t,r){var a=Oe(8+2*r.length);return Df(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function _ce(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?wa(aa(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Ge(e,2,Rae(r,a,s)):Ge(e,3,Lae(r,a,s));return;case"b":case"e":Ge(e,5,jce(r,a,t.v,t.t));return;case"s":case"str":Ge(e,4,wce(r,a,(t.v||"").slice(0,255)));return}Ge(e,1,Df(null,r,a))}function Nce(e,t,r,a){var s=Array.isArray(t),i=dr(t["!ref"]||"A1"),o,c="",u=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=qr(i)}for(var m=i.s.r;m<=i.e.r;++m){c=Tn(m);for(var f=i.s.c;f<=i.e.c;++f){m===i.s.r&&(u[f]=qn(f)),o=u[f]+c;var h=s?(t[m]||[])[f]:t[o];h&&_ce(e,h,m,f)}}}function Sce(e,t){for(var r=t||{},a=ba(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ge(a,r.biff==4?1033:r.biff==3?521:9,Pw(e,16,r)),Nce(a,e.Sheets[e.SheetNames[s]],s,r),Ge(a,10),a.end()}function kce(e,t,r){Ge(e,49,yae({sz:12,name:"Arial"},r))}function Ece(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Ge(e,1054,wae(s,t[s],r))})}function Ace(e,t){var r=Oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ge(e,2151,r),r=Oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),hI(dr(t["!ref"]||"A1"),r),r.write_shift(4,4),Ge(e,2152,r)}function Cce(e,t){for(var r=0;r<16;++r)Ge(e,224,lC({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Ge(e,224,lC(a,0,t))})}function Pce(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];Ge(e,440,Pae(a)),a[1].Tooltip&&Ge(e,2048,Tae(a))}delete t["!links"]}function Tce(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&Ge(e,125,Dae(Qp(s,a),s))})}}function Oce(e,t,r,a,s){var i=16+Vo(s.cellXfs,t,s);if(t.v==null&&!t.bf){Ge(e,513,Fl(r,a,i));return}if(t.bf)Ge(e,6,roe(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?wa(aa(t.v)):t.v;Ge(e,515,kae(r,a,o,i));break;case"b":case"e":Ge(e,517,Sae(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var c=Fw(s.Strings,t.v,s.revStrings);Ge(e,253,bae(r,a,c,i))}else Ge(e,516,jae(r,a,(t.v||"").slice(0,255),i,s));break;default:Ge(e,513,Fl(r,a,i))}}function Ice(e,t,r){var a=ba(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},c=(o.Sheets||[])[e]||{},u=Array.isArray(i),m=t.biff==8,f,h="",g=[],p=dr(i["!ref"]||"A1"),b=m?65536:16384;if(p.e.c>255||p.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,b-1)}Ge(a,2057,Pw(r,16,t)),Ge(a,13,as(1)),Ge(a,12,as(100)),Ge(a,15,ea(!0)),Ge(a,17,ea(!1)),Ge(a,16,Dl(.001)),Ge(a,95,ea(!0)),Ge(a,42,ea(!1)),Ge(a,43,ea(!1)),Ge(a,130,as(1)),Ge(a,128,Nae()),Ge(a,131,ea(!1)),Ge(a,132,ea(!1)),m&&Tce(a,i["!cols"]),Ge(a,512,_ae(p,t)),m&&(i["!links"]=[]);for(var y=p.s.r;y<=p.e.r;++y){h=Tn(y);for(var j=p.s.c;j<=p.e.c;++j){y===p.s.r&&(g[j]=qn(j)),f=g[j]+h;var N=u?(i[y]||[])[j]:i[f];N&&(Oce(a,N,y,j,t),m&&N.l&&i["!links"].push([f,N.l]))}}var _=c.CodeName||c.name||s;return m&&Ge(a,574,vae((o.Views||[])[0])),m&&(i["!merges"]||[]).length&&Ge(a,229,Cae(i["!merges"])),m&&Pce(a,i),Ge(a,442,mI(_)),m&&Ace(a,i),Ge(a,10),a.end()}function Dce(e,t,r){var a=ba(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},c=r.biff==8,u=r.biff==5;if(Ge(a,2057,Pw(e,5,r)),r.bookType=="xla"&&Ge(a,135),Ge(a,225,c?as(1200):null),Ge(a,193,sae(2)),u&&Ge(a,191),u&&Ge(a,192),Ge(a,226),Ge(a,92,hae("SheetJS",r)),Ge(a,66,as(c?1200:1252)),c&&Ge(a,353,as(0)),c&&Ge(a,448),Ge(a,317,Fae(e.SheetNames.length)),c&&e.vbaraw&&Ge(a,211),c&&e.vbaraw){var m=o.CodeName||"ThisWorkbook";Ge(a,442,mI(m))}Ge(a,156,as(17)),Ge(a,25,ea(!1)),Ge(a,18,ea(!1)),Ge(a,19,as(0)),c&&Ge(a,431,ea(!1)),c&&Ge(a,444,as(0)),Ge(a,61,gae()),Ge(a,64,ea(!1)),Ge(a,141,as(0)),Ge(a,34,ea(zle(e)=="true")),Ge(a,14,ea(!0)),c&&Ge(a,439,ea(!1)),Ge(a,218,as(0)),kce(a,e,r),Ece(a,e.SSF,r),Cce(a,r),c&&Ge(a,352,ea(!1));var f=a.end(),h=ba();c&&Ge(h,140,Oae()),c&&r.Strings&&bce(h,252,xae(r.Strings)),Ge(h,10);var g=h.end(),p=ba(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(c?12:11)+(c?2:1)*e.SheetNames[y].length;var j=f.length+b+g.length;for(y=0;y<e.SheetNames.length;++y){var N=i[y]||{};Ge(p,133,pae({pos:j,hs:N.Hidden||0,dt:0,name:e.SheetNames[y]},r)),j+=t[y].length}var _=p.end();if(b!=_.length)throw new Error("BS8 "+b+" != "+_.length);var k=[];return f.length&&k.push(f),_.length&&k.push(_),g.length&&k.push(g),An(k)}function Fce(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=_a(Pr)),e&&e.SSF&&(Gp(),Kp(e.SSF),r.revssf=Xp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Lw(r),r.cellXfs=[],Vo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=Ice(s,r,e);return a.unshift(Dce(e,a,r)),An(a)}function $I(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=Va(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Fce(e,t);case 4:case 3:case 2:return Sce(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Lce(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,u=0,m=0;m<s.length;++m)if(!(s[m].s.r>r||s[m].s.c>o)&&!(s[m].e.r<r||s[m].e.c<o)){if(s[m].s.r<r||s[m].s.c<o){c=-1;break}c=s[m].e.r-s[m].s.r+1,u=s[m].e.c-s[m].s.c+1;break}if(!(c<0)){var f=Yt({r,c:o}),h=a.dense?(e[r]||[])[o]:e[f],g=h&&h.v!=null&&(h.h||mne(h.w||(zi(h),h.w)||""))||"",p={};c>1&&(p.rowspan=c),u>1&&(p.colspan=u),a.editable?g='<span contenteditable="true">'+g+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),p.id=(a.id||"sjs")+"-"+f,i.push(Ke("td",g,p))}}var b="<tr>";return b+i.join("")+"</tr>"}var Rce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Mce="</body></html>";function zce(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function BI(e,t){var r=t||{},a=r.header!=null?r.header:Rce,s=r.footer!=null?r.footer:Mce,i=[a],o=Va(e["!ref"]);r.dense=Array.isArray(e),i.push(zce(e,o,r));for(var c=o.s.r;c<=o.e.r;++c)i.push(Lce(e,o,c,r));return i.push("</table>"+s),i.join("")}function UI(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?xn(a.origin):a.origin;s=o.r,i=o.c}var c=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),m={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=Va(e["!ref"]);m.s.r=Math.min(m.s.r,f.s.r),m.s.c=Math.min(m.s.c,f.s.c),m.e.r=Math.max(m.e.r,f.e.r),m.e.c=Math.max(m.e.c,f.e.c),s==-1&&(m.e.r=s=f.e.r+1)}var h=[],g=0,p=e["!rows"]||(e["!rows"]=[]),b=0,y=0,j=0,N=0,_=0,k=0;for(e["!cols"]||(e["!cols"]=[]);b<c.length&&y<u;++b){var E=c[b];if(pC(E)){if(a.display)continue;p[y]={hidden:!0}}var C=E.children;for(j=N=0;j<C.length;++j){var D=C[j];if(!(a.display&&pC(D))){var O=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):gne(D.innerHTML),I=D.getAttribute("data-z")||D.getAttribute("z");for(g=0;g<h.length;++g){var T=h[g];T.s.c==N+i&&T.s.r<y+s&&y+s<=T.e.r&&(N=T.e.c+1-i,g=-1)}k=+D.getAttribute("colspan")||1,((_=+D.getAttribute("rowspan")||1)>1||k>1)&&h.push({s:{r:y+s,c:N+i},e:{r:y+s+(_||1)-1,c:N+i+(k||1)-1}});var F={t:"s",v:O},q=D.getAttribute("data-t")||D.getAttribute("t")||"";O!=null&&(O.length==0?F.t=q||"z":a.raw||O.trim().length==0||q=="s"||(O==="TRUE"?F={t:"b",v:!0}:O==="FALSE"?F={t:"b",v:!1}:isNaN(Si(O))?isNaN(Yu(O).getDate())||(F={t:"d",v:aa(O)},a.cellDates||(F={t:"n",v:wa(F.v)}),F.z=a.dateNF||Pr[14]):F={t:"n",v:Si(O)})),F.z===void 0&&I!=null&&(F.z=I);var U="",J=D.getElementsByTagName("A");if(J&&J.length)for(var W=0;W<J.length&&!(J[W].hasAttribute("href")&&(U=J[W].getAttribute("href"),U.charAt(0)!="#"));++W);U&&U.charAt(0)!="#"&&(F.l={Target:U}),a.dense?(e[y+s]||(e[y+s]=[]),e[y+s][N+i]=F):e[Yt({c:N+i,r:y+s})]=F,m.e.c<N+i&&(m.e.c=N+i),N+=k}}++y}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),m.e.r=Math.max(m.e.r,y-1+s),e["!ref"]=qr(m),y>=u&&(e["!fullref"]=qr((m.e.r=c.length-b+y-1+s,m))),e}function WI(e,t){var r=t||{},a=r.dense?[]:{};return UI(a,e,t)}function $ce(e,t){return Ml(WI(e,t),t)}function pC(e){var t="",r=Bce(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Bce(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Uce=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Zu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Gr+t}})(),xC=(function(){var e=function(i){return Xt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,c){var u=[];u.push('      <table:table table:name="'+Xt(o.SheetNames[c])+`" table:style-name="ta1">
`);var m=0,f=0,h=Va(i["!ref"]||"A1"),g=i["!merges"]||[],p=0,b=Array.isArray(i);if(i["!cols"])for(f=0;f<=h.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var y="",j=i["!rows"]||[];for(m=0;m<h.s.r;++m)y=j[m]?' table:style-name="ro'+j[m].ods+'"':"",u.push("        <table:table-row"+y+`></table:table-row>
`);for(;m<=h.e.r;++m){for(y=j[m]?' table:style-name="ro'+j[m].ods+'"':"",u.push("        <table:table-row"+y+`>
`),f=0;f<h.s.c;++f)u.push(t);for(;f<=h.e.c;++f){var N=!1,_={},k="";for(p=0;p!=g.length;++p)if(!(g[p].s.c>f)&&!(g[p].s.r>m)&&!(g[p].e.c<f)&&!(g[p].e.r<m)){(g[p].s.c!=f||g[p].s.r!=m)&&(N=!0),_["table:number-columns-spanned"]=g[p].e.c-g[p].s.c+1,_["table:number-rows-spanned"]=g[p].e.r-g[p].s.r+1;break}if(N){u.push(r);continue}var E=Yt({r:m,c:f}),C=b?(i[m]||[])[f]:i[E];if(C&&C.f&&(_["table:formula"]=Xt(loe(C.f)),C.F&&C.F.slice(0,E.length)==E)){var D=Va(C.F);_["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,_["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!C){u.push(t);continue}switch(C.t){case"b":k=C.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=C.v?"true":"false";break;case"n":k=C.w||String(C.v||0),_["office:value-type"]="float",_["office:value"]=C.v||0;break;case"s":case"str":k=C.v==null?"":C.v,_["office:value-type"]="string";break;case"d":k=C.w||aa(C.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=aa(C.v).toISOString(),_["table:style-name"]="ce1";break;default:u.push(t);continue}var O=e(k);if(C.l&&C.l.Target){var I=C.l.Target;I=I.charAt(0)=="#"?"#"+coe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),O=Ke("text:a",O,{"xlink:href":I.replace(/&/g,"&amp;")})}u.push("          "+Ke("table:table-cell",Ke("text:p",O,{}),_)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(m){return o.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var f=0;f<m["!cols"].length;++f)if(m["!cols"][f]){var h=m["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Tw(h),h.ods=c;var g=m["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(m){return o.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var f=0;f<m["!rows"].length;++f)if(m["!rows"][f]){m["!rows"][f].ods=u;var h=m["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,c){var u=[Gr],m=Zu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Zu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+m+f+`>
`),u.push(aI().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+m+`>
`),s(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)u.push(a(o.Sheets[o.SheetNames[h]],o,h));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function HI(e,t){if(t.bookType=="fods")return xC(e,t);var r=bw(),a="",s=[],i=[];return a="mimetype",kt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",kt(r,a,xC(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",kt(r,a,Uce(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",kt(r,a,Gr+aI()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",kt(r,a,eae(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",kt(r,a,Zne(s)),r}function H0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Wce(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ns(Ju(e))}function Hce(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function zo(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function Vce(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Qu(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function qt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Rc(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qr(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=Qu(e,r),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);c=e.slice(u,r[0])}break;case 5:o=4,c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Qu(e,r),c=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var m={data:c,type:i};t[s]==null?t[s]=[m]:t[s].push(m)}return t}function Nn(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(qt(a*8+s.type)),s.type==2&&t.push(qt(s.data.length)),t.push(s.data))})}),zo(t)}function ys(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=Qu(e,a),i=Qr(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:Rc(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=Qr(c.data),m=Rc(u[3][0].data);o.messages.push({meta:u,data:e.slice(a[0],a[0]+m)}),a[0]+=m}),(t=i[3])!=null&&t[0]&&(o.merge=Rc(i[3][0].data)>>>0>0),r.push(o)}return r}function yc(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:qt(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:qt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:qt(o.data.length)}],a[2].push({data:Nn(o.meta),type:2})});var i=Nn(a);t.push(qt(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),zo(t)}function qce(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Qu(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[r[0]],c>1&&(o|=t[r[0]+1]<<8),c>2&&(o|=t[r[0]+2]<<16),c>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var u=0,m=0;if(i==1?(m=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(m=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[zo(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(m>=u)for(s.push(s[0].slice(-u)),m-=u;m>=s[s.length-1].length;)s.push(s[s.length-1]),m-=s[s.length-1].length;s.push(s[0].slice(-u,-u+m))}}var f=zo(s);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function bs(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(qce(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return zo(t)}function bc(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=qt(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return zo(t)}function Dy(e,t){var r=new Uint8Array(32),a=H0(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Vce(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function Fy(e,t){var r=new Uint8Array(32),a=H0(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function bo(e){var t=Qr(e);return Qu(t[1][0].data)}function Kce(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Rc(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,m=H0(e[7][0].data),f=0,h=[],g=H0(e[4][0].data),p=0,b=[],y=0;y<t.length;++y){if(t[y]==null){m.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}m.setUint16(y*2,f,!0),g.setUint16(y*2,p,!0);var j,N;switch(typeof t[y]){case"string":j=Dy({t:"s",v:t[y]},r),N=Fy({t:"s",v:t[y]},r);break;case"number":j=Dy({t:"n",v:t[y]},r),N=Fy({t:"n",v:t[y]},r);break;case"boolean":j=Dy({t:"b",v:t[y]},r),N=Fy({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}h.push(j),f+=j.length,b.push(N),p+=N.length,++u}for(e[2][0].data=qt(u);y<e[7][0].data.length/2;++y)m.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=zo(h),e[3][0].data=zo(b),u}function Gce(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Va(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(qr(a)));var i=V0(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(B){return B.forEach(function(H){typeof H=="string"&&o.push(H)})});var c={},u=[],m=Zt.read(t.numbers,{type:"base64"});m.FileIndex.map(function(B,H){return[B,m.FullPaths[H]]}).forEach(function(B){var H=B[0],V=B[1];if(H.type==2&&H.name.match(/\.iwa/)){var te=H.content,ye=bs(te),ke=ys(ye);ke.forEach(function(R){u.push(R.id),c[R.id]={deps:[],location:V,type:Rc(R.messages[0].meta[1][0].data)}})}}),u.sort(function(B,H){return B-H});var f=u.filter(function(B){return B>1}).map(function(B){return[B,qt(B)]});m.FileIndex.map(function(B,H){return[B,m.FullPaths[H]]}).forEach(function(B){var H=B[0];if(B[1],!!H.name.match(/\.iwa/)){var V=ys(bs(H.content));V.forEach(function(te){te.messages.forEach(function(ye){f.forEach(function(ke){te.messages.some(function(R){return Rc(R.meta[1][0].data)!=11006&&Hce(R.data,ke[1])})&&c[ke[0]].deps.push(te.id)})})})}});for(var h=Zt.find(m,c[1].location),g=ys(bs(h.content)),p,b=0;b<g.length;++b){var y=g[b];y.id==1&&(p=y)}var j=bo(Qr(p.messages[0].data)[1][0].data);for(h=Zt.find(m,c[j].location),g=ys(bs(h.content)),b=0;b<g.length;++b)y=g[b],y.id==j&&(p=y);for(j=bo(Qr(p.messages[0].data)[2][0].data),h=Zt.find(m,c[j].location),g=ys(bs(h.content)),b=0;b<g.length;++b)y=g[b],y.id==j&&(p=y);for(j=bo(Qr(p.messages[0].data)[2][0].data),h=Zt.find(m,c[j].location),g=ys(bs(h.content)),b=0;b<g.length;++b)y=g[b],y.id==j&&(p=y);var N=Qr(p.messages[0].data);{N[6][0].data=qt(a.e.r+1),N[7][0].data=qt(a.e.c+1);var _=bo(N[46][0].data),k=Zt.find(m,c[_].location),E=ys(bs(k.content));{for(var C=0;C<E.length&&E[C].id!=_;++C);if(E[C].id!=_)throw"Bad ColumnRowUIDMapArchive";var D=Qr(E[C].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var O=0;O<=a.e.c;++O){var I=[];I[1]=I[2]=[{type:0,data:qt(O+420690)}],D[1].push({type:2,data:Nn(I)}),D[2].push({type:0,data:qt(O)}),D[3].push({type:0,data:qt(O)})}D[4]=[],D[5]=[],D[6]=[];for(var T=0;T<=a.e.r;++T)I=[],I[1]=I[2]=[{type:0,data:qt(T+726270)}],D[4].push({type:2,data:Nn(I)}),D[5].push({type:0,data:qt(T)}),D[6].push({type:0,data:qt(T)});E[C].messages[0].data=Nn(D)}k.content=bc(yc(E)),k.size=k.content.length,delete N[46];var F=Qr(N[4][0].data);{F[7][0].data=qt(a.e.r+1);var q=Qr(F[1][0].data),U=bo(q[2][0].data);k=Zt.find(m,c[U].location),E=ys(bs(k.content));{if(E[0].id!=U)throw"Bad HeaderStorageBucket";var J=Qr(E[0].messages[0].data);for(T=0;T<i.length;++T){var W=Qr(J[2][0].data);W[1][0].data=qt(T),W[4][0].data=qt(i[T].length),J[2][T]={type:J[2][0].type,data:Nn(W)}}E[0].messages[0].data=Nn(J)}k.content=bc(yc(E)),k.size=k.content.length;var he=bo(F[2][0].data);k=Zt.find(m,c[he].location),E=ys(bs(k.content));{if(E[0].id!=he)throw"Bad HeaderStorageBucket";for(J=Qr(E[0].messages[0].data),O=0;O<=a.e.c;++O)W=Qr(J[2][0].data),W[1][0].data=qt(O),W[4][0].data=qt(a.e.r+1),J[2][O]={type:J[2][0].type,data:Nn(W)};E[0].messages[0].data=Nn(J)}k.content=bc(yc(E)),k.size=k.content.length;var X=bo(F[4][0].data);(function(){for(var B=Zt.find(m,c[X].location),H=ys(bs(B.content)),V,te=0;te<H.length;++te){var ye=H[te];ye.id==X&&(V=ye)}var ke=Qr(V.messages[0].data);{ke[3]=[];var R=[];o.forEach(function(le,ze){R[1]=[{type:0,data:qt(ze)}],R[2]=[{type:0,data:qt(1)}],R[3]=[{type:2,data:Wce(le)}],ke[3].push({type:2,data:Nn(R)})})}V.messages[0].data=Nn(ke);var G=yc(H),ge=bc(G);B.content=ge,B.size=B.content.length})();var be=Qr(F[3][0].data);{var ne=be[1][0];delete be[2];var ve=Qr(ne.data);{var me=bo(ve[2][0].data);(function(){for(var B=Zt.find(m,c[me].location),H=ys(bs(B.content)),V,te=0;te<H.length;++te){var ye=H[te];ye.id==me&&(V=ye)}var ke=Qr(V.messages[0].data);{delete ke[6],delete be[7];var R=new Uint8Array(ke[5][0].data);ke[5]=[];for(var G=0,ge=0;ge<=a.e.r;++ge){var le=Qr(R);G+=Kce(le,i[ge],o),le[1][0].data=qt(ge),ke[5].push({data:Nn(le),type:2})}ke[1]=[{type:0,data:qt(a.e.c+1)}],ke[2]=[{type:0,data:qt(a.e.r+1)}],ke[3]=[{type:0,data:qt(G)}],ke[4]=[{type:0,data:qt(a.e.r+1)}]}V.messages[0].data=Nn(ke);var ze=yc(H),Fe=bc(ze);B.content=Fe,B.size=B.content.length})()}ne.data=Nn(ve)}F[3][0].data=Nn(be)}N[4][0].data=Nn(F)}p.messages[0].data=Nn(N);var ae=yc(g),P=bc(ae);return h.content=P,h.size=h.content.length,m}function Xce(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Lw(e){Xce([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Yce(e,t){return t.bookType=="ods"?HI(e,t):t.bookType=="numbers"?Gce(e,t):t.bookType=="xlsb"?Jce(e,t):Zce(e,t)}function Jce(e,t){Cc=1024,e&&!e.SSF&&(e.SSF=_a(Pr)),e&&e.SSF&&(Gp(),Kp(e.SSF),t.revssf=Xp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Eu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=kI.indexOf(t.bookType)>-1,s=tI();Lw(t=t||{});var i=bw(),o="",c=0;if(t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(i,o,sI(e.Props,t)),s.coreprops.push(o),Kt(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&u.push(e.SheetNames[m]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(i,o,oI(e.Props)),s.extprops.push(o),Kt(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&On(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(i,o,lI(e.Custprops)),s.custprops.push(o),Kt(t.rels,4,o,Mt.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var f={"!id":{}},h=e.Sheets[e.SheetNames[c-1]],g=(h||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+c+"."+r,kt(i,o,ece(c-1,o,t,e,f)),s.sheets.push(o),Kt(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Mt.WS[0]),h){var p=h["!comments"],b=!1,y="";p&&p.length>0&&(y="xl/comments"+c+"."+r,kt(i,y,nce(p,y)),s.comments.push(y),Kt(f,-1,"../comments"+c+"."+r,Mt.CMNT),b=!0),h["!legacy"]&&b&&kt(i,"xl/drawings/vmlDrawing"+c+".vml",NI(c,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&kt(i,nI(o),Fc(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(i,o,rce(t.Strings,o,t)),s.strs.push(o),Kt(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(i,o,Qle(e,o)),s.workbooks.push(o),Kt(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(i,o,wI(e.Themes,t)),s.themes.push(o),Kt(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(i,o,tce(e,o,t)),s.styles.push(o),Kt(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",kt(i,o,e.vbaraw),s.vba.push(o),Kt(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(i,o,ace(o)),s.metadata.push(o),Kt(t.wbrels,-1,"metadata."+r,Mt.XLMETA),kt(i,"[Content_Types].xml",rI(s,t)),kt(i,"_rels/.rels",Fc(t.rels)),kt(i,"xl/_rels/workbook."+r+".rels",Fc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Zce(e,t){Cc=1024,e&&!e.SSF&&(e.SSF=_a(Pr)),e&&e.SSF&&(Gp(),Kp(e.SSF),t.revssf=Xp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Eu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=kI.indexOf(t.bookType)>-1,s=tI();Lw(t=t||{});var i=bw(),o="",c=0;if(t.cellXfs=[],Vo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",kt(i,o,sI(e.Props,t)),s.coreprops.push(o),Kt(t.rels,2,o,Mt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&u.push(e.SheetNames[m]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,kt(i,o,oI(e.Props)),s.extprops.push(o),Kt(t.rels,3,o,Mt.EXT_PROPS),e.Custprops!==e.Props&&On(e.Custprops||{}).length>0&&(o="docProps/custom.xml",kt(i,o,lI(e.Custprops)),s.custprops.push(o),Kt(t.rels,4,o,Mt.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var h={"!id":{}},g=e.Sheets[e.SheetNames[c-1]],p=(g||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+c+"."+r,kt(i,o,FI(c-1,t,e,h)),s.sheets.push(o),Kt(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Mt.WS[0]),g){var b=g["!comments"],y=!1,j="";if(b&&b.length>0){var N=!1;b.forEach(function(_){_[1].forEach(function(k){k.T==!0&&(N=!0)})}),N&&(j="xl/threadedComments/threadedComment"+c+"."+r,kt(i,j,Cse(b,f,t)),s.threadedcomments.push(j),Kt(h,-1,"../threadedComments/threadedComment"+c+"."+r,Mt.TCMNT)),j="xl/comments"+c+"."+r,kt(i,j,SI(b)),s.comments.push(j),Kt(h,-1,"../comments"+c+"."+r,Mt.CMNT),y=!0}g["!legacy"]&&y&&kt(i,"xl/drawings/vmlDrawing"+c+".vml",NI(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&kt(i,nI(o),Fc(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,kt(i,o,xI(t.Strings,t)),s.strs.push(o),Kt(t.wbrels,-1,"sharedStrings."+r,Mt.SST)),o="xl/workbook."+r,kt(i,o,MI(e)),s.workbooks.push(o),Kt(t.rels,1,o,Mt.WB),o="xl/theme/theme1.xml",kt(i,o,wI(e.Themes,t)),s.themes.push(o),Kt(t.wbrels,-1,"theme/theme1.xml",Mt.THEME),o="xl/styles."+r,kt(i,o,bI(e,t)),s.styles.push(o),Kt(t.wbrels,-1,"styles."+r,Mt.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",kt(i,o,e.vbaraw),s.vba.push(o),Kt(t.wbrels,-1,"vbaProject.bin",Mt.VBA)),o="xl/metadata."+r,kt(i,o,_I()),s.metadata.push(o),Kt(t.wbrels,-1,"metadata."+r,Mt.XLMETA),f.length>1&&(o="xl/persons/person.xml",kt(i,o,Pse(f)),s.people.push(o),Kt(t.wbrels,-1,"persons/person.xml",Mt.PEOPLE)),kt(i,"[Content_Types].xml",rI(s,t)),kt(i,"_rels/.rels",Fc(t.rels)),kt(i,"xl/_rels/workbook."+r+".rels",Fc(t.wbrels)),delete t.revssf,delete t.ssf,i}function Qce(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Mi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function VI(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Pf(t.file,Zt.write(e,{type:$t?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Zt.write(e,t)}function ede(e,t){var r=_a(t||{}),a=Yce(e,r);return tde(a,r)}function tde(e,t){var r={},a=$t?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Zt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(qp(s))}return t.password&&typeof encrypt_agile<"u"?VI(encrypt_agile(s,t.password),t):t.type==="file"?Pf(t.file,s):t.type=="string"?_u(s):s}function rde(e,t){var r=t||{},a=vce(e,r);return VI(a,r)}function $s(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return Xu(Ju(a));case"binary":return Ju(a);case"string":return e;case"file":return Pf(t.file,a,"utf8");case"buffer":return $t?Ji(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):$s(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function nde(e,t){switch(t.type){case"base64":return Xu(e);case"binary":return e;case"string":return e;case"file":return Pf(t.file,e,"binary");case"buffer":return $t?Ji(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?Xu(r):t.type=="string"?_u(r):r;case"file":return Pf(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function qI(e,t){Tre(),Ule(e);var r=_a(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=qI(e,r);return r.type="array",qp(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return $s(xce(e,r),r);case"slk":case"sylk":return $s(zae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return $s(BI(e.Sheets[e.SheetNames[s]],r),r);case"txt":return nde(GI(e.Sheets[e.SheetNames[s]],r),r);case"csv":return $s(Rw(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return $s($ae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return hh(Mae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return $s(Bae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return $s(Gae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return $s(pI.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return $s(HI(e,r),r);case"wk1":return hh(cC.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return hh(cC.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),hh($I(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),rde(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ede(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function ade(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function KI(e,t,r){var a={};return a.type="file",a.file=t,ade(a),qI(e,a)}function sde(e,t,r,a,s,i,o,c){var u=Tn(r),m=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),h=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var b=o?e[r][p]:e[a[p]+u];if(b===void 0||b.t===void 0){if(m===void 0)continue;i[p]!=null&&(g[i[p]]=m);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[p]!=null){if(y==null)if(b.t=="e"&&y===null)g[i[p]]=null;else if(m!==void 0)g[i[p]]=m;else if(f&&y===null)g[i[p]]=null;else continue;else g[i[p]]=f&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?y:zi(b,y,c);y!=null&&(h=!1)}}return{row:g,isempty:h}}function V0(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},m=t||{},f=m.range!=null?m.range:e["!ref"];switch(m.header===1?a=1:m.header==="A"?a=2:Array.isArray(m.header)?a=3:m.header==null&&(a=0),typeof f){case"string":u=dr(f);break;case"number":u=dr(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(s=0);var h=Tn(u.s.r),g=[],p=[],b=0,y=0,j=Array.isArray(e),N=u.s.r,_=0,k={};j&&!e[N]&&(e[N]=[]);var E=m.skipHidden&&e["!cols"]||[],C=m.skipHidden&&e["!rows"]||[];for(_=u.s.c;_<=u.e.c;++_)if(!(E[_]||{}).hidden)switch(g[_]=qn(_),r=j?e[N][_]:e[g[_]+h],a){case 1:i[_]=_-u.s.c;break;case 2:i[_]=g[_];break;case 3:i[_]=m.header[_-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=zi(r,null,m),y=k[o]||0,!y)k[o]=1;else{do c=o+"_"+y++;while(k[c]);k[o]=y,k[c]=1}i[_]=c}for(N=u.s.r+s;N<=u.e.r;++N)if(!(C[N]||{}).hidden){var D=sde(e,u,N,g,a,i,j,m);(D.isempty===!1||(a===1?m.blankrows!==!1:m.blankrows))&&(p[b++]=D.row)}return p.length=b,p}var gC=/"/g;function ide(e,t,r,a,s,i,o,c){for(var u=!0,m=[],f="",h=Tn(r),g=t.s.c;g<=t.e.c;++g)if(a[g]){var p=c.dense?(e[r]||[])[g]:e[a[g]+h];if(p==null)f="";else if(p.v!=null){u=!1,f=""+(c.rawNumbers&&p.t=="n"?p.v:zi(p,null,c));for(var b=0,y=0;b!==f.length;++b)if((y=f.charCodeAt(b))===s||y===i||y===34||c.forceQuotes){f='"'+f.replace(gC,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(u=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(gC,'""')+'"')):f="";m.push(f)}return c.blankrows===!1&&u?null:m.join(o)}function Rw(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=dr(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),m=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(g[b]||{}).hidden||(h[b]=qn(b));for(var y=0,j=s.s.r;j<=s.e.r;++j)(p[j]||{}).hidden||(f=ide(e,s,j,h,o,u,i,a),f!=null&&(a.strip&&(f=f.replace(m,"")),(f||a.blankrows!==!1)&&r.push((y++?c:"")+f)));return delete a.dense,r.join("")}function GI(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Rw(e,t);return r}function ode(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=dr(e["!ref"]),i="",o=[],c,u=[],m=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)o[c]=qn(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=Tn(f),c=s.s.c;c<=s.e.c;++c)if(t=o[c]+i,r=m?(e[f]||[])[c]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function XI(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?xn(a.origin):a.origin;o=u.r,c=u.c}var m,f={s:{c:0,r:0},e:{c,r:o+t.length-1+s}};if(i["!ref"]){var h=dr(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+t.length-1+s)}else o==-1&&(o=0,f.e.r=t.length-1+s);var g=a.header||[],p=0;t.forEach(function(y,j){On(y).forEach(function(N){(p=g.indexOf(N))==-1&&(g[p=g.length]=N);var _=y[N],k="z",E="",C=Yt({c:c+p,r:o+j+s});m=ef(i,C),_&&typeof _=="object"&&!(_ instanceof Date)?i[C]=_:(typeof _=="number"?k="n":typeof _=="boolean"?k="b":typeof _=="string"?k="s":_ instanceof Date?(k="d",a.cellDates||(k="n",_=wa(_)),E=a.dateNF||Pr[14]):_===null&&a.nullError&&(k="e",_=0),m?(m.t=k,m.v=_,delete m.w,delete m.R,E&&(m.z=E)):i[C]=m={t:k,v:_},E&&(m.z=E))})}),f.e.c=Math.max(f.e.c,c+g.length-1);var b=Tn(o);if(s)for(p=0;p<g.length;++p)i[qn(p+c)+b]={t:"s",v:g[p]};return i["!ref"]=qr(f),i}function lde(e,t){return XI(null,e,t)}function ef(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=xn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ef(e,Yt(t)):ef(e,Yt({r:t,c:r||0}))}function cde(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dde(){return{SheetNames:[],Sheets:{}}}function ude(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(RI(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function fde(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=cde(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function mde(e,t){return e.z=t,e}function YI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function hde(e,t,r){return YI(e,"#"+t,r)}function pde(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function xde(e,t,r,a){for(var s=typeof t!="string"?t:dr(t),i=typeof t=="string"?t:qr(t),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=ef(e,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=r,a&&(u.D=!0))}return e}var Mc={encode_col:qn,encode_row:Tn,encode_cell:Yt,encode_range:qr,decode_col:kw,decode_row:Sw,split_cell:Tne,decode_cell:xn,decode_range:Va,format_cell:zi,sheet_add_aoa:X6,sheet_add_json:XI,sheet_add_dom:UI,aoa_to_sheet:yd,json_to_sheet:lde,table_to_sheet:WI,table_to_book:$ce,sheet_to_csv:Rw,sheet_to_txt:GI,sheet_to_json:V0,sheet_to_html:BI,sheet_to_formulae:ode,sheet_to_row_object_array:V0,sheet_get_cell:ef,book_new:dde,book_append_sheet:ude,book_set_sheet_visibility:fde,cell_set_number_format:mde,cell_set_hyperlink:YI,cell_set_internal_link:hde,cell_add_comment:pde,sheet_set_array_formula:xde,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const gde=e=>({id:e.id||0,name:e.full_name||e.name||"Unknown",email:e.email||"",phone:e.phone_number||e.phone||"",address:e.address||"",pincode:e.pincode||"",city:e.city||"",state:e.state||"",profile_image:e.profile_photo_url||e.profile_image||"",status:e.status==="active"||e.status==="inactive"||e.status==="suspended"?e.status:"active",email_verified:e.email_verified!==void 0?e.email_verified:!0,phone_verified:e.phone_verified!==void 0?e.phone_verified:!0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||e.created_at||new Date().toISOString(),last_login:e.last_login||e.updated_at||e.created_at||new Date().toISOString(),total_bookings:e.total_bookings||e.completed_appointments||0,total_spent:e.total_spent||0,recent_activities:(e.recent_activities||e.activities||[]).map(t=>({activity_type:t.activity_type||t.type||"unknown",description:t.description||"",ip_address:t.ip_address||"",created_at:t.created_at||new Date().toISOString()})),expanded:!1}),vde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(1),[u,m]=v.useState(new Set),f={name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0},h=5,{addToast:g}=Dt(),{user:p}=vn(),b=v.useCallback(async()=>{const O=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!O){g("Please login to view users","error"),a(!1);return}try{a(!0);const I=await fetch(`${we}/admin/users`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!I.ok){if(I.status===401){g("Authentication failed. Please log in again.","error"),a(!1);return}throw new Error(`HTTP error! status: ${I.status}`)}const T=I.headers.get("content-type");if(!T||!T.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),t([]),a(!1);return}const F=await I.text();if(!F||F.trim()===""){console.warn("Empty response body, treating as empty list"),t([]),a(!1);return}let q;try{q=JSON.parse(F)}catch(W){throw console.error("JSON parse error:",W,"Response text:",F),new Error("Invalid JSON response from server")}let U=[];if(Array.isArray(q.data))U=q.data;else if(Array.isArray(q.users))U=q.users;else if(Array.isArray(q))U=q;else if(q.success===!1){console.warn("API returned error:",q.message),t([]),a(!1);return}else throw new Error(q.message||"Invalid response format from server");const J=U.map(W=>gde(W));t(J)}catch(I){console.error("Error fetching users:",I);const T=I instanceof Error?I.message:"Failed to fetch users";g(T,"error"),t([])}finally{a(!1)}},[g]);v.useEffect(()=>{b()},[b]);const y=e.filter(O=>O.name.toLowerCase().includes(s.toLowerCase())||O.email.toLowerCase().includes(s.toLowerCase())||O.phone.includes(s)||O.city.toLowerCase().includes(s.toLowerCase())),j=Math.ceil(y.length/h),N=(o-1)*h,_=y.slice(N,N+h),k=async(O,I)=>{const T=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!T){g("Please login to update user status","error");return}let F={};const q=p?.name||p?.full_name||"Admin User";I==="suspended"?F={action:"suspend",notes:"User suspended by admin",admin_name:q}:F={action:"activate"};try{t(e.map(X=>X.id===O?{...X,status:I,updated_at:new Date().toISOString()}:X));const U=await fetch(`${we}/admin/users/${O}/status`,{method:"PUT",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify(F)});let J=null;const W=U.headers.get("content-type");if(W&&W.includes("application/json")&&U.status!==204)try{const X=await U.text();X&&X.trim()&&(J=JSON.parse(X))}catch(X){console.warn("Could not parse response:",X)}if(!U.ok){b();let X="Failed to update user status";throw J?X=J.message||J.error?.message||X:U.status===404?X="User status update endpoint not found. The API endpoint may not be implemented yet.":U.status===401?X="Authentication failed. Please log in again.":U.status===403?X="You do not have permission to update user status.":X=`Server error: ${U.status} ${U.statusText}`,new Error(X)}g(J?.message||`User status updated to ${I}`,"success"),b()}catch(U){console.error("Error updating user status:",U);const J=U instanceof Error?U.message:"Failed to update user status";g(J,"error"),b()}},E=O=>{e.find(T=>T.id===O)?.expanded||(m(T=>new Set(T).add(O)),setTimeout(()=>{m(T=>{const F=new Set(T);return F.delete(O),F})},300)),t(T=>T.map(F=>F.id===O?{...F,expanded:!F.expanded}:F))},C=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=()=>{try{const O=y.map(W=>({"User ID":W.id,Name:W.name,Email:W.email,Phone:W.phone,Address:W.address,City:W.city,State:W.state,Pincode:W.pincode,Status:W.status,"Email Verified":W.email_verified?"Yes":"No","Phone Verified":W.phone_verified?"Yes":"No","Total Bookings":W.total_bookings,"Total Spent ()":W.total_spent,"Created At":C(W.created_at),"Last Login":C(W.last_login),"Updated At":C(W.updated_at)})),I=Mc.book_new(),T=Mc.json_to_sheet(O),F=[{wch:10},{wch:25},{wch:30},{wch:15},{wch:40},{wch:20},{wch:20},{wch:10},{wch:12},{wch:15},{wch:15},{wch:15},{wch:15},{wch:20},{wch:20},{wch:20}];T["!cols"]=F,Mc.book_append_sheet(I,T,"Users");const J=`Users_Export_${new Date().toISOString().split("T")[0]}.xlsx`;KI(I,J),g(`Excel file exported successfully: ${J}`,"success")}catch(O){console.error("Error exporting to Excel:",O),g("Failed to export Excel file","error")}};return n.jsxs(It,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Users"}),n.jsx("p",{className:"text-gray-600",children:"Manage user accounts, orders, and engagement activity."})]}),r?n.jsx(Xc,{}):n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(wt,{children:"All Users"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(De,{variant:"outline",size:"sm",onClick:D,className:"flex items-center space-x-2 border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary",disabled:y.length===0,children:[n.jsx(G0,{size:16}),n.jsx("span",{children:"Export to Excel"})]}),n.jsx(p6,{searchTerm:s,onSearchChange:i})]})]}),n.jsxs(Ze,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx(Ere,{columnVisibility:f}),n.jsx("tbody",{children:_.map(O=>n.jsxs(jr.Fragment,{children:[n.jsx(Are,{user:O,columnVisibility:f,expandingUsers:u,onStatusChange:k,onToggleDropdown:E,formatDate:C}),O.expanded&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(f).filter(Boolean).length,className:"py-6 px-6",children:n.jsx(kre,{user:O,formatDate:C})})})]},O.id))})]})}),j>1&&n.jsx(h6,{currentPage:o,totalPages:j,startIndex:N,itemsPerPage:h,totalItems:y.length,onPageChange:c})]})]})]})},yde=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Dn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),bde=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," categories"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(td,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(De,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]}),jde=({isOpen:e,onClose:t,onSave:r,category:a,isSubmitting:s=!1,initialImageUrl:i})=>{const[o,c]=v.useState({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),[u,m]=v.useState(null);v.useEffect(()=>{if(a){const h=a;c({name:a.name,description:"",icon:"",image:typeof i=="string"?i:"",status:"active",sort_order:0,show_on_homepage:h.show_on_homepage||!1}),m(typeof i=="string"&&i?i:null)}else c({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),m(null)},[a,e,i]);const f=h=>{h.preventDefault(),r(o)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:a?"Edit Category":"Add New Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",required:!0,value:o.name,onChange:h=>c({...o,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image (upload a file or paste a URL)"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{children:n.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsx($c,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Choose file"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h=>{const g=h.target.files&&h.target.files[0];if(g){const p=URL.createObjectURL(g);m(p),c({...o,image:g})}}})]})}),n.jsx("div",{children:n.jsx("input",{type:"url",value:typeof o.image=="string"?o.image:"",onChange:h=>{c({...o,image:h.target.value}),m(h.target.value||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"/public/images/cat.jpg or https://..."})})]}),u&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:u,alt:"Preview",className:"max-h-24 max-w-full rounded border"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.show_on_homepage||!1,onChange:h=>c({...o,show_on_homepage:h.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show on Homepage (Max 6 categories)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Only 6 categories with this checkbox checked will be displayed on the homepage"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(De,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(De,{type:"submit",disabled:s,className:"bg-primary hover:bg-primary/90 text-white",children:s?"Saving...":a?"Update":"Create"})]})]})]})}):null},vC=({isOpen:e,onClose:t,onConfirm:r,category:a,isSubmitting:s=!1})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delete Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',a?.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(De,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(De,{onClick:r,disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Deleting...":"Delete"})]})]})]})}):null,wde=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${lb}${r}`},ph=()=>{const{addToast:e}=Dt(),{user:t}=vn(),r=ca();Na();const a=t?.role==="admin",i=(()=>{const M=r.pathname;return M.includes("/inventory")?"inventory":M.includes("/generic")?"generic":M.includes("/branded")?"branded":"categories"})(),[o,c]=v.useState(0),[u,m]=v.useState(0),[f,h]=v.useState(!1),[g,p]=v.useState([]),[b,y]=v.useState([]),[j,N]=v.useState(!1),[_,k]=v.useState(!1),[E,C]=v.useState(""),[D,O]=v.useState(""),[I,T]=v.useState(1),[F,q]=v.useState(1),[U,J]=v.useState(!1),[W,he]=v.useState("add"),[X,be]=v.useState(null),[ne,ve]=v.useState(!1),[me,ae]=v.useState(!1),[P,B]=v.useState([]),[H,V]=v.useState(!1),[te,ye]=v.useState([]),[ke,R]=v.useState(!1),[G,ge]=v.useState(!1),[le,ze]=v.useState(null),[Fe,Ce]=v.useState("add"),[Ae,_e]=v.useState(!1),[it,Xe]=v.useState(null),[gt,at]=v.useState([]),[vt,St]=v.useState(!1),[yt,_r]=v.useState(null),[_t,se]=v.useState("all"),[Y,Pe]=v.useState("all"),[Ie,ht]=v.useState(!1),Et=10,Ye=async()=>{N(!0);try{const M=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),ce=await fetch(`${we}/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...M?{Authorization:`Bearer ${M}`}:{}}}),oe=await ce.json();if(ce.ok&&oe.categories&&Array.isArray(oe.categories)){const xe=oe.categories.map(Te=>({id:Te.id,name:Te.name,image_url:typeof Te.image_url=="string"?Te.image_url:"",show_on_homepage:Te.show_on_homepage||!1,created_at:Te.created_at||new Date().toISOString(),updated_at:Te.updated_at||new Date().toISOString()}));p(xe)}else throw new Error(oe.message||"Failed to fetch categories")}catch(M){console.error("Error fetching categories:",M);const ce=M instanceof Error?M.message:"Failed to fetch categories";e(ce,"error")}finally{N(!1)}};v.useEffect(()=>{Ye()},[]),v.useEffect(()=>{(i==="inventory"||i==="generic"||i==="branded")&&vr(),(i==="generic"||i==="branded")&&Ir()},[i]);const Ir=async()=>{h(!0);try{const M=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),ce=await fetch(`${we}/admin/commissions`,{method:"GET",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(ce.ok){const oe=await ce.json();c(oe.generic_commission||0),m(oe.branded_commission||0)}}catch(M){console.error("Error fetching commissions:",M)}finally{h(!1)}},zr=async(M,ce)=>{if(!a){e("Only super admin can update commission rates","error");return}h(!0);try{const oe=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),de=await fetch(`${we}/admin/commissions`,{method:"PUT",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"},body:JSON.stringify({[M==="generic"?"generic_commission":"branded_commission"]:ce})}),xe=await de.json();if(de.ok&&xe.success)c(xe.generic_commission||0),m(xe.branded_commission||0),e("Commission updated successfully","success");else{const Te=xe?.error?.message||xe?.message||"Failed to update commission";console.error("Error updating commission:",xe),e(Te,"error")}}catch(oe){console.error("Error updating commission:",oe);const de=oe?.message||"Failed to update commission. Please try again.";e(de,"error")}finally{h(!1)}},vr=async()=>{k(!0);try{const M=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),ce=new URLSearchParams;D&&ce.append("search",D);const oe=await fetch(`${we}/admin/inventory?${ce.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",...M?{Authorization:`Bearer ${M}`}:{}}});if(!oe.ok){const xe=await oe.json().catch(()=>({}));throw console.error("Inventory fetch error:",oe.status,xe),new Error(xe.error?.message||xe.message||`Failed to fetch inventory: ${oe.statusText}`)}const de=await oe.json();if(de.inventory&&Array.isArray(de.inventory)){const xe=de.inventory.map(Te=>({...Te,price:Number(Te.price||0),discounted_price:Te.discounted_price?Number(Te.discounted_price):null,stock_quantity:Number(Te.stock_quantity||0),low_stock_threshold:Number(Te.low_stock_threshold||0)}));y(xe)}else console.warn("Unexpected inventory response format:",de),y([])}catch(M){console.error("Error fetching inventory:",M);const ce=M instanceof Error?M.message:"Failed to fetch inventory";e(ce,"error"),y([])}finally{k(!1)}},Ea=async M=>{const ce=M.target.files?.[0];if(ce){if(!ce.name.toLowerCase().endsWith(".xlsx")&&!ce.name.toLowerCase().endsWith(".xls")){e("Please upload an Excel file (.xlsx or .xls)","error");return}ae(!0);try{const oe=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),de=new FormData;de.append("inventory_file",ce);const xe=await fetch(`${we}/admin/inventory/upload`,{method:"POST",headers:{...oe?{Authorization:`Bearer ${oe}`}:{}},body:de}),Te=await xe.json();if(xe.ok)e(`Inventory uploaded: ${Te.inserted} new, ${Te.updated} updated`,"success"),vr();else throw new Error(Te.error?.message||Te.message||"Failed to upload inventory")}catch(oe){console.error("Error uploading inventory:",oe);const de=oe instanceof Error?oe.message:"Failed to upload inventory";e(de,"error")}finally{ae(!1),M.target.value=""}}},Aa=M=>{ze(M),Ce("edit"),R(!0)},Ca=async M=>{if(confirm(`Are you sure you want to delete "${M.medicine_name}"?`))try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!ce){e("Please login to delete inventory","error");return}const oe=await fetch(`${we}/admin/inventory/${M.id}`,{method:"DELETE",headers:{...ce?{Authorization:`Bearer ${ce}`}:{}}}),de=await oe.json();if(oe.ok)e("Inventory item deleted successfully","success"),vr();else throw new Error(de.error?.message||de.message||"Failed to delete inventory item")}catch(ce){console.error("Error deleting inventory:",ce);const oe=ce instanceof Error?ce.message:"Failed to delete inventory item";e(oe,"error")}},Xn=async M=>{ge(!0);try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!ce){e("Please login to add inventory","error");return}const oe=Fe==="edit"&&le?"PUT":"POST",de=Fe==="edit"&&le?`${we}/admin/inventory/${le.id}`:`${we}/admin/inventory`,xe=await fetch(de,{method:oe,headers:{...ce?{Authorization:`Bearer ${ce}`}:{}},body:M}),Te=await xe.json();if(xe.ok)e(`Inventory item ${Fe==="edit"?"updated":"added"} successfully`,"success"),R(!1),ze(null),Ce("add"),vr();else throw new Error(Te.error?.message||Te.message||`Failed to ${Fe==="edit"?"update":"add"} inventory item`)}catch(ce){console.error(`Error ${Fe==="edit"?"updating":"adding"} inventory:`,ce);const oe=ce instanceof Error?ce.message:`Failed to ${Fe==="edit"?"update":"add"} inventory item`;e(oe,"error")}finally{ge(!1)}},ue=async(M,ce)=>{try{const oe=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),de=await fetch(`${we}/admin/inventory/${M}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",...oe?{Authorization:`Bearer ${oe}`}:{}},body:JSON.stringify({category_ids:ce})}),xe=await de.json();if(de.ok)e("Categories assigned successfully","success"),vr();else throw new Error(xe.error?.message||xe.message||"Failed to assign categories")}catch(oe){console.error("Error assigning categories:",oe);const de=oe instanceof Error?oe.message:"Failed to assign categories";e(de,"error")}},qe=async()=>{if(P.length===0||te.length===0){e("Please select inventory items and categories","error");return}try{const M=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),ce=await fetch(`${we}/admin/inventory/bulk-assign-categories`,{method:"POST",headers:{"Content-Type":"application/json",...M?{Authorization:`Bearer ${M}`}:{}},body:JSON.stringify({inventory_ids:P,category_ids:te})}),oe=await ce.json();if(ce.ok)e(`Categories assigned to ${oe.items_updated} items`,"success"),B([]),ye([]),V(!1),vr();else throw new Error(oe.error?.message||oe.message||"Failed to assign categories")}catch(M){console.error("Error bulk assigning categories:",M);const ce=M instanceof Error?M.message:"Failed to assign categories";e(ce,"error")}},mt=M=>{B(ce=>ce.includes(M)?ce.filter(oe=>oe!==M):[...ce,M])},ur=()=>{P.length===K.length?B([]):B(K.map(M=>M.id))},Lt=async()=>{if(P.length===0){e("Please select inventory items to delete","error");return}if(confirm(`Are you sure you want to delete ${P.length} inventory item(s)?`))try{const M=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!M){e("Please login to delete inventory","error");return}const ce=await fetch(`${we}/admin/inventory/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...M?{Authorization:`Bearer ${M}`}:{}},body:JSON.stringify({inventory_ids:P})}),oe=await ce.json();if(ce.ok)e(`Successfully deleted ${oe.deleted_count} inventory item(s)`,"success"),B([]),vr();else throw new Error(oe.error?.message||oe.message||"Failed to delete inventory items")}catch(M){console.error("Error bulk deleting inventory:",M);const ce=M instanceof Error?M.message:"Failed to delete inventory items";e(ce,"error")}},Xr=()=>{_r(null),se("all"),Pe("all"),ht(!1)},Fn=yt!==null||_t!=="all"||Y!=="all"||Ie,ua=()=>{he("add"),be(null),J(!0)},Yn=M=>{he("edit"),be(M),J(!0)},Ln=M=>{he("delete"),be(M),J(!0)},fs=async M=>{ve(!0);try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!ce){e("Please login to save category","error"),ve(!1);return}const oe=de=>{if(!de)return"Request failed";if(typeof de=="string")return de;if(de.message&&typeof de.message=="string")return de.message;if(de.error&&typeof de.error=="string")return de.error;if(de.errors&&typeof de.errors=="object"){const xe=Object.keys(de.errors)[0],Te=Array.isArray(de.errors[xe])?de.errors[xe][0]:de.errors[xe];return typeof Te=="string"?Te:"Validation failed"}try{return JSON.stringify(de)}catch{return"Unknown error"}};if(W==="add"){let de;if(M.image instanceof File){const $e=new FormData;$e.append("name",M.name),$e.append("image",M.image),$e.append("show_on_homepage",M.show_on_homepage?"1":"0"),de=await fetch(`${we}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${ce}`},body:$e})}else{const $e={name:M.name};typeof M.image=="string"&&M.image.trim()!==""&&($e.image=M.image),$e.show_on_homepage=M.show_on_homepage?1:0,de=await fetch(`${we}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify($e)})}const xe=await de.text(),Te=(()=>{try{return xe?JSON.parse(xe):{}}catch{return{raw:xe}}})();if(de.ok&&Te.category)await Ye(),e("Category created successfully","success"),J(!1);else throw new Error(oe(Te)||"Failed to create category")}else if(W==="edit"&&X){let de;if(M.image instanceof File){const $e=new FormData;$e.append("name",M.name),$e.append("image",M.image),$e.append("show_on_homepage",M.show_on_homepage?"1":"0"),de=await fetch(`${we}/admin/categories/${X.id}`,{method:"PUT",headers:{Authorization:`Bearer ${ce}`},body:$e})}else{const $e={name:M.name};typeof M.image=="string"&&M.image.trim()!==""&&($e.image=M.image),$e.show_on_homepage=M.show_on_homepage?1:0,de=await fetch(`${we}/admin/categories/${X.id}`,{method:"PUT",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify($e)})}const xe=await de.text(),Te=(()=>{try{return xe?JSON.parse(xe):{}}catch{return{raw:xe}}})();if(de.ok&&Te.category)await Ye(),e("Category updated successfully","success"),J(!1);else throw new Error(oe(Te)||"Failed to update category")}}catch(ce){console.error("Error saving category:",ce);const oe=ce instanceof Error?ce.message:typeof ce=="string"?ce:"Failed to save category";e(oe,"error")}finally{ve(!1)}},fa=async()=>{if(X){ve(!0);try{const M=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!M){e("Please login to delete category","error"),ve(!1);return}const ce=await fetch(`${we}/admin/categories/${X.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}}),oe=await ce.json();if(ce.ok)p(de=>de.filter(xe=>xe.id!==X.id)),e("Category deleted successfully","success"),J(!1),Ye();else throw new Error(oe.message||oe.error||"Failed to delete category")}catch(M){console.error("Error deleting category:",M);const ce=M instanceof Error?M.message:"Failed to delete category";e(ce,"error")}finally{ve(!1)}}},qo=g.filter(M=>M.name.toLowerCase().includes(E.toLowerCase())),Ts=Math.ceil(qo.length/Et),Os=(I-1)*Et,z=qo.slice(Os,Os+Et),Q=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),K=b.filter(M=>!(!(M.medicine_name.toLowerCase().includes(D.toLowerCase())||M.manufacturer_name?.toLowerCase().includes(D.toLowerCase()))||yt!==null&&!M.category_ids.includes(yt)||_t==="yes"&&!M.is_discontinued||_t==="no"&&M.is_discontinued||Y==="required"&&!M.prescription_required||Y==="not_required"&&M.prescription_required||Ie&&M.stock_quantity>(M.low_stock_threshold||0))),Z=Math.ceil(K.length/Et),ee=(F-1)*Et,re=K.slice(ee,ee+Et);return n.jsxs(It,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Medicine Categories"}),n.jsx("p",{className:"text-gray-600",children:"Manage categories and platform inventory with category assignment."})]}),i==="categories"&&n.jsxs(n.Fragment,{children:[j?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]}):n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(wt,{children:"All Categories"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(yde,{searchTerm:E,onSearchChange:C}),n.jsxs(De,{onClick:ua,className:"flex items-center space-x-2",children:[n.jsx(ia,{size:16}),n.jsx("span",{children:"Add Category"})]})]})]}),n.jsxs(Ze,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Image"}),n.jsx("th",{className:"text-left pb-4",children:"Name"}),n.jsx("th",{className:"text-left pb-4",children:"Published"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:z.map(M=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:M.image_url?n.jsx("img",{src:wde(M.image_url),alt:M.name,className:"h-10 w-10 rounded object-cover border",onError:ce=>{const oe=ce.currentTarget;oe.src!==M.image_url&&(oe.src=M.image_url)}}):n.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:M.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",M.id]})]}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:Q(M.created_at)})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:()=>Yn(M),children:"Edit"}),n.jsx(De,{onClick:()=>Ln(M),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},M.id))})]})}),Ts>1&&n.jsx(bde,{currentPage:I,totalPages:Ts,startIndex:Os,itemsPerPage:Et,totalItems:qo.length,onPageChange:T})]})]}),(W==="add"||W==="edit")&&n.jsx(jde,{isOpen:U,onClose:()=>J(!1),onSave:fs,category:X?{id:X.id,name:X.name,description:"",icon:"",status:"active",total_services:0,created_at:X.created_at,updated_at:X.updated_at,show_on_homepage:X.show_on_homepage||!1}:void 0,initialImageUrl:X?.image_url,isSubmitting:ne}),W==="delete"&&n.jsx(vC,{isOpen:U,onClose:()=>J(!1),onConfirm:fa,category:X,isSubmitting:ne}),W==="delete"&&n.jsx(vC,{isOpen:U,onClose:()=>J(!1),onConfirm:fa,category:X,isSubmitting:ne})]}),i==="inventory"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"relative flex-1 max-w-md",children:n.jsx("input",{type:"text",placeholder:"Search inventory by name or manufacturer...",value:D,onChange:M=>O(M.target.value),className:"w-full px-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),P.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(De,{onClick:()=>V(!0),className:"flex items-center gap-2",children:[n.jsx(OL,{size:16}),"Assign Categories (",P.length,")"]}),n.jsxs(De,{onClick:Lt,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(As,{size:16}),"Delete (",P.length,")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(De,{onClick:()=>St(!vt),className:`flex items-center gap-2 ${Fn?"bg-primary text-white":""}`,children:[n.jsx(nf,{size:16}),"Filters",Fn&&n.jsx("span",{className:"ml-1 bg-white text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:[yt!==null,_t!=="all",Y!=="all",Ie].filter(Boolean).length})]}),n.jsxs(De,{onClick:()=>R(!0),className:"flex items-center gap-2",children:[n.jsx(ia,{size:16}),"Add Inventory"]}),n.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors cursor-pointer flex items-center gap-2",children:[n.jsx($c,{size:16}),me?"Uploading...":"Upload Excel",n.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Ea,className:"hidden",disabled:me})]})]})]}),vt&&n.jsxs(Je,{className:"mb-6",children:[n.jsxs(jt,{className:"flex items-center justify-between pb-3",children:[n.jsx(wt,{className:"text-lg",children:"Filters"}),n.jsxs("div",{className:"flex items-center gap-2",children:[Fn&&n.jsxs(De,{onClick:Xr,className:"text-xs flex items-center gap-1",size:"sm",children:[n.jsx(Hn,{size:14}),"Clear All"]}),n.jsx("button",{onClick:()=>St(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]})]}),n.jsx(Ze,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),n.jsxs("select",{value:yt||"",onChange:M=>_r(M.target.value?parseInt(M.target.value):null),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"All Categories"}),g.map(M=>n.jsx("option",{value:M.id,children:M.name},M.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discontinued"}),n.jsxs("select",{value:_t,onChange:M=>se(M.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Discontinued"}),n.jsx("option",{value:"no",children:"Active"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prescription"}),n.jsxs("select",{value:Y,onChange:M=>Pe(M.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"required",children:"Required"}),n.jsx("option",{value:"not_required",children:"Not Required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Status"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Ie,onChange:M=>ht(M.target.checked),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Low Stock Only"})]})]})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]}):n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"Platform Inventory"})}),n.jsxs(Ze,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"text-left pb-4 px-2",children:n.jsx("input",{type:"checkbox",checked:P.length===K.length&&K.length>0,onChange:ur,className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Name"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Discounted Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Prescription Required or Not"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Marketed By"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Type"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Item Group"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Pack Size Label"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Stock Quantity"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Low Stock Threshold"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Justification (Active Ingredient & Class)"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Description"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Picture"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Categories"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Actions"})]})}),n.jsx("tbody",{children:re.map(M=>n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-2",children:n.jsx("input",{type:"checkbox",checked:P.includes(M.id),onChange:()=>mt(M.id),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"font-medium max-w-[150px] truncate",title:M.medicine_name,children:M.medicine_name})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("span",{className:"font-medium",children:["",Number(M.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-2",children:M.discounted_price&&M.discounted_price>0?n.jsxs("span",{className:"font-medium text-green-600",children:["",Number(M.discounted_price).toFixed(2)]}):"-"}),n.jsx("td",{className:"py-3 px-2",children:M.prescription_required?n.jsx("span",{className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded",children:"Required"}):n.jsx("span",{className:"text-xs text-gray-400",children:"Not Required"})}),n.jsx("td",{className:"py-3 px-2 text-sm text-gray-600 max-w-[120px]",children:M.manufacturer_name?n.jsx("div",{className:"truncate",title:M.manufacturer_name,children:M.manufacturer_name}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:M.medicine_type?n.jsx("div",{className:"truncate",title:M.medicine_type,children:M.medicine_type}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:M.category?n.jsx("div",{className:"truncate",title:M.category,children:M.category}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:M.pack_size_label?n.jsx("div",{className:"truncate",title:M.pack_size_label,children:M.pack_size_label}):"-"}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("span",{className:M.stock_quantity<=(M.low_stock_threshold||0)?"text-red-600 font-medium":"",children:M.stock_quantity})}),n.jsx("td",{className:"py-3 px-2 text-sm",children:M.low_stock_threshold||0}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:M.justification?n.jsx("div",{className:"truncate",title:M.justification,children:M.justification}):"-"}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:M.description?n.jsx("div",{className:"truncate",title:M.description,children:M.description}):"-"}),n.jsx("td",{className:"py-3 px-2",children:M.images?(()=>{const ce=Array.isArray(M.images)?M.images:typeof M.images=="string"?M.images.split(",").map(oe=>oe.trim()).filter(Boolean):[];return n.jsxs("div",{className:"flex gap-1",children:[ce.slice(0,2).map((oe,de)=>n.jsx("img",{src:oe,alt:`${M.medicine_name} ${de+1}`,className:"w-10 h-10 object-cover rounded border",onError:xe=>{xe.target.style.display="none"}},de)),ce.length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",ce.length-2]})]})})():"-"}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:M.category_names.length>0?M.category_names.map((ce,oe)=>n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary rounded-full",children:ce},oe)):n.jsx("span",{className:"text-xs text-gray-400",children:"No categories"})})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(De,{onClick:()=>{Xe(M),at(M.category_ids),_e(!0)},className:"px-2 py-1 text-xs flex items-center gap-1 bg-primary hover:bg-primary-dark text-white",size:"sm",title:"Assign Categories",children:[n.jsx(ra,{size:14}),"Categories"]}),n.jsxs(De,{onClick:()=>Aa(M),className:"px-2 py-1 text-xs flex items-center gap-1",size:"sm",children:[n.jsx(pb,{size:14}),"Edit"]}),n.jsxs(De,{onClick:()=>Ca(M),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white flex items-center gap-1",size:"sm",children:[n.jsx(As,{size:14}),"Delete"]})]})})]},M.id))})]})}),Z>1&&n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",ee+1," to ",Math.min(ee+Et,K.length)," of ",K.length," items"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(De,{onClick:()=>q(M=>Math.max(1,M-1)),disabled:F===1,children:"Previous"}),n.jsx(De,{onClick:()=>q(M=>Math.min(Z,M+1)),disabled:F===Z,children:"Next"})]})]}),K.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ra,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No inventory items found"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an Excel file to get started"})]})]})]}),H&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsxs(jt,{className:"flex items-center justify-between",children:[n.jsx(wt,{children:"Bulk Assign Categories"}),n.jsx("button",{onClick:()=>{V(!1),ye([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Categories (",P.length," items selected)"]}),n.jsx("select",{multiple:!0,value:te.map(String),onChange:M=>{const ce=Array.from(M.target.selectedOptions,oe=>Number(oe.value));ye(ce)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(g.length,8),children:g.map(M=>n.jsx("option",{value:M.id,children:M.name},M.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(De,{onClick:()=>{V(!1),ye([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(De,{onClick:qe,className:"flex-1",disabled:te.length===0,children:"Assign"})]})]})]})}),Ae&&it&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsxs(jt,{className:"flex items-center justify-between",children:[n.jsxs(wt,{children:["Assign Categories to ",it.medicine_name]}),n.jsx("button",{onClick:()=>{_e(!1),Xe(null),at([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Categories"}),n.jsx("select",{multiple:!0,value:gt.map(String),onChange:M=>{const ce=Array.from(M.target.selectedOptions,oe=>Number(oe.value));at(ce)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(g.length,8),children:g.map(M=>n.jsx("option",{value:M.id,children:M.name},M.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(De,{onClick:()=>{_e(!1),Xe(null),at([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(De,{onClick:async()=>{it&&(await ue(it.id,gt),_e(!1),Xe(null),at([]))},className:"flex-1",disabled:gt.length===0,children:"Assign"})]})]})]})}),ke&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(Je,{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto",children:[n.jsx(jt,{children:n.jsx(wt,{children:Fe==="edit"?"Edit Inventory Item":"Add New Inventory Item"})}),n.jsx(Ze,{children:n.jsx(_de,{categories:g,onSubmit:Xn,onCancel:()=>{R(!1),ze(null),Ce("add")},isSubmitting:G,initialData:le,mode:Fe})})]})})]}),i==="generic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search generic medicines...",value:D,onChange:M=>O(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),a&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Generic Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:o,onChange:M=>{const ce=parseFloat(M.target.value)||0;c(ce)},onBlur:()=>zr("generic",o),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:f}),n.jsx(De,{onClick:()=>zr("generic",o),size:"sm",disabled:f,children:n.jsx(Hy,{size:16})})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading generic medicines..."})]}):n.jsx(Je,{children:n.jsx(Ze,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:b.filter(M=>M.medicine_type==="Generic").filter(M=>D===""||M.medicine_name.toLowerCase().includes(D.toLowerCase())).map(M=>{const ce=M.price*o/100,oe=M.price-ce;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:M.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(M.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[o.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",oe.toFixed(2)]})})]},M.id)})})]}),b.filter(M=>M.medicine_type==="Generic").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No generic medicines found"})]})})})]}),i==="branded"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search branded medicines...",value:D,onChange:M=>O(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),a&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Branded Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:u,onChange:M=>{const ce=parseFloat(M.target.value)||0;m(ce)},onBlur:()=>zr("branded",u),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:f}),n.jsx(De,{onClick:()=>zr("branded",u),size:"sm",disabled:f,children:n.jsx(Hy,{size:16})})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading branded medicines..."})]}):n.jsx(Je,{children:n.jsx(Ze,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:b.filter(M=>M.medicine_type==="Branded").filter(M=>D===""||M.medicine_name.toLowerCase().includes(D.toLowerCase())).map(M=>{const ce=M.price*u/100,oe=M.price-ce;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:M.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(M.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[u.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",oe.toFixed(2)]})})]},M.id)})})]}),b.filter(M=>M.medicine_type==="Branded").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No branded medicines found"})]})})})]})]})},_de=({categories:e,onSubmit:t,onCancel:r,isSubmitting:a,initialData:s,mode:i="add"})=>{const[o,c]=v.useState({medicine_name:s?.medicine_name||"",price:s?.price?.toString()||"",discounted_price:s?.discounted_price?s.discounted_price.toString():"",prescription_required:s?.prescription_required||!1,manufacturer_name:s?.manufacturer_name||"",medicine_type:s?.medicine_type||"",category:s?.category||"",pack_size_label:s?.pack_size_label||"",stock_quantity:s?.stock_quantity?.toString()||"",low_stock_threshold:s?.low_stock_threshold?.toString()||"",justification:s?.justification||"",description:s?.description||"",category_ids:s?.category_ids||[]}),[u,m]=v.useState([]),[f,h]=v.useState(s?.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(j=>j.trim()):[]);v.useEffect(()=>{s&&i==="edit"?(c({medicine_name:s.medicine_name||"",price:s.price?.toString()||"",discounted_price:s.discounted_price?s.discounted_price.toString():"",prescription_required:s.prescription_required||!1,manufacturer_name:s.manufacturer_name||"",medicine_type:s.medicine_type||"",category:s.category||"",pack_size_label:s.pack_size_label||"",stock_quantity:s.stock_quantity?.toString()||"",low_stock_threshold:s.low_stock_threshold?.toString()||"",justification:s.justification||"",description:s.description||"",category_ids:s.category_ids||[]}),h(s.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(j=>j.trim()):[])):i==="add"&&(c({medicine_name:"",price:"",discounted_price:"",prescription_required:!1,manufacturer_name:"",medicine_type:"",category:"",pack_size_label:"",stock_quantity:"",low_stock_threshold:"",justification:"",description:"",category_ids:[]}),h([]),m([]))},[s,i]);const g=j=>{j.preventDefault();const N=new FormData;Object.entries(o).forEach(([_,k])=>{_==="category_ids"?o.category_ids.forEach(E=>{N.append("category_ids",E.toString())}):_==="prescription_required"?N.append(_,k?"true":"false"):k!==""&&k!==null&&k!==void 0&&N.append(_,k.toString())}),u.forEach(_=>{N.append("images",_)}),i==="edit"&&f.length>0&&f.forEach(_=>{N.append("existing_images",_)}),t(N)},p=j=>{h(N=>N.filter((_,k)=>k!==j))},b=j=>{if(j.target.files){const N=Array.from(j.target.files);m(_=>[..._,...N])}},y=j=>{m(N=>N.filter((_,k)=>k!==j))};return n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Name *"}),n.jsx("input",{type:"text",required:!0,value:o.medicine_name,onChange:j=>c({...o,medicine_name:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),n.jsx("input",{type:"number",step:"0.01",required:!0,value:o.price,onChange:j=>c({...o,price:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discounted Price (Optional)"}),n.jsx("input",{type:"number",step:"0.01",value:o.discounted_price,onChange:j=>c({...o,discounted_price:j.target.value}),placeholder:"Leave empty if no discount",className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marketed By"}),n.jsx("input",{type:"text",value:o.manufacturer_name,onChange:j=>c({...o,manufacturer_name:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Type *"}),n.jsxs("select",{value:o.medicine_type,onChange:j=>c({...o,medicine_type:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"Generic",children:"Generic"}),n.jsx("option",{value:"Branded",children:"Branded"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select whether this is a Generic or Branded medicine"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item Group"}),n.jsx("input",{type:"text",value:o.category,onChange:j=>c({...o,category:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pack Size Label"}),n.jsx("input",{type:"text",value:o.pack_size_label,onChange:j=>c({...o,pack_size_label:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock Quantity"}),n.jsx("input",{type:"number",value:o.stock_quantity,onChange:j=>c({...o,stock_quantity:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Low Stock Threshold"}),n.jsx("input",{type:"number",value:o.low_stock_threshold,onChange:j=>c({...o,low_stock_threshold:j.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Justification (Active Ingredient & Class)"}),n.jsx("textarea",{value:o.justification,onChange:j=>c({...o,justification:j.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{value:o.description,onChange:j=>c({...o,description:j.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Picture"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:b,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),f.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Existing Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((j,N)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:j.trim(),alt:`Existing ${N+1}`,className:"w-20 h-20 object-cover rounded border",onError:_=>{_.target.style.display="none"}}),n.jsx("button",{type:"button",onClick:()=>p(N),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`existing-${N}`))})]}),u.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"New Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((j,N)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(j),alt:`Preview ${N+1}`,className:"w-20 h-20 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:()=>y(N),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`new-${N}`))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categories"}),n.jsx("select",{multiple:!0,value:o.category_ids.map(String),onChange:j=>{const N=Array.from(j.target.selectedOptions,_=>Number(_.value));c({...o,category_ids:N})},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(e.length,5),children:e.map(j=>n.jsx("option",{value:j.id,children:j.name},j.id))})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o.prescription_required,onChange:j=>c({...o,prescription_required:j.target.checked}),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Prescription Required or Not"})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(De,{type:"button",onClick:r,variant:"outline",className:"flex-1 border-gray-300 bg-white text-gray-800 hover:bg-gray-100 hover:text-gray-900",disabled:a,children:"Cancel"}),n.jsx(De,{type:"submit",className:"flex-1",disabled:a,children:a?i==="edit"?"Updating...":"Adding...":i==="edit"?"Update Inventory":"Add Inventory"})]})]})},xh=e=>{if(!e)return"N/A";try{const[t,r]=e.split(":"),a=parseInt(t,10),s=parseInt(r,10),i=a===0?12:a>12?a-12:a,o=a>=12?"PM":"AM",c=s.toString().padStart(2,"0");return`${i}:${c} ${o}`}catch{return e}},Nde=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(1),[c,u]=v.useState(null),[m,f]=v.useState(!1),[h,g]=v.useState(null),[p,b]=v.useState({status:"",notes:""}),[y,j]=v.useState(!1),[N,_]=v.useState(1),[k,E]=v.useState({}),[C,D]=v.useState({}),[O,I]=v.useState(!1),[T,F]=v.useState(null),[q,U]=v.useState({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0}),[J,W]=v.useState({status:"",payment_status:"",priority:"",date_from:"",date_to:"",city:"",assigned_provider:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),[he,X]=v.useState(!1),[be,ne]=v.useState(!1),[ve,me]=v.useState(null),[ae,P]=v.useState([]),[B,H]=v.useState(!1),[V,te]=v.useState(null),[ye,ke]=v.useState(!1),R=10,G=we;v.useEffect(()=>{_e()},[i,J]);const ge=se=>{const Y=[se.total_amount,se.payment_amount,se.service_price_discounted,se.service_price_original,se.amount,se.price,se.subcategory?.price,se.subcategory?.amount,se.service?.price_discounted,se.service?.price_original,se.service?.price];for(const Pe of Y)if(!(Pe==null||Pe===""||Pe==="0"||Pe===0)){if(typeof Pe=="number"){if(Number.isFinite(Pe))return Pe}else if(typeof Pe=="string"){const Ie=parseFloat(Pe.replace(/[,\s]/g,""));if(!isNaN(Ie))return Ie}}return 0},le=se=>se.assigned_provider_name||se.assigned_provider||se.provider?.full_name||se.provider?.name||(se.provider_id?`Provider #${se.provider_id}`:null),ze=se=>se.service_title||se.service?.service_name||se.service?.title||se.service_name||se.subcategory?.service_name||se.subcategory?.name||se.category?.name||"Unknown Service",Fe=async se=>{const Y=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(Y){D(Pe=>({...Pe,[se]:!0}));try{const Pe=await fetch(`${G}/admin/booking/session-history/${se}`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(Pe.ok){const Ie=await Pe.json();E(ht=>({...ht,[se]:Ie.sessions||[]}))}}catch(Pe){console.error("Failed to load session history:",Pe),e("Failed to load session history","error")}finally{D(Pe=>({...Pe,[se]:!1}))}}},Ce=async se=>{const Y=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(Y)try{if((await fetch(`${G}/admin/booking/approve-completion/${se}`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({admin_username:"Admin"})})).ok)e("Booking completion approved","success"),await _e();else throw new Error("Failed to approve")}catch{e("Failed to approve completion","error")}},Ae=async(se,Y)=>{const Pe=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(Pe)try{if((await fetch(`${G}/admin/booking/reject-completion/${se}`,{method:"POST",headers:{Authorization:`Bearer ${Pe}`,"Content-Type":"application/json"},body:JSON.stringify({rejection_reason:Y,admin_username:"Admin"})})).ok)e("Booking completion rejected","success"),await _e();else throw new Error("Failed to reject")}catch{e("Failed to reject completion","error")}},_e=async()=>{const se=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!se){e("Please login to view bookings","error"),s(!1);return}try{s(!0);const Y=new URLSearchParams;Y.append("page",i.toString()),Y.append("limit",R.toString()),Object.entries(J).forEach(([Et,Ye])=>{Ye&&Y.append(Et,Ye.toString())});const Pe=await fetch(`${G}/admin/appointments?${Y.toString()}`,{headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"}});if(!Pe.ok){if(Pe.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${Pe.status}`)}const Ie=await Pe.json(),ht=Ie.data||Ie.bookings||[];if(Array.isArray(ht)){const Et=ht.map(Ye=>({id:Ye.id,booking_date:Ye.preferred_date||Ye.booking_date,booking_time:Ye.preferred_time||Ye.booking_time,status:Ye.status,payment_status:Ye.payment_status||"pending",priority:Ye.priority||"normal",total_amount:ge(Ye),service_address:Ye.service_address||Ye.address||"N/A",pincode:Ye.pincode||"N/A",city:Ye.city||"N/A",contact_person:Ye.contact_person||Ye.user?.name||"N/A",contact_phone:Ye.contact_phone||Ye.user?.phone||"N/A",created_at:Ye.created_at||"",updated_at:Ye.updated_at||"",assigned_provider:le(Ye),user_name:Ye.user?.name||`User #${Ye.user_id||"N/A"}`,provider_name:Ye.provider?.name||`Provider #${Ye.provider_id||"N/A"}`,service_name:ze(Ye),service_description:Ye.service?.description||Ye.subcategory?.description||Ye.description||"",category_id:Ye.category_id||Ye.service?.category_id||Ye.subcategory?.category_id,subcategory_id:Ye.subcategory_id||Ye.service?.subcategory_id,is_overdue:Ye.is_overdue||!1,admin_notes:Ye.admin_notes,cancellation_reason:Ye.cancellation_reason,refund_amount:Ye.refund_amount,user_id:Ye.user_id,provider_id:Ye.provider_id,slot_type:Ye.slot_type,total_sessions:Ye.total_sessions,completed_sessions:Ye.completed_sessions,admin_approval_status:Ye.admin_approval_status,admin_rejection_reason:Ye.admin_rejection_reason}));if(r(Et),Ie.pagination){const Ye=Ie.pagination.total||Et.length,Ir=Ie.pagination.page_size||R;_(Math.ceil(Ye/Ir))}else _(1)}else console.error("Failed to fetch bookings: Invalid response format"),e("Failed to fetch bookings: Invalid response format","error"),r([]),_(1)}catch(Y){console.error("Error fetching bookings:",Y);const Pe=Y instanceof Error?Y.message:"Failed to fetch bookings";e(Pe,"error"),r([]),_(1)}finally{s(!1)}},it=(se,Y)=>{u(c===se.id?null:se.id)},Xe=async se=>{if(se.preventDefault(),!!h){j(!0);try{let Y="",Pe={};switch(p.status){case"confirm":Y=`${G}/admin/bookings/${h.id}/status`,Pe={status:"confirmed",notes:p.notes,reason:"Admin confirmed booking"};break;case"cancel":Y=`${G}/admin/bookings/${h.id}/cancel`,Pe={reason:p.reason||"Cancelled by admin",refund_amount:p.refund_amount||0,notes:p.notes};break;case"assign":Y=`${G}/admin/bookings/${h.id}/assign`,Pe={provider_id:p.provider_id,notes:p.notes};break;case"start":Y=`${G}/admin/bookings/${h.id}/status`,Pe={status:"in_progress",notes:p.notes,reason:"Admin started the service"};break;case"complete":Y=`${G}/admin/bookings/${h.id}/status`,Pe={status:"completed",notes:p.notes,reason:"Admin marked as completed"};break;default:throw new Error(`Unknown action: ${p.status}`)}const ht=await(await fetch(Y,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")}`,"Content-Type":"application/json"},body:JSON.stringify(Pe)})).json();if(ht.success){const Et=ht.message||`Booking ${p.status}ed successfully`;e(Et,"success"),f(!1),_e()}else e(ht.message||`Failed to ${p.status} booking`,"error")}catch(Y){console.error("Error processing booking:",Y),e("Error processing booking","error")}finally{j(!1)}}},gt=se=>{switch(se){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"confirmed":case"accepted":return"bg-primary/10 text-primary-dark";case"in_progress":return"bg-purple-100 text-purple-700";case"cancelled":return"bg-red-100 text-red-700";case"awaiting_payment":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},at=se=>{switch(se){case"paid":return"bg-green-100 text-green-700";case"refunded":return"bg-primary/10 text-primary-dark";case"pending":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},vt=se=>{switch(se){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"normal":return"bg-primary/10 text-primary-dark";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},St=se=>{["id","date","status","actions"].includes(se)||U(Y=>({...Y,[se]:!Y[se]}))},yt=()=>{U({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0})},_r=async se=>{me(se),ne(!0),H(!0),P([]),te(null);try{const Y=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!Y){e("Please login to assign provider","error");return}const Pe=await fetch(`${G}/admin/bookings/${se.id}/available-providers`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(!Pe.ok)throw new Error(`Failed to fetch providers: ${Pe.status}`);const Ie=await Pe.json();P(Ie.providers||[])}catch(Y){console.error("Error fetching available providers:",Y),e("Failed to fetch available providers","error")}finally{H(!1)}},_t=async()=>{if(!ve||!V){e("Please select a provider","error");return}ke(!0);try{const se=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!se){e("Please login to assign provider","error");return}const Y=await fetch(`${G}/admin/bookings/${ve.id}/assign-provider`,{method:"PUT",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:V,admin_name:"Admin"})}),Pe=await Y.json();if(Y.ok)e("Provider assigned successfully","success"),ne(!1),me(null),te(null),_e();else throw new Error(Pe.message||Pe.error?.message||"Failed to assign provider")}catch(se){console.error("Error assigning provider:",se);const Y=se instanceof Error?se.message:"Failed to assign provider";e(Y,"error")}finally{ke(!1)}};return n.jsxs("div",{children:[a?n.jsx(Xc,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-end mb-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(De,{onClick:()=>X(!he),variant:"outline",className:"flex items-center space-x-1",children:[n.jsx(Wy,{size:14}),n.jsx("span",{children:"Columns"})]}),n.jsxs(De,{onClick:_e,className:"flex items-center space-x-1",children:[n.jsx(Un,{size:14}),n.jsx("span",{children:"Refresh"})]})]})}),he&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Column Visibility"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:yt,variant:"outline",size:"sm",className:"text-xs",children:"Reset All"}),n.jsx(De,{onClick:()=>X(!1),variant:"ghost",size:"sm",className:"text-xs",children:n.jsx(Tt,{size:14})})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(q).map(([se,Y])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Y,onChange:()=>St(se),disabled:["id","date","status","actions"].includes(se),className:"rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-50"}),n.jsx("span",{className:`text-sm ${["id","date","status","actions"].includes(se)?"text-gray-500":"text-gray-700"}`,children:se.charAt(0).toUpperCase()+se.slice(1).replace("_"," ")})]},se))})]}),n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"w-10 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),q.id&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),q.date&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),q.service&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),q.parties&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),q.location&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),q.amount&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),q.status&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),q.payment&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),q.priority&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),q.assigned&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),q.actions&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(se=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(De,{variant:"ghost",size:"sm",onClick:()=>it(se),className:"p-1 hover:bg-gray-100 rounded",children:c===se.id?n.jsx(Sa,{size:16,className:"text-gray-500"}):n.jsx(In,{size:16,className:"text-gray-500"})})}),q.id&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",se.id]}),se.is_overdue&&n.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[n.jsx(Kr,{size:12,className:"mr-1"}),"Overdue"]})]}),q.date&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:se.booking_date?new Date(se.booking_date).toLocaleDateString():"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:se.booking_time?xh(se.booking_time):"N/A"})]}),q.service&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:se.service_name})}),q.parties&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",se.user_name]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",se.provider_name]})]}),q.location&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:se.service_address}),n.jsxs("div",{className:"text-sm text-gray-500",children:[se.city," - ",se.pincode]})]}),q.amount&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["",se.total_amount.toFixed(2)]})}),q.status&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${gt(se.status)}`,children:se.status.split("_").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")})}),q.payment&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${at(se.payment_status)}`,children:se.payment_status.charAt(0).toUpperCase()+se.payment_status.slice(1)})}),q.priority&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${vt(se.priority)}`,children:se.priority.charAt(0).toUpperCase()+se.priority.slice(1)})}),q.assigned&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:se.assigned_provider||"Unassigned"})}),q.actions&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:()=>it(se),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:n.jsx(yn,{size:16})}),se.slot_type&&se.total_sessions&&n.jsx(De,{onClick:()=>{F(se),I(!0)},variant:"ghost",size:"sm",className:"text-primary hover:text-blue-900",title:"View Report",children:n.jsx(Wy,{size:16})})]})})]}),c===se.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(q).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary",children:n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),n.jsxs("span",{className:"font-medium",children:["#",se.id]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${gt(se.status)}`,children:se.status.split("_").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${at(se.payment_status)}`,children:se.payment_status.charAt(0).toUpperCase()+se.payment_status.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Priority:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${vt(se.priority)}`,children:se.priority.charAt(0).toUpperCase()+se.priority.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["",se.total_amount.toFixed(2)]})]}),se.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shift Pattern:"}),n.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:[se.slot_type,se.slot_type==="MWF"&&" (Mon, Wed, Fri)",se.slot_type==="TTS"&&" (Tue, Thu, Sat)"]})]}),se.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[se.completed_sessions||0," / ",se.total_sessions]})]})]})]}),n.jsxs("div",{className:"space-y-4 md:col-span-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Service Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium",children:se.service_name})]}),se.service_description&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("span",{className:"text-gray-600 block mb-2",children:"Description:"}),n.jsx("div",{className:"text-sm text-gray-700 border border-gray-200 rounded p-3 bg-gray-50 service-description-html",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:se.service_description}})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"User:"}),n.jsx("span",{className:"font-medium",children:se.user_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Provider:"}),n.jsx("span",{className:"font-medium",children:se.provider_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assigned To:"}),n.jsx("span",{className:"font-medium",children:se.assigned_provider||"Unassigned"})]}),(!se.provider_id||se.status==="awaiting_assignment")&&n.jsx("div",{className:"mt-4",children:n.jsx(De,{onClick:()=>_r(se),className:"bg-primary hover:bg-primary-dark text-white",size:"sm",children:"Assign Provider"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Location & Contact"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Address:"}),n.jsx("span",{className:"font-medium",children:se.service_address})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"City:"}),n.jsx("span",{className:"font-medium",children:se.city})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Pincode:"}),n.jsx("span",{className:"font-medium",children:se.pincode})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Person:"}),n.jsx("span",{className:"font-medium",children:se.contact_person})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),n.jsx("span",{className:"font-medium",children:se.contact_phone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Date & Time"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Date:"}),n.jsx("span",{className:"font-medium",children:se.booking_date?new Date(se.booking_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Time:"}),n.jsx("span",{className:"font-medium",children:se.booking_time?xh(se.booking_time):"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:se.created_at?new Date(se.created_at).toLocaleString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),n.jsx("span",{className:"font-medium",children:se.updated_at?new Date(se.updated_at).toLocaleString():"N/A"})]})]})]}),(se.slot_type||se.total_sessions)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Session Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[se.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Slot Type:"}),n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:se.slot_type})]}),se.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[se.completed_sessions||0," / ",se.total_sessions," completed"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(De,{onClick:()=>{F(se),I(!0),k[se.id]||Fe(se.id)},variant:"outline",size:"sm",className:"w-full",children:C[se.id]?"Loading...":"View Session History"})})]})]}),se.status==="pending_admin_approval"&&n.jsxs("div",{className:"space-y-4 col-span-full",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-900 border-b border-yellow-300 pb-2 bg-yellow-50 p-2 rounded",children:" Pending Admin Approval"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(De,{onClick:()=>Ce(se.id),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:"Approve Completion"}),n.jsx(De,{onClick:()=>{const Y=prompt("Please provide rejection reason:");Y&&Y.trim()&&Ae(se.id,Y.trim())},variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",size:"sm",children:"Reject Completion"})]}),se.admin_rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[n.jsx("strong",{children:"Previous Rejection:"})," ",se.admin_rejection_reason]})]}),(se.admin_notes||se.cancellation_reason||se.refund_amount)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Additional Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[se.admin_notes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Admin Notes:"}),n.jsx("span",{className:"font-medium",children:se.admin_notes})]}),se.cancellation_reason&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Cancellation Reason:"}),n.jsx("span",{className:"font-medium text-red-600",children:se.cancellation_reason})]}),se.refund_amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),n.jsxs("span",{className:"font-medium text-primary",children:["",se.refund_amount.toFixed(2)]})]})]})]})]})})})})]},se.id))})]})}),N>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",i," of ",N]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:()=>o(se=>Math.max(se-1,1)),disabled:i===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(td,{size:16})}),n.jsx(De,{onClick:()=>o(se=>Math.min(se+1,N)),disabled:i===N,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]})]}),m&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[p.status==="confirm"?"Confirm":p.status==="cancel"?"Cancel":p.status==="assign"?"Assign Provider":p.status==="start"?"Start Service":p.status==="complete"?"Complete":"View"," Booking"]}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Service:"})," ",h.service_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",new Date(h.booking_date).toLocaleDateString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Time:"})," ",xh(h.booking_time)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," ",h.total_amount.toFixed(2)]})]})]}),p.status==="confirm"&&n.jsx("div",{className:"bg-blue-50 border border-primary/20 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(ss,{className:"h-5 w-5 text-blue-400"})}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"text-sm text-primary-dark",children:[n.jsx("strong",{children:"Provider Assignment:"})," This booking already has a provider assigned. Confirmation will approve the booking for service."]})})]})}),p.status==="assign"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider ID *"}),n.jsx("input",{type:"number",required:!0,value:p.provider_id,onChange:se=>b({...p,provider_id:parseInt(se.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter provider ID"})]}),p.status==="cancel"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsx("input",{type:"text",required:!0,value:p.reason,onChange:se=>b({...p,reason:se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter cancellation reason"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount"}),n.jsx("input",{type:"number",value:p.refund_amount,onChange:se=>b({...p,refund_amount:parseFloat(se.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter refund amount"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{required:!0,value:p.notes,onChange:se=>b({...p,notes:se.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${p.status}...`})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(De,{type:"button",onClick:()=>f(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(De,{type:"submit",disabled:y,className:`${p.status==="confirm"?"bg-primary hover:bg-primary-dark":p.status==="cancel"?"bg-red-600 hover:bg-red-700":p.status==="assign"?"bg-green-600 hover:bg-green-700":(p.status==="start","bg-primary hover:bg-primary-dark")} text-white`,children:y?"Processing...":p.status==="confirm"?"Confirm":p.status==="cancel"?"Cancel":p.status==="assign"?"Assign":p.status==="start"?"Start":p.status==="complete"?"Complete":"Submit"})]})]})]})}),O&&T&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Session History - Booking #",T.id]}),n.jsx("button",{onClick:()=>{I(!1),F(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),C[T.id]?n.jsx("div",{className:"text-center py-8",children:"Loading sessions..."}):k[T.id]?.length>0?n.jsx("div",{className:"space-y-4",children:k[T.id].map(se=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium",children:["Session ",se.session_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(se.session_date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${se.status==="session_completed"?"bg-green-100 text-green-800":se.status==="session_started"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:se.status.replace("_"," ").replace(/\b\w/g,Y=>Y.toUpperCase())})]}),se.reached_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Reached: ",new Date(se.reached_at).toLocaleString()]}),se.started_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",new Date(se.started_at).toLocaleTimeString()]}),se.ended_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",new Date(se.ended_at).toLocaleTimeString()]}),se.picture_proof_url&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Proof:"}),n.jsx("img",{src:se.picture_proof_url,alt:`Session ${se.session_number} proof`,className:"max-w-xs rounded border border-gray-200 cursor-pointer hover:opacity-80",onClick:()=>window.open(se.picture_proof_url,"_blank")})]})]},se.id))}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sessions found"})]})}),be&&ve&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Assign Provider to Booking #",ve.id]}),n.jsx("button",{onClick:()=>{ne(!1),me(null),P([]),te(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium ml-2",children:ve.service_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Customer:"}),n.jsx("span",{className:"font-medium ml-2",children:ve.user_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsxs("span",{className:"font-medium ml-2",children:[ve.city,", ",ve.pincode]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsxs("span",{className:"font-medium ml-2",children:[ve.booking_date?new Date(ve.booking_date).toLocaleDateString():"N/A"," ",ve.booking_time?xh(ve.booking_time):""]})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Available Providers (Filtered by Service & Location)"}),B?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Xc,{})}):ae.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No available providers found for this service."}),n.jsx("p",{className:"text-sm mt-2",children:"Please check if there are approved providers who offer this service."})]}):n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ae.map(se=>n.jsx("div",{onClick:()=>te(se.id),className:`p-4 border rounded-lg cursor-pointer transition-colors ${V===se.id?"border-primary bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h5",{className:"font-semibold text-gray-900",children:se.full_name}),V===se.id&&n.jsx(ss,{size:16,className:"text-primary"})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",se.phone_number]}),se.email&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",se.email]}),se.city&&se.state&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",se.city,", ",se.state]}),se.average_rating&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Rating:"}),"  ",se.average_rating.toFixed(1)]}),se.completed_bookings!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Completed:"})," ",se.completed_bookings," bookings"]})]})]})})},se.id))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(De,{type:"button",onClick:()=>{ne(!1),me(null),P([]),te(null)},className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(De,{type:"button",onClick:_t,disabled:!V||ye||B,className:"bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",children:ye?"Assigning...":"Assign Provider"})]})]})})]})},Sde=()=>n.jsx(It,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),n.jsx("p",{className:"text-gray-600",children:"Manage and monitor all bookings in the system"})]}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"All Bookings"})}),n.jsx(Ze,{children:n.jsx(Nde,{})})]})]})}),kde=({invoice:e,onClose:t})=>{if(!e)return null;const r=e.order||{},a=e.items||[],s=e.invoice_number||`INV-${r.id||"0000"}-${new Date().toISOString().split("T")[0].replace(/-/g,"")}`,i=parseFloat(r.subtotal||0),o=parseFloat(r.discount||0),c=parseFloat(r.delivery_charges||0),u=parseFloat(r.total_amount||0),m=.18,f=i-o,h=(f*(m/2)).toFixed(2),g=(f*(m/2)).toFixed(2),p=j=>j?new Date(j).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",b=j=>j?new Date(j).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",y=()=>{window.print()};return n.jsx("div",{className:"invoice-overlay",onClick:t,children:n.jsx("div",{className:"invoice-modal",onClick:j=>j.stopPropagation(),children:n.jsxs("div",{className:"invoice-container",children:[n.jsxs("div",{className:"invoice-header",children:[n.jsxs("div",{className:"invoice-company-info",children:[n.jsx("div",{className:"invoice-logo",children:n.jsx("img",{src:"/apricottcare.png",alt:"Apricott Care Logo",className:"w-[100px] object-contain"})}),n.jsxs("div",{className:"invoice-company-details",children:[n.jsx("h1",{className:"invoice-company-name",children:"Apricott Care"}),n.jsxs("p",{className:"invoice-company-address",children:["Your Health Partner",n.jsx("br",{}),"India"]}),n.jsxs("p",{className:"invoice-company-contact",children:["Email: support@Apricott Care.com",n.jsx("br",{}),"Phone: +91-XXXXXXXXXX"]})]})]}),n.jsxs("div",{className:"invoice-title-section",children:[n.jsx("h2",{className:"invoice-title",children:"TAX INVOICE"}),n.jsxs("div",{className:"invoice-meta",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Invoice No:"})," ",s]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",p(r.created_at)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order ID:"})," #",r.id]})]})]})]}),n.jsxs("div",{className:"invoice-address-section",children:[n.jsxs("div",{className:"invoice-address-box",children:[n.jsx("h3",{className:"invoice-address-title",children:"Bill To:"}),n.jsx("p",{className:"invoice-address-name",children:r.user_name||r.full_name||"N/A"}),n.jsxs("p",{className:"invoice-address-text",children:[r.user_phone||r.phone||"",n.jsx("br",{}),r.user_email||r.email||""]})]}),n.jsxs("div",{className:"invoice-address-box",children:[n.jsx("h3",{className:"invoice-address-title",children:"Ship To:"}),n.jsx("p",{className:"invoice-address-name",children:r.user_name||r.full_name||"N/A"}),n.jsxs("p",{className:"invoice-address-text",children:[r.delivery_address||"N/A",n.jsx("br",{}),[r.delivery_city,r.delivery_state,r.delivery_pincode].filter(Boolean).join(", ")]})]})]}),n.jsx("div",{className:"invoice-items-section",children:n.jsxs("table",{className:"invoice-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"invoice-table-sno",children:"S.No"}),n.jsx("th",{className:"invoice-table-item",children:"Item Description"}),n.jsx("th",{className:"invoice-table-qty",children:"Qty"}),n.jsx("th",{className:"invoice-table-price",children:"Unit Price"}),n.jsx("th",{className:"invoice-table-amount",children:"Amount ()"})]})}),n.jsxs("tbody",{children:[a.map((j,N)=>n.jsxs("tr",{children:[n.jsx("td",{children:N+1}),n.jsxs("td",{className:"invoice-table-item-cell",children:[n.jsx("strong",{children:j.medicine_name||"Medicine"}),j.dosage&&n.jsxs("div",{className:"invoice-item-details",children:["Dosage: ",j.dosage]}),j.days&&n.jsxs("div",{className:"invoice-item-details",children:["Days: ",j.days]})]}),n.jsx("td",{children:j.quantity||0}),n.jsxs("td",{children:["",parseFloat(j.price||0).toFixed(2)]}),n.jsxs("td",{children:["",((j.price||0)*(j.quantity||0)).toFixed(2)]})]},j.id||N)),a.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"No items found"})})]})]})}),n.jsx("div",{className:"invoice-totals-section",children:n.jsxs("div",{className:"invoice-totals-box",children:[n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",i.toFixed(2)]})]}),o>0&&n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",o.toFixed(2)]})]}),n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Taxable Amount:"}),n.jsxs("span",{children:["",f.toFixed(2)]})]}),parseFloat(h)>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"CGST (9%):"}),n.jsxs("span",{children:["",h]})]}),n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"SGST (9%):"}),n.jsxs("span",{children:["",g]})]})]}),c>0&&n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Delivery Charges:"}),n.jsxs("span",{children:["",c.toFixed(2)]})]}),n.jsxs("div",{className:"invoice-total-row invoice-total-final",children:[n.jsx("span",{children:n.jsx("strong",{children:"Total Amount:"})}),n.jsx("span",{children:n.jsxs("strong",{children:["",u.toFixed(2)]})})]})]})}),n.jsx("div",{className:"invoice-payment-section",children:n.jsxs("div",{className:"invoice-payment-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Method:"})," ",r.payment_method==="cod"?"Cash on Delivery":"Online Payment"]}),r.payment_method==="online"&&r.payment_status&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Status:"})," ",r.payment_status]}),r.created_at&&n.jsxs("p",{children:[n.jsx("strong",{children:"Order Date:"})," ",b(r.created_at)]})]})}),n.jsxs("div",{className:"invoice-footer",children:[n.jsx("p",{className:"invoice-footer-note",children:"This is a computer-generated invoice and does not require a signature."}),n.jsx("p",{className:"invoice-footer-thanks",children:"Thank you for your business!"}),n.jsx("p",{className:"invoice-footer-support",children:"For any queries, please contact us at support@Apricott Care.com"})]}),n.jsxs("div",{className:"invoice-actions",children:[n.jsx("button",{onClick:y,className:"invoice-btn-print",children:"Print Invoice"}),n.jsx("button",{onClick:t,className:"invoice-btn-close",children:"Close"})]})]})})})},Ede=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(1),[c,u]=v.useState(null),[m,f]=v.useState(1),[h,g]=v.useState(0),[p,b]=v.useState({id:!0,date:!0,user:!0,vendor:!0,medicines:!0,amount:!0,status:!0,payment:!0,actions:!0}),[y,j]=v.useState({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),[N,_]=v.useState(!1),[k,E]=v.useState(!1),[C,D]=v.useState(null),[O,I]=v.useState(!1),[T,F]=v.useState({}),[q,U]=v.useState({}),J=20,W=we;v.useEffect(()=>{he()},[i,y]);const he=async()=>{const P=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!P){e("Please login to view orders","error"),s(!1);return}try{s(!0);const B=new URLSearchParams;B.append("page",i.toString()),B.append("limit",J.toString()),Object.entries(y).forEach(([te,ye])=>{ye&&B.append(te,ye.toString())});const H=await fetch(`${W}/admin/orders?${B.toString()}`,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(!H.ok){if(H.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${H.status}`)}const V=await H.json();r(V.orders||[]),f(V.pagination?.total_pages||1),g(V.pagination?.total||0)}catch(B){console.error("Failed to fetch orders:",B),e(B.message||"Failed to fetch orders","error"),r([])}finally{s(!1)}},X=P=>{const H={placed:{label:"Placed",color:"text-primary-dark",bgColor:"bg-primary/10"},pending_vendor_response:{label:"Awaiting Vendor",color:"text-yellow-700",bgColor:"bg-yellow-100"},confirmed:{label:"Confirmed",color:"text-green-700",bgColor:"bg-green-100"},packed:{label:"Packed",color:"text-purple-700",bgColor:"bg-purple-100"},out_for_delivery:{label:"Out for Delivery",color:"text-indigo-700",bgColor:"bg-indigo-100"},delivered:{label:"Delivered",color:"text-green-700",bgColor:"bg-green-100"},rejected:{label:"Rejected",color:"text-red-700",bgColor:"bg-red-100"},cancelled:{label:"Cancelled",color:"text-gray-700",bgColor:"bg-gray-100"},no_vendor_available:{label:"No Vendor",color:"text-orange-700",bgColor:"bg-orange-100"}}[P]||{label:P,color:"text-gray-700",bgColor:"bg-gray-100"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.color} ${H.bgColor}`,children:H.label})},be=P=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P==="online"?"text-green-700 bg-green-100":"text-primary-dark bg-primary/10"}`,children:P==="online"?"Online":"COD"}),ne=P=>P?new Date(P).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ve=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(P),me=P=>{u(c===P?null:P)},ae=async P=>{I(!0),E(!1),D(null);try{const B=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!B){e("Please login to view invoice","error");return}const H=await fetch(`${W}/admin/orders/${P}/invoice`,{method:"GET",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}}),V=await H.json();H.ok&&V.invoice?(D(V.invoice),E(!0)):e(V.error?.message||"Failed to load invoice","error")}catch(B){console.error("Error fetching invoice:",B),e("Failed to load invoice","error")}finally{I(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor all medicine orders and vendor assignments"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>_(!N),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(Wy,{size:16}),"Columns"]}),n.jsxs("button",{onClick:he,disabled:a,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Un,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:y.status,onChange:P=>j({...y,status:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"placed",children:"Placed"}),n.jsx("option",{value:"pending_vendor_response",children:"Awaiting Vendor"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"packed",children:"Packed"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:y.date_from,onChange:P=>j({...y,date_from:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:y.date_to,onChange:P=>j({...y,date_to:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>j({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Clear Filters"})})]})}),a?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(Xc,{})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx(ra,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No orders found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:Object.values(y).some(P=>P)?"Try adjusting your filters":"Orders will appear here once users place them"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[p.id&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),p.date&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),p.user&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),p.vendor&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),p.medicines&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicines"}),p.amount&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),p.status&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.payment&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),p.actions&&n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(P=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50",children:[p.id&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",P.id]}),p.date&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne(P.created_at)}),p.user&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:P.user_name||`User #${P.user_id}`}),n.jsx("div",{className:"text-gray-500",children:P.user_phone})]})}),p.vendor&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.provider_name?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:P.provider_name}),n.jsx("div",{className:"text-gray-500",children:P.provider_phone})]}):n.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})}),p.medicines&&n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsxs("div",{className:"max-w-xs",children:[P.items.length," item",P.items.length!==1?"s":"",P.items.length>0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[P.items[0].medicine_name,P.items.length>1&&` +${P.items.length-1} more`]})]})}),p.amount&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:ve(P.total_amount)}),P.discount>0&&n.jsxs("div",{className:"text-xs text-green-600",children:["-",ve(P.discount)]})]}),p.status&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X(P.status)}),p.payment&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(P.payment_method)}),p.actions&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("button",{onClick:()=>me(P.id),className:"text-primary hover:text-primary-dark flex items-center gap-1 ml-auto",children:[n.jsx(yn,{size:16}),c===P.id?"Hide":"View",c===P.id?n.jsx(Sa,{size:16}):n.jsx(In,{size:16})]})})]}),c===P.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(p).filter(B=>B).length,className:"px-6 py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Order ID"}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",P.id]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Status"}),n.jsx("div",{children:X(P.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Payment"}),n.jsx("div",{children:be(P.payment_method)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Total Amount"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve(P.total_amount)})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Delivery Address"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[P.full_name&&n.jsx("div",{className:"font-medium",children:P.full_name}),n.jsx("div",{children:P.delivery_address}),n.jsxs("div",{children:[P.delivery_city,", ",P.delivery_state||""," - ",P.delivery_pincode]}),P.phone&&n.jsxs("div",{className:"text-gray-500 mt-1",children:["Phone: ",P.phone]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2",children:["Medicines (",P.items.length,")"]}),n.jsx("div",{className:"space-y-2",children:P.items.map(B=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.medicine_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",B.quantity,"  ",ve(B.price)]})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve(B.price*B.quantity)}),n.jsx("div",{className:"ml-4",children:X(B.status)})]},B.id))})]}),P.provider_name&&n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsx("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Assigned Vendor"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("div",{className:"font-medium",children:P.provider_name}),n.jsx("div",{children:P.provider_phone}),P.pass_on_info&&n.jsxs("div",{className:"mt-2 text-xs text-primary",children:[P.pass_on_info.pass_on_type==="partial"?"Partially":"Fully"," passed on from another vendor"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),q[P.id]?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):T[P.id]&&T[P.id].length>0?n.jsxs("div",{className:"space-y-2",children:[T[P.id].map(B=>n.jsxs("div",{className:`p-3 rounded-lg border ${B.response_status==="accepted"?"bg-green-50 border-green-200":B.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.provider_name||B.provider_business_name||`Provider #${B.provider_id}`}),B.provider_phone&&n.jsx("div",{className:"text-xs text-gray-600",children:B.provider_phone})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.response_status==="accepted"?"bg-green-100 text-green-700":B.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:B.response_status==="accepted"?" Accepted":B.response_status==="rejected"?" Rejected":" Aborted"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[B.response_status==="accepted"&&B.response_at&&n.jsxs("div",{children:["Accepted at: ",ne(B.response_at)]}),B.response_status==="rejected"&&B.response_at&&n.jsxs("div",{children:["Rejected at: ",ne(B.response_at)]}),B.response_status==="aborted"&&n.jsx("div",{children:B.aborted_at?`Aborted at: ${ne(B.aborted_at)}`:"No response - deadline passed"}),n.jsxs("div",{className:"mt-1",children:["Notified: ",ne(B.notification_sent_at)]}),B.deadline_at&&n.jsxs("div",{children:["Deadline: ",ne(B.deadline_at)]})]})]},B.id)),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",T[P.id].length," | Accepted: ",T[P.id].filter(B=>B.response_status==="accepted").length," | Rejected: ",T[P.id].filter(B=>B.response_status==="rejected").length," | Aborted: ",T[P.id].filter(B=>B.response_status==="aborted").length]})]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),n.jsx("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:n.jsxs("button",{onClick:()=>ae(P.id),disabled:O,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Ar,{size:16}),O?"Loading...":"View Invoice"]})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),q[P.id]?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):T[P.id]&&T[P.id].length>0?n.jsxs("div",{className:"space-y-2",children:[T[P.id].map(B=>n.jsxs("div",{className:`p-3 rounded-lg border ${B.response_status==="accepted"?"bg-green-50 border-green-200":B.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.provider_name||B.provider_business_name||`Provider #${B.provider_id}`}),B.provider_phone&&n.jsx("div",{className:"text-xs text-gray-600",children:B.provider_phone})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B.response_status==="accepted"?"bg-green-100 text-green-700":B.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:B.response_status==="accepted"?" Accepted":B.response_status==="rejected"?" Rejected":" Aborted"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[B.response_status==="accepted"&&B.response_at&&n.jsxs("div",{children:["Accepted at: ",ne(B.response_at)]}),B.response_status==="rejected"&&B.response_at&&n.jsxs("div",{children:["Rejected at: ",ne(B.response_at)]}),B.response_status==="aborted"&&n.jsx("div",{children:B.aborted_at?`Aborted at: ${ne(B.aborted_at)}`:"No response - deadline passed"}),n.jsxs("div",{className:"mt-1",children:["Notified: ",ne(B.notification_sent_at)]}),B.deadline_at&&n.jsxs("div",{children:["Deadline: ",ne(B.deadline_at)]})]})]},B.id)),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",T[P.id].length," | Accepted: ",T[P.id].filter(B=>B.response_status==="accepted").length," | Rejected: ",T[P.id].filter(B=>B.response_status==="rejected").length," | Aborted: ",T[P.id].filter(B=>B.response_status==="aborted").length]})]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Timeline"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{children:["Placed: ",ne(P.created_at)]}),P.confirmed_at&&n.jsxs("div",{children:["Confirmed: ",ne(P.confirmed_at)]}),P.packed_at&&n.jsxs("div",{children:["Packed: ",ne(P.packed_at)]}),P.out_for_delivery_at&&n.jsxs("div",{children:["Out for Delivery: ",ne(P.out_for_delivery_at)]}),P.delivered_at&&n.jsxs("div",{className:"text-green-600 font-medium",children:["Delivered: ",ne(P.delivered_at)]})]})]})]})})})]},P.id))})]})})}),m>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",i," of ",m," (",h," total orders)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>o(P=>Math.max(1,P-1)),disabled:i===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[n.jsx(td,{size:16}),"Previous"]}),n.jsxs("button",{onClick:()=>o(P=>Math.min(m,P+1)),disabled:i===m,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",n.jsx(Bi,{size:16})]})]})]})]}),k&&C&&n.jsx(kde,{invoice:C,onClose:()=>{E(!1),D(null)}})]})},Ade=()=>n.jsx(It,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and track all medicine orders from users"})]}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"All Orders"})}),n.jsx(Ze,{children:n.jsx(Ede,{})})]})]})}),Cde=[{id:1,booking_id:101,complaint_type:"service_quality",description:"The groomer was late and didn't follow the instructions I provided for my dog's haircut.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-15T10:00:00Z",resolved_at:null,user_name:"Sarah Johnson",user_email:"sarah.johnson@example.com",user_phone:"+91 98765 43210",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Grooming",booking_date:"2025-01-14",booking_time:"14:00"},{id:2,booking_id:102,complaint_type:"provider_behavior",description:"The trainer was rude and unprofessional during the training session.",priority:"medium",status:"in_progress",admin_notes:"Contacted provider for their side of the story",created_at:"2025-01-14T15:30:00Z",resolved_at:null,user_name:"Michael Chen",user_email:"michael.chen@example.com",user_phone:"+91 98765 43211",provider_name:"Sarah Trainer",provider_email:"sarah.trainer@example.com",service_name:"Dog Training",booking_date:"2025-01-13",booking_time:"10:00"},{id:3,booking_id:103,complaint_type:"billing_dispute",description:"I was charged extra for services that were not provided.",priority:"high",status:"resolved",admin_notes:"Refund processed. Amount credited to user account.",created_at:"2025-01-12T09:20:00Z",resolved_at:"2025-01-13T11:00:00Z",user_name:"Emily Rodriguez",user_email:"emily.rodriguez@example.com",user_phone:"+91 98765 43212",provider_name:"Mike Handler",provider_email:"mike.handler@example.com",service_name:"Veterinary Care",booking_date:"2025-01-11",booking_time:"16:00"},{id:4,booking_id:104,complaint_type:"safety_concern",description:"The boarding facility didn't have proper safety measures for my pet.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-11T14:15:00Z",resolved_at:null,user_name:"David Wilson",user_email:"david.wilson@example.com",user_phone:"+91 98765 43213",provider_name:"Lisa Coach",provider_email:"lisa.coach@example.com",service_name:"Pet Boarding",booking_date:"2025-01-10",booking_time:"09:00"},{id:5,booking_id:105,complaint_type:"other",description:"General dissatisfaction with the service quality.",priority:"low",status:"closed",admin_notes:"Issue resolved after discussion with provider.",created_at:"2025-01-08T11:00:00Z",resolved_at:"2025-01-09T15:30:00Z",user_name:"Priya Sharma",user_email:"priya.sharma@example.com",user_phone:"+91 98765 43214",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Walking",booking_date:"2025-01-07",booking_time:"18:00"}],Pde={total_complaints:5,pending_complaints:2,in_progress_complaints:1,resolved_complaints:1,closed_complaints:1,high_priority_complaints:3,medium_priority_complaints:1,low_priority_complaints:1},Tde=()=>{const[e,t]=v.useState(Cde),[r,a]=v.useState(Pde),[s,i]=v.useState(!1),[o,c]=v.useState(null),[u,m]=v.useState("all"),[f,h]=v.useState("all"),[g,p]=v.useState(""),[b,y]=v.useState(!1),[j,N]=v.useState(""),[_,k]=v.useState(""),E=(T,F,q)=>{y(!0),setTimeout(()=>{t(e.map(J=>J.id===T?{...J,status:F,admin_notes:q,resolved_at:F==="resolved"||F==="closed"?new Date().toISOString():J.resolved_at}:J));const U=e.map(J=>J.id===T?{...J,status:F}:J);a({total_complaints:U.length,pending_complaints:U.filter(J=>J.status==="pending").length,in_progress_complaints:U.filter(J=>J.status==="in_progress").length,resolved_complaints:U.filter(J=>J.status==="resolved").length,closed_complaints:U.filter(J=>J.status==="closed").length,high_priority_complaints:U.filter(J=>J.priority==="high").length,medium_priority_complaints:U.filter(J=>J.priority==="medium").length,low_priority_complaints:U.filter(J=>J.priority==="low").length}),c(null),N(""),k(""),y(!1)},500)},C=T=>{switch(T){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},D=T=>{switch(T){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"in_progress":return"bg-primary/10 text-primary-dark border-primary/20";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},O=T=>({service_quality:"Service Quality Issue",provider_behavior:"Provider Behavior",billing_dispute:"Billing Dispute",safety_concern:"Safety Concern",equipment_damage:"Equipment Damage",other:"Other"})[T]||T,I=e.filter(T=>{const F=u==="all"||T.status===u,q=f==="all"||T.priority===f,U=g===""||T.user_name.toLowerCase().includes(g.toLowerCase())||T.provider_name.toLowerCase().includes(g.toLowerCase())||T.service_name.toLowerCase().includes(g.toLowerCase())||T.description.toLowerCase().includes(g.toLowerCase());return F&&q&&U});return s?n.jsx(It,{children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading complaints..."})]})}):n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complaint Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and resolve customer complaints"})]})}),r&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Je,{className:"border-0 shadow-lg",children:n.jsx(Ze,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Complaints"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.total_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(To,{size:24,className:"text-primary"})})]})})}),n.jsx(Je,{className:"border-0 shadow-lg",children:n.jsx(Ze,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:r.pending_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:n.jsx(Kr,{size:24,className:"text-yellow-600"})})]})})}),n.jsx(Je,{className:"border-0 shadow-lg",children:n.jsx(Ze,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-3xl font-bold text-primary",children:r.in_progress_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(mb,{size:24,className:"text-primary"})})]})})}),n.jsx(Je,{className:"border-0 shadow-lg",children:n.jsx(Ze,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.resolved_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Wr,{size:24,className:"text-green-600"})})]})})})]}),n.jsx(Je,{className:"border-0 shadow-lg",children:n.jsx(Ze,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{size:20,className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search complaints...",value:g,onChange:T=>p(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{value:u,onChange:T=>m(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:f,onChange:T=>h(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Priority"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]})]})]})})}),n.jsx("div",{className:"space-y-4",children:I.length===0?n.jsx(Je,{className:"border-0 shadow-lg",children:n.jsxs(Ze,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(To,{size:48,className:"text-gray-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Complaints Found"}),n.jsx("p",{className:"text-gray-600",children:g||u!=="all"||f!=="all"?"No complaints match your filter criteria.":"No complaints have been submitted yet."})]})}):I.map(T=>n.jsx(Je,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:n.jsx(Ze,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[n.jsxs("div",{className:"mb-4 lg:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O(T.complaint_type)}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${C(T.priority)}`,children:T.priority.toUpperCase()}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${D(T.status)}`,children:T.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-gray-600 mb-3",children:T.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Wt,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:T.user_name})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sa,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:T.user_phone})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cr,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:new Date(T.booking_date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:T.service_name})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(De,{size:"sm",variant:"outline",onClick:()=>c(T),className:"border-primary/20 text-primary hover:bg-primary/5",children:[n.jsx(yn,{size:16,className:"mr-2"}),"View Details"]})})]})})},T.id))}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complaint Details"}),n.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Hn,{size:20,className:"text-gray-500"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complaint Type"}),n.jsx("p",{className:"text-gray-900",children:O(o.complaint_type)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Priority"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${C(o.priority)}`,children:o.priority.toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${D(o.status)}`,children:o.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.created_at).toLocaleString()})]}),o.resolved_at&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Resolved At"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.resolved_at).toLocaleString()})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-gray-50 rounded-lg",children:o.description})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Customer Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.user_phone]})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Provider Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",o.provider_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.provider_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Service:"})," ",o.service_name]})]})]})]}),o.admin_notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-yellow-50 rounded-lg",children:o.admin_notes})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Status"}),n.jsxs("select",{value:j,onChange:T=>N(T.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("textarea",{value:_,onChange:T=>k(T.target.value),placeholder:"Add notes about the resolution...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:3})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(De,{onClick:()=>c(null),variant:"outline",className:"flex-1",children:"Cancel"}),n.jsx(De,{onClick:()=>E(o.id,j,_),disabled:!j||b,className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary",children:b?"Updating...":"Update Status"})]})]})]})]})]})})]})})},Co={New:{badge:"bg-primary/10 text-primary-dark border border-primary/20",dot:"bg-primary"},Contacted:{badge:"bg-yellow-100 text-yellow-700 border border-yellow-200",dot:"bg-yellow-500"},Converted:{badge:"bg-green-100 text-green-700 border border-green-200",dot:"bg-green-500"},Lost:{badge:"bg-red-100 text-red-700 border border-red-200",dot:"bg-red-500"}},Ode=e=>{let t=[];if(e.cart_items)try{typeof e.cart_items=="string"?t=JSON.parse(e.cart_items):Array.isArray(e.cart_items)&&(t=e.cart_items)}catch(r){console.error("Error parsing cart_items:",r),t=[]}return{id:e.id,userId:e.user_id||null,ownerName:e.owner_name||e.user_full_name||"",email:e.email||e.user_email||"",phone:e.phone||e.user_phone||"",petType:e.pet_type,serviceInterest:e.service_interest,location:e.location||e.user_city||"",createdAt:e.created_at,status:e.status,notes:e.notes||"",assignedTrainer:e.assigned_trainer,assigned_admin_id:e.assigned_admin_id||null,assigned_admin_name:e.assigned_admin_name||null,assigned_admin_username:e.assigned_admin_username||null,scheduled_date:e.scheduled_date||null,scheduled_time:e.scheduled_time||null,cartItems:t,cartTotal:e.cart_total?parseFloat(String(e.cart_total)):null,cartSubtotal:e.cart_subtotal?parseFloat(String(e.cart_subtotal)):null,cartDiscount:e.cart_discount?parseFloat(String(e.cart_discount)):null,cartCreatedAt:e.cart_created_at||null,cartUpdatedAt:e.cart_updated_at||null,leadSource:e.lead_source||"manual",userFullName:e.user_full_name||null,userPhone:e.user_phone||null,userEmail:e.user_email||null,userCity:e.user_city||null,userState:e.user_state||null,status_history:e.status_history||[]}},Ide=({lead:e,onClose:t,onUpdate:r,showHistory:a=!1})=>{const[s,i]=v.useState(e?.status??"New"),[o,c]=v.useState(e?.scheduled_date||""),[u,m]=v.useState(e?.scheduled_time||""),[f,h]=v.useState(!1),[g,p]=v.useState("details");if(v.useEffect(()=>{e&&(i(e.status),c(e.scheduled_date||""),m(e.scheduled_time||""))},[e]),!e)return null;const b=async()=>{h(!0);try{await r(e.id,{status:s,scheduledDate:o||null,scheduledTime:u||null}),t()}catch(j){console.error("Error updating lead:",j)}finally{h(!1)}},y=e;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] rounded-3xl bg-white shadow-2xl flex flex-col",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 z-10 rounded-full bg-secondary p-2 text-primary hover:bg-secondary/80 transition-colors",children:n.jsx(Tt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-primary px-8 py-6 text-white flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ws,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Manage status, assignment, and notes"})]})]})}),a&&n.jsx("div",{className:"px-8 pt-6 pb-4 border-b border-primary/20 flex-shrink-0",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>p("details"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${g==="details"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:"Details"}),n.jsx("button",{onClick:()=>p("history"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${g==="history"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zL,{size:16}),"Status History"]})})]})}),n.jsx("div",{className:"overflow-y-auto flex-1",children:g==="details"?n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(Wt,{className:"text-primary-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-primary-900",children:e.ownerName})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Wa,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(sa,{size:16}),n.jsx("span",{children:e.phone})]}),e.userCity&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Pn,{size:16}),n.jsxs("span",{children:[e.userCity,e.userState?`, ${e.userState}`:""]})]}),e.assigned_admin_name&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Vs,{size:16}),n.jsxs("span",{children:["Assigned to: ",e.assigned_admin_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Ph,{size:16}),n.jsxs("span",{children:["Cart added ",e.cartCreatedAt?new Date(e.cartCreatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),e.cartItems&&e.cartItems.length>0&&n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Cart Items"}),n.jsx("div",{className:"space-y-2",children:e.cartItems.map((j,N)=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary-900",children:j.medicine_name||j.medicineName||"Item"}),n.jsxs("p",{className:"text-xs text-primary-400",children:["Quantity: ",j.quantity||1]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",((j.price||0)*(j.quantity||1)).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-primary-400",children:["",(j.price||0).toFixed(2)," each"]})]})]},N))}),n.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-white/90 p-3 border-t border-primary-100",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Subtotal:"}),n.jsxs("span",{className:"text-sm font-semibold text-primary-900",children:["",e.cartSubtotal?.toFixed(2)||"0.00"]})]}),e.cartDiscount&&e.cartDiscount>0&&n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Discount:"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["-",e.cartDiscount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-primary-100 p-3",children:[n.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"Total:"}),n.jsxs("span",{className:"text-lg font-bold text-primary-900",children:["",e.cartTotal?.toFixed(2)||"0.00"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500",children:"Lead Status"}),n.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost"].map(j=>n.jsxs("button",{onClick:()=>i(j),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${s===j?"border-primary-500 bg-primary-50 text-primary-700 shadow-sm":"border-primary-100 bg-white text-primary-500 hover:border-primary-200"}`,children:[n.jsx("span",{children:j}),j==="Converted"?n.jsx(ss,{size:18}):j==="Lost"?n.jsx(To,{size:18}):n.jsx(WC,{size:18})]},j))})]}),n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Schedule"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Date"}),n.jsx("input",{type:"date",value:o,onChange:j=>c(j.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Time"}),n.jsx("input",{type:"time",value:u,onChange:j=>m(j.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]})]})]})]}):n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Status History"}),y.status_history&&y.status_history.length>0?n.jsx("div",{className:"space-y-3",children:y.status_history.map((j,N)=>n.jsx("div",{className:"rounded-xl border border-primary-100 bg-primary-50/40 p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Co[j.status]?.badge||Co.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Co[j.status]?.dot||Co.New.dot}`}),j.status]}),n.jsx("span",{className:"text-xs text-primary-600",children:new Date(j.created_at).toLocaleString()})]}),j.notes&&n.jsx("p",{className:"text-sm text-primary-700 mt-2",children:j.notes}),j.updated_by_name&&n.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["Updated by: ",j.updated_by_name]})]})})},j.id))}):n.jsx("p",{className:"text-sm text-primary-400 text-center py-8",children:"No status history available"})]})}),n.jsxs("div",{className:"px-8 pt-6 pb-8 border-t border-primary-100 bg-white flex-shrink-0",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5 mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Lead Notes"}),n.jsx("p",{className:"text-sm text-primary-900 leading-relaxed",children:e.notes||"No notes available"})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:t,disabled:f,className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:f,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},Dde=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(null),[i,o]=v.useState(""),[c,u]=v.useState("All"),[m,f]=v.useState(!1),[h,g]=v.useState(!1),[p,b]=v.useState(!1),[y,j]=v.useState([]),[N,_]=v.useState({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""}),[k,E]=v.useState({username:"",password:"",full_name:"",email:"",phone:""}),C=(W=!1)=>{const he=localStorage.getItem("Apricott Care_token"),X={};return he&&(X.Authorization=`Bearer ${he}`),W&&(X["Content-Type"]="application/json"),X},D=async()=>{f(!0);try{const W=c!=="All"?`?status=${c}`:"",X=await(await fetch(`${we}/admin/leads${W}`,{headers:C()})).json();if(X.success&&Array.isArray(X.leads)){const be=X.leads.map(Ode);r(be)}else e("Failed to load leads","error")}catch(W){console.error("Error fetching leads:",W),e("Error loading leads","error")}finally{f(!1)}};v.useEffect(()=>{D()},[c]),v.useEffect(()=>{O()},[]);const O=async()=>{try{const he=await(await fetch(`${we}/admin/lead-admins`,{headers:C()})).json();he.success&&Array.isArray(he.admins)&&j(he.admins)}catch(W){console.error("Error fetching lead admins:",W)}},I=async()=>{if(!k.username||!k.password){e("Username and password are required","error");return}try{const W=await fetch(`${we}/admin/lead-admins`,{method:"POST",headers:C(!0),body:JSON.stringify(k)}),he=await W.json();W.ok&&he.success?(await O(),e("Lead admin created successfully","success"),E({username:"",password:"",full_name:"",email:"",phone:""})):e(he.error?.message||"Failed to create admin","error")}catch(W){console.error("Error creating admin:",W),e("Error creating admin","error")}},T=v.useMemo(()=>{const W=t.length,he=t.filter(me=>me.status==="New").length,X=t.filter(me=>me.status==="Contacted").length,be=t.filter(me=>me.status==="Converted").length;t.filter(me=>me.status==="Lost").length;const ne=W===0?0:Math.round(be/W*100),ve=t.filter(me=>me.leadSource==="cart").length;return[{label:"New Leads",value:he,icon:n.jsx(hb,{className:"text-white",size:22}),gradient:"bg-primary",subtitle:"From cart"},{label:"Contacted",value:X,icon:n.jsx(HC,{className:"text-primary-500",size:22}),gradient:"bg-yellow-500",subtitle:"In follow-up"},{label:"Converted",value:be,icon:n.jsx(ss,{className:"text-emerald-600",size:22}),gradient:"bg-green-500",subtitle:`${ne}% conversion`},{label:"Total Leads",value:W,icon:n.jsx(db,{className:"text-primary-500",size:22}),gradient:"bg-primary",subtitle:`${ve} from cart`}]},[t]),F=t.filter(W=>{const he=W.ownerName.toLowerCase().includes(i.toLowerCase())||W.email.toLowerCase().includes(i.toLowerCase())||W.phone.toLowerCase().includes(i.toLowerCase()),X=c==="All"||W.status===c;return he&&X}),q=async(W,he)=>{try{const X={};he.status&&(X.status=he.status),he.assignedTrainer!==void 0&&(X.assigned_trainer=he.assignedTrainer),he.scheduledDate!==void 0&&(X.scheduled_date=he.scheduledDate),he.scheduledTime!==void 0&&(X.scheduled_time=he.scheduledTime);const be=await fetch(`${we}/admin/leads/${W}`,{method:"PUT",headers:C(!0),body:JSON.stringify(X)}),ne=await be.json();if(be.ok&&ne.success)await D(),e("Lead updated successfully","success");else throw e(ne.error?.message||"Failed to update lead","error"),new Error(ne.error?.message||"Failed to update lead")}catch(X){throw console.error("Error updating lead:",X),e("Error updating lead","error"),X}},U=async()=>{try{const W=await fetch(`${we}/admin/leads`,{method:"POST",headers:C(!0),body:JSON.stringify({owner_name:N.ownerName,email:N.email,phone:N.phone,pet_type:N.petType,service_interest:N.serviceInterest,location:N.location||null,notes:N.notes||null,status:N.status,assigned_trainer:N.assignedTrainer,scheduled_date:N.scheduledDate||null,scheduled_time:N.scheduledTime||null})}),he=await W.json();W.ok&&he.success?(await D(),e("Lead created successfully","success"),g(!1),_({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""})):e(he.error?.message||"Failed to create lead","error")}catch(W){console.error("Error creating lead:",W),e("Error creating lead","error")}},J=async W=>{if(confirm("Are you sure you want to delete this lead?"))try{const he=await fetch(`${we}/admin/leads/${W}`,{method:"DELETE",headers:C()}),X=await he.json();he.ok&&X.success?(await D(),e("Lead deleted successfully","success")):e(X.error?.message||"Failed to delete lead","error")}catch(he){console.error("Error deleting lead:",he),e("Error deleting lead","error")}};return n.jsxs(It,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-primary px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-secondary/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"User Leads Dashboard"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-secondary/80",children:"Track inquiries from users, manage leads, and follow progress across the sales pipeline."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",className:"rounded-xl bg-secondary px-5 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-secondary/80 transition-colors flex items-center gap-2",onClick:()=>b(!0),children:[n.jsx(Vs,{size:16}),"Manage Admins"]}),n.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-primary-600 shadow-sm hover:bg-primary-50 transition-colors",onClick:()=>console.log("Export leads"),children:"Export Leads"}),n.jsxs("button",{type:"button",className:"rounded-xl bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 transition-colors flex items-center gap-2",onClick:()=>{},style:{display:"none"},children:[n.jsx(ia,{size:16}),"New Lead"]})]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:T.map(W=>n.jsx(Je,{className:"overflow-hidden rounded-3xl border border-primary-100/60 bg-white/95 shadow-md",children:n.jsxs(Ze,{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${W.gradient} shadow-sm`,children:W.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-primary-500",children:W.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-primary-900",children:W.value}),n.jsx("p",{className:"text-xs text-primary-400",children:W.subtitle})]})]})},W.label))}),n.jsx(Je,{className:"rounded-3xl border border-primary-100/60 bg-white/95 shadow-lg",children:n.jsxs(Ze,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-primary-100 bg-primary-50/60 px-4 py-2",children:[n.jsx(Dn,{size:18,className:"text-primary-400"}),n.jsx("input",{value:i,onChange:W=>o(W.target.value),placeholder:"Search users, email, or phone...",className:"flex-1 border-none bg-transparent text-sm text-primary-900 placeholder-orange-300 outline-none"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Contacted","Converted","Lost"].map(W=>n.jsxs("button",{onClick:()=>u(W),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${c===W?"border-primary-500 bg-primary-50 text-primary-600 shadow-sm":"border-primary-100 bg-white text-primary-400 hover:border-primary-200"}`,children:[n.jsx(nf,{size:14}),W==="All"?"All Leads":`${W} Leads`]},W))})]}),n.jsx("div",{className:"overflow-hidden rounded-2xl border border-primary-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-primary-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-primary-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:m?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-primary-400"})})})}):F.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-primary-400",children:"No leads found for the current filters."})}):F.map(W=>n.jsxs("tr",{className:"transition-colors hover:bg-primary-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(Wt,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-primary-900",children:W.ownerName}),n.jsx("p",{className:"text-xs text-primary-400",children:W.email}),n.jsx("p",{className:"text-xs text-primary-400",children:W.phone})]})]})}),n.jsx("td",{className:"px-6 py-4",children:W.cartItems&&W.cartItems.length>0?n.jsxs("div",{className:"space-y-1",children:[W.cartItems.slice(0,3).map((he,X)=>n.jsxs("div",{className:"text-xs text-primary-700",children:[he.medicine_name||he.medicineName||"Item",he.quantity&&` x${he.quantity}`]},X)),W.cartItems.length>3&&n.jsxs("div",{className:"text-xs text-primary-400",children:["+",W.cartItems.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:W.cartTotal!==null&&W.cartTotal!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",W.cartTotal.toFixed(2)]}),W.cartDiscount&&W.cartDiscount>0&&n.jsxs("p",{className:"text-xs text-primary-400",children:["Discount: ",W.cartDiscount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-primary-600",children:W.cartCreatedAt?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cr,{size:14}),n.jsx("span",{children:new Date(W.cartCreatedAt).toLocaleDateString()})]}),W.cartUpdatedAt&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[n.jsx(Kr,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(W.cartUpdatedAt).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-primary-300",children:new Date(W.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Co[W.status]?.badge||Co.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Co[W.status]?.dot||Co.New.dot}`}),W.status]}),W.assigned_admin_name&&n.jsxs("div",{className:"text-xs text-primary-500",children:["Assigned to: ",W.assigned_admin_name]})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsxs("button",{onClick:()=>s(W),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(Bi,{size:14})]}),n.jsx("button",{onClick:()=>J(W.id),className:"inline-flex items-center gap-2 rounded-full border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-500 shadow-sm transition-all hover:bg-red-50",children:n.jsx(As,{size:14})})]})})]},W.id))})]})})]})})]}),n.jsx(Ide,{lead:a,onClose:()=>s(null),onUpdate:q,showHistory:!0}),p&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:()=>b(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(Tt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vs,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Admin Management"}),n.jsx("p",{className:"text-sm text-primary-100/90",children:"Create and manage lead admin users"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Create New Lead Admin"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Username *"}),n.jsx("input",{type:"text",value:k.username,onChange:W=>E({...k,username:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Password *"}),n.jsx("input",{type:"password",value:k.password,onChange:W=>E({...k,password:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Full Name"}),n.jsx("input",{type:"text",value:k.full_name,onChange:W=>E({...k,full_name:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email"}),n.jsx("input",{type:"email",value:k.email,onChange:W=>E({...k,email:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone"}),n.jsx("input",{type:"tel",value:k.phone,onChange:W=>E({...k,phone:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsx("button",{onClick:I,disabled:!k.username||!k.password,className:"mt-4 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Admin"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Existing Lead Admins"}),n.jsx("div",{className:"space-y-2",children:y.map(W=>n.jsxs("div",{className:"rounded-xl border border-primary-100 bg-white p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-primary-900",children:W.username}),W.full_name&&n.jsx("p",{className:"text-sm text-primary-600",children:W.full_name}),W.email&&n.jsx("p",{className:"text-xs text-primary-500",children:W.email})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${W.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:W.is_active?"Active":"Inactive"})})]},W.id))})]})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:()=>g(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(Tt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ia,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Create New Lead"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Add a new user lead"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Owner Name *"}),n.jsx("input",{type:"text",value:N.ownerName,onChange:W=>_({...N,ownerName:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email *"}),n.jsx("input",{type:"email",value:N.email,onChange:W=>_({...N,email:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone *"}),n.jsx("input",{type:"tel",value:N.phone,onChange:W=>_({...N,phone:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Pet Type"}),n.jsxs("select",{value:N.petType,onChange:W=>_({...N,petType:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Dog"}),n.jsx("option",{children:"Cat"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Service Interest"}),n.jsxs("select",{value:N.serviceInterest,onChange:W=>_({...N,serviceInterest:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Vaccination"}),n.jsx("option",{children:"Healthcare"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Location"}),n.jsx("input",{type:"text",value:N.location,onChange:W=>_({...N,location:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Date"}),n.jsx("input",{type:"date",value:N.scheduledDate,onChange:W=>_({...N,scheduledDate:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Time"}),n.jsx("input",{type:"time",value:N.scheduledTime,onChange:W=>_({...N,scheduledTime:W.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Notes"}),n.jsx("textarea",{value:N.notes,onChange:W=>_({...N,notes:W.target.value}),rows:3,className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{onClick:()=>g(!1),className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:U,disabled:!N.ownerName||!N.email||!N.phone,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Lead"})]})]})]})})]})},Fde=()=>{const{addToast:e}=Dt(),{user:t}=vn(),[r]=pL(),a=r.get("tab")||"overview",[s,i]=v.useState(null),[o,c]=v.useState([]),[u,m]=v.useState([]),[f,h]=v.useState([]),[g,p]=v.useState([]),[b,y]=v.useState([]),[j,N]=v.useState([]),[_,k]=v.useState(!1),[E,C]=v.useState("30d"),[D,O]=v.useState(!1),[I,T]=v.useState({full_name:"",email:"",phone_number:"",password:""}),[F,q]=v.useState(null),[U,J]=v.useState(!1),[W,he]=v.useState(!1),[X,be]=v.useState(null),[ne,ve]=v.useState(null),[me,ae]=v.useState({reference_number:"",notes:""}),[P,B]=v.useState(!1),[H,V]=v.useState(!1),[te,ye]=v.useState(null),ke=t?.role==="admin",R=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token")||""}`,"Content-Type":"application/json"});v.useEffect(()=>{a==="overview"?G():a==="settlements"?(ge(),ke&&vt()):a==="payouts"?_e():a==="transactions"?Xe():a==="bookings"?_t():a==="vendors"?se():a==="staff"&&ke&&vt()},[a,E,ke]);const G=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Pe=new Date;let Ie,ht=Pe.toISOString().split("T")[0];switch(E){case"7d":Ie=new Date(Pe.setDate(Pe.getDate()-7)).toISOString().split("T")[0];break;case"30d":Ie=new Date(Pe.setDate(Pe.getDate()-30)).toISOString().split("T")[0];break;case"90d":Ie=new Date(Pe.setDate(Pe.getDate()-90)).toISOString().split("T")[0];break;case"1y":Ie=new Date(Pe.setFullYear(Pe.getFullYear()-1)).toISOString().split("T")[0];break;default:Ie=new Date(Pe.setDate(Pe.getDate()-30)).toISOString().split("T")[0]}const Et=await fetch(`${we}/admin/finance/gmv?date_from=${Ie}&date_to=${ht}`,{headers:R()});if(Et.ok){const Ye=await Et.json();i({total_gmv:Ye.total_gmv||0,period:`${Ie} to ${ht}`})}else{const Ye=await Et.json().catch(()=>({}));console.error("GMV fetch error:",Et.status,Ye),e(`Failed to fetch GMV data: ${Ye.error?.message||Et.statusText}`,"error")}}catch(Y){console.error("GMV fetch exception:",Y),e(`Failed to fetch GMV data: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},ge=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Pe=await fetch(`${we}/admin/finance/settlements/pending`,{headers:R()});if(Pe.ok){const Ie=await Pe.json();console.log("Settlements data received:",Ie),console.log("Settlements array:",Ie.settlements),Ie.settlements&&Ie.settlements.length>0&&(console.log("First settlement:",Ie.settlements[0]),console.log("Allocation data:",{allocated_to_staff_id:Ie.settlements[0].allocated_to_staff_id,allocated_staff_name:Ie.settlements[0].allocated_staff_name,allocated_staff_email:Ie.settlements[0].allocated_staff_email})),c(Ie.settlements||[])}else{const Ie=await Pe.json().catch(()=>({}));console.error("Settlements fetch error:",Pe.status,Ie),e(`Failed to fetch settlements: ${Ie.error?.message||Pe.statusText}`,"error")}}catch(Y){console.error("Settlements fetch exception:",Y),e(`Failed to fetch settlements: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},le=async Y=>{try{const Pe=await fetch(`${we}/admin/finance/settlements/vendor/${Y}/bank-details`,{headers:R()});if(Pe.ok){const Ie=await Pe.json();return ve(Ie),Ie}else{const Ie=await Pe.json().catch(()=>({}));return e(`Failed to fetch bank details: ${Ie.error?.message||Pe.statusText}`,"error"),null}}catch(Pe){return console.error("Bank details fetch exception:",Pe),e(`Failed to fetch bank details: ${Pe instanceof Error?Pe.message:"Network error"}`,"error"),null}},ze=async Y=>{be(Y),await le(Y.provider_id)&&J(!0)},Fe=()=>{J(!1),he(!0)},Ce=async()=>{if(X){if(!me.reference_number.trim()){e("Please enter a reference number","error");return}B(!0);try{const Y=await fetch(`${we}/admin/finance/settlements/process`,{method:"POST",headers:R(),body:JSON.stringify({provider_id:X.provider_id,reference_number:me.reference_number.trim(),notes:me.notes.trim()||null})});if(Y.ok){const Pe=await Y.json();e("Settlement processed successfully","success"),he(!1),be(null),ae({reference_number:"",notes:""}),ge()}else{const Pe=await Y.json().catch(()=>({}));e(`Failed to process payment: ${Pe.error?.message||Y.statusText}`,"error")}}catch(Y){console.error("Payment processing exception:",Y),e(`Failed to process payment: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{B(!1)}}},Ae=async(Y,Pe)=>{if(!Y.id){e("Cannot allocate: Settlement ID missing","error");return}try{const Ie=await fetch(`${we}/admin/finance/settlements/allocate`,{method:"POST",headers:R(),body:JSON.stringify({settlement_id:Y.id,staff_id:Pe})});if(Ie.ok){const ht=await Ie.json();e(Pe?"Settlement allocated successfully":"Settlement unallocated successfully","success"),ge()}else{const ht=await Ie.json().catch(()=>({}));e(`Failed to allocate settlement: ${ht.error?.message||Ie.statusText}`,"error")}}catch(Ie){console.error("Allocation exception:",Ie),e(`Failed to allocate settlement: ${Ie instanceof Error?Ie.message:"Network error"}`,"error")}},_e=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Pe=await fetch(`${we}/admin/finance/payouts`,{headers:R()});if(Pe.ok){const Ie=await Pe.json();m(Ie.payouts||[])}else{const Ie=await Pe.json().catch(()=>({}));console.error("Payouts fetch error:",Pe.status,Ie),e(`Failed to fetch payouts: ${Ie.error?.message||Pe.statusText}`,"error")}}catch(Y){console.error("Payouts fetch exception:",Y),e(`Failed to fetch payouts: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},it=Y=>{ye(Y),V(!0)},Xe=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Pe=await fetch(`${we}/admin/finance/transactions`,{headers:R()});if(Pe.ok){const Ie=await Pe.json();h(Ie.transactions||[])}else{const Ie=await Pe.json().catch(()=>({}));console.error("Transactions fetch error:",Pe.status,Ie),e(`Failed to fetch transactions: ${Ie.error?.message||Pe.statusText}`,"error")}}catch(Y){console.error("Transactions fetch exception:",Y),e(`Failed to fetch transactions: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},gt=async()=>{ge()},at=async()=>{try{const Y=await fetch(`${we}/admin/finance/gst-reports?period=${E}`,{headers:R()});if(Y.ok){const Pe=await Y.blob(),Ie=window.URL.createObjectURL(Pe),ht=document.createElement("a");ht.href=Ie,ht.download=`gst-report-${E}.pdf`,document.body.appendChild(ht),ht.click(),window.URL.revokeObjectURL(Ie),document.body.removeChild(ht),e("GST report downloaded","success")}}catch{e("Failed to download GST report","error")}},vt=async()=>{try{const Y=await fetch(`${we}/admin/finance-staff`,{headers:R()});if(Y.ok){const Pe=await Y.json();p(Pe.staff||[])}}catch{e("Failed to fetch financial staff","error")}},St=async()=>{if(!I.full_name||!I.email||!I.phone_number){e("Please fill all required fields","error");return}k(!0);try{const Y=await fetch(`${we}/admin/finance-staff`,{method:"POST",headers:R(),body:JSON.stringify(I)});if(Y.ok)e("Financial staff created successfully","success"),vt(),O(!1),T({full_name:"",email:"",phone_number:"",password:""}),q(null);else{const Pe=await Y.json().catch(()=>({}));e(Pe.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{k(!1)}},yt=async()=>{if(!F||!I.email){e("Please fill all fields","error");return}k(!0);try{const Y=await fetch(`${we}/admin/finance-staff/${F.id}`,{method:"PUT",headers:R(),body:JSON.stringify({email:I.email,username:I.full_name})});if(Y.ok)e("Staff member updated successfully","success"),vt(),O(!1),T({full_name:"",email:"",phone_number:"",password:""}),q(null);else{const Pe=await Y.json().catch(()=>({}));e(Pe.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{k(!1)}},_r=async Y=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted from the database.")){k(!0);try{const Pe=await fetch(`${we}/admin/finance-staff/${Y}`,{method:"DELETE",headers:R()});if(Pe.ok)e("Staff member removed successfully","success"),vt();else{const Ie=await Pe.json().catch(()=>({}));e(Ie.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{k(!1)}}},_t=async()=>{k(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"))){e("Authentication required. Please login again.","error"),k(!1);return}const Pe=await fetch(`${we}/admin/finance/bookings?date_range=${E}`,{headers:R()});if(Pe.ok){const ht=(await Pe.json()).bookings||[];y(ht),ht.length===0&&e("No bookings found","info")}else{const Ie=await Pe.json().catch(()=>({}));console.error("Bookings fetch error:",Pe.status,Ie),e(`Failed to fetch bookings: ${Ie.error?.message||Pe.statusText}`,"error")}}catch(Y){console.error("Bookings fetch exception:",Y),e(`Failed to fetch bookings: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}},se=async()=>{k(!0);try{const Y=await fetch(`${we}/admin/providers`,{headers:R()});if(Y.ok){const Pe=await Y.json(),Ie=Pe.data||Pe.providers||(Array.isArray(Pe)?Pe:[]);console.log("Vendors fetched:",Ie.length);const ht=await Promise.all(Ie.map(async Et=>{try{const Ye=await fetch(`${we}/admin/orders?provider_id=${Et.id}&limit=1000`,{headers:R()});let Ir=0,zr=0,vr=0;if(Ye.ok){const Ea=await Ye.json(),Aa=Ea.orders||Ea.data||[];console.log(`Provider ${Et.id}: Fetched ${Aa.length} total orders`);const Ca=["confirmed","packed","out_for_delivery","delivered","shipment"],Xn=Aa.filter(ue=>Ca.includes(ue.status));console.log(`Provider ${Et.id}: Found ${Xn.length} completed orders (statuses: ${Ca.join(", ")})`),zr=Xn.length,Xn.forEach(ue=>{const qe=parseFloat(ue.total_amount||0);!isNaN(qe)&&qe>0&&(Ir+=qe),(ue.items||[]).forEach(ur=>{const Lt=parseInt(ur.quantity||0);!isNaN(Lt)&&Lt>0&&(vr+=Lt)})})}return{...Et,total_revenue:Ir,total_orders:zr,total_products_sold:vr}}catch(Ye){return console.error(`Error fetching sales for provider ${Et.id}:`,Ye),{...Et,total_revenue:0,total_orders:0,total_products_sold:0}}}));N(ht)}else{const Pe=await Y.json().catch(()=>({}));console.error("Vendors fetch error:",Y.status,Pe),e(`Failed to fetch vendors: ${Pe.error?.message||Y.statusText}`,"error")}}catch(Y){console.error("Vendors fetch exception:",Y),e(`Failed to fetch vendors: ${Y instanceof Error?Y.message:"Network error"}`,"error")}finally{k(!1)}};return n.jsxs(It,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage GMV, settlements, payouts, GST reports, and financial transactions."})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("select",{value:E,onChange:Y=>C(Y.target.value),className:"px-3 py-2 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"})]})})]}),_?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[a==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsxs(wt,{className:"flex items-center gap-2",children:[n.jsx(rd,{className:"text-primary",size:20}),"Total GMV"]})}),n.jsxs(Ze,{children:[n.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",s?.total_gmv?.toLocaleString()||"0"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Period: ",E]})]})]}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsxs(wt,{className:"flex items-center gap-2",children:[n.jsx(Un,{className:"text-primary",size:20}),"Pending Settlements"]})}),n.jsxs(Ze,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:o.filter(Y=>Y.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Awaiting processing"})]})]}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsxs(wt,{className:"flex items-center gap-2",children:[n.jsx(Ai,{className:"text-primary",size:20}),"Pending Payouts"]})}),n.jsxs(Ze,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:u.filter(Y=>Y.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Ready for execution"})]})]})]}),a==="settlements"&&n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[n.jsx(wt,{children:"Settlements"}),n.jsxs("button",{onClick:gt,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsx(Ze,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),ke&&n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Allocated To"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:o.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:ke?6:5,className:"px-4 py-8 text-center text-gray-500",children:"No pending settlements found"})}):o.map((Y,Pe)=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:Y.provider_name}),Y.orders&&Y.orders.length>0&&n.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[Y.orders.length," order(s)"]}),Y.orders.some(Ie=>Ie.order_status==="shipment")&&n.jsxs("span",{className:"text-xs text-primary font-medium",children:[Y.orders.filter(Ie=>Ie.order_status==="shipment").length," shipped"]}),Y.orders.some(Ie=>Ie.order_status==="delivered")&&n.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[Y.orders.filter(Ie=>Ie.order_status==="delivered").length," delivered"]})]})]})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",Y.settlement_amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="paid"?"bg-green-100 text-green-800":Y.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:Y.status})}),ke&&n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.jsxs("select",{value:Y.allocated_to_staff_id||"",onChange:Ie=>{const ht=Ie.target.value?parseInt(Ie.target.value):null;Ae(Y,ht)},className:"px-2 py-1 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary min-w-[150px]",children:[n.jsx("option",{value:"",children:"Not allocated"}),g.map(Ie=>n.jsx("option",{value:Ie.id,children:Ie.username||Ie.email},Ie.id))]}),Y.allocated_staff_email&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Y.allocated_staff_email})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.period_from?`${new Date(Y.period_from).toLocaleDateString()} - ${new Date(Y.period_to||Y.period_from).toLocaleDateString()}`:new Date(Y.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[Y.status==="pending"&&n.jsx("button",{onClick:()=>ze(Y),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"Process Payment"}),Y.orders&&Y.orders.length>0&&n.jsxs("button",{onClick:()=>{const Ie=Y.orders?.map(ht=>{const Et=ht.order_status||"unknown",Ye=Et==="shipment"?ht.shipped_at:ht.delivered_at,Ir=Et==="shipment"?"Shipped":"Delivered";return`Order #${ht.order_id}: ${ht.order_amount.toLocaleString()}
  Status: ${Et}
  ${Ir} At: ${Ye||"N/A"}
  Shipped by: ${ht.shipping_provider_name||"N/A"}
  Settlement: ${ht.settlement_amount.toLocaleString()}`}).join(`

`);alert(`Order Details:

${Ie}`)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",title:"View order details",children:["View Orders (",Y.orders.length,")"]})]})})]},Y.id||`settlement-${Pe}`))})]})})})]}),a==="payouts"&&n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[n.jsx(wt,{children:"Payouts"}),n.jsxs("button",{onClick:_e,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsx(Ze,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Processed At"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:u.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No payouts found"})}):u.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:Y.vendor_name}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",Y.amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="completed"?"bg-green-100 text-green-800":Y.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.processed_at?new Date(Y.processed_at).toLocaleDateString():Y.executed_at?new Date(Y.executed_at).toLocaleDateString():"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>it(Y),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"View Details"})})]},Y.id))})]})})})]}),a==="gst"&&n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[n.jsx(wt,{children:"GST Reports"}),n.jsxs("button",{onClick:at,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(G0,{size:18}),"Download Report"]})]}),n.jsx(Ze,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ar,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Generate and download GST compliance reports"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Select date range and click Download Report"})]})})]}),a==="transactions"&&n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[n.jsx(wt,{children:"All Transactions"}),n.jsxs("button",{onClick:Xe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsx(Ze,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Method"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Razorpay Payment ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:f.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):f.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm font-medium capitalize",children:Y.transaction_type?.replace("_"," ")||"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.user_name||"N/A"}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",Y.final_amount?.toLocaleString()||Y.amount.toLocaleString(),Y.discount_amount&&Y.discount_amount>0&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(Discount: ",Y.discount_amount.toLocaleString(),")"]})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 capitalize",children:Y.payment_method||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 font-mono",children:Y.razorpay_payment_id?n.jsx("span",{className:"text-xs",children:Y.razorpay_payment_id}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="paid"?"bg-green-100 text-green-800":Y.status==="failed"?"bg-red-100 text-red-800":Y.status==="requested"?"bg-yellow-100 text-yellow-800":Y.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:Y.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(Y.created_at).toLocaleString()})]},Y.id))})]})})})]}),a==="bookings"&&n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[n.jsx(wt,{children:"All Bookings"}),n.jsxs("button",{onClick:_t,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsx(Ze,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Shipping Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Settlement"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:b.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No bookings found"})}):b.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsxs("td",{className:"px-4 py-3",children:["#",Y.id]}),n.jsx("td",{className:"px-4 py-3",children:Y.user_name||Y.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3",children:Y.provider_name||"Unassigned"}),n.jsx("td",{className:"px-4 py-3",children:Y.shipping_provider_name?n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:Y.shipping_provider_name}),Y.shipment_status&&n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:Y.shipment_status})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",(Y.payment_amount||Y.total_amount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:Y.settlement_amount>0?n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-medium text-green-600",children:["",Y.settlement_amount.toLocaleString()]}),Y.commission>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Commission: ",Y.commission.toLocaleString()]})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.payment_status==="paid"?"bg-green-100 text-green-800":Y.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Y.payment_status||"pending"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="completed"||Y.status==="delivered"?"bg-green-100 text-green-800":Y.status==="shipment"?"bg-blue-100 text-blue-800":Y.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status||"pending"}),Y.status==="shipment"&&Y.shipped_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Shipped: ",new Date(Y.shipped_at).toLocaleDateString()]}),Y.status==="delivered"&&Y.delivered_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Delivered: ",new Date(Y.delivered_at).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(Y.created_at||Y.booking_date).toLocaleDateString()})]},Y.id))})]})})})]}),a==="vendors"&&n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[n.jsx(wt,{children:"Vendors & Sales Data"}),n.jsxs("button",{onClick:se,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsx(Ze,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Orders"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Products Sold"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"})]})}),n.jsx("tbody",{children:j.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No vendors found"})}):j.map(Y=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3 font-medium",children:Y.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.email||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Y.phone_number||"N/A"}),n.jsx("td",{className:"px-4 py-3 font-medium",children:Y.total_orders||0}),n.jsx("td",{className:"px-4 py-3 font-medium",children:Y.total_products_sold||0}),n.jsxs("td",{className:"px-4 py-3 font-medium text-primary",children:["",(Y.total_revenue||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="approved"?"bg-green-100 text-green-800":Y.status==="suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status||"pending"})})]},Y.id))})]})})})]}),a==="staff"&&ke&&n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(wt,{children:"Financial Staff Management"}),n.jsxs("button",{onClick:()=>{q(null),T({full_name:"",email:"",phone_number:"",password:""}),O(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(ia,{size:18}),"Add Staff"]})]})}),n.jsx(Ze,{children:g.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No financial staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(Y=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 min-h-[2.5rem]",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium truncate",title:Y.username||Y.email,children:Y.username||Y.email}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:Y.email,children:Y.email})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs ${Y.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Y.status||"active"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Created: ",new Date(Y.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{q(Y),T({full_name:Y.username||"",email:Y.email,phone_number:"",password:""}),O(!0)},className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>_r(Y.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(As,{size:14})})]})]},Y.id))})})]})]})]}),D&&ke&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsx(jt,{children:n.jsx(wt,{children:F?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:I.full_name,onChange:Y=>T({...I,full_name:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:I.email,onChange:Y=>T({...I,email:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:I.phone_number,onChange:Y=>T({...I,phone_number:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!F&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:I.password||"",onChange:Y=>T({...I,password:Y.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{O(!1),T({full_name:"",email:"",phone_number:"",password:""}),q(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:F?yt:St,disabled:_||!I.full_name||!I.email||!I.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:_?"Saving...":F?"Update":"Create"})]})]})]})}),U&&ne&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bank Details"}),n.jsx("button",{onClick:()=>{J(!1),ve(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900",children:ne.vendor_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder Name"}),n.jsx("p",{className:"text-gray-900",children:ne.account_holder_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),n.jsx("p",{className:"text-gray-900",children:ne.bank_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),n.jsx("p",{className:"text-gray-900",children:ne.account_number||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IFSC Code"}),n.jsx("p",{className:"text-gray-900",children:ne.ifsc_code||"N/A"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{J(!1),ve(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),n.jsx("button",{onClick:Fe,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Payment Complete"})]})]})]})}),W&&X&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payment Complete"}),n.jsx("button",{onClick:()=>{he(!1),be(null),ae({reference_number:"",notes:""})},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reference Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:me.reference_number,onChange:Y=>ae({...me,reference_number:Y.target.value}),placeholder:"Enter payment reference number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:me.notes,onChange:Y=>ae({...me,notes:Y.target.value}),placeholder:"Add any additional notes (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{he(!1),be(null),ae({reference_number:"",notes:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:P,children:"Cancel"}),n.jsx("button",{onClick:Ce,disabled:P||!me.reference_number.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Processing...":"Done"})]})]})]})}),H&&te&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payout Details"}),n.jsx("button",{onClick:()=>{V(!1),ye(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:te.vendor_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payout Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold text-lg",children:["",te.amount.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te.status==="completed"?"bg-green-100 text-green-800":te.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:te.status})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Processed At"}),n.jsx("p",{className:"text-gray-900",children:te.processed_at?new Date(te.processed_at).toLocaleString():te.executed_at?new Date(te.executed_at).toLocaleString():"-"})]})]}),te.settlement_amount!==void 0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Settlement Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Settlement Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",te.settlement_amount.toLocaleString()]})]}),te.commission_amount!==void 0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commission Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",te.commission_amount.toLocaleString()]})]}),te.period_from&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period"}),n.jsxs("p",{className:"text-gray-900",children:[new Date(te.period_from).toLocaleDateString()," - ",new Date(te.period_to||te.period_from).toLocaleDateString()]})]})]})]}),(te.reference_number||te.notes)&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Details"}),n.jsxs("div",{className:"space-y-3",children:[te.reference_number&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reference Number"}),n.jsx("p",{className:"text-gray-900",children:te.reference_number})]}),te.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:te.notes})]}),te.transaction_id&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transaction ID"}),n.jsx("p",{className:"text-gray-900",children:te.transaction_id})]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(te.created_at).toLocaleString()})]})}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>{V(!1),ye(null)},className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Close"})})]})]})})]})},Lde=()=>{const{addToast:e}=Dt(),{user:t}=vn(),[r,a]=v.useState([]),[s,i]=v.useState(!1),[o,c]=v.useState(""),[u,m]=v.useState(!1),[f,h]=v.useState({full_name:"",email:"",phone_number:"",password:""}),[g,p]=v.useState(null),b=t?.role==="admin",y=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token")||""}`,"Content-Type":"application/json"});v.useEffect(()=>{j()},[]);const j=async()=>{i(!0);try{const C=await fetch(`${we}/admin/finance-staff`,{headers:y()});if(C.ok){const D=await C.json();a(D.staff||[])}else e("Failed to fetch financial staff","error")}catch{e("Failed to fetch financial staff","error")}finally{i(!1)}},N=async()=>{if(!f.full_name||!f.email||!f.phone_number){e("Please fill all required fields","error");return}i(!0);try{const C=await fetch(`${we}/admin/finance-staff`,{method:"POST",headers:y(),body:JSON.stringify(f)});if(C.ok)e("Financial staff created successfully","success"),j(),m(!1),h({full_name:"",email:"",phone_number:"",password:""}),p(null);else{const D=await C.json().catch(()=>({}));e(D.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{i(!1)}},_=async()=>{if(!g||!f.email){e("Please fill all fields","error");return}i(!0);try{const C=await fetch(`${we}/admin/finance-staff/${g.id}`,{method:"PUT",headers:y(),body:JSON.stringify({email:f.email,username:f.full_name,phone_number:f.phone_number})});if(C.ok)e("Staff member updated successfully","success"),j(),m(!1),h({full_name:"",email:"",phone_number:"",password:""}),p(null);else{const D=await C.json().catch(()=>({}));e(D.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{i(!1)}},k=async C=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted from the database.")){i(!0);try{const D=await fetch(`${we}/admin/finance-staff/${C}`,{method:"DELETE",headers:y()});if(D.ok)e("Staff member removed successfully","success"),j();else{const O=await D.json().catch(()=>({}));e(O.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{i(!1)}}},E=r.filter(C=>C.username?.toLowerCase().includes(o.toLowerCase())||C.email?.toLowerCase().includes(o.toLowerCase()));return n.jsx(It,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Staff Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage finance staff who will handle your finance panel"})]}),b&&n.jsxs("button",{onClick:()=>{p(null),h({full_name:"",email:"",phone_number:"",password:""}),m(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(ia,{size:18}),"Add Finance Staff"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:o,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("button",{onClick:j,className:"px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Staff: ",n.jsx("span",{className:"font-semibold text-primary",children:E.length})]})]}),s&&r.length===0?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):E.length===0?n.jsx(Je,{children:n.jsxs(Ze,{className:"py-12 text-center",children:[n.jsx(Wt,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("p",{className:"text-gray-500 text-lg mb-2",children:o?"No staff members found matching your search":"No financial staff members yet"}),b&&!o&&n.jsxs("button",{onClick:()=>{p(null),h({full_name:"",email:"",phone_number:"",password:""}),m(!0)},className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors inline-flex items-center gap-2",children:[n.jsx(ia,{size:18}),"Add Your First Finance Staff"]})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(C=>n.jsx(Je,{className:"hover:shadow-lg transition-shadow",children:n.jsxs(Ze,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4 min-h-[3rem]",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-12 h-12 shrink-0 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Wt,{className:"text-primary",size:24})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg truncate",title:C.username||C.email,children:C.username||C.email}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:C.email,children:C.email})]})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs font-medium ${C.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.status||"active"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Role:"}),n.jsx("span",{className:"font-medium",children:C.role_type||"Finance Admin"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:new Date(C.created_at).toLocaleDateString()})]})]}),b&&n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-primary/10",children:[n.jsxs("button",{onClick:()=>{p(C),h({full_name:C.username||"",email:C.email,phone_number:"",password:""}),m(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[n.jsx(pb,{size:14}),"Edit"]}),n.jsx("button",{onClick:()=>k(C.id),className:"px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:n.jsx(As,{size:14})})]})]})},C.id))}),u&&b&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsx(jt,{children:n.jsx(wt,{children:g?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",value:f.full_name,onChange:C=>h({...f,full_name:C.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:f.email,onChange:C=>h({...f,email:C.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:f.phone_number,onChange:C=>h({...f,phone_number:C.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!g&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:f.password||"",onChange:C=>h({...f,password:C.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{m(!1),h({full_name:"",email:"",phone_number:"",password:""}),p(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:g?_:N,disabled:s||!f.full_name||!f.email||!f.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:s?"Saving...":g?"Update":"Create"})]})]})]})})]})})},hu=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${lb}${r}`},jo=e=>{if(typeof e=="number"&&!isNaN(e))return e;const t=parseFloat(String(e??0));return isNaN(t)?0:t},Ly=e=>{if(!e)return null;try{if(Array.isArray(e))return e.length>0?hu(e[0]):null;if(typeof e=="string"&&e.startsWith("[")&&e.endsWith("]")){const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return hu(t[0])}if(typeof e=="string"&&e.includes(",")){const t=e.split(",").map(r=>r.trim());if(t.length>0)return hu(t[0])}return hu(e)}catch{return hu(e)}},Ry=()=>{const{addToast:e}=Dt(),{user:t}=vn(),r=ca(),a=Na(),[s,i]=v.useState([]),[o,c]=v.useState([]),[u,m]=v.useState([]),[f,h]=v.useState(!1),[g,p]=v.useState(!1),y=r.pathname.includes("/orders")?"orders":"prescriptions",j=t?.role==="admin",[N,_]=v.useState(""),[k,E]=v.useState("all"),[C,D]=v.useState(null),[O,I]=v.useState(null),[T,F]=v.useState(!1),[q,U]=v.useState(!1),[J,W]=v.useState(""),[he,X]=v.useState(!1),[be,ne]=v.useState(!1),[ve,me]=v.useState(!1),[ae,P]=v.useState(!1),[B,H]=v.useState(!1),[V,te]=v.useState([]),[ye,ke]=v.useState([]),[R,G]=v.useState(!1),[ge,le]=v.useState({}),[ze,Fe]=v.useState(null),[Ce,Ae]=v.useState({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),[_e,it]=v.useState(null),Xe=v.useRef(null),gt=v.useRef(null),at=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});v.useEffect(()=>(y==="prescriptions"?vt():y==="orders"&&Ir(),j&&St(),yt(),gt.current=window.setInterval(()=>{yt(!0)},5e3),()=>{gt.current&&window.clearInterval(gt.current)}),[k,j,y,r.pathname]);const vt=async()=>{h(!0);try{const ue=t?.role||"",qe=ue==="helping_staff"||ue==="helping_staff_admin";let mt;qe?mt=k==="all"?`${we}/admin/helping-staff/prescriptions`:`${we}/admin/helping-staff/prescriptions?status=${k}`:mt=k==="all"?`${we}/admin/prescriptions`:`${we}/admin/prescriptions?status=${k}`;const ur=at();console.log("Fetching prescriptions from:",mt),console.log("User role:",t?.role,"isHelpingStaff:",qe);const Lt=await fetch(mt,{headers:ur});if(console.log("Response status:",Lt.status),Lt.ok){const Xr=await Lt.json();console.log("Fetched prescriptions:",Xr),i(Xr.prescriptions||[])}else if(Lt.status===404)if(qe){console.log("Helping staff endpoint not found, trying admin endpoint");const Xr=k==="all"?`${we}/admin/prescriptions`:`${we}/admin/prescriptions?status=${k}`,Fn=await fetch(Xr,{headers:ur});if(Fn.ok){const ua=await Fn.json();i(ua.prescriptions||[])}else i([])}else i([]);else if(Lt.status===401){const Xr=await Lt.json().catch(()=>({}));console.error("Authentication failed:",Xr),e("Authentication failed. Please log in again.","error"),i([])}else{const Xr=await Lt.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",Lt.status,Xr),e(Xr.error?.message||`Failed to fetch prescriptions (${Lt.status})`,"error"),i([])}}catch(ue){console.error("Error fetching prescriptions:",ue),e(ue?.message||"Failed to fetch prescriptions. Please check your connection.","error"),i([])}finally{h(!1)}},St=async()=>{try{const ue=await fetch(`${we}/admin/helping-staff`,{headers:at()});if(ue.ok){const qe=await ue.json();console.log("Fetched staff members:",qe),c(qe.staff||[])}else{const qe=await ue.json().catch(()=>({}));console.error("Failed to fetch staff members:",qe),c([])}}catch(ue){console.error("Error fetching staff members:",ue),c([])}},yt=async(ue=!1,qe=!1)=>{try{const mt=qe||B?`${we}/admin/helping-staff/notifications`:`${we}/admin/helping-staff/notifications?unread_only=true`,ur=await fetch(mt,{headers:at()});if(ur.ok){const Fn=((await ur.json()).notifications||[]).filter((Yn,Ln,fs)=>Ln===fs.findIndex(fa=>fa.id===Yn.id)),ua=V.filter(Yn=>Yn.status==="sent").length;if(!ue){const Yn=Fn.filter(Ln=>Ln.status==="sent").length;if(Yn>ua){if(Xe.current)try{Xe.current.currentTime=0,await Xe.current.play()}catch(fs){console.log("Audio play failed:",fs)}const Ln=Yn-ua;e(`${Ln} new notification${Ln>1?"s":""}!`,"success")}}te(Fn)}}catch(mt){console.error("Failed to fetch notifications",mt)}},_r=async(ue,qe)=>{try{(await fetch(`${we}/admin/helping-staff/notifications/${ue}/read`,{method:"PUT",headers:at()})).ok&&(te(ur=>ur.map(Lt=>Lt.id===ue?{...Lt,status:"read",read_at:new Date().toISOString()}:Lt)),qe&&(y!=="orders"?(a("/admin/helping-staff-panel/orders"),await Ir()):u.length===0&&await Ir(),setTimeout(()=>{const ur=document.getElementById(`order-${qe}`);ur?(ur.scrollIntoView({behavior:"smooth",block:"center"}),ur.classList.add("ring-4","ring-primary"),setTimeout(()=>{ur.classList.remove("ring-4","ring-primary")},2e3)):setTimeout(()=>{const Lt=document.getElementById(`order-${qe}`);Lt&&(Lt.scrollIntoView({behavior:"smooth",block:"center"}),Lt.classList.add("ring-4","ring-primary"),setTimeout(()=>{Lt.classList.remove("ring-4","ring-primary")},2e3))},1e3)},500)))}catch(mt){console.error("Failed to mark notification as read",mt),e("Failed to mark notification as read","error")}},_t=async()=>{try{(await fetch(`${we}/admin/helping-staff/notifications/read-all`,{method:"PUT",headers:at()})).ok&&(te(qe=>qe.map(mt=>({...mt,status:"read",read_at:mt.read_at||new Date().toISOString()}))),e("All notifications marked as read","success"))}catch(ue){console.error("Failed to mark all notifications as read",ue),e("Failed to mark all notifications as read","error")}};v.useEffect(()=>{B&&(async()=>{try{const qe=await fetch(`${we}/admin/helping-staff/notifications`,{headers:at()});if(qe.ok){const Lt=((await qe.json()).notifications||[]).filter((Xr,Fn,ua)=>Fn===ua.findIndex(Yn=>Yn.id===Xr.id));te(Lt)}}catch(qe){console.error("Failed to fetch all notifications",qe)}})()},[B]);const se=async()=>{if(!Ce.full_name||!Ce.email||!Ce.phone_number){e("Please fill all required fields","error");return}h(!0);try{const ue=await fetch(`${we}/admin/helping-staff`,{method:"POST",headers:at(),body:JSON.stringify(Ce)});if(ue.ok)e("Staff member created successfully","success"),St(),P(!1),Ae({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),it(null);else{const qe=await ue.json().catch(()=>({}));e(qe.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{h(!1)}},Y=async()=>{if(!_e||!Ce.full_name||!Ce.email||!Ce.phone_number){e("Please fill all fields","error");return}h(!0);try{const ue=await fetch(`${we}/admin/helping-staff/${_e.id}`,{method:"PUT",headers:at(),body:JSON.stringify(Ce)});if(ue.ok)e("Staff member updated successfully","success"),St(),P(!1),Ae({full_name:"",email:"",phone_number:"",drug_license:""}),it(null);else{const qe=await ue.json().catch(()=>({}));e(qe.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{h(!1)}},Pe=async ue=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted (or deactivated if they have pending prescriptions) from the database.")){h(!0);try{const qe=await fetch(`${we}/admin/helping-staff/${ue}`,{method:"DELETE",headers:at()});if(qe.ok)e("Staff member removed successfully","success"),St();else{const mt=await qe.json().catch(()=>({}));e(mt.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{h(!1)}}},Ie=ue=>{ue?(it(ue),Ae({full_name:ue.full_name,email:ue.email,phone_number:ue.phone_number||"",drug_license:ue.drug_license||"",password:""})):(it(null),Ae({full_name:"",email:"",phone_number:"",drug_license:"",password:""})),P(!0)},ht=async(ue,qe)=>{h(!0);try{(await fetch(`${we}/admin/prescription/assign`,{method:"PUT",headers:at(),body:JSON.stringify({prescription_id:ue,staff_id:qe})})).ok?(e("Prescription assigned successfully","success"),vt(),me(!1),D(null)):e("Failed to assign prescription","error")}catch{e("Failed to assign prescription","error")}finally{h(!1)}},Et=async ue=>{G(!0);try{const qe=await fetch(`${we}/admin/prescription/${ue}/medicine-list`,{headers:at()});if(qe.ok){const mt=await qe.json();ke(mt.medicines||[]),le({})}else{const mt=await qe.json().catch(()=>({}));e(mt.error?.message||"Failed to fetch medicine list","error")}}catch{e("Failed to fetch medicine list","error")}finally{G(!1)}},Ye=async ue=>{h(!0);try{if(Object.keys(ge).length!==ye.length){e(`Please approve or reject all ${ye.length} medicines`,"error"),h(!1);return}const qe=await fetch(`${we}/admin/prescription/${ue}/approve-medicines`,{method:"POST",headers:at(),body:JSON.stringify({medicine_approvals:ge})});if(qe.ok)e("Prescription medicines approved and released to vendors","success"),vt(),ne(!1),D(null),ke([]),le({});else{const mt=await qe.json().catch(()=>({}));e(mt.error?.message||"Failed to approve medicines","error")}}catch{e("Failed to approve medicines","error")}finally{h(!1)}},Ir=async()=>{p(!0);try{const ue=await fetch(`${we}/admin/helping-staff/orders/pending-approval`,{headers:at()});if(ue.ok){const qe=await ue.json();m(qe.orders||[])}else{const qe=await ue.json().catch(()=>({}));console.error("Failed to fetch pending orders:",qe),e(qe.error?.message||"Failed to fetch pending orders","error"),m([])}}catch(ue){console.error("Error fetching pending orders:",ue),e(ue?.message||"Failed to fetch pending orders","error"),m([])}finally{p(!1)}},[zr,vr]=v.useState({}),Ea=async ue=>{p(!0);try{const qe=await fetch(`${we}/admin/helping-staff/orders/${ue}/approve`,{method:"POST",headers:at(),body:JSON.stringify({medicine_approvals:zr})});if(qe.ok)e("Order approved successfully","success"),Ir(),F(!1),I(null),vr({});else{const mt=await qe.json().catch(()=>({}));e(mt.error?.message||"Failed to approve order","error")}}catch(qe){console.error("Error approving order:",qe),e("Failed to approve order","error")}finally{p(!1)}},Aa=async(ue,qe)=>{p(!0);try{const mt=await fetch(`${we}/admin/helping-staff/orders/${ue}/reject`,{method:"POST",headers:at(),body:JSON.stringify({reason:qe})});if(mt.ok)e("Order rejected successfully","success"),Ir(),F(!1),X(!1),I(null),W("");else{const ur=await mt.json().catch(()=>({}));e(ur.error?.message||"Failed to reject order","error")}}catch(mt){console.error("Error rejecting order:",mt),e("Failed to reject order","error")}finally{p(!1)}},Ca=ue=>({uploaded:"bg-secondary text-primary border border-primary/20",assigned:"bg-primary/20 text-primary",digitized:"bg-secondary text-primary border border-primary/20",released_to_vendor:"bg-primary/20 text-primary",fulfilled:"bg-secondary text-primary border border-primary/20",rejected:"bg-primary/20 text-primary"})[ue]||"bg-primary/20 text-primary",Xn=s.filter(ue=>ue.user_name?.toLowerCase().includes(N.toLowerCase())||ue.id.toString().includes(N));return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helping Staff Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage prescription processing, assignment, and digitization."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>H(!B),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2 relative",children:[n.jsx(zc,{size:18}),"Notifications",V.filter(ue=>ue.status==="sent").length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:V.filter(ue=>ue.status==="sent").length})]}),j&&n.jsxs("button",{onClick:()=>Ie(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(ia,{size:18}),"Add Staff"]}),n.jsxs("button",{onClick:()=>{y==="prescriptions"?vt():Ir()},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]})]}),B&&n.jsxs(Je,{className:"mb-6",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wt,{children:"Notifications"}),V.filter(ue=>ue.status==="sent").length>0&&n.jsxs("span",{className:"text-sm text-gray-500",children:[V.filter(ue=>ue.status==="sent").length," unread"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[V.filter(ue=>ue.status==="sent").length>0&&n.jsx("button",{onClick:_t,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all as read"}),n.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(Tt,{size:20})})]})]})}),n.jsx(Ze,{children:V.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:V.map((ue,qe)=>{const mt=ue.status==="sent";return n.jsx("div",{onClick:()=>_r(ue.id,ue.order_id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${mt?"bg-primary/5 border-primary/20 hover:bg-primary/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:ue.title}),mt&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ue.message}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(ue.created_at).toLocaleString()})]})})},`notification-${ue.id}-${ue.created_at||qe}`)})})})]}),j&&n.jsxs(Je,{className:"mb-6",children:[n.jsx(jt,{children:n.jsx(wt,{children:"Staff Members"})}),n.jsx(Ze,{children:o.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(ue=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 min-h-[2.5rem]",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium truncate",title:ue.full_name,children:ue.full_name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:ue.email,children:ue.email})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs ${ue.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ue.status||"active"})]}),ue.phone_number&&n.jsx("p",{className:"text-sm text-gray-600 mb-1 truncate",title:ue.phone_number,children:ue.phone_number}),ue.pending_prescriptions_count!==void 0&&n.jsxs("p",{className:"text-xs text-primary mb-2",children:["Pending: ",ue.pending_prescriptions_count]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>Ie(ue),className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>Pe(ue.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(As,{size:14})})]})]},ue.id))})})]}),y==="prescriptions"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user name or prescription ID...",value:N,onChange:ue=>_(ue.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:k,onChange:ue=>E(ue.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Xn.map(ue=>n.jsxs(Je,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(wt,{className:"text-lg",children:["Prescription #",ue.id]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ca(ue.status)}`,children:ue.status==="digitized"?"Approved":ue.status.replace("_"," ")})]})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Wt,{size:16,className:"text-primary"}),n.jsx("span",{children:ue.user_name||`User #${ue.user_id}`})]}),ue.assigned_staff_name&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Assigned to: ",ue.assigned_staff_name]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Kr,{size:14}),new Date(ue.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[ue.status==="uploaded"&&n.jsxs("button",{onClick:()=>{D(ue),me(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Wt,{size:14}),"Assign"]}),ue.status==="assigned"&&n.jsxs("button",{onClick:()=>{D(ue),Et(ue.id),ne(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(ra,{size:14}),"Medicine List"]}),n.jsxs("button",{onClick:()=>{D(ue),window.open(ue.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Ar,{size:14}),"View"]})]})]})]},ue.id))}),Xn.length===0&&!f&&n.jsx(Je,{children:n.jsxs(Ze,{className:"text-center py-12",children:[n.jsx(Ar,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]}),y==="orders"&&n.jsxs(n.Fragment,{children:[g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(ue=>n.jsxs(Je,{id:`order-${ue.id}`,className:"hover:shadow-lg transition-shadow",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(wt,{className:"text-lg",children:["Order #",ue.id]}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Pending Approval"})]})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Wt,{size:16,className:"text-primary"}),n.jsx("span",{children:ue.user_name||`User #${ue.user_id}`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",ue.items_count]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," ",jo(ue.total_amount).toFixed(2)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",ue.delivery_address,", ",ue.delivery_city," - ",ue.delivery_pincode]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Kr,{size:14}),new Date(ue.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[n.jsxs("button",{onClick:()=>{I(ue),vr({}),U(!1),F(!0)},className:"flex-1 min-w-[7rem] px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Ar,{size:14}),"View Details"]}),(ue.prescription_required_count??0)===0?n.jsxs("button",{onClick:()=>{vr({}),Ea(ue.id)},disabled:g,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[n.jsx(Wr,{size:14}),"Approve"]}):null,n.jsxs("button",{onClick:()=>{I(ue),W(""),X(!0)},disabled:g,className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[n.jsx(Hn,{size:14}),"Reject"]})]})]})]},ue.id))}),u.length===0&&!g&&n.jsx(Je,{children:n.jsxs(Ze,{className:"text-center py-12",children:[n.jsx(ra,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No orders pending approval"})]})})]}),ve&&C&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsx(jt,{children:n.jsx(wt,{children:"Assign Prescription"})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Staff Member"}),n.jsxs("select",{value:ze||"",onChange:ue=>Fe(Number(ue.target.value)),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"Select staff member..."}),o.map(ue=>n.jsxs("option",{value:ue.id,children:[ue.full_name," (",ue.email,")"]},ue.id))]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{me(!1),D(null),Fe(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{ze&&ht(C.id,ze)},disabled:!ze||f,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:"Assign"})]})]})]})}),be&&C&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(Je,{className:"w-full max-w-4xl",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(wt,{children:["Medicine List - Prescription #",C.id]}),n.jsx("button",{onClick:()=>{ne(!1),D(null),ke([]),le({})},className:"text-gray-500 hover:text-gray-700",children:n.jsx(Tt,{size:24})})]})}),n.jsxs(Ze,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Image"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:C.prescription_url?n.jsx("img",{src:C.prescription_url,alt:"Prescription",className:"max-w-full max-h-80 h-auto rounded-lg border border-gray-200 object-contain",onError:ue=>{const qe=ue.target;qe.style.display="none";const mt=qe.parentElement;mt&&(mt.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):n.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Approve or Reject"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription image and approve or reject each medicine. Approved medicines will be sent to vendors."})}),R?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Manufacturer"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:ye.map(ue=>{const qe=Ly(ue.images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[qe&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:qe,alt:ue.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:mt=>{mt.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ue.medicine_name}),ue.medicine_type&&n.jsx("div",{className:"text-xs text-gray-500",children:ue.medicine_type}),!qe&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ue.manufacturer_name||"-"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",parseFloat(ue.price||0).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{le({...ge,[ue.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${ge[ue.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(Wr,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{le({...ge,[ue.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${ge[ue.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx(Hn,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},ue.id)})})]})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsx("button",{onClick:()=>{ne(!1),D(null),ke([]),le({})},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:()=>{C&&Ye(C.id)},disabled:f||Object.keys(ge).length!==ye.length,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[n.jsx(Wr,{size:18}),Object.keys(ge).length>0?`Approve & Send to Vendors (${Object.keys(ge).length}/${ye.length})`:"Approve & Send to Vendors"]})]})]})]})}),ae&&j&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsx(jt,{children:n.jsx(wt,{children:_e?"Edit Staff Member":"Add Staff Member"})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:Ce.full_name,onChange:ue=>Ae({...Ce,full_name:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:Ce.email,onChange:ue=>Ae({...Ce,email:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:Ce.phone_number,onChange:ue=>Ae({...Ce,phone_number:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Drug License"}),n.jsx("input",{type:"text",value:Ce.drug_license,onChange:ue=>Ae({...Ce,drug_license:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter drug license number"})]}),!_e&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: HelpingStaff@123)"})]}),n.jsx("input",{type:"password",value:Ce.password||"",onChange:ue=>Ae({...Ce,password:ue.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (leave empty for default)"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If left empty, default password "HelpingStaff@123" will be set'})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{P(!1),Ae({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),it(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:_e?Y:se,disabled:f,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:_e?"Update":"Create"})]})]})]})}),T&&O&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(Je,{className:"w-full max-w-4xl",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(wt,{children:["Order #",O.id," - Prescription Verification"]}),n.jsx("button",{onClick:()=>{F(!1),I(null),vr({}),U(!1)},className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:n.jsx(Tt,{size:24})})]})}),n.jsxs(Ze,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",O.full_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",O.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",O.phone]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User ID:"})," ",O.user_id]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsx("p",{children:O.delivery_address}),n.jsxs("p",{children:[O.delivery_city," - ",O.delivery_pincode]})]})]})]}),O.prescription_required_items&&O.prescription_required_items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Verify & Approve"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription and approve or reject each medicine. All medicines must be verified before the order can be released to vendors."})}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:O.prescription_required_items.map(ue=>{const qe=Ly(ue.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[qe&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:qe,alt:ue.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:mt=>{mt.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ue.medicine_name}),!qe&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:jo(ue.quantity)}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",jo(ue.price).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{vr({...zr,[ue.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${zr[ue.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(Wr,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{vr({...zr,[ue.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${zr[ue.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx(Hn,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},ue.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"All Order Items"}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),n.jsxs("tbody",{children:[O.items?.map(ue=>{const qe=Ly(ue.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[qe&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:qe,alt:ue.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:mt=>{mt.target.style.display="none"}}),ue.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ue.medicine_name}),!qe&&ue.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:jo(ue.quantity)}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",jo(ue.price).toFixed(2)]}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",(jo(ue.price)*jo(ue.quantity)).toFixed(2)]})]},ue.id)}),n.jsxs("tr",{className:"border-t-2 border-primary/20 font-semibold",children:[n.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Total Amount:"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",jo(O.total_amount).toFixed(2)]})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:O.prescription_url&&!q?n.jsx("img",{src:O.prescription_url,alt:"Prescription",className:"max-w-full h-auto rounded-lg border border-gray-200 object-contain",onError:()=>U(!0)}):n.jsx("p",{className:"text-gray-500",children:O.prescription_url&&q?"Failed to load prescription image":"Prescription image not available"})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsxs("button",{onClick:()=>{X(!0)},className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",disabled:g,children:[n.jsx(Hn,{size:18}),"Reject Order"]}),n.jsxs("button",{onClick:()=>{const ue=O.prescription_required_items?.length||0,qe=Object.keys(zr).length;if(ue>0&&qe!==ue){e(`Please approve or reject all ${ue} prescription-required medicines`,"error");return}Ea(O.id)},className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",disabled:g,children:[n.jsx(Wr,{size:18}),O.prescription_required_items&&O.prescription_required_items.length>0?`Approve Order (${Object.keys(zr).length}/${O.prescription_required_items.length})`:"Approve Order"]})]})]})]})}),he&&O&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(Je,{className:"w-full max-w-md mx-4",children:[n.jsx(jt,{children:n.jsxs(wt,{children:["Reject Order #",O.id]})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rejection Reason"}),n.jsx("textarea",{value:J,onChange:ue=>W(ue.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",rows:4,placeholder:"Enter reason for rejection..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{X(!1),W("")},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{O&&Aa(O.id,J||"Prescription verification failed")},disabled:g,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:"Reject Order"})]})]})]})}),n.jsx("audio",{ref:Xe,preload:"auto",children:n.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OSfTQ8MUKfj8LZjHAY4kdfyzHksBSR3x/DdkEAKFF606euoVRQKRp/g8r5sIQUrgc7y2Yk2CBtpvfDkn00PDFCn4/C2YxwGOJHX8sx5LAUkd8fw3ZBAC",type:"audio/wav"})})]})})},Rde=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!1),[i,o]=v.useState(""),[c,u]=v.useState("all"),m=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});v.useEffect(()=>{f()},[c]);const f=async()=>{s(!0);try{const p=c==="all"?`${we}/admin/prescriptions`:`${we}/admin/prescriptions?status=${c}`,b=await fetch(p,{headers:m()});if(b.ok){const y=await b.json();console.log("Fetched prescriptions:",y),r(y.prescriptions||[])}else{const y=await b.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",y),e(y.error?.message||"Failed to fetch prescriptions","error"),r([])}}catch(p){console.error("Error fetching prescriptions:",p),e("Failed to fetch prescriptions","error"),r([])}finally{s(!1)}},h=p=>({uploaded:"bg-yellow-100 text-yellow-800 border border-yellow-300",assigned:"bg-primary/10 text-primary-dark border border-primary/20",digitized:"bg-green-100 text-green-800 border border-green-300",released_to_vendor:"bg-purple-100 text-purple-800 border border-purple-300",fulfilled:"bg-gray-100 text-gray-800 border border-gray-300",rejected:"bg-red-100 text-red-800 border border-red-300"})[p]||"bg-gray-100 text-gray-800 border border-gray-300",g=t.filter(p=>p.user_name?.toLowerCase().includes(i.toLowerCase())||p.id.toString().includes(i)||p.assigned_staff_name?.toLowerCase().includes(i.toLowerCase())||p.assigned_staff_drug_license?.toLowerCase().includes(i.toLowerCase())||p.digitized_by_staff_name?.toLowerCase().includes(i.toLowerCase())||p.digitized_by_staff_drug_license?.toLowerCase().includes(i.toLowerCase())||p.assigned_vendor_name?.toLowerCase().includes(i.toLowerCase()));return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"All Prescriptions"}),n.jsx("p",{className:"text-gray-600",children:"View all prescriptions with staff and vendor assignments"})]}),n.jsxs("button",{onClick:f,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user, staff, vendor, or prescription ID...",value:i,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.map(p=>n.jsxs(Je,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(wt,{className:"text-lg",children:["Prescription #",p.id]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(p.status)}`,children:p.status==="digitized"?"APPROVED":p.status.replace(/_/g," ").toUpperCase()})]})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Wt,{size:16,className:"text-primary"}),n.jsx("span",{className:"font-medium",children:"User:"}),n.jsx("span",{children:p.user_name||`User #${p.user_id}`})]}),p.assigned_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(VC,{size:16,className:"text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Staff:"}),n.jsx("span",{children:p.assigned_staff_name}),p.assigned_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",p.assigned_staff_drug_license,")"]}),p.assigned_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(p.assigned_at).toLocaleString(),")"]})]}),p.digitized_by_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Wr,{size:16,className:"text-green-500"}),n.jsx("span",{className:"font-medium",children:"Approved By:"}),n.jsx("span",{children:p.digitized_by_staff_name}),p.digitized_by_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",p.digitized_by_staff_drug_license,")"]}),p.digitized_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(p.digitized_at).toLocaleString(),")"]})]}),p.assigned_vendor_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(TL,{size:16,className:"text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Vendor:"}),n.jsx("span",{children:p.assigned_vendor_name}),p.assigned_vendor_email&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",p.assigned_vendor_email,")"]})]}),p.items&&p.items.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Medicine Items:"}),n.jsx("div",{className:"space-y-1",children:p.items.map((b,y)=>n.jsxs("div",{className:"text-xs text-gray-600",children:[" ",b.medicine_name," - Qty: ",b.quantity,", Days: ",b.days,b.dosage&&`, Dosage: ${b.dosage}`]},y))})]}),n.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kr,{size:12}),n.jsxs("span",{children:["Created: ",new Date(p.created_at).toLocaleString()]})]})}),n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>{window.open(p.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Ar,{size:14}),"View Image"]})})]})]},p.id))}),g.length===0&&!a&&n.jsx(Je,{children:n.jsxs(Ze,{className:"text-center py-12",children:[n.jsx(Ar,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]})})},Mde=({transaction:e,expandedTransaction:t,onToggleDetails:r,formatDate:a,formatCurrency:s})=>{const i=c=>{switch(c){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},o=c=>{switch(c){case"card":return n.jsx(Ai,{size:16,className:"text-gray-500"});case"upi":return n.jsx(rR,{size:16,className:"text-gray-500"});case"net_banking":return n.jsx(EL,{size:16,className:"text-gray-500"});default:return null}};return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.transaction_id}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",e.booking_id]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.provider_business_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[e.user_name,"  ",e.provider_name]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:s(e.amount)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Platform: ",s(e.platform_fee)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.failure_reason&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:e.failure_reason})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-sm text-gray-600",children:a(e.created_at)}),e.completed_at&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",a(e.completed_at)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[o(e.payment_method),n.jsx("span",{className:"text-sm text-gray-600",children:e.payment_method.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ")})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsx("td",{className:"py-4",children:n.jsxs(De,{onClick:()=>r(e.id),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white",children:[n.jsx(yn,{size:14}),n.jsx("span",{children:"Details"}),t===e.id?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})})]})},zde=({transaction:e,formatDate:t,formatCurrency:r})=>n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Ai,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Transaction Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"#"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),n.jsx("p",{className:"text-sm font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded",children:e.transaction_id||`TXN-${e.id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r(e.amount)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.status})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Payment Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.payment_method}),n.jsxs("p",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fees"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-800",children:["Platform: ",r(e.platform_fee||0)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Gateway: ",r(e.gateway_fee||0)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Provider: ",r(e.provider_amount||0)]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"User & Provider"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.user.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.email}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.phone})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-pink-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.provider.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.business_name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.email})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Booking Details"})]}),n.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-orange-100",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:t(e.booking.date)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.booking.time})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-sm text-gray-900",children:r(e.booking.amount)})]})]})})]}),e.refunds&&e.refunds.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-lg p-4 border border-red-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Refunds"})]}),n.jsxs("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.refunds.length," Refund",e.refunds.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Refund ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Reason"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Processed At"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.refunds.map(a=>n.jsxs("tr",{className:"hover:bg-red-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.refund_id})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(a.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:a.reason})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(a.processed_at)})})]},a.id))})]})})})]}),e.wallet_transactions&&e.wallet_transactions.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-4 border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Wallet Transactions"})]}),n.jsxs("div",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.wallet_transactions.length," Transaction",e.wallet_transactions.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-cyan-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-cyan-50 border-b border-cyan-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Balance After"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Date"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.wallet_transactions.map(a=>n.jsxs("tr",{className:"hover:bg-cyan-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:`text-sm font-medium ${a.type==="credit"?"text-green-600":"text-red-600"}`,children:r(a.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:a.category})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:a.description})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(a.balance_after)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(a.created_at)})})]},a.id))})]})})})]})]})})}),$de=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Dn,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),Bde=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," transactions"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(De,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(td,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(De,{onClick:()=>i(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Bi,{size:16})})]})]}),Ude=({isOpen:e,onClose:t,onSubmit:r,transaction:a,isSubmitting:s,formatCurrency:i})=>{const[o,c]=jr.useState({amount:a.amount,reason:"",reason_description:""}),u=m=>{m.preventDefault(),r(o)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Process Refund"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:20})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Amount"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:i(a.amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount *"}),n.jsx("input",{type:"number",required:!0,min:"0",max:a.amount,step:"0.01",value:o.amount,onChange:m=>c({...o,amount:parseFloat(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsxs("select",{required:!0,value:o.reason,onChange:m=>c({...o,reason:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"customer_request",children:"Customer Request"}),n.jsx("option",{value:"service_not_provided",children:"Service Not Provided"}),n.jsx("option",{value:"quality_issues",children:"Quality Issues"}),n.jsx("option",{value:"duplicate_payment",children:"Duplicate Payment"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason Description *"}),n.jsx("textarea",{required:!0,value:o.reason_description,onChange:m=>c({...o,reason_description:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Provide additional details about the refund reason..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(De,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(De,{type:"submit",disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Processing...":"Process Refund"})]})]})]})}):null},Wde=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(""),[c,u]=v.useState(1),[m,f]=v.useState(null),[h,g]=v.useState(null),[p,b]=v.useState(!1),[y,j]=v.useState(!1),[N,_]=v.useState(null),[k,E]=v.useState(null),[C,D]=v.useState(1),[O,I]=v.useState(0),[T,F]=v.useState({status:"",payment_status:"",user_id:"",provider_id:"",booking_id:""}),q=10;v.useEffect(()=>{U()},[c,T]);const U=async()=>{const me=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!me){e("Please login to view transactions","error"),s(!1);return}try{s(!0);const ae=new URLSearchParams;ae.append("page",c.toString()),ae.append("limit",q.toString()),i&&ae.append("search",i),Object.entries(T).forEach(([V,te])=>{te&&ae.append(V,te.toString())});const P=await fetch(`${we}/admin/transactions?${ae.toString()}`,{headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"}});if(!P.ok){if(P.status===401){e("Authentication failed. Please log in again.","error");return}if(P.status===404){console.warn("Transactions endpoint not found. Backend may not be implemented yet."),r([]),D(1),I(0),s(!1);return}throw new Error(`HTTP error! status: ${P.status}`)}const B=await P.json(),H=B.data||B.transactions||[];Array.isArray(H)?(r(H),D(B.pagination?.total_pages||Math.ceil(H.length/q)||1),I(B.pagination?.total||H.length||0)):(r([]),D(1),I(0))}catch(ae){console.error("Error fetching transactions:",ae),e("Failed to fetch transactions. The backend endpoint may not be implemented yet.","error"),r([]),D(1),I(0)}finally{s(!1)}},J=async me=>{const ae=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(!ae)return e("Please login to view transaction details","error"),null;try{const P=await fetch(`${we}/admin/transactions/${me}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!P.ok){if(P.status===404)return e("Transaction details not found","error"),null;throw new Error(`HTTP error! status: ${P.status}`)}const B=await P.json(),H=B.transaction||B.data;return H?{id:H.id||0,transaction_id:H.transaction_id||H.razorpay_payment_id||H.payment_order_id||`TXN-${H.id||0}`,user_id:H.user_id||0,provider_id:H.provider_id||0,booking_id:H.booking_id||0,amount:parseFloat(String(H.amount||H.final_amount||0)),platform_fee:(()=>{const te=parseFloat(String(H.final_amount||H.amount||0));return parseFloat(String(H.platform_fee||te*.1||0))})(),gateway_fee:parseFloat(String(H.gateway_fee||0)),provider_amount:(()=>{const te=parseFloat(String(H.final_amount||H.amount||0)),ye=parseFloat(String(H.platform_fee||te*.1||0)),ke=parseFloat(String(H.gateway_fee||0));return parseFloat(String(H.provider_amount||te-ye-ke||0))})(),currency:H.currency||"INR",payment_method:H.payment_method||"online",payment_gateway:H.payment_gateway||"Razorpay",gateway_transaction_id:H.gateway_transaction_id||H.razorpay_payment_id||H.payment_order_id||"",status:H.status||"pending",payment_status:H.payment_status||H.status||"pending",description:H.description||H.notes||"",metadata:H.metadata||{},created_at:H.created_at||"",completed_at:H.completed_at||H.updated_at||"",user:{name:H.user?.name||H.user?.full_name||"Unknown User",email:H.user?.email||"",phone:H.user?.phone||H.user?.phone_number||""},provider:{name:H.provider?.name||H.provider?.full_name||"Unassigned",business_name:H.provider?.business_name||"",email:H.provider?.email||""},booking:{date:H.booking?.date||H.created_at||"",time:H.booking?.time||"",amount:parseFloat(H.booking?.amount||H.final_amount||H.amount||0)},refunds:H.refunds||[],wallet_transactions:H.wallet_transactions||[]}:null}catch(P){return console.error("Error fetching transaction details:",P),e("Failed to fetch transaction details","error"),null}},W=async me=>{if(m===me)f(null),g(null),E(null);else{f(me),_(me),E(null),g(null);const ae=await J(me);if(ae)g(ae),E(null);else{E(me);const P=t.find(B=>B.id===me);if(P){const B=P.amount||0,H=P.platform_fee||B*.1,V=P.gateway_fee||0,te=P.provider_amount||B-H-V,ye={id:P.id,transaction_id:P.transaction_id||`TXN-${P.id}`,user_id:0,provider_id:0,booking_id:P.booking_id,amount:B,platform_fee:H,gateway_fee:V,provider_amount:te,currency:"INR",payment_method:P.payment_method||"online",payment_gateway:P.payment_gateway||"Razorpay",gateway_transaction_id:"",status:P.status,payment_status:P.payment_status,description:"",metadata:{},created_at:P.created_at,completed_at:P.completed_at||"",user:{name:P.user_name||"Unknown User",email:P.user_email||"",phone:""},provider:{name:P.provider_name||"Unassigned",business_name:P.provider_business_name||"",email:""},booking:{date:P.created_at,time:"",amount:B},refunds:[],wallet_transactions:[]};g(ye)}}_(null)}},he=async me=>{if(!h)return;j(!0);const ae=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");try{const P=await fetch(`${we}/admin/transactions/${h.id}/refund`,{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify(me)});if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const B=await P.json();e(B.message||"Refund processed successfully","success"),b(!1),g(null),U()}catch(P){console.error("Error processing refund:",P),e("Failed to process refund","error")}finally{j(!1)}},X=me=>{if(!me)return"N/A";try{return new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return me}},be=me=>{const ae=typeof me=="number"&&!isNaN(me)?me:0;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(ae)},ne=(me,ae)=>{F(P=>({...P,[me]:ae})),u(1)},ve=t.filter(me=>{if(!i)return!0;const ae=i.toLowerCase();return me.transaction_id.toLowerCase().includes(ae)||me.user_name.toLowerCase().includes(ae)||me.provider_name.toLowerCase().includes(ae)||me.booking_id.toString().includes(ae)});return n.jsx(It,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage all payment transactions"})]}),n.jsxs(Je,{children:[n.jsxs(jt,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(wt,{children:"All Transactions"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx($de,{searchTerm:i,onSearchChange:o})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[n.jsxs("select",{value:T.status,onChange:me=>ne("status",me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("select",{value:T.payment_status,onChange:me=>ne("payment_status",me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Payment Status"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]})]})]}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):ve.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg",children:t.length===0?"No transactions found.":"No transactions match your search criteria."}),t.length===0&&n.jsx("p",{className:"text-gray-400 text-sm mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Transaction ID"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"User / Provider"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Amount"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Payment Method"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:ve.map(me=>n.jsxs(jr.Fragment,{children:[n.jsx(Mde,{transaction:me,expandedTransaction:m,onToggleDetails:W,formatDate:X,formatCurrency:be}),m===me.id&&n.jsx(n.Fragment,{children:N===me.id?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),n.jsx("span",{className:"text-gray-600",children:"Loading transaction details..."})]})})}):h?n.jsxs(n.Fragment,{children:[k===me.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-2 bg-yellow-50 border-b",children:n.jsxs("div",{className:"flex items-center justify-center text-yellow-700 text-sm",children:[n.jsx("span",{className:"mr-2",children:""}),n.jsx("span",{children:"Could not fetch full details from API. Showing basic transaction information."})]})})}),n.jsx(zde,{transaction:h,formatDate:X,formatCurrency:be})]}):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-center text-red-600",children:[n.jsx("span",{className:"mr-2",children:""}),n.jsx("span",{children:"Failed to load transaction details. Please try again."})]})})})})]},me.id))})]})}),n.jsx(Bde,{currentPage:c,totalPages:C,startIndex:(c-1)*q,itemsPerPage:q,totalItems:O,onPageChange:u})]})})]}),p&&h&&n.jsx(Ude,{isOpen:p,transaction:h,onClose:()=>b(!1),onSubmit:he,isSubmitting:y,formatCurrency:be})]})})},wo=({label:e,error:t,fullWidth:r=!1,className:a="",id:s,...i})=>{const o=s||`input-${Math.random().toString(36).substring(2,9)}`;return n.jsxs("div",{className:`${r?"w-full":""} mb-4`,children:[e&&n.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsx("input",{id:o,className:`px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${t?"border-error":""} ${r?"w-full":""} ${a}`,...i}),t&&n.jsx("p",{className:"mt-1 text-sm text-error",children:t})]})},Hde=({open:e,onClose:t,children:r})=>e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity",onClick:t}),n.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:r})]})}):null,Vde=({children:e})=>n.jsx("div",{className:"mt-3 text-center sm:mt-5",children:e}),qde=({children:e})=>n.jsx("div",{className:"mb-4",children:e}),Kde=({children:e})=>n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:e}),My=()=>{const{addToast:e}=Dt(),t=ca(),[r,a]=v.useState([]),[s,i]=v.useState(!1),[o,c]=v.useState(""),[u,m]=v.useState(!1),[f,h]=v.useState("add"),[g,p]=v.useState(null),[b,y]=v.useState(!1),N=(()=>{const X=t.pathname;return X.includes("/medicine")?"medicine":X.includes("/lab-test")?"lab-test":"all"})(),[_,k]=v.useState({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:"",coupon_category:N==="medicine"?"medicine":N==="lab-test"?"lab_test":""}),[E,C]=v.useState({}),D=async()=>{i(!0);try{const X=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),be=await fetch(`${we}/admin/coupons`,{method:"GET",headers:{"Content-Type":"application/json",...X?{Authorization:`Bearer ${X}`}:{}}}),ne=await be.json();if(be.ok&&ne.coupons&&Array.isArray(ne.coupons)){let ve=ne.coupons;N==="medicine"?ve=ne.coupons.filter(me=>!me.coupon_category||me.coupon_category==="medicine"):N==="lab-test"&&(ve=ne.coupons.filter(me=>!me.coupon_category||me.coupon_category==="lab_test")),a(ve)}else throw new Error(ne.message||ne.error?.message||"Failed to fetch coupons")}catch(X){console.error("Error fetching coupons:",X);const be=X instanceof Error?X.message:"Failed to fetch coupons";e(be,"error")}finally{i(!1)}};v.useEffect(()=>{D()},[N]);const O=()=>{h("add"),p(null),k({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:"",coupon_category:N==="medicine"?"medicine":N==="lab-test"?"lab_test":""}),C({}),m(!0)},I=X=>{h("edit"),p(X),k({coupon_name:X.coupon_name,coupon_title:X.coupon_title,discount_type:"percentage",discount_percentage:X.discount_percentage||0,total_coupons:X.total_coupons,is_active:X.is_active,is_featured:X.is_featured,is_one_time:X.is_one_time||!1,valid_from:X.valid_from?X.valid_from.split("T")[0]:"",valid_until:X.valid_until?X.valid_until.split("T")[0]:"",min_order_amount:X.min_order_amount||"",max_order_amount:X.max_order_amount||"",coupon_category:X.coupon_category||""}),C({}),m(!0)},T=()=>{const X={};return _.coupon_name.trim()?_.coupon_name.trim().length<3&&(X.coupon_name="Coupon code must be at least 3 characters"):X.coupon_name="Coupon code is required",_.coupon_title.trim()||(X.coupon_title="Coupon title is required"),_.coupon_category||(X.coupon_category="Coupon category is required"),(_.discount_percentage<=0||_.discount_percentage>100)&&(X.discount_percentage="Discount percentage must be between 1 and 100"),(!_.min_order_amount||Number(_.min_order_amount)<=0)&&(X.min_order_amount="Minimum order amount is required and must be greater than 0"),_.max_order_amount&&Number(_.max_order_amount)<=0&&(X.max_order_amount="Maximum order amount must be greater than 0"),_.min_order_amount&&_.max_order_amount&&Number(_.min_order_amount)>=Number(_.max_order_amount)&&(X.max_order_amount="Max order amount must be greater than min order amount"),_.total_coupons<=0&&(X.total_coupons="Total coupons must be greater than 0"),_.valid_from&&_.valid_until&&new Date(_.valid_from)>new Date(_.valid_until)&&(X.valid_until="Valid until date must be after valid from date"),C(X),Object.keys(X).length===0},F=async X=>{if(X.preventDefault(),!!T()){y(!0);try{const be=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!be){e("Please login to save coupon","error"),y(!1);return}const ne={coupon_name:_.coupon_name.trim().toUpperCase(),coupon_title:_.coupon_title.trim(),discount_type:"percentage",discount_percentage:_.discount_percentage,total_coupons:_.total_coupons,is_active:_.is_active,is_featured:_.is_featured,is_one_time:_.is_one_time,min_order_amount:Number(_.min_order_amount),max_order_amount:_.max_order_amount?Number(_.max_order_amount):null,coupon_category:_.coupon_category||null};_.valid_from&&(ne.valid_from=`${_.valid_from}T00:00:00Z`),_.valid_until&&(ne.valid_until=`${_.valid_until}T23:59:59Z`);const ve=f==="add"?`${we}/admin/coupons`:`${we}/admin/coupons/${g?.id}`,me=await fetch(ve,{method:f==="add"?"POST":"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify(ne)}),ae=await me.json();if(me.ok)await D(),e(`Coupon ${f==="add"?"created":"updated"} successfully`,"success"),m(!1);else{const P=ae.error?.message||ae.message||`Failed to ${f==="add"?"create":"update"} coupon`;throw new Error(P)}}catch(be){console.error(`Error ${f==="add"?"creating":"updating"} coupon:`,be);const ne=be instanceof Error?be.message:`Failed to ${f==="add"?"create":"update"} coupon`;e(ne,"error")}finally{y(!1)}}},q=async X=>{if(confirm(`Are you sure you want to delete coupon "${X.coupon_name}"?`)){y(!0);try{const be=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!be){e("Please login to delete coupon","error"),y(!1);return}const ne=await fetch(`${we}/admin/coupons/${X.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),ve=await ne.json();if(ne.ok)a(me=>me.filter(ae=>ae.id!==X.id)),e("Coupon deleted successfully","success");else throw new Error(ve.error?.message||ve.message||"Failed to delete coupon")}catch(be){console.error("Error deleting coupon:",be);const ne=be instanceof Error?be.message:"Failed to delete coupon";e(ne,"error")}finally{y(!1)}}},U=async X=>{try{const be=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!be){e("Please login to update coupon","error");return}const ne=await fetch(`${we}/admin/coupons/${X.id}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),ve=await ne.json();if(ne.ok)await D(),e(`Coupon ${X.is_active?"deactivated":"activated"} successfully`,"success");else throw new Error(ve.error?.message||ve.message||"Failed to update coupon")}catch(be){console.error("Error toggling coupon active status:",be);const ne=be instanceof Error?be.message:"Failed to update coupon";e(ne,"error")}},J=async X=>{try{const be=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!be){e("Please login to update coupon","error");return}const ne=await fetch(`${we}/admin/coupons/${X.id}/toggle-featured`,{method:"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),ve=await ne.json();if(ne.ok)await D(),e(`Coupon ${X.is_featured?"unfeatured":"featured"} successfully`,"success");else throw new Error(ve.error?.message||ve.message||"Failed to update coupon")}catch(be){console.error("Error toggling coupon featured status:",be);const ne=be instanceof Error?be.message:"Failed to update coupon";e(ne,"error")}},W=r.filter(X=>{const be=X.coupon_name.toLowerCase().includes(o.toLowerCase())||X.coupon_title.toLowerCase().includes(o.toLowerCase());return N==="medicine"?be&&(!X.coupon_category||X.coupon_category==="medicine"):N==="lab-test"?be&&(!X.coupon_category||X.coupon_category==="lab_test"):be}),he=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n.jsxs(It,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coupon Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons for users"})]}),s?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading coupons..."})]}):n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(wt,{children:"All Coupons"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search coupons...",value:o,onChange:X=>c(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs(De,{onClick:O,className:"flex items-center space-x-2",children:[n.jsx(ia,{size:16}),n.jsx("span",{children:"Add Coupon"})]})]})]}),n.jsx(Ze,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Code"}),n.jsx("th",{className:"text-left pb-4",children:"Title"}),n.jsx("th",{className:"text-left pb-4",children:"Category"}),n.jsx("th",{className:"text-left pb-4",children:"Discount"}),n.jsx("th",{className:"text-left pb-4",children:"Usage"}),n.jsx("th",{className:"text-left pb-4",children:"Status"}),n.jsx("th",{className:"text-left pb-4",children:"Valid Dates"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:W.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"py-8 text-center text-gray-500",children:o?"No coupons found matching your search":"No coupons found. Create your first coupon!"})}):W.map(X=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-bold text-primary text-lg",children:X.coupon_name}),X.is_featured&&n.jsx(Pi,{className:"text-yellow-500 fill-yellow-500",size:16}),X.is_one_time&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded-full",children:"One Time"})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-gray-900 font-medium",children:X.coupon_title})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{children:X.coupon_category?n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X.coupon_category==="medicine"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:X.coupon_category==="medicine"?"Medicine":"Lab Test"}):n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"All"})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{children:[n.jsxs("span",{className:"text-lg font-bold text-green-600",children:[X.discount_percentage||0,"%"]}),(X.min_order_amount||X.max_order_amount)&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Order Range: ",X.min_order_amount||0," - ",X.max_order_amount||""]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[X.used_count," / ",X.total_coupons]}),n.jsxs("div",{className:"text-gray-500 text-xs",children:[X.remaining_count||X.total_coupons-X.used_count," remaining"]})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("button",{onClick:()=>U(X),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors ${X.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[X.is_active?n.jsx(eR,{size:14}):n.jsx(qy,{size:14}),X.is_active?"Active":"Inactive"]})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{children:["From: ",he(X.valid_from)]}),n.jsxs("div",{children:["Until: ",he(X.valid_until)]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>J(X),className:`p-2 rounded transition-colors ${X.is_featured?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:X.is_featured?"Unfeature":"Feature",children:X.is_featured?n.jsx(Pi,{className:"fill-current",size:16}):n.jsx(ZL,{size:16})}),n.jsx(De,{onClick:()=>I(X),variant:"outline",size:"sm",children:n.jsx(qL,{size:14})}),n.jsx(De,{onClick:()=>q(X),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:X.used_count>0,title:X.used_count>0?"Cannot delete used coupon":"Delete coupon",children:n.jsx(As,{size:14})})]})})]},X.id))})]})})})]}),n.jsx(Hde,{open:u,onClose:()=>m(!1),children:n.jsxs(Vde,{children:[n.jsx(qde,{children:n.jsx(Kde,{children:f==="add"?"Add New Coupon":"Edit Coupon"})}),n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[n.jsx(wo,{label:"Coupon Code *",type:"text",value:_.coupon_name,onChange:X=>{k({..._,coupon_name:X.target.value.toUpperCase()}),E.coupon_name&&C({...E,coupon_name:""})},error:E.coupon_name,placeholder:"SAVE10",disabled:f==="edit",fullWidth:!0}),n.jsx(wo,{label:"Coupon Title *",type:"text",value:_.coupon_title,onChange:X=>{k({..._,coupon_title:X.target.value}),E.coupon_title&&C({...E,coupon_title:""})},error:E.coupon_title,placeholder:"Save 10 on booking",fullWidth:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(wo,{label:"Discount Percentage (%) *",type:"number",step:"0.01",min:"0",max:"100",value:_.discount_percentage,onChange:X=>{k({..._,discount_percentage:parseFloat(X.target.value)||0}),E.discount_percentage&&C({...E,discount_percentage:""})},error:E.discount_percentage,placeholder:"e.g., 10",fullWidth:!0}),n.jsx(wo,{label:"Total Coupons *",type:"number",min:"1",value:_.total_coupons,onChange:X=>{k({..._,total_coupons:parseInt(X.target.value)||1}),E.total_coupons&&C({...E,total_coupons:""})},error:E.total_coupons,fullWidth:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(wo,{label:"Min Order Amount () *",type:"number",step:"0.01",min:"0",value:_.min_order_amount,onChange:X=>{k({..._,min_order_amount:X.target.value?parseFloat(X.target.value):""}),E.min_order_amount&&C({...E,min_order_amount:""})},error:E.min_order_amount,placeholder:"e.g., 200",fullWidth:!0}),n.jsx(wo,{label:"Max Order Amount ()",type:"number",step:"0.01",min:"0",value:_.max_order_amount,onChange:X=>{k({..._,max_order_amount:X.target.value?parseFloat(X.target.value):""}),E.max_order_amount&&C({...E,max_order_amount:""})},error:E.max_order_amount,placeholder:"e.g., 1000 (optional)",fullWidth:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coupon Category *"}),n.jsxs("select",{value:_.coupon_category,onChange:X=>{k({..._,coupon_category:X.target.value}),E.coupon_category&&C({...E,coupon_category:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),n.jsx("option",{value:"medicine",children:"Medicine Booking"}),n.jsx("option",{value:"lab_test",children:"Lab Test"})]}),E.coupon_category&&n.jsx("p",{className:"text-sm text-red-600",children:E.coupon_category})]}),_.min_order_amount&&_.discount_percentage>0&&_.coupon_category&&n.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["This coupon will apply ",n.jsxs("strong",{children:[_.discount_percentage,"%"]})," discount on ",_.coupon_category==="medicine"?"medicine orders":"lab test bookings"," for orders ",_.max_order_amount?`between ${_.min_order_amount} - ${_.max_order_amount}`:`of ${_.min_order_amount} and above`]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(wo,{label:"Valid From (Optional)",type:"date",value:_.valid_from,onChange:X=>{k({..._,valid_from:X.target.value}),E.valid_from&&C({...E,valid_from:""})},error:E.valid_from,fullWidth:!0}),n.jsx(wo,{label:"Valid Until (Optional)",type:"date",value:_.valid_until,onChange:X=>{k({..._,valid_until:X.target.value}),E.valid_until&&C({...E,valid_until:""})},error:E.valid_until,fullWidth:!0})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_.is_active,onChange:X=>k({..._,is_active:X.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_.is_featured,onChange:X=>k({..._,is_featured:X.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_.is_one_time,onChange:X=>k({..._,is_one_time:X.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"One Time Use"})]})]}),_.is_one_time&&n.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"One Time Use:"})," This coupon can only be used once per user. Once a user uses this coupon, they cannot use it again."]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(De,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:b,children:"Cancel"}),n.jsx(De,{type:"submit",disabled:b,isLoading:b,children:f==="add"?"Create Coupon":"Update Coupon"})]})]})]})})]})},Gde=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!1),[i,o]=v.useState(""),[c,u]=v.useState("all"),[m,f]=v.useState("all"),h=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"});v.useEffect(()=>{g()},[c,m]);const g=async()=>{s(!0);try{const _=new URLSearchParams;c!=="all"&&_.append("status",c),m!=="all"&&_.append("type",m);const k=await fetch(`${we}/admin/helpdesk/tickets?${_.toString()}`,{headers:h()});if(k.ok){const E=await k.json();r(E.tickets||[])}else e("Failed to fetch tickets","error"),r([])}catch{e("Failed to fetch tickets","error"),r([])}finally{s(!1)}},p=async(_,k,E)=>{try{const C=new URLSearchParams({type:k});E&&C.set("source",E),(await fetch(`${we}/admin/helpdesk/tickets/${_}/solve?${C}`,{method:"PUT",headers:h()})).ok?(e("Ticket marked as solved","success"),r(O=>O.map(I=>I.id===_&&I.type===k&&(I.source||"user_helpdesk")===E?{...I,status:"resolved"}:I)),await g()):e("Failed to mark ticket as solved","error")}catch{e("Failed to mark ticket as solved","error")}},b=_=>({open:"bg-primary/20 text-primary",resolved:"bg-green-100 text-green-800 border border-green-200",solved:"bg-green-100 text-green-800 border border-green-200",closed:"bg-gray-100 text-gray-700 border border-gray-200"})[_]||"bg-primary/20 text-primary",y=_=>_==="resolved"||_==="solved"||_==="closed",j=_=>y(_)?"Resolved":_==="open"?"Open":_,N=t.filter(_=>_.subject.toLowerCase().includes(i.toLowerCase())||_.message.toLowerCase().includes(i.toLowerCase())||_.user_name?.toLowerCase().includes(i.toLowerCase())||_.provider_name?.toLowerCase().includes(i.toLowerCase()));return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helpdesk Management"}),n.jsx("p",{className:"text-gray-600",children:"View and manage support tickets from users and vendors."})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by subject, message, or user/vendor name...",value:i,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"solved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:m,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"user",children:"User Tickets"}),n.jsx("option",{value:"vendor",children:"Vendor Tickets"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"space-y-4",children:N.map(_=>n.jsxs(Je,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(jt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[_.type==="user"?n.jsx(Wt,{className:"text-primary",size:20}):n.jsx(Pu,{className:"text-primary",size:20}),n.jsx(wt,{className:"text-lg",children:_.subject})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(_.status)}`,children:j(_.status)}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-secondary text-primary border border-primary/20",children:_.type==="user"?"User":"Vendor"})]})]})}),n.jsxs(Ze,{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-700",children:n.jsx("p",{className:"mb-2",children:_.message})}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[_.type==="user"?n.jsx(n.Fragment,{children:_.user_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{size:14}),n.jsx("span",{children:_.user_name}),_.user_email&&n.jsxs("span",{className:"text-gray-400",children:["(",_.user_email,")"]})]})}):n.jsx(n.Fragment,{children:_.provider_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pu,{size:14}),n.jsx("span",{children:_.provider_name}),_.provider_email&&n.jsxs("span",{className:"text-gray-400",children:["(",_.provider_email,")"]})]})}),_.order_id&&n.jsxs("div",{className:"text-gray-500",children:["Order ID: #",_.order_id]}),n.jsx("div",{className:"text-gray-500",children:new Date(_.created_at).toLocaleDateString()})]}),_.attachment_url&&n.jsxs("div",{className:"mt-4 border rounded-lg p-2 bg-gray-50 max-w-sm",children:[n.jsxs("p",{className:"text-xs font-semibold mb-2 text-gray-500 flex items-center gap-1",children:[n.jsx(nf,{size:12})," Attachment"]}),_.attachment_url.match(/\.(jpg|jpeg|png|gif|webp)$/i)?n.jsx("a",{href:_.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:n.jsx("img",{src:_.attachment_url,alt:"Ticket attachment",className:"max-h-48 rounded shadow-sm hover:opacity-90 transition-opacity"})}):n.jsxs("a",{href:_.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-2 text-sm",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),"View Attachment"]})]}),!y(_.status)&&n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>p(_.id,_.type,_.source||(_.type==="vendor"?"vendor_helpdesk":"user_helpdesk")),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Wr,{size:16}),"Mark as Solved"]})})]})]},`${_.source||"user_helpdesk"}-${_.type}-${_.id}`))}),N.length===0&&!a&&n.jsx(Je,{children:n.jsxs(Ze,{className:"text-center py-12",children:[n.jsx(mb,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No tickets found"})]})})]})})},Xde=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState([]),[i,o]=v.useState(!0),[c,u]=v.useState(!1),[m,f]=v.useState(!1),[h,g]=v.useState(null),[p,b]=v.useState(!1),[y,j]=v.useState(""),[N,_]=v.useState(null),[k,E]=v.useState({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),[C,D]=v.useState({user_id:"",provider_id:"",booking_id:"",payment_status:""}),[O,I]=v.useState(!1),[T,F]=v.useState(null),[q,U]=v.useState(!1),[J,W]=v.useState(""),[he,X]=v.useState(!1),be=v.useRef(null),ne=v.useRef(null);v.useEffect(()=>{const G=ge=>{ne.current&&!ne.current.contains(ge.target)&&be.current&&!be.current.contains(ge.target)&&X(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]),v.useEffect(()=>{ve(),me()},[C]);const ve=async()=>{const G=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(G){o(!0);try{const ge=new URLSearchParams;Object.entries(C).forEach(([ze,Fe])=>{Fe&&ge.append(ze,Fe)});const le=await fetch(`${we}/admin/bills?${ge.toString()}`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(le.ok){const ze=await le.json();r(ze.bills||[])}}catch{e("Failed to load bills","error")}finally{o(!1)}}},me=async()=>{const G=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(G)try{const ge=await fetch(`${we}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(ge.ok){const le=await ge.json(),ze=le.data||le.bookings||[];s(ze.map(Fe=>({id:Fe.id,user_id:Fe.user_id,provider_id:Fe.provider_id,service_name:Fe.service_name||Fe.service_title||"Service",user_name:Fe.user_name||Fe.user?.full_name||Fe.user?.name||`User #${Fe.user_id}`,provider_name:Fe.provider_name||Fe.provider?.full_name||Fe.provider?.name||(Fe.provider_id?`Provider #${Fe.provider_id}`:"Unassigned"),payment_amount:Fe.payment_amount||Fe.total_amount||0})))}}catch(ge){console.error("Failed to load bookings:",ge)}},ae=async G=>{const ge=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(ge){U(!0),F(null);try{let le=null,ze=[],Fe={total_amount:0,paid_amount:0,outstanding_amount:0};const Ce=a.find(Ae=>Ae.id===G);Ce&&(le={id:Ce.id,user_id:Ce.user_id,provider_id:Ce.provider_id,service_name:Ce.service_name,service_title:Ce.service_name,user_name:Ce.user_name,provider_name:Ce.provider_name,payment_amount:Ce.payment_amount||0,user_full_name:Ce.user_name,provider_full_name:Ce.provider_name});try{const Ae=await fetch(`${we}/admin/bills/booking/${G}`,{headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(Ae.ok){const _e=await Ae.json();_e.booking&&(le={id:_e.booking.id,user_id:_e.booking.user_id,provider_id:_e.booking.provider_id,service_name:_e.booking.service_title||_e.booking.service_name||"Service",service_title:_e.booking.service_title,user_name:_e.booking.user_full_name||_e.booking.user_name||`User #${_e.booking.user_id}`,provider_name:_e.booking.provider_full_name||_e.booking.provider_name||(_e.booking.provider_id?`Provider #${_e.booking.provider_id}`:"Unassigned"),payment_amount:_e.booking.payment_amount||_e.booking.service_price_discounted||_e.booking.service_price_original||0,user_full_name:_e.booking.user_full_name,provider_full_name:_e.booking.provider_full_name}),Fe=_e.outstanding_info||{total_amount:le?.payment_amount||0,paid_amount:0,outstanding_amount:le?.payment_amount||0},ze=_e.bills||[]}else if(Ae.status===404)console.log("Booking not found in bills endpoint, using data from bookings list");else{const _e=await Ae.json().catch(()=>({}));console.error("Bills endpoint error:",_e)}}catch(Ae){console.error("Error fetching from bills endpoint:",Ae)}if(!le)try{const Ae=await fetch(`${we}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(Ae.ok){const _e=await Ae.json(),Xe=(_e.data||_e.bookings||[]).find(gt=>gt.id===G);Xe&&(le={id:Xe.id,user_id:Xe.user_id,provider_id:Xe.provider_id,service_name:Xe.service_title||Xe.service_name||"Service",service_title:Xe.service_title,user_name:Xe.user_full_name||Xe.user_name||`User #${Xe.user_id}`,provider_name:Xe.provider_full_name||Xe.provider_name||(Xe.provider_id?`Provider #${Xe.provider_id}`:"Unassigned"),payment_amount:Xe.payment_amount||Xe.service_price_discounted||Xe.service_price_original||0,user_full_name:Xe.user_full_name,provider_full_name:Xe.provider_full_name})}}catch(Ae){console.error("Error fetching from appointments endpoint:",Ae)}le?(Fe.total_amount===0&&le.payment_amount&&(Fe={total_amount:le.payment_amount,paid_amount:ze.reduce((Ae,_e)=>Ae+_e.bill_amount,0),outstanding_amount:le.payment_amount-ze.reduce((Ae,_e)=>Ae+_e.bill_amount,0)}),F({booking:le,outstanding_info:Fe,bills:ze}),Fe.outstanding_amount>0&&E(Ae=>({...Ae,bill_amount:Fe.outstanding_amount.toString()}))):(e(`Booking #${G} not found. Please check the booking ID.`,"error"),F(null))}catch(le){console.error("Failed to load booking details:",le),e("Failed to load booking details. Please try again.","error"),F(null)}finally{U(!1)}}},P=G=>{const ge=parseInt(G);if(isNaN(ge)){e("Please enter a valid booking ID","error");return}E({...k,booking_id:G});const le=a.find(ze=>ze.id===ge);W(le?`#${le.id} - ${le.service_name} - ${le.user_name}`:`#${ge}`),X(!1),ae(ge)},B=a.filter(G=>{if(!J)return!1;const ge=J.toLowerCase();return G.id.toString().includes(ge)||G.service_name.toLowerCase().includes(ge)||G.user_name.toLowerCase().includes(ge)||G.provider_name.toLowerCase().includes(ge)}),H=async G=>{G.preventDefault();const ge=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(ge){if(!T){e("Please select a booking first","error");return}I(!0);try{const le=await fetch(`${we}/admin/bills/generate`,{method:"POST",headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"},body:JSON.stringify({booking_id:parseInt(k.booking_id),user_id:T.booking.user_id,provider_id:T.booking.provider_id||null,bill_amount:parseFloat(k.bill_amount),generated_by:"Admin",notes:k.notes})});if(le.ok)e("Bill generated successfully","success"),u(!1),E({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),W(""),F(null),ve(),T&&T.booking.id&&ae(T.booking.id);else{const ze=await le.json();throw new Error(ze.error?.message||"Failed to generate bill")}}catch(le){e(le.message||"Failed to generate bill","error")}finally{I(!1)}}},V=async G=>{const ge=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(ge)try{const le=await fetch(`${we}/admin/bills/${G}`,{headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(le.ok){const ze=await le.json();g(ze.bill),f(!0)}}catch{e("Failed to load bill details","error")}},te=async(G,ge,le)=>{const ze=localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token");if(ze)try{const Fe={payment_status:ge};ge==="partial"&&le!==void 0&&(Fe.paid_amount=le);const Ce=await fetch(`${we}/admin/bills/${G}/update-payment-status`,{method:"POST",headers:{Authorization:`Bearer ${ze}`,"Content-Type":"application/json"},body:JSON.stringify(Fe)});if(Ce.ok){if(e("Payment status updated","success"),ve(),h?.id===G){const Ae=await Ce.json();g(Ae.bill)}T&&T.booking.id&&ae(T.booking.id)}else{const Ae=await Ce.json();e(Ae.error?.message||"Failed to update payment status","error")}}catch{e("Failed to update payment status","error")}},ye=()=>{if(!N)return;const G=parseFloat(y);if(isNaN(G)||G<=0){e("Please enter a valid payment amount","error");return}te(N,"partial",G),b(!1),j(""),_(null)},ke=G=>`${G.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,R=G=>new Date(G).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return n.jsx(It,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bill Management"}),n.jsx("p",{className:"text-gray-600",children:"Generate and manage bills for bookings"})]}),n.jsxs(De,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[n.jsx(ia,{size:16}),"Generate Bill"]})]}),n.jsx(Je,{className:"mb-6",children:n.jsx(Ze,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User ID"}),n.jsx("input",{type:"number",value:C.user_id,onChange:G=>D({...C,user_id:G.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by user"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider ID"}),n.jsx("input",{type:"number",value:C.provider_id,onChange:G=>D({...C,provider_id:G.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by provider"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID"}),n.jsx("input",{type:"number",value:C.booking_id,onChange:G=>D({...C,booking_id:G.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by booking"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),n.jsxs("select",{value:C.payment_status,onChange:G=>D({...C,payment_status:G.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"partial",children:"Partial"})]})]})]})})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"All Bills"})}),n.jsx(Ze,{children:i?n.jsx(Xc,{}):t.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bills found"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bill Number"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Outstanding"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(G=>{const ge=a.find(le=>le.id===G.booking_id);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:G.bill_number}),n.jsxs("td",{className:"px-4 py-3 text-sm",children:["#",G.booking_id]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:ge?.user_name||`User #${G.user_id}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:ke(G.bill_amount)}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:G.current_outstanding_amount!==void 0?ke(G.current_outstanding_amount):ke(G.outstanding_amount)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G.payment_status==="paid"?"bg-green-100 text-green-800":G.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.payment_status})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:R(G.generated_at)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(De,{onClick:()=>V(G.id),variant:"ghost",size:"sm",children:n.jsx(yn,{size:16})})})]},G.id)})})]})})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Generate Bill"}),n.jsx("button",{onClick:()=>u(!1),children:n.jsx(Tt,{size:20})})]}),n.jsxs("form",{onSubmit:H,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID / Select Booking"}),n.jsxs("div",{className:"relative",ref:ne,children:[n.jsx("input",{ref:be,type:"text",value:J,onChange:G=>{const ge=G.target.value;W(ge),X(ge.length>0);const le=ge.match(/^#?(\d+)$/);if(le){const ze=parseInt(le[1]);E({...k,booking_id:ze.toString()})}else ge.length===0&&(E({...k,booking_id:""}),F(null))},onKeyDown:G=>{if(G.key==="Enter"){G.preventDefault();const ge=J.match(/^#?(\d+)$/);if(ge){const le=parseInt(ge[1]);P(le.toString())}else k.booking_id&&P(k.booking_id)}G.key==="Escape"&&X(!1)},onFocus:()=>{J&&X(!0)},placeholder:"Enter booking ID (e.g., 65) or search by service/user name...",className:"w-full px-3 py-2 border rounded-md",required:!0}),he&&J&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:B.length>0?B.slice(0,10).map(G=>n.jsxs("div",{onClick:()=>P(G.id.toString()),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",children:[n.jsxs("div",{className:"font-medium",children:["#",G.id," - ",G.service_name]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[G.user_name,"  ",G.provider_name]})]},G.id)):n.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No bookings found. You can enter booking ID directly (e.g., 65) and press Enter."})})]}),k.booking_id&&n.jsx("input",{type:"hidden",name:"booking_id",value:k.booking_id})]}),T&&n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-lg p-5 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between border-b-2 border-blue-200 pb-3",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900",children:" Booking Details"}),n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:["ID: #",T.booking.id||k.booking_id]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Service"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:T.booking.service_name||T.booking.service_title||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Booking ID"}),n.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["#",T.booking.id||k.booking_id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"User"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:T.booking.user_full_name||T.booking.user_name||`User #${T.booking.user_id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Provider"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:T.booking.provider_full_name||T.booking.provider_name||(T.booking.provider_id?`Provider #${T.booking.provider_id}`:"Unassigned")})]})]}),n.jsxs("div",{className:"bg-white rounded p-3 border border-primary/20",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Booking Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-gray-900",children:ke(T.outstanding_info.total_amount)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Billed Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-green-600",children:ke(T.bills.reduce((G,ge)=>G+ge.bill_amount,0))}),T.bills.length>0&&n.jsxs("span",{className:"text-xs text-gray-500 block mt-1",children:["(",T.bills.length," ",T.bills.length===1?"bill":"bills",")"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Outstanding Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-red-600",children:ke(T.outstanding_info.outstanding_amount)}),n.jsx("span",{className:"text-xs text-gray-500 block mt-1",children:"(Remaining to bill)"})]})]}),n.jsx("div",{className:"border-t pt-2 mt-2 text-xs text-gray-600",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Calculation:"}),n.jsxs("span",{className:"font-medium",children:["Total (",ke(T.outstanding_info.total_amount),") - Billed (",ke(T.bills.reduce((G,ge)=>G+ge.bill_amount,0)),") = Outstanding (",ke(T.outstanding_info.outstanding_amount),")"]})]})})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-2",children:["Bill History",T.bills.length>0&&n.jsxs("span",{className:"text-gray-500 font-normal",children:["(",T.bills.length," ",T.bills.length===1?"bill":"bills",")"]})]}),T.bills.length>0?n.jsx("div",{className:"bg-white rounded border border-gray-200 max-h-48 overflow-y-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Bill #"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Amount"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Status"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Generated Date"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Paid Date"})]})}),n.jsx("tbody",{children:T.bills.map((G,ge)=>n.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ge===T.bills.length-1?"border-b-2 border-primary/20":""}`,children:[n.jsx("td",{className:"px-3 py-2 font-medium",children:G.bill_number}),n.jsx("td",{className:"px-3 py-2 font-semibold",children:ke(G.bill_amount)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${G.payment_status==="paid"?"bg-green-100 text-green-800":G.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:G.payment_status.charAt(0).toUpperCase()+G.payment_status.slice(1)})}),n.jsx("td",{className:"px-3 py-2",children:R(G.generated_at)}),n.jsx("td",{className:"px-3 py-2",children:G.paid_at?n.jsx("span",{className:"text-green-600",children:R(G.paid_at)}):n.jsx("span",{className:"text-gray-400",children:"-"})})]},G.id))}),n.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-primary/20",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:2,className:"px-3 py-2 font-semibold text-right",children:"Total Billed:"}),n.jsx("td",{colSpan:3,className:"px-3 py-2 font-bold text-lg",children:ke(T.bills.reduce((G,ge)=>G+ge.bill_amount,0))})]})})]})}):n.jsx("div",{className:"bg-white rounded border border-gray-200 p-4 text-center text-gray-500 text-sm",children:"No bills generated yet for this booking. The outstanding amount shown above is the total booking amount."})]})]}),q&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading booking details..."}),T&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User"}),n.jsx("input",{type:"text",value:T.booking.user_full_name||T.booking.user_name||`User #${T.booking.user_id}`,readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),n.jsx("input",{type:"hidden",name:"user_id",value:T.booking.user_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider"}),n.jsx("input",{type:"text",value:T.booking.provider_full_name||T.booking.provider_name||(T.booking.provider_id?`Provider #${T.booking.provider_id}`:"Unassigned"),readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),T.booking.provider_id&&n.jsx("input",{type:"hidden",name:"provider_id",value:T.booking.provider_id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bill Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:k.bill_amount,onChange:G=>E({...k,bill_amount:G.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (Optional)"}),n.jsx("textarea",{value:k.notes,onChange:G=>E({...k,notes:G.target.value}),className:"w-full px-3 py-2 border rounded-md",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(De,{type:"button",variant:"outline",onClick:()=>{u(!1),E({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),W(""),F(null),X(!1)},onBlur:()=>setTimeout(()=>X(!1),200),children:"Cancel"}),n.jsx(De,{type:"submit",disabled:O,children:O?"Generating...":"Generate Bill"})]})]})]})}),p&&N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Enter Partial Payment Amount"}),n.jsx("button",{onClick:()=>{b(!1),j(""),_(null)},children:n.jsx(Tt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[h&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Bill Amount:"}),n.jsx("div",{className:"text-lg font-semibold",children:ke(h.bill_amount)}),h.outstanding_amount>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Outstanding:"}),n.jsx("div",{className:"text-base font-medium text-red-600",children:ke(h.outstanding_amount)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Paid ()"}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",max:h?.outstanding_amount||h?.bill_amount||0,value:y,onChange:G=>j(G.target.value),placeholder:"Enter amount being paid",className:"w-full px-3 py-2 border rounded-md",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),ye())}}),h&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",ke(h.outstanding_amount||h.bill_amount)]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(De,{type:"button",variant:"outline",onClick:()=>{b(!1),j(""),_(null)},children:"Cancel"}),n.jsx(De,{onClick:ye,disabled:!y||parseFloat(y)<=0,children:"Confirm Partial Payment"})]})]})]})}),m&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Bill Details - ",h.bill_number]}),n.jsx("button",{onClick:()=>f(!1),children:n.jsx(Tt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bill Number"}),n.jsx("p",{className:"text-lg font-semibold",children:h.bill_number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:ke(h.bill_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),n.jsx("p",{className:"text-lg font-semibold",children:ke(h.outstanding_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("p",{className:"text-lg",children:n.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${h.payment_status==="paid"?"bg-green-100 text-green-800":h.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.payment_status})})]})]}),h.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notes"}),n.jsx("p",{className:"text-sm",children:h.notes})]}),n.jsx("div",{className:"flex gap-3 pt-4 border-t",children:n.jsx(De,{onClick:()=>te(h.id,"paid"),className:"bg-green-600 hover:bg-green-700",disabled:h.payment_status==="paid",children:"Mark as Paid"})})]})]})})]})})},gh=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${lb}${r}`},Yde={Draft:"bg-amber-100 text-amber-700 border border-amber-200",Published:"bg-emerald-100 text-emerald-700 border border-emerald-200",Active:"bg-orange-100 text-orange-700 border border-orange-200",Inactive:"bg-rose-100 text-rose-500 border border-rose-200"},zy=()=>{const{addToast:e}=Dt(),a=ca().pathname.includes("/banners")?"banners":"blogs",[s,i]=v.useState([]),[o,c]=v.useState([]),[u,m]=v.useState([]),[f,h]=v.useState([]),[g,p]=v.useState(!1),[b,y]=v.useState(!1),[j,N]=v.useState(!1),[_,k]=v.useState(!1),[E,C]=v.useState(null),[D,O]=v.useState(null),[I,T]=v.useState({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),[F,q]=v.useState({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),[U,J]=v.useState(null),W=(R=!1)=>{const G=localStorage.getItem("Apricott Care_token"),ge={};return G&&(ge.Authorization=`Bearer ${G}`),R&&(ge["Content-Type"]="application/json"),ge},he=async()=>{p(!0);try{const R=await fetch(`${we}/admin/blogs`,{headers:W()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const G=await R.json();G.success&&Array.isArray(G.blogs)?i(G.blogs):e("Failed to load blogs","error")}catch(R){console.error("Error fetching blogs:",R),e(`Error loading blogs: ${R instanceof Error?R.message:"Unknown error"}`,"error")}finally{p(!1)}},X=async()=>{p(!0);try{const R=await fetch(`${we}/admin/banners`,{headers:W()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const G=await R.json();G.success&&Array.isArray(G.banners)?c(G.banners):e("Failed to load banners","error")}catch(R){console.error("Error fetching banners:",R),e(`Error loading banners: ${R instanceof Error?R.message:"Unknown error"}`,"error")}finally{p(!1)}},be=async()=>{try{const R=await fetch(`${we}/admin/categories`,{headers:W()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const G=await R.json();Array.isArray(G.categories)&&m(G.categories)}catch(R){console.error("Error fetching categories:",R)}},ne=async()=>{try{const R=await fetch(`${we}/admin/inventory?is_discontinued=0`,{headers:W()});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const G=await R.json();if(Array.isArray(G.inventory)){const ge=G.inventory.filter(le=>!le.is_discontinued&&le.stock_quantity>0);h(ge)}}catch(R){console.error("Error fetching products:",R)}};v.useEffect(()=>{he(),X(),be(),ne()},[]);const ve=v.useMemo(()=>{const R=s.length,G=s.filter(le=>le.status==="Published").length,ge=s.filter(le=>le.status==="Draft").length;return[{label:"Total Posts",value:R,subtitle:"Across pet care categories",icon:n.jsx(Ug,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Published",value:G,subtitle:"Live on the site",icon:n.jsx(ss,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Drafts",value:ge,subtitle:"Ready for review",icon:n.jsx(Kr,{className:"text-amber-500",size:22}),gradient:"from-amber-100 to-orange-50"}]},[]),me=v.useMemo(()=>{const R=o.length,G=o.filter(le=>le.status==="Active").length,ge=o.filter(le=>le.status==="Inactive").length;return[{label:"Total Banners",value:R,subtitle:"Displayed across pages",icon:n.jsx(VL,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Active",value:G,subtitle:"Currently visible",icon:n.jsx(Wg,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Inactive",value:ge,subtitle:"Hidden banners",icon:n.jsx(qy,{className:"text-rose-500",size:22}),gradient:"from-rose-100 to-rose-50"}]},[]),ae=async R=>{R.preventDefault(),y(!0);try{const G=localStorage.getItem("Apricott Care_token");let ge;if(I.image instanceof File){const ze=new FormData;ze.append("title",I.title),ze.append("category",I.category),ze.append("status",I.status),I.author&&ze.append("author",I.author),I.excerpt&&ze.append("excerpt",I.excerpt),I.content&&ze.append("content",I.content),ze.append("image",I.image),ge=await fetch(`${we}/admin/blogs${E?`/${E.id}`:""}`,{method:E?"PUT":"POST",headers:{Authorization:`Bearer ${G}`},body:ze})}else{const ze={title:I.title,category:I.category,status:I.status};I.author&&(ze.author=I.author),I.excerpt&&(ze.excerpt=I.excerpt),I.content&&(ze.content=I.content),typeof I.image=="string"&&I.image&&(ze.image=I.image),ge=await fetch(`${we}/admin/blogs${E?`/${E.id}`:""}`,{method:E?"PUT":"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(ze)})}const le=await ge.json();ge.ok&&le.success?(await he(),e(E?"Blog updated successfully":"Blog created successfully","success"),N(!1),V()):e(le.error?.message||"Failed to save blog","error")}catch(G){console.error("Error saving blog:",G),e("Error saving blog","error")}finally{y(!1)}},P=async R=>{if(R.preventDefault(),F.link_type==="category"){if(!F.category_id||F.category_id===0){e("Please select a category","error");return}}else if(F.link_type==="product"&&(!F.product_id||F.product_id===0)){e("Please select a product","error");return}y(!0);try{const G=localStorage.getItem("Apricott Care_token");let ge;if(F.image instanceof File){const ze=new FormData;ze.append("link_type",F.link_type),F.link_type==="category"?ze.append("category_id",F.category_id.toString()):F.link_type==="product"&&ze.append("product_id",F.product_id.toString()),ze.append("sequence",F.sequence.toString()),ze.append("image",F.image),ge=await fetch(`${we}/admin/banners${D?`/${D.id}`:""}`,{method:D?"PUT":"POST",headers:{Authorization:`Bearer ${G}`},body:ze})}else{const ze={link_type:F.link_type,sequence:F.sequence};F.link_type==="category"?ze.category_id=F.category_id:F.link_type==="product"&&(ze.product_id=F.product_id),typeof F.image=="string"&&F.image&&(ze.image=F.image),ge=await fetch(`${we}/admin/banners${D?`/${D.id}`:""}`,{method:D?"PUT":"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(ze)})}const le=await ge.json();ge.ok&&le.success?(await X(),e(D?"Banner updated successfully":"Banner created successfully","success"),k(!1),te()):e(le.error?.message||"Failed to save banner","error")}catch(G){console.error("Error saving banner:",G),e("Error saving banner","error")}finally{y(!1)}},B=async R=>{if(confirm("Are you sure you want to delete this blog post?"))try{const G=localStorage.getItem("Apricott Care_token"),ge=await fetch(`${we}/admin/blogs/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}}),le=await ge.json();ge.ok&&le.success?(await he(),e("Blog deleted successfully","success")):e(le.error?.message||"Failed to delete blog","error")}catch(G){console.error("Error deleting blog:",G),e("Error deleting blog","error")}},H=async R=>{if(confirm("Are you sure you want to delete this banner?"))try{const G=localStorage.getItem("Apricott Care_token"),ge=await fetch(`${we}/admin/banners/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}}),le=await ge.json();ge.ok&&le.success?(await X(),e("Banner deleted successfully","success")):e(le.error?.message||"Failed to delete banner","error")}catch(G){console.error("Error deleting banner:",G),e("Error deleting banner","error")}},V=()=>{T({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),C(null),J(null)},te=()=>{q({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),O(null),J(null)},ye=R=>{C(R),T({title:R.title,category:R.category,status:R.status,author:R.author||"",excerpt:R.excerpt||"",content:R.content||"",image:R.image_url}),J(R.image_url?gh(R.image_url):null),N(!0)},ke=R=>{O(R);const G=R.link_type||(R.category_id?"category":R.product_id?"product":"category");q({link_type:G,category_id:R.category_id||0,product_id:R.product_id||0,sequence:R.sequence||0,image:R.image_url}),J(R.image_url?gh(R.image_url):null),k(!0)};return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsx("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Site Experience"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"Site Management Studio"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:"Manage the Apricott Care story with fresh blog posts, vibrant banners, and curated experiences for pet parents exploring training, grooming, healthcare, and nutrition."})]})})}),n.jsx(Je,{className:"rounded-3xl border border-orange-100/70 bg-white/95 shadow-lg",children:n.jsxs(Ze,{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Manage"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-orange-900",children:"Content Hubs"})]})}),a==="blogs"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:ve.map(R=>n.jsx(Je,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ze,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${R.gradient}`,children:R.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:R.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:R.value}),n.jsx("p",{className:"text-xs text-orange-400",children:R.subtitle})]})]})},R.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[n.jsx(Je,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(Ze,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(Ug,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Create New Blog Post"}),n.jsx("p",{className:"text-sm text-orange-500",children:"Draft insights, publish stories, and keep pet parents inspired."})]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:ae,children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Title"}),n.jsx("input",{type:"text",placeholder:"Enter engaging headline",value:I.title,onChange:R=>T({...I,title:R.target.value}),required:!0,className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(fl,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:I.category,onChange:R=>T({...I,category:R.target.value}),className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Healthcare"}),n.jsx("option",{children:"Nutrition"})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Featured Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Sc,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx($c,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:R=>{const G=R.target.files?.[0];if(G){const ge=URL.createObjectURL(G);J(ge),T({...I,image:G})}}})]})]}),n.jsx("input",{type:"url",value:typeof I.image=="string"?I.image:"",onChange:R=>{T({...I,image:R.target.value}),J(R.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),U&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:U,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Status"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900",children:[n.jsx(qy,{size:18,className:"text-orange-400"}),n.jsxs("select",{value:I.status,onChange:R=>T({...I,status:R.target.value}),className:"flex-1 bg-transparent outline-none",children:[n.jsx("option",{children:"Draft"}),n.jsx("option",{children:"Published"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Excerpt"}),n.jsx("textarea",{rows:3,placeholder:"Short summary for preview cards...",value:I.excerpt,onChange:R=>T({...I,excerpt:R.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Content (optional)"}),n.jsx("textarea",{rows:5,placeholder:"Full blog content...",value:I.content,onChange:R=>T({...I,content:R.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Author (optional)"}),n.jsx("input",{type:"text",placeholder:"Author name",value:I.author,onChange:R=>T({...I,author:R.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>N(!1),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:b,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:b?"Saving...":E?"Update Post":"Publish Post"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-orange-400"})}):s.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(Ug,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No blog posts yet. Create your first post!"})]}):s.map(R=>n.jsx(Je,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ze,{className:"flex flex-col gap-4 p-5 sm:flex-row sm:gap-5",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 sm:w-44",children:R.image_url?n.jsx("img",{src:gh(R.image_url),alt:R.title,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(Sc,{className:"text-orange-300",size:32})})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[n.jsx(PL,{size:14}),R.category]}),n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Yde[R.status]}`,children:R.status})]}),n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:R.title}),n.jsx("p",{className:"text-sm text-orange-500",children:R.excerpt||"No excerpt"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-orange-400",children:[R.author&&n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Wt,{size:14}),R.author]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Cr,{size:14}),R.published_at?new Date(R.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not published"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-end sm:flex-col sm:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>ye(R),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(Hg,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>B(R.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(As,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},R.id))})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-orange-900",children:"Banner Management"}),n.jsx("p",{className:"mt-1 text-sm text-orange-500",children:"Create and manage site banners"})]}),n.jsxs("button",{type:"button",onClick:()=>{te()},className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500",children:[n.jsx(ia,{size:18}),"Add New Banner"]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:me.map(R=>n.jsx(Je,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ze,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${R.gradient}`,children:R.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:R.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:R.value}),n.jsx("p",{className:"text-xs text-orange-400",children:R.subtitle})]})]})},R.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[0.9fr,1.1fr]",children:[n.jsx(Je,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(Ze,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(Wg,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:D?"Edit Banner":"Create New Banner"}),n.jsx("p",{className:"text-sm text-orange-500",children:D?"Update banner details and settings":"Craft hero banners with tailored CTAs for each section."})]})]}),D&&n.jsxs("button",{type:"button",onClick:()=>te(),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(Tt,{size:14,className:"inline mr-1"}),"Cancel Edit"]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:P,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Link Type"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(WL,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:F.link_type,onChange:R=>{const G=R.target.value;q({...F,link_type:G,category_id:G==="category"?F.category_id:0,product_id:G==="product"?F.product_id:0})},className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"category",children:"Category"}),n.jsx("option",{value:"product",children:"Product"})]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Choose what the banner should link to"})]}),F.link_type==="category"?n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(fl,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:F.category_id,onChange:R=>q({...F,category_id:parseInt(R.target.value)||0}),required:F.link_type==="category",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a category"}),u.map(R=>n.jsx("option",{value:R.id,children:R.name},R.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to services in this category"})]}):n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Product"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(fl,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:F.product_id,onChange:R=>q({...F,product_id:parseInt(R.target.value)||0}),required:F.link_type==="product",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a product"}),f.map(R=>n.jsxs("option",{value:R.id,children:[R.medicine_name," (",R.price,")"]},R.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link directly to this product"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Sequence"}),n.jsx("input",{type:"number",min:"0",placeholder:"0",value:F.sequence,onChange:R=>q({...F,sequence:parseInt(R.target.value)||0}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Lower numbers appear first"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Banner Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Sc,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx($c,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:R=>{const G=R.target.files?.[0];if(G){const ge=URL.createObjectURL(G);J(ge),q({...F,image:G})}}})]})]}),n.jsx("input",{type:"url",value:typeof F.image=="string"?F.image:"",onChange:R=>{q({...F,image:R.target.value}),J(R.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),U&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:U,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[D&&n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>te(),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:b,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:b?"Saving...":D?"Update Banner":"Create Banner"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:g?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-orange-400"})}):o.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(Wg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No banners yet. Create your first banner!"})]}):o.map(R=>n.jsx(Je,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ze,{className:"flex flex-col gap-4 p-5 md:flex-row md:items-center md:gap-6",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 md:w-48",children:R.image_url?n.jsx("img",{src:gh(R.image_url),alt:R.category_name||`Banner ${R.id}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(Sc,{className:"text-orange-300",size:32})})}),n.jsx("div",{className:"flex-1 space-y-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[R.link_type==="product"&&R.product_id?n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-600",children:[n.jsx(fl,{size:14}),"Product: ",R.product_name||`ID: ${R.product_id}`]}):n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold text-orange-600",children:[n.jsx(fl,{size:14}),"Category: ",R.category_name||`ID: ${R.category_id}`]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 text-xs font-semibold text-primary",children:["Sequence: ",R.sequence||0]})]})}),n.jsxs("div",{className:"flex items-center gap-2 self-end md:flex-col md:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>ke(R),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(Hg,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>H(R.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(As,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},R.id))})]})]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Style Guides"}),n.jsx("h3",{className:"text-xl font-semibold text-orange-900",children:"Apricott Care Content Principles"}),n.jsx("p",{className:"mt-2 max-w-2xl text-sm text-orange-500",children:"Gilroy for headings, Inter for supporting text, and a warm orange-to-amber palette create a playful yet professional brand for pet parents and trainers."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-sm font-semibold text-orange-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(hb,{size:16}),"Brand Ready"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(Hg,{size:16}),"Copywriting Polished"]})]})]})})]})})},Jde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(""),[f,h]=v.useState(1),[g,p]=v.useState(1),[b,y]=v.useState(0),j=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),N=async()=>{a(!0),i("");try{const E=new URLSearchParams({page:f.toString(),page_size:"50"});o&&E.append("search",o),u&&E.append("status",u);const C=await fetch(`${we}/admin/lab-tests/bookings?${E}`,{headers:j()}),D=await C.json();C.ok?(t(D.bookings||[]),y(D.total||0),p(D.total_pages||1)):i(D.error?.message||"Failed to fetch bookings")}catch(E){i(E.message||"Failed to fetch bookings")}finally{a(!1)}};v.useEffect(()=>{N()},[f,u]),v.useEffect(()=>{const E=setTimeout(()=>{f===1?N():h(1)},500);return()=>clearTimeout(E)},[o]);const _=E=>{const C={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",failed:"bg-gray-100 text-gray-800"};return C[E]||C.pending},k=E=>{switch(E){case"confirmed":return n.jsx(Wr,{size:16});case"cancelled":case"failed":return n.jsx(Hn,{size:16});case"completed":return n.jsx(Wr,{size:16});default:return n.jsx(Kr,{size:16})}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search by name, phone, or booking ID...",value:o,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:u,onChange:E=>m(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(nf,{size:18}),"Refresh"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Bookings"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Pending"}),n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(E=>E.status==="pending").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Confirmed"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(E=>E.status==="confirmed").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Completed"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(E=>E.status==="completed").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Failed"}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(E=>E.status==="failed").length})]})]}),r?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading bookings..."})]}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx($o,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(Cr,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No bookings found"})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Packages"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",E.id]}),E.redcliffe_booking_id&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Redcliffe: ",E.redcliffe_booking_id]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.customer_name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(sa,{size:12}),E.customer_phonenumber]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Wa,{size:12}),E.email]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:new Date(E.collection_date).toLocaleDateString()}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Slot: ",E.collection_slot]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.package_codes?.slice(0,3).map((C,D)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:[n.jsx(ra,{size:12,className:"mr-1"}),C]},D)),E.package_codes?.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",E.package_codes.length-3," more"]})]}),E.additional_members?.length>0&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",E.additional_members.length," additional member(s)"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${_(E.status)}`,children:[k(E.status),E.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.created_at).toLocaleString()})]},E.id))})]})}),g>1&&n.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",f," of ",g]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>h(E=>Math.max(1,E-1)),disabled:f===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsx("button",{onClick:()=>h(E=>Math.min(g,E+1)),disabled:f===g,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},Zde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(null),[u,m]=v.useState(!1),[f,h]=v.useState({name:"",image_url:"",show_on_homepage:!1,display_order:0}),[g,p]=v.useState(null),[b,y]=v.useState([]),[j,N]=v.useState(!1),[_,k]=v.useState([]),[E,C]=v.useState(""),[D,O]=v.useState(!1),[I,T]=v.useState(""),[F,q]=v.useState(""),U=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),J=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")||""}`}),W=async()=>{a(!0),i("");try{const V=await fetch(`${we}/admin/lab-tests/categories`,{headers:U()}),te=await V.json();V.ok?t(te.categories||[]):i(te.error?.message||"Failed to fetch categories")}catch(V){i(V.message||"Failed to fetch categories")}finally{a(!1)}},he=async(V,te)=>{m(!0);try{const ye=new FormData;ye.append("image",V);const ke=await fetch(`${we}/admin/lab-tests/categories/upload-image`,{method:"POST",headers:J(),body:ye}),R=await ke.json();ke.ok?await X(te,{image_url:R.image_url}):i(R.error?.message||"Failed to upload image")}catch(ye){i(ye.message||"Failed to upload image")}finally{m(!1)}},X=async(V,te)=>{try{const ye={...f,...te,show_on_homepage:f.show_on_homepage?1:0},ke=await fetch(`${we}/admin/lab-tests/categories/${V}`,{method:"PUT",headers:U(),body:JSON.stringify(ye)}),R=await ke.json();ke.ok?(await W(),c(null),i("")):i(R.error?.message||"Failed to update category")}catch(ye){i(ye.message||"Failed to update category")}},be=V=>{c(V.id),h({name:V.name,image_url:V.image_url||"",show_on_homepage:V.show_on_homepage||!1,display_order:V.display_order||0})},ne=()=>{o&&X(o,{})},ve=()=>{c(null),h({name:"",image_url:"",show_on_homepage:!1,display_order:0})},me=async V=>{N(!0);try{const te=await fetch(`${we}/admin/lab-tests/categories/${V}/packages`,{headers:U()}),ye=await te.json();te.ok?y(ye.packages||[]):i(ye.error?.message||"Failed to fetch packages")}catch(te){i(te.message||"Failed to fetch packages")}finally{N(!1)}},ae=async(V="")=>{try{const te=new URLSearchParams({page:"1",page_size:"100"});V&&te.append("search",V);const ye=await fetch(`${we}/admin/lab-tests/packages?${te}`,{headers:U()}),ke=await ye.json();if(ye.ok){let R=[];ke.data&&Array.isArray(ke.data)?R=ke.data:ke.results&&Array.isArray(ke.results)?R=ke.results:Array.isArray(ke)&&(R=ke);const G=R.map(ge=>({code:ge.code||ge.package_code||"",name:ge.name||ge.package_name||ge.title||""})).filter(ge=>ge.code&&ge.code.trim()!=="");k(G),console.log(`Loaded ${G.length} available packages`)}else console.error("Failed to fetch packages:",ke),i(ke.error?.message||"Failed to fetch available packages")}catch(te){console.error("Failed to fetch available packages:",te),i(te.message||"Failed to fetch available packages")}},P=async V=>{p(V),await me(V),await ae()},B=async()=>{if(!(!I||!g)){O(!0),i("");try{const V=await fetch(`${we}/admin/lab-tests/categories/${g}/packages`,{method:"POST",headers:U(),body:JSON.stringify({package_code:I,package_name:F||I,display_order:b.length})}),te=await V.json();V.ok?(await me(g),await W(),T(""),q(""),C(""),i("")):i(te.error?.message||"Failed to add package")}catch(V){i(V.message||"Failed to add package")}finally{O(!1)}}},H=async V=>{if(g&&window.confirm("Are you sure you want to remove this package from the category?")){i("");try{const te=await fetch(`${we}/admin/lab-tests/categories/${g}/packages/${V}`,{method:"DELETE",headers:U()}),ye=await te.json();te.ok?(await me(g),await W(),i("")):i(ye.error?.message||"Failed to remove package")}catch(te){i(te.message||"Failed to remove package")}}};return v.useEffect(()=>{W()},[]),v.useEffect(()=>{if(g){const V=setTimeout(()=>{ae(E)},500);return()=>clearTimeout(V)}},[E,g]),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Test Categories"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage static lab test categories and assign packages to them"})]}),n.jsxs("button",{onClick:W,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]}),r?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading categories..."})]}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx($o,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(vu,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No categories found"})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Categories: ",n.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(V=>n.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${V.show_on_homepage?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(vu,{className:"text-blue-600",size:20}),n.jsx("h3",{className:"font-semibold text-gray-900",children:V.name}),V.show_on_homepage&&n.jsx(Pi,{className:"text-yellow-500",size:16,fill:"currentColor"})]}),V.package_count!==void 0&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[n.jsx(ra,{size:14}),n.jsxs("span",{children:[V.package_count," package(s)"]})]}),V.display_order!==void 0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Order: ",V.display_order]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>P(V.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Manage packages",children:n.jsx(ra,{size:18})}),n.jsx("button",{onClick:()=>be(V),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit category",children:n.jsx(pb,{size:18})})]})]}),V.image_url&&n.jsx("div",{className:"mb-3",children:n.jsx("img",{src:V.image_url,alt:V.name,className:"w-full h-32 object-cover rounded border border-gray-200",onError:te=>{te.target.style.display="none"}})}),o===V.id&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded border border-gray-200 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`image-upload-${V.id}`,onChange:te=>{const ye=te.target.files?.[0];ye&&he(ye,V.id)}}),n.jsxs("label",{htmlFor:`image-upload-${V.id}`,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 rounded text-xs cursor-pointer hover:bg-gray-50",children:[n.jsx($c,{size:14}),u?"Uploading...":"Upload Image"]}),n.jsx("input",{type:"url",value:f.image_url,onChange:te=>h({...f,image_url:te.target.value}),placeholder:"Or paste image URL",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),f.image_url&&n.jsx("img",{src:f.image_url,alt:"Preview",className:"mt-2 w-full h-20 object-cover rounded border border-gray-200",onError:te=>{te.target.style.display="none"}})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.show_on_homepage,onChange:te=>h({...f,show_on_homepage:te.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Show on Homepage (Max 6)"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",value:f.display_order,onChange:te=>h({...f,display_order:parseInt(te.target.value)||0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:ne,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:[n.jsx(GL,{size:14}),"Save"]}),n.jsx("button",{onClick:ve,className:"px-3 py-1.5 border border-gray-300 text-xs rounded hover:bg-gray-50",children:"Cancel"})]})]}),g===V.id&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded border border-gray-200 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Manage Packages"}),n.jsx("button",{onClick:()=>{p(null),y([])},className:"p-1 text-gray-400 hover:text-gray-600",children:n.jsx(Tt,{size:18})})]}),n.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Dn,{size:16,className:"text-gray-400"}),n.jsx("input",{type:"text",value:E,onChange:te=>C(te.target.value),placeholder:"Search packages...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),_.length>0&&n.jsxs("select",{value:I,onChange:te=>{const ye=_.find(ke=>ke.code===te.target.value);T(te.target.value),q(ye?.name||"")},className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select a package..."}),_.slice(0,50).map(te=>n.jsx("option",{value:te.code,children:te.name||te.code},te.code))]}),n.jsxs("button",{onClick:B,disabled:!I||D,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[n.jsx(ia,{size:14}),D?"Adding...":"Add Package"]})]}),j?n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Loading packages..."}):b.length===0?n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"No packages in this category"}):n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:b.map(te=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:te.package_name||te.package_code}),n.jsx("div",{className:"text-xs text-gray-500",children:te.package_code})]}),n.jsx("button",{onClick:()=>H(te.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove package",children:n.jsx(As,{size:14})})]},te.id))})]})]},V.id))})]})]})},Qde=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(1),[f,h]=v.useState(1),[g,p]=v.useState(0),b=async()=>{a(!0),i("");try{const y=new URLSearchParams({page:u.toString(),page_size:"50"});o&&y.append("search",o);const j=await fetch(`${we}/admin/lab-tests/packages?${y}`),N=await j.json();if(j.ok){const _=N.data||N.results||[];t(_),p(N.count||_.length),h(Math.ceil((N.count||_.length)/50))}else i(N.error?.message||"Failed to fetch packages")}catch(y){i(y.message||"Failed to fetch packages")}finally{a(!1)}};return v.useEffect(()=>{b()},[u]),v.useEffect(()=>{const y=setTimeout(()=>{u===1?b():m(1)},500);return()=>clearTimeout(y)},[o]),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search packages by name or code...",value:o,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Un,{size:18}),"Refresh"]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Packages: ",n.jsx("span",{className:"font-semibold text-gray-900",children:g})]})}),r?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading packages..."})]}):s?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx($o,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(ra,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No packages found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const j=y.package_center_prices?.offer_price||y.package_center_prices?.package_price||0;return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ra,{className:"text-blue-600",size:18}),n.jsx("h3",{className:"font-semibold text-gray-900",children:y.name})]}),n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Code: ",y.code]})]})}),y.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[n.jsx("div",{className:"flex items-center gap-1 text-sm font-semibold text-green-600",children:n.jsxs("span",{children:["",j]})}),y.parameter&&n.jsxs("div",{className:"text-xs text-gray-500",children:[y.parameter," test",y.parameter>1?"s":""]})]}),y.category_for_web&&y.category_for_web.length>0&&n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[y.category_for_web.slice(0,2).map((N,_)=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:N.name},_)),y.category_for_web.length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",y.category_for_web.length-2," more"]})]})]},y.id)})}),f>1&&n.jsxs("div",{className:"bg-white px-6 py-3 rounded-lg shadow-sm flex items-center justify-between border border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",u," of ",f]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>m(y=>Math.max(1,y-1)),disabled:u===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsx("button",{onClick:()=>m(y=>Math.min(f,y+1)),disabled:u===f,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},vh=()=>{const e=ca(),r=(()=>{const a=e.pathname;return a.includes("/bookings")?"bookings":a.includes("/categories")?"categories":a.includes("/packages")?"packages":"bookings"})();return n.jsx(It,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Pc,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Tests"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage lab test bookings, categories, and packages"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r==="bookings"&&n.jsx(Jde,{}),r==="categories"&&n.jsx(Zde,{}),r==="packages"&&n.jsx(Qde,{})]})]})})},eue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending"),[c,u]=v.useState(new Set),m=v.useCallback(async p=>{s(!0);const b=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const y=await fetch(`${we}/admin/doctors?list=${p}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch doctors");const j=await y.json();r(j.data||[])}catch(y){console.error("Error fetching doctors:",y),e("Failed to fetch doctors","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(p,b,y)=>{const j=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{if(!(await fetch(`${we}/admin/doctors/status`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({doctor_id:p,status:b,rejection_reason:y})})).ok)throw new Error("Failed to update status");e(`Doctor ${b==="approved"?"approved":"rejected"} successfully`,"success"),m(i)}catch(N){console.error("Error updating status:",N),e("Failed to update status","error")}},h=p=>{const b=new Set(c);b.has(p)?b.delete(p):b.add(p),u(b)},g=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Vy,{className:"text-primary",size:24})," Doctor Management"]})}),n.jsx(Xi,{value:i,onValueChange:p=>o(p),children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"pending",children:"Pending Approval"}),n.jsx(hr,{value:"approved",children:"Approved Doctors"})]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:i==="pending"?"Pending Requests":"Approved Doctors"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," doctors found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor Info"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Speciality"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Registered On"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>h(p.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),c.has(p.id)?"Hide":"Details",c.has(p.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.full_name}),n.jsx("div",{className:"text-sm text-gray-500",children:p.email}),n.jsx("div",{className:"text-sm text-gray-500",children:p.phone_number})]}),n.jsxs("td",{className:"py-4 px-4 text-sm",children:[n.jsx("div",{className:"font-medium",children:p.speciality}),n.jsx("div",{className:"text-gray-500 text-xs",children:p.qualification})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="approved"?"bg-green-100 text-green-700":p.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:p.status.replace("_"," ")})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:g(p.created_at)})]}),c.has(p.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Professional Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ja,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Registration Number"}),n.jsx("p",{className:"font-medium",children:p.registration_number||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wt,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Gender"}),n.jsx("p",{className:"font-medium",children:p.gender||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pn,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Clinic Address"}),n.jsx("p",{className:"text-sm",children:p.clinic_address||"N/A"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Identification Documents"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.ima_registration_certificate_url&&n.jsxs("a",{href:p.ima_registration_certificate_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," IMA Registration Cert"]}),p.aadhar_card_url&&n.jsxs("a",{href:p.aadhar_card_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," Aadhar Card"]}),p.pan_card_url&&n.jsxs("a",{href:p.pan_card_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," PAN Card"]}),p.driving_license_url&&n.jsxs("a",{href:p.driving_license_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," Driving License"]}),p.voter_id_passport_url&&n.jsxs("a",{href:p.voter_id_passport_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," Voter ID / Passport"]}),n.jsxs("a",{href:p.degree_proof_url||"#",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," Degree Proof"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Actions"}),p.status==="pending_approval"?n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(De,{className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",onClick:()=>f(p.id,"approved"),children:[n.jsx(Oo,{size:18})," Approve Registration"]}),n.jsxs(De,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{const b=prompt("Reason for rejection:");b&&f(p.id,"rejected",b)},children:[n.jsx(Tt,{size:18})," Reject"]})]}):p.status==="approved"?n.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[n.jsx(Oo,{size:16})," Approved on ",g(p.approved_at||"")," ",p.approved_by?`by ${p.approved_by}`:""]}):n.jsxs("div",{className:"text-sm text-red-600",children:[n.jsx("p",{className:"font-medium",children:"Rejected"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Reason: ",p.rejection_reason]})]})]})]})})})]},p.id))})]})})})]})]})})},tue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending"),[c,u]=v.useState(new Set),m=v.useCallback(async p=>{s(!0);const b=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const y=await fetch(`${we}/admin/nurses?status=${p}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch nurses");const j=await y.json();r(j.data||[])}catch(y){console.error("Error fetching nurses:",y),e("Failed to fetch nurses","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(p,b,y)=>{const j=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{if(!(await fetch(`${we}/admin/nurses/status`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({nurse_id:p,status:b,rejection_reason:y})})).ok)throw new Error("Failed to update status");e(`Nurse ${b==="approved"?"approved":"rejected"} successfully`,"success"),m(i)}catch(N){console.error("Error updating status:",N),e("Failed to update status","error")}},h=p=>{const b=new Set(c);b.has(p)?b.delete(p):b.add(p),u(b)},g=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Cu,{className:"text-primary",size:24})," Nurse Management"]})}),n.jsx(Xi,{value:i,onValueChange:p=>o(p),children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"pending",children:"Pending Approval"}),n.jsx(hr,{value:"approved",children:"Approved Nurses"})]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:i==="pending"?"Pending Requests":"Approved Nurses"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," nurses found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Nurse Info"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Qualification / Speciality"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Registered On"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>h(p.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),c.has(p.id)?"Hide":"Details",c.has(p.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.full_name}),n.jsx("div",{className:"text-sm text-gray-500",children:p.email}),n.jsx("div",{className:"text-sm text-gray-500",children:p.phone_number})]}),n.jsx("td",{className:"py-4 px-4 text-sm",children:n.jsx("div",{className:"font-medium",children:p.speciality||p.qualification})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="approved"?"bg-green-100 text-green-700":p.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:p.status.replace("_"," ")})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:g(p.created_at)})]}),c.has(p.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Professional Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ja,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Registration Number"}),n.jsx("p",{className:"font-medium",children:p.registration_number||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Cu,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Hourly Charges"}),n.jsxs("p",{className:"font-medium",children:["",p.hourly_charges]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wt,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Experience"}),n.jsxs("p",{className:"font-medium",children:[p.experience_years," Years"]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pn,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Address"}),n.jsxs("p",{className:"text-sm",children:[p.address,", ",p.city,", ",p.state," - ",p.pincode]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Documents"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsxs("a",{href:p.degree_proof_url||"#",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 text-sm text-primary",children:[n.jsx(Ar,{size:16})," Degree Proof"]})}),n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2 mt-4",children:"Profile Photo"}),p.profile_photo_url&&n.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border",children:n.jsx("img",{src:p.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Actions"}),p.status==="pending_approval"?n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(De,{className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",onClick:()=>f(p.id,"approved"),children:[n.jsx(Oo,{size:18})," Approve Registration"]}),n.jsxs(De,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{const b=prompt("Reason for rejection:");b&&f(p.id,"rejected",b)},children:[n.jsx(Tt,{size:18})," Reject"]})]}):p.status==="approved"?n.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[n.jsx(Oo,{size:16})," Approved on ",g(p.approved_at||"")," ",p.approved_by?`by ${p.approved_by}`:""]}):n.jsxs("div",{className:"text-sm text-red-600",children:[n.jsx("p",{className:"font-medium",children:"Rejected"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Reason: ",p.rejection_reason]})]})]})]})})})]},p.id))})]})})})]})]})})},rue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending"),[c,u]=v.useState(new Set),m=v.useCallback(async p=>{s(!0);const b=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const y=await fetch(`${we}/admin/nurse-bookings?status=${p}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch bookings");const j=await y.json();r(j.bookings||[])}catch(y){console.error("Error fetching bookings:",y),e("Failed to fetch bookings","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(p,b)=>{const y=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{if(!(await fetch(`${we}/admin/nurse-bookings/status`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({booking_id:p,status:b})})).ok)throw new Error("Failed to update status");e(`Booking ${b} successfully`,"success"),m(i)}catch(j){console.error("Error updating status:",j),e("Failed to update status","error")}},h=p=>{const b=new Set(c);b.has(p)?b.delete(p):b.add(p),u(b)},g=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Cr,{className:"text-primary",size:24})," Nurse Bookings"]})}),n.jsx(Xi,{value:i,onValueChange:p=>o(p),children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"pending",children:"Pending"}),n.jsx(hr,{value:"accepted",children:"Accepted"}),n.jsx(hr,{value:"completed",children:"Completed"}),n.jsx(hr,{value:"cancelled",children:"Cancelled"})]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsxs(wt,{children:[i.charAt(0).toUpperCase()+i.slice(1)," Bookings"]})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," bookings found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"ID"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Patient"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Nurse"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Schedule"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>h(p.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),c.has(p.id)?"Hide":"View",c.has(p.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4 font-medium",children:["#",p.id]}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.patient_name}),n.jsx("div",{className:"text-sm text-gray-500",children:p.mobile_number})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:p.nurse_name||"Unassigned"})}),n.jsxs("td",{className:"py-4 px-4 text-sm",children:[n.jsx("div",{children:g(p.booking_date)}),n.jsxs("div",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(Kr,{size:12})," ",p.time_slot," (",p.hours_booked," hrs)"]})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="accepted"?"bg-blue-100 text-blue-700":p.status==="completed"?"bg-green-100 text-green-700":p.status==="cancelled"||p.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:p.status.toUpperCase()})})]}),c.has(p.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:6,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Patient & Location"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wt,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Patient Details"}),n.jsxs("p",{className:"font-medium",children:[p.patient_name," (",p.patient_age," yrs, ",p.patient_gender,")"]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(sa,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("p",{className:"font-medium",children:p.mobile_number}),p.user_name&&n.jsxs("p",{className:"text-sm text-gray-500",children:["User: ",p.user_name," (",p.user_phone,")"]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pn,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Address"}),n.jsx("p",{className:"text-sm",children:p.address||"N/A"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Care Details"}),n.jsxs("div",{className:"booking-description bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Description"}),n.jsx("p",{className:"text-sm italic",children:p.care_description||"No description provided."})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2 mb-2",children:"Actions"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.status==="pending"&&n.jsx(n.Fragment,{children:n.jsx(De,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>f(p.id,"cancelled"),children:"Cancel Booking"})}),p.status==="accepted"&&n.jsx(De,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>f(p.id,"completed"),children:"Mark Completed"}),p.status==="accepted"&&n.jsx(De,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>f(p.id,"cancelled"),children:"Cancel"})]})]})]})]})})})]},p.id))})]})})})]})]})})},nue=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=Na(),{addToast:c}=Dt(),u=async m=>{m.preventDefault(),i(!0);try{const f=await fetch(`${we}/lead-admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),h=await f.json();f.ok&&h.success?(localStorage.setItem("lead_admin_token",h.token),localStorage.setItem("lead_admin_user",JSON.stringify(h.admin)),c("Login successful!","success"),o("/lead-admin/dashboard",{replace:!0})):c(h.error?.message||"Invalid username or password","error")}catch(f){console.error("Login error:",f),c("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 px-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-400 mb-4",children:n.jsx(Ws,{className:"text-white",size:32})}),n.jsx("h1",{className:"text-3xl font-bold text-orange-900 mb-2",children:"Lead Admin Login"}),n.jsx("p",{className:"text-sm text-orange-600",children:"Access your lead management dashboard"})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your username",required:!0,disabled:s})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:r,onChange:m=>a(m.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your password",required:!0,disabled:s})]}),n.jsx("button",{type:"submit",disabled:s||!e||!r,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-3 text-white font-semibold shadow-lg hover:from-orange-600 hover:to-amber-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Login"})]})]})})})},yh={New:{badge:"bg-orange-100 text-orange-700 border border-orange-200",dot:"bg-orange-500"},Contacted:{badge:"bg-amber-100 text-amber-700 border border-amber-200",dot:"bg-amber-500"},Converted:{badge:"bg-emerald-100 text-emerald-700 border border-emerald-200",dot:"bg-emerald-500"},Lost:{badge:"bg-rose-100 text-rose-600 border border-rose-200",dot:"bg-rose-500"},Available:{badge:"bg-secondary text-primary border border-primary/20",dot:"bg-primary"},"Not connected":{badge:"bg-gray-100 text-gray-700 border border-gray-200",dot:"bg-gray-500"}},bh=(e=!1)=>{const t=localStorage.getItem("lead_admin_token"),r={};return t&&(r.Authorization=`Bearer ${t}`),e&&(r["Content-Type"]="application/json"),r},aue=({lead:e,onClose:t,onUpdate:r})=>{const[a,s]=v.useState(e?.status??"New"),[i,o]=v.useState(e?.notes||""),[c,u]=v.useState(!1);if(v.useEffect(()=>{e&&(s(e.status),o(e.notes||""))},[e]),!e)return null;const m=async()=>{u(!0);try{await r(e.id,{status:a,notes:i}),t()}catch(f){console.error("Error updating lead:",f)}finally{u(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-orange-100 p-2 text-orange-600 hover:bg-orange-200 transition-colors z-10",children:n.jsx(Tt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white sticky top-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ws,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-orange-100/90",children:"Update status and add notes"})]})]})}),n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(Wt,{className:"text-orange-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-orange-900",children:e.owner_name})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Wa,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(sa,{size:16}),n.jsx("span",{children:e.phone})]}),e.location&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Pn,{size:16}),n.jsx("span",{children:e.location})]}),e.scheduled_date&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Ph,{size:16}),n.jsxs("span",{children:["Scheduled: ",new Date(e.scheduled_date).toLocaleDateString(),e.scheduled_time&&` at ${e.scheduled_time}`]})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"rounded-2xl border border-orange-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Lead Status"}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost","Available","Not connected"].map(f=>n.jsxs("button",{onClick:()=>s(f),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${a===f?"border-orange-500 bg-orange-50 text-orange-700 shadow-sm":"border-orange-100 bg-white text-orange-500 hover:border-orange-200"}`,children:[n.jsx("span",{children:f}),f==="Converted"?n.jsx(ss,{size:18}):f==="Lost"?n.jsx(To,{size:18}):n.jsx(WC,{size:18})]},f))})]})})]}),n.jsxs("div",{className:"px-8 pb-8",children:[n.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Notes"}),n.jsx("textarea",{value:i,onChange:f=>o(f.target.value),rows:4,className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-2 text-sm text-orange-900 outline-none focus:border-orange-400",placeholder:"Add notes about this lead..."})]}),n.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:t,disabled:c,className:"rounded-xl border border-orange-200 px-5 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:c,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},sue=({leads:e,onClose:t,onViewLead:r})=>n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-red-100 p-2 text-red-600 hover:bg-red-200 transition-colors",children:n.jsx(Tt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zc,{size:28,className:"animate-pulse"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Alarm: Upcoming Calls"}),n.jsxs("p",{className:"text-sm text-red-100/90",children:["You have ",e.length," lead(s) scheduled within 10 minutes"]})]})]})}),n.jsx("div",{className:"px-8 py-6 max-h-96 overflow-y-auto",children:e.length===0?n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No upcoming calls"}):n.jsx("div",{className:"space-y-3",children:e.map(a=>n.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50/50 p-4 hover:bg-red-50 transition-colors cursor-pointer",onClick:()=>{r(a),t()},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-red-900",children:a.owner_name}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.phone}),a.scheduled_date&&a.scheduled_time&&n.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[n.jsx(Kr,{size:12}),new Date(a.scheduled_date).toLocaleDateString()," at ",a.scheduled_time]})]}),n.jsx(Bi,{className:"text-red-500",size:20})]})},a.id))})})]})}),iue=()=>{const e=Na(),{addToast:t}=Dt(),[r,a]=v.useState([]),[s,i]=v.useState(null),[o,c]=v.useState(""),[u,m]=v.useState("All"),[f,h]=v.useState(!1),[g,p]=v.useState(""),[b,y]=v.useState([]),[j,N]=v.useState(!1);v.useEffect(()=>{if(!localStorage.getItem("lead_admin_token")){e("/lead-admin/login",{replace:!0});return}_(),k();const q=setInterval(k,6e4);return()=>clearInterval(q)},[e]);const _=async()=>{h(!0);try{const F=g?`${we}/lead-admin/leads/by-date?date=${g}`:`${we}/lead-admin/leads${u!=="All"?`?status=${u}`:""}`,U=await(await fetch(F,{headers:bh()})).json();if(U.success&&Array.isArray(U.leads)){const J=U.leads.map(W=>{if(W.cart_items)try{typeof W.cart_items=="string"&&(W.cart_items=JSON.parse(W.cart_items)),Array.isArray(W.cart_items)||(W.cart_items=[])}catch{W.cart_items=[]}else W.cart_items=[];return W});a(J)}else t("Failed to load leads","error")}catch(F){console.error("Error fetching leads:",F),t("Error loading leads","error")}finally{h(!1)}},k=async()=>{try{const q=await(await fetch(`${we}/lead-admin/alarms`,{headers:bh()})).json();q.success&&Array.isArray(q.leads)&&q.leads.length>0&&(y(q.leads),N(!0))}catch(F){console.error("Error checking alarms:",F)}};v.useEffect(()=>{_()},[u,g]);const E=()=>{localStorage.removeItem("lead_admin_token"),localStorage.removeItem("lead_admin_user"),e("/lead-admin/login",{replace:!0})},C=async(F,q)=>{try{const U=await fetch(`${we}/lead-admin/leads/${F}/update-status`,{method:"PUT",headers:bh(!0),body:JSON.stringify(q)}),J=await U.json();if(U.ok&&J.success)await _(),t("Lead updated successfully","success");else throw t(J.error?.message||"Failed to update lead","error"),new Error(J.error?.message||"Failed to update lead")}catch(U){throw console.error("Error updating lead:",U),t("Error updating lead","error"),U}},D=async F=>{try{const q=await fetch(`${we}/lead-admin/leads/${F}/set-available`,{method:"PUT",headers:bh()}),U=await q.json();q.ok&&U.success?(await _(),t("Lead marked as available","success")):t(U.error?.message||"Failed to update lead","error")}catch(q){console.error("Error updating lead:",q),t("Error updating lead","error")}},O=v.useMemo(()=>{r.length;const F=r.filter(W=>W.status==="New").length,q=r.filter(W=>W.status==="Contacted").length,U=r.filter(W=>W.status==="Converted").length,J=r.filter(W=>W.status==="Available").length;return[{label:"New Leads",value:F,icon:n.jsx(hb,{className:"text-white",size:22}),gradient:"from-orange-500 to-amber-400"},{label:"Contacted",value:q,icon:n.jsx(HC,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Converted",value:U,icon:n.jsx(ss,{className:"text-emerald-600",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Available",value:J,icon:n.jsx(db,{className:"text-primary",size:22}),gradient:"bg-secondary"}]},[r]),I=r.filter(F=>{const q=(F.owner_name||"").toLowerCase().includes(o.toLowerCase())||(F.email||"").toLowerCase().includes(o.toLowerCase())||(F.phone||"").toLowerCase().includes(o.toLowerCase())||(F.user_full_name||"").toLowerCase().includes(o.toLowerCase())||(F.user_email||"").toLowerCase().includes(o.toLowerCase())||(F.user_phone||"").toLowerCase().includes(o.toLowerCase()),U=u==="All"||F.status===u;return q&&U}),T=JSON.parse(localStorage.getItem("lead_admin_user")||"{}");return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100",children:[n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"My Leads Dashboard"}),n.jsxs("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:["Welcome, ",T.full_name||T.username]})]}),n.jsxs("button",{onClick:E,className:"flex items-center gap-2 rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm hover:bg-orange-50 transition-colors",children:[n.jsx(fb,{size:16}),"Logout"]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:O.map(F=>n.jsx("div",{className:"overflow-hidden rounded-3xl border border-orange-100/60 bg-white/95 shadow-md",children:n.jsxs("div",{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${F.gradient} shadow-sm`,children:F.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-orange-500",children:F.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:F.value})]})]})},F.label))}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-orange-100 bg-orange-50/60 px-4 py-2",children:[n.jsx(Dn,{size:18,className:"text-orange-400"}),n.jsx("input",{value:o,onChange:F=>c(F.target.value),placeholder:"Search leads...",className:"flex-1 border-none bg-transparent text-sm text-orange-900 placeholder-orange-300 outline-none"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-orange-100 bg-white px-4 py-2",children:[n.jsx(Cr,{size:16,className:"text-orange-500"}),n.jsx("input",{type:"date",value:g,onChange:F=>p(F.target.value),className:"text-sm text-orange-900 outline-none"}),g&&n.jsx("button",{onClick:()=>p(""),className:"text-orange-400 hover:text-orange-600",children:n.jsx(Tt,{size:14})})]}),["All","New","Contacted","Converted","Lost","Available","Not connected"].map(F=>n.jsxs("button",{onClick:()=>m(F),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${u===F?"border-orange-500 bg-orange-50 text-orange-600 shadow-sm":"border-orange-100 bg-white text-orange-400 hover:border-orange-200"}`,children:[n.jsx(nf,{size:14}),F]},F))]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg",children:n.jsx("div",{className:"overflow-hidden rounded-2xl border border-orange-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-orange-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-orange-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:f?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(Ci,{className:"w-8 h-8 animate-spin text-orange-400"})})})}):I.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-orange-400",children:"No leads found for the current filters."})}):I.map(F=>{const q=Array.isArray(F.cart_items)?F.cart_items:[];return n.jsxs("tr",{className:"transition-colors hover:bg-orange-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(Ws,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-orange-900",children:F.owner_name||F.user_full_name||"N/A"}),n.jsx("p",{className:"text-xs text-orange-400",children:F.email||F.user_email||""}),n.jsx("p",{className:"text-xs text-orange-400",children:F.phone||F.user_phone||""})]})]})}),n.jsx("td",{className:"px-6 py-4",children:q.length>0?n.jsxs("div",{className:"space-y-1",children:[q.slice(0,3).map((U,J)=>n.jsxs("div",{className:"text-xs text-orange-700",children:[U.medicine_name||U.medicineName||"Item",U.quantity&&` x${U.quantity}`]},J)),q.length>3&&n.jsxs("div",{className:"text-xs text-orange-400",children:["+",q.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-orange-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:F.cart_total!==null&&F.cart_total!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-orange-900",children:["",F.cart_total.toFixed(2)]}),F.cart_discount&&F.cart_discount>0&&n.jsxs("p",{className:"text-xs text-orange-400",children:["Discount: ",F.cart_discount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-orange-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-orange-600",children:F.cart_created_at?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cr,{size:14}),n.jsx("span",{children:new Date(F.cart_created_at).toLocaleDateString()})]}),F.cart_updated_at&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-400",children:[n.jsx(Kr,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(F.cart_updated_at).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-orange-300",children:new Date(F.created_at).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${yh[F.status]?.badge||yh.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${yh[F.status]?.dot||yh.New.dot}`}),F.status]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[F.scheduled_date&&n.jsx("button",{onClick:()=>D(F.id),className:"inline-flex items-center gap-2 rounded-full bg-primary px-3 py-1 text-xs font-semibold text-white shadow-sm hover:bg-primary-dark transition-colors",children:"Mark Available"}),n.jsxs("button",{onClick:()=>i(F),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(Bi,{size:14})]})]})})]},F.id)})})]})})})]}),n.jsx(aue,{lead:s,onClose:()=>i(null),onUpdate:C}),j&&n.jsx(sue,{leads:b,onClose:()=>N(!1),onViewLead:F=>i(F)})]})},oue=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=Na(),{addToast:c}=Dt(),{isAuthenticated:u,user:m}=vn();v.useEffect(()=>{console.log("HelpingStaffLogin component mounted"),console.log("Current path:",window.location.pathname),console.log("isAuthenticated:",u),console.log("user:",m)},[u,m]),v.useEffect(()=>{u&&(m?.role==="helping_staff"||m?.role==="helping_staff_admin")&&o("/admin/helping-staff-panel",{replace:!0})},[u,m,o]);const f=async h=>{h.preventDefault(),i(!0);try{const g=await fetch(`${we}/helping-staff/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),p=await g.json();if(g.ok&&p.success){const b=p.staff||p.admin;if(b)b.role="helping_staff";else{const y=p.admin||{};y.role="helping_staff",localStorage.setItem("Apricott Care_user",JSON.stringify(y))}localStorage.setItem("Apricott Care_token",p.token),b&&localStorage.setItem("Apricott Care_user",JSON.stringify(b)),localStorage.setItem("Apricott Care_role","helping_staff"),c("Login successful!","success"),setTimeout(()=>{window.location.href="/admin/helping-staff-panel"},500)}else{const b=p.error?.message||"Login failed. Please check your credentials.";c(b,"error")}}catch(g){console.error("Helping staff login error:",g),c("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(cb,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(Wt,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Helping Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the prescription processing panel"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email or Phone"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email or Phone Number",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:h=>a(h.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},lue=()=>{const[e,t]=v.useState(""),[r,a]=v.useState(""),[s,i]=v.useState(!1),o=Na(),{addToast:c}=Dt(),{isAuthenticated:u,user:m}=vn();v.useEffect(()=>{u&&(m?.role==="finance_admin"||m?.role==="admin")&&o("/admin/finance-panel",{replace:!0})},[u,m,o]);const f=async h=>{h.preventDefault(),i(!0);try{const g=await fetch(`${we}/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),p=await g.json();if(g.ok&&p.token){const b=p.admin?.role||"";if(b!=="finance_admin"&&b!=="super_admin"){c("Access denied. This login is for financial staff only.","error"),i(!1);return}const y=p.admin;y&&(y.role=b==="super_admin"?"admin":b),localStorage.setItem("Apricott Care_token",p.token),localStorage.setItem("Apricott Care_user",JSON.stringify(y)),localStorage.setItem("Apricott Care_role",y.role),c("Login successful!","success"),window.location.href="/admin/finance-panel"}else{const b=p.error?.message||"Login failed. Please check your credentials.";c(b,"error")}}catch(g){console.error("Financial staff login error:",g),c("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(cb,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(rd,{className:"h-8 w-8 text-green-600"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Financial Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the finance panel and payment management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username or Email"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Username or Email",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:h=>a(h.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},yC=()=>{Na();const e=[{id:"super_admin",title:"Super Admin",description:"Full system access and management",icon:ja,route:"/admin/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"}];return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl w-full",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Apricott Care Admin Portal"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Select your role to continue"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(t=>{const r=t.icon;return n.jsxs(ib,{to:t.route,onClick:()=>{console.log("Navigating to:",t.route,"from LoginSelection")},className:`${t.color} text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 p-8 flex flex-col items-center space-y-4 no-underline`,children:[n.jsx("div",{className:"bg-white/20 rounded-full p-4",children:n.jsx(r,{className:"h-10 w-10"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),n.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]},t.id)})}),n.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:n.jsx("p",{children:"Choose the appropriate login option based on your role"})})]})})},cue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState(""),[a,s]=v.useState(""),[i,o]=v.useState("all"),[c,u]=v.useState([]),[m,f]=v.useState([]),[h,g]=v.useState([]),[p,b]=v.useState([]),[y,j]=v.useState(!1),[N,_]=v.useState(!1),[k,E]=v.useState(null);v.useEffect(()=>{D(),O()},[]);const C=()=>({Authorization:`Bearer ${localStorage.getItem("Apricott Care_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"}),D=async()=>{try{j(!0);const J=await fetch(`${we}/admin/push-notifications/users`,{headers:C()});if(!J.ok)throw new Error("Failed to load users");const W=await J.json();g(W.users||[])}catch(J){console.error("Error loading users:",J),e("Failed to load users","error")}finally{j(!1)}},O=async()=>{try{j(!0);const J=await fetch(`${we}/admin/push-notifications/providers`,{headers:C()});if(!J.ok)throw new Error("Failed to load providers");const W=await J.json();b(W.providers||[])}catch(J){console.error("Error loading providers:",J),e("Failed to load providers","error")}finally{j(!1)}},I=async()=>{if(!t.trim()||!a.trim()){e("Please enter both title and message","error");return}if(i==="selected"&&c.length===0&&m.length===0){e("Please select at least one user or provider","error");return}try{_(!0);const J={title:t.trim(),body:a.trim(),target_type:i};i==="selected"&&(c.length>0&&(J.user_ids=c),m.length>0&&(J.provider_ids=m));const W=await fetch(`${we}/admin/push-notifications/send`,{method:"POST",headers:C(),body:JSON.stringify(J)});if(!W.ok){const X=await W.json();throw new Error(X.error?.message||"Failed to send notification")}const he=await W.json();E({sent:he.sent||0,failed:he.failed||0,total:he.total_tokens||0}),he.sent===0&&he.total_tokens===0?e(he.message||"No FCM tokens found. Users/providers need to register tokens first by logging into the app.","warning"):e(`Notification sent to ${he.sent} device(s)`,"success"),r(""),s(""),u([]),f([]),o("all")}catch(J){console.error("Error sending notification:",J),e(J.message||"Failed to send notification","error")}finally{_(!1)}},T=J=>{u(W=>W.includes(J)?W.filter(he=>he!==J):[...W,J])},F=J=>{f(W=>W.includes(J)?W.filter(he=>he!==J):[...W,J])},q=()=>{c.length===h.length?u([]):u(h.map(J=>J.id))},U=()=>{m.length===p.length?f([]):f(p.map(J=>J.id))};return n.jsx(It,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zc,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send push notifications to users and providers"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compose Notification"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",value:t,onChange:J=>r(J.target.value),placeholder:"Enter notification title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:100}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.length,"/100"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),n.jsx("textarea",{value:a,onChange:J=>s(J.target.value),placeholder:"Enter notification message",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:500}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.length,"/500"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience *"}),n.jsxs("select",{value:i,onChange:J=>o(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Users & Providers"}),n.jsx("option",{value:"users",children:"All Users Only"}),n.jsx("option",{value:"providers",children:"All Providers Only"}),n.jsx("option",{value:"selected",children:"Selected Users/Providers"})]})]}),i==="selected"&&n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Users"}),n.jsx("button",{onClick:q,className:"text-sm text-blue-600 hover:text-blue-700",children:c.length===h.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:h.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No users available"}):h.map(J=>n.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.includes(J.id),onChange:()=>T(J.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 flex-1",children:J.full_name}),J.has_fcm_token&&n.jsx(ss,{className:"w-4 h-4 text-green-500"})]},J.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Providers"}),n.jsx("button",{onClick:U,className:"text-sm text-blue-600 hover:text-blue-700",children:m.length===p.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:p.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No providers available"}):p.map(J=>n.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.includes(J.id),onChange:()=>F(J.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 flex-1",children:J.full_name}),J.has_fcm_token&&n.jsx(ss,{className:"w-4 h-4 text-green-500"})]},J.id))})]})]}),n.jsx("button",{onClick:I,disabled:N||!t.trim()||!a.trim(),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Ci,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(XL,{className:"w-5 h-5"}),"Send Notification"]})})]})]}),k&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Last Notification Result"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.sent}),n.jsx("div",{className:"text-sm text-gray-600",children:"Sent"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:k.failed}),n.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:k.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Tokens"})]})]}),k.total===0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:" No FCM tokens registered:"})," Users and providers need to log into the mobile/web app first to register their FCM tokens. Once they log in, their tokens will be automatically registered and they will appear in the statistics above."]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vs,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Users"})]}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:h.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Users with FCM"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:h.filter(J=>J.has_fcm_token).length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ws,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Providers"})]}),n.jsx("span",{className:"text-lg font-bold text-purple-600",children:p.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Providers with FCM"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:p.filter(J=>J.has_fcm_token).length})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:" Tips"}),n.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Keep titles under 50 characters"}),n.jsx("li",{children:" Keep messages concise and clear"}),n.jsx("li",{children:" Only users/providers with FCM tokens will receive notifications"}),n.jsx("li",{children:" Green checkmarks indicate active FCM tokens"})]})]})]})]})})]})})},due=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(null),[f,h]=v.useState(""),[g,p]=v.useState(!1),b=v.useCallback(async()=>{a(!0);try{const _=localStorage.getItem("Apricott Care_token"),k=await fetch(`${we}/admin/lab-service-providers?status=${s}`,{headers:{Authorization:`Bearer ${_}`}});if(k.ok){const E=await k.json();t(E.providers||[])}}catch(_){console.error("Error fetching providers:",_)}finally{a(!1)}},[s]);v.useEffect(()=>{b()},[b]);const y=async _=>{if(window.confirm("Are you sure you want to approve this provider?"))try{const k=localStorage.getItem("Apricott Care_token");(await fetch(`${we}/admin/lab-service-providers/${_}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${k}`}})).ok&&(alert("Provider approved successfully"),b())}catch{alert("Failed to approve provider")}},j=async()=>{if(!(!u||!f))try{const _=localStorage.getItem("Apricott Care_token");(await fetch(`${we}/admin/lab-service-providers/${u.id}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({reason:f})})).ok&&(alert("Provider rejected"),p(!1),h(""),m(null),b())}catch{alert("Failed to reject provider")}},N=e.filter(_=>_.full_name.toLowerCase().includes(o.toLowerCase())||_.email.toLowerCase().includes(o.toLowerCase())||_.phone_number.includes(o));return n.jsx(It,{children:n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Service Providers"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and verify field collection agents"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name, email...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 w-full sm:w-64 text-sm",value:o,onChange:_=>c(_.target.value)})]})})]}),n.jsx("div",{className:"mb-6",children:n.jsx(Xi,{value:s,onValueChange:i,children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"pending_approval",children:"Pending Approval"}),n.jsx(hr,{value:"approved",children:"Approved"})]})})}),r?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 italic",children:[n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Provider"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Registered On"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50",children:N.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-400 italic",children:"No providers found matching your criteria"})}):N.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:_.profile_photo_url||"https://via.placeholder.com/40",className:"w-10 h-10 rounded-lg object-cover border border-gray-100",alt:""}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900",children:_.full_name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx(Wa,{size:12})," ",_.email]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx(sa,{size:12})," ",_.phone_number]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-800 font-medium",children:_.city}),n.jsx("div",{className:"text-xs text-gray-500",children:_.state})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${_.status==="approved"?"bg-green-100 text-green-700":_.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:_.status.replace("_"," ")})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(_.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[_.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>y(_.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:n.jsx(Wr,{size:20})}),n.jsx("button",{onClick:()=>{m(_),p(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:n.jsx(Hn,{size:20})})]}),n.jsx("button",{onClick:()=>m(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:n.jsx(yn,{size:20})})]})})]},_.id))})]})})}),u&&!g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Provider Details"}),n.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Hn,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 mb-8",children:[n.jsx("img",{src:u.profile_photo_url||"https://via.placeholder.com/150",className:"w-32 h-32 rounded-3xl object-cover shadow-lg border-4 border-white",alt:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.full_name}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-bold mb-4",children:[n.jsx(ja,{size:14})," Identity Verified"]}),n.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed italic border-l-4 border-gray-100 pl-4",children:['"',u.about_me||"No bio provided",'"']})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Contact Info"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Wa,{size:16,className:"text-gray-400"})," ",u.email]}),n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(sa,{size:16,className:"text-gray-400"})," ",u.phone_number]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Location Details"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Pn,{size:16,className:"text-gray-400"})," ",u.address,", ",u.city,", ",u.state," - ",u.pincode]})})]})]}),u.experience_proof_url&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Verification Documents"}),n.jsx("a",{href:u.experience_proof_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl text-sm font-bold transition-colors",children:"View Experience Proof Document"})]}),u.status==="rejected"&&u.rejection_reason&&n.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-100 rounded-2xl",children:[n.jsxs("h4",{className:"text-xs font-bold text-red-700 uppercase tracking-widest mb-2 flex items-center gap-2",children:[n.jsx($o,{size:14})," Rejection Reason"]}),n.jsxs("p",{className:"text-sm text-red-600 italic",children:['"',u.rejection_reason,'"']})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3 bg-gray-50/30",children:[u.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{p(!0)},className:"px-6 py-2.5 bg-red-50 text-red-600 rounded-xl text-sm font-bold hover:bg-red-100 transition-colors",children:"Reject Application"}),n.jsx("button",{onClick:()=>y(u.id),className:"px-6 py-2.5 bg-primary text-white rounded-xl text-sm font-bold shadow-md shadow-primary/20 hover:bg-primary-dark transition-colors",children:"Approve Provider"})]}),n.jsx("button",{onClick:()=>m(null),className:"px-6 py-2.5 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200",children:"Close"})]})]})}),g&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Reject Application"}),n.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Hn,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Reason for Rejection"}),n.jsx("textarea",{className:"w-full h-32 p-4 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 text-sm",placeholder:"Please explain why the application is being rejected...",value:f,onChange:_=>h(_.target.value)})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 text-sm font-bold text-gray-500 hover:text-gray-700",children:"Cancel"}),n.jsx("button",{onClick:j,disabled:!f,className:"px-6 py-2 bg-red-600 text-white rounded-xl text-sm font-bold disabled:opacity-50 shadow-md shadow-red-600/20",children:"Confirm Rejection"})]})]})})]})})},uue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending"),[c,u]=v.useState(new Set),m=v.useCallback(async p=>{s(!0);const b=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const y=await fetch(`${we}/admin/pharmacy-providers?list=${p}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch providers");const j=await y.json();r(j.data||[])}catch(y){console.error("Error fetching providers:",y),e("Failed to fetch pharmacy providers","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(p,b,y)=>{const j=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{if(!(await fetch(`${we}/admin/pharmacy-providers/status`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:p,status:b,rejection_reason:y})})).ok)throw new Error("Failed to update status");e(`Provider ${b==="approved"?"approved":"rejected"} successfully`,"success"),m(i)}catch(N){console.error("Error updating status:",N),e("Failed to update status","error")}},h=p=>{const b=new Set(c);b.has(p)?b.delete(p):b.add(p),u(b)},g=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ws,{className:"text-primary",size:24})," Pharmacy Provider Management"]})}),n.jsx(Xi,{value:i,onValueChange:p=>o(p),children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"approved",children:"Approved Providers"}),n.jsx(hr,{value:"pending",children:"Pending Approval"})]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:i==="pending"?"Pending Requests":i==="approved"?"Approved Providers":"Rejected Providers"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," pharmacy providers found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Pharmacy Info"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Contact"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Registered On"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>h(p.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),c.has(p.id)?"Hide":"Details",c.has(p.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.pharmacy_name||p.full_name}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(Pn,{size:12})," ",p.address||"Address not provided"]})]}),n.jsxs("td",{className:"py-4 px-4 text-sm",children:[n.jsx("div",{className:"font-medium",children:p.full_name}),n.jsx("div",{className:"text-gray-500 text-xs",children:p.phone_number}),n.jsx("div",{className:"text-gray-500 text-xs",children:p.email})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="approved"?"bg-green-100 text-green-700":p.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:p.status?p.status.replace("_"," "):"Pending"})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:g(p.created_at)})]}),c.has(p.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Business Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ja,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"License Number"}),n.jsx("p",{className:"font-medium",children:p.license_number||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pu,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Pharmacy Name"}),n.jsx("p",{className:"text-sm",children:p.pharmacy_name||"N/A"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Actions"}),p.status==="pending_approval"||p.status==="pending"?n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(De,{className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",onClick:()=>f(p.id,"approved"),children:[n.jsx(Oo,{size:18})," Approve Registration"]}),n.jsxs(De,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{const b=prompt("Reason for rejection:");b&&f(p.id,"rejected",b)},children:[n.jsx(Tt,{size:18})," Reject"]})]}):p.status==="approved"?n.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-2",children:[n.jsx(Oo,{size:16})," Approved on ",g(p.approved_at||"")]}):n.jsxs("div",{className:"text-sm text-red-600",children:[n.jsx("p",{className:"font-medium",children:"Rejected"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Reason: ",p.rejection_reason||"N/A"]})]})]})]})})})]},p.id))})]})})})]})]})})},fue=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,m]=v.useState(null),[f,h]=v.useState(""),[g,p]=v.useState(!1),b=v.useCallback(async()=>{a(!0);try{const _=localStorage.getItem("Apricott Care_token"),k=await fetch(`${we}/admin/labs?status=${s}`,{headers:{Authorization:`Bearer ${_}`}});if(k.ok){const E=await k.json();t(E.labs||[])}}catch(_){console.error("Error fetching labs:",_)}finally{a(!1)}},[s]);v.useEffect(()=>{b()},[b]);const y=async _=>{if(window.confirm("Are you sure you want to approve this lab?"))try{const k=localStorage.getItem("Apricott Care_token");(await fetch(`${we}/admin/labs/${_}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${k}`}})).ok&&(alert("Lab approved successfully"),b())}catch{alert("Failed to approve lab")}},j=async()=>{if(!(!u||!f))try{const _=localStorage.getItem("Apricott Care_token");(await fetch(`${we}/admin/labs/${u.id}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({reason:f})})).ok&&(alert("Lab rejected"),p(!1),h(""),m(null),b())}catch{alert("Failed to reject lab")}},N=e.filter(_=>_.lab_name.toLowerCase().includes(o.toLowerCase())||_.email.toLowerCase().includes(o.toLowerCase())||_.phone_number.includes(o));return n.jsx(It,{children:n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Labs"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage partner laboratories"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:n.jsxs("div",{className:"relative",children:[n.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name, email...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 w-full sm:w-64 text-sm",value:o,onChange:_=>c(_.target.value)})]})})]}),n.jsx("div",{className:"mb-6",children:n.jsx(Xi,{value:s,onValueChange:i,children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"pending_approval",children:"Pending Approval"}),n.jsx(hr,{value:"approved",children:"Approved"})]})})}),r?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 italic",children:[n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Lab Name"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50",children:N.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-400 italic",children:"No labs found matching your criteria"})}):N.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:_.lab_name.charAt(0)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900",children:_.lab_name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["License: ",_.license_number]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-800 font-medium",children:_.contact_person}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx(sa,{size:12})," ",_.phone_number]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[n.jsx(Wa,{size:12})," ",_.email]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-800",children:_.city}),n.jsx("div",{className:"text-xs text-gray-500",children:_.state})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${_.status==="approved"?"bg-green-100 text-green-700":_.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:_.status.replace("_"," ")})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[_.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>y(_.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:n.jsx(Wr,{size:20})}),n.jsx("button",{onClick:()=>{m(_),p(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:n.jsx(Hn,{size:20})})]}),n.jsx("button",{onClick:()=>m(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:n.jsx(yn,{size:20})})]})})]},_.id))})]})})}),u&&!g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Lab Details"}),n.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Hn,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 mb-8",children:[n.jsx("div",{className:"w-32 h-32 rounded-3xl bg-blue-50 flex items-center justify-center text-blue-500 shadow-lg border-4 border-white",children:n.jsx(ub,{size:48})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.lab_name}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-bold mb-4",children:[n.jsx(ja,{size:14})," License: ",u.license_number]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Contact Info"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Wt,{size:16,className:"text-gray-400"})," ",u.contact_person]}),n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Wa,{size:16,className:"text-gray-400"})," ",u.email]}),n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(sa,{size:16,className:"text-gray-400"})," ",u.phone_number]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Location Details"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("p",{className:"text-sm flex items-center gap-3 text-gray-700",children:[n.jsx(Pn,{size:16,className:"text-gray-400"})," ",u.address,", ",u.city,", ",u.state," - ",u.pincode]})})]})]}),u.status==="rejected"&&u.rejection_reason&&n.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-100 rounded-2xl",children:[n.jsxs("h4",{className:"text-xs font-bold text-red-700 uppercase tracking-widest mb-2 flex items-center gap-2",children:[n.jsx($o,{size:14})," Rejection Reason"]}),n.jsxs("p",{className:"text-sm text-red-600 italic",children:['"',u.rejection_reason,'"']})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3 bg-gray-50/30",children:[u.status==="pending_approval"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{p(!0)},className:"px-6 py-2.5 bg-red-50 text-red-600 rounded-xl text-sm font-bold hover:bg-red-100 transition-colors",children:"Reject Application"}),n.jsx("button",{onClick:()=>y(u.id),className:"px-6 py-2.5 bg-primary text-white rounded-xl text-sm font-bold shadow-md shadow-primary/20 hover:bg-primary-dark transition-colors",children:"Approve Lab"})]}),n.jsx("button",{onClick:()=>m(null),className:"px-6 py-2.5 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold hover:bg-gray-200",children:"Close"})]})]})}),g&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Reject Application"}),n.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Hn,{size:24,className:"text-gray-400"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Reason for Rejection"}),n.jsx("textarea",{className:"w-full h-32 p-4 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 text-sm",placeholder:"Please explain why the application is being rejected...",value:f,onChange:_=>h(_.target.value)})]}),n.jsxs("div",{className:"p-6 border-t border-gray-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 text-sm font-bold text-gray-500 hover:text-gray-700",children:"Cancel"}),n.jsx("button",{onClick:j,disabled:!f,className:"px-6 py-2 bg-red-600 text-white rounded-xl text-sm font-bold disabled:opacity-50 shadow-md shadow-red-600/20",children:"Confirm Rejection"})]})]})})]})})},mue={getDoctorAppointments:async e=>{const t=await fetch(`${we}/admin/doctor/appointments`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch doctor appointments");return(await t.json()).appointments}},hue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(new Set),c=v.useCallback(async()=>{s(!0);const f=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token")||"";try{const h=await mue.getDoctorAppointments(f);r(h||[])}catch(h){console.error("Error fetching appointments:",h),e("Failed to fetch doctor appointments","error")}finally{s(!1)}},[e]);v.useEffect(()=>{c()},[c]);const u=f=>{const h=new Set(i);h.has(f)?h.delete(f):h.add(f),o(h)},m=f=>f?new Date(f).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Cr,{className:"text-primary",size:24})," Doctor Appointments"]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"All Appointments"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No doctor appointments found."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"User"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Date"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(f=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>u(f.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),i.has(f.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:f.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:f.user_phone})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["Dr. ",f.doctor_name]})}),n.jsxs("td",{className:"py-4 px-4 text-sm text-gray-500",children:[m(f.appointment_date),n.jsx("div",{className:"text-xs text-primary",children:f.slot_id})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="completed"?"bg-green-100 text-green-700":f.status==="pending"?"bg-yellow-100 text-yellow-700":f.status==="cancelled"?"bg-red-100 text-red-700":f.status==="accepted"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:f.status})})]}),i.has(f.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Patient Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wt,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Patient Name"}),n.jsx("p",{className:"font-medium",children:f.patient_name||f.user_name})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(sa,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("p",{className:"font-medium",children:f.patient_phone||f.user_phone})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Appointment Info"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Doctor:"})," Dr. ",f.doctor_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Notes:"})," ",f.notes||"No notes"]}),f.report_url&&n.jsxs("a",{href:f.report_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary hover:underline",children:[n.jsx(Ar,{size:16})," View Report"]})]})]})]})})})]},f.id))})]})})})]})]})})},Mw={getLabReferrals:async e=>{const t=await fetch(`${we}/admin/doctor/lab-referrals`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch lab referrals");return(await t.json()).referrals},getPharmacyReferrals:async e=>{const t=await fetch(`${we}/admin/doctor/pharmacy-referrals`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch pharmacy referrals");return(await t.json()).referrals},getAllReports:async e=>{const t=await fetch(`${we}/admin/all-reports`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch admin reports");return(await t.json()).reports}},pue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(new Set),c=v.useCallback(async()=>{s(!0);const h=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token")||"";try{const g=await Mw.getLabReferrals(h);r(g||[])}catch(g){console.error("Error fetching lab referrals:",g),e("Failed to fetch lab referrals","error")}finally{s(!1)}},[e]);v.useEffect(()=>{c()},[c]);const u=h=>{const g=new Set(i);g.has(h)?g.delete(h):g.add(h),o(g)},m=h=>h?new Date(h).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=h=>{const g=["pending_lab_confirm","lab_confirmed","confirmed","accepted","collected","delivered_to_lab","report_ready"],p=g.indexOf(h);return n.jsx("div",{className:"flex items-center w-full overflow-x-auto py-4",children:g.map((b,y)=>n.jsxs(jr.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center min-w-[100px]",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y<=p?"bg-primary text-black":"bg-gray-200 text-gray-400"}`,children:y<p?n.jsx(ss,{size:16}):y===p?n.jsx(Kr,{size:16}):n.jsx("span",{children:y+1})}),n.jsx("p",{className:`text-[10px] mt-1 text-center font-medium ${y<=p?"text-primary":"text-gray-400"}`,children:b.replace(/_/g," ")})]}),y<g.length-1&&n.jsx("div",{className:`h-[2px] w-full min-w-[20px] mx-1 ${y<p?"bg-primary":"bg-gray-200"}`})]},b))})};return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Pc,{className:"text-primary",size:24})," Lab Referrals"]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"Referral History"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No lab referrals found."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Patient"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Tests"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(h=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>u(h.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),i.has(h.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:h.patient_name||h.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:h.patient_contact_number||h.user_phone})]}),n.jsx("td",{className:"py-4 px-4 text-sm max-w-[200px] truncate",children:h.lab_tests_json?JSON.parse(h.lab_tests_json).join(", "):"N/A"}),n.jsx("td",{className:"py-4 px-4 text-sm",children:h.doctor_name?`Dr. ${h.doctor_name}`:"Self"}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.status==="report_ready"?"bg-green-100 text-green-700":h.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:h.status.replace(/_/g," ")})})]}),i.has(h.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Referral Status Flow"}),f(h.status),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Referral Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Address:"})," ",h.patient_address||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Doctor Notes:"})," ",h.doctor_notes||"No notes"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Created At:"})," ",m(h.created_at)]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Tests & Reports"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Scheduled Tests:"}),n.jsx("ul",{className:"list-disc list-inside mt-1",children:h.lab_tests_json?JSON.parse(h.lab_tests_json).map((g,p)=>n.jsx("li",{children:g},p)):n.jsx("li",{children:"N/A"})})]}),h.report_url&&n.jsxs("a",{href:h.report_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary hover:underline mt-4",children:[n.jsx(Ar,{size:16})," Download Lab Report"]})]})]})]})]})})})]},h.id))})]})})})]})]})})},xue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState(new Set),c=v.useCallback(async()=>{s(!0);const f=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token")||"";try{const h=await Mw.getPharmacyReferrals(f);r(h||[])}catch(h){console.error("Error fetching pharmacy referrals:",h),e("Failed to fetch pharmacy referrals","error")}finally{s(!1)}},[e]);v.useEffect(()=>{c()},[c]);const u=f=>{const h=new Set(i);h.has(f)?h.delete(f):h.add(f),o(h)},m=f=>f?new Date(f).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ws,{className:"text-primary",size:24})," Pharmacy Referrals"]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"Referral History"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No pharmacy referrals found."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Patient"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Doctor"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Created At"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"})]})}),n.jsx("tbody",{children:t.map(f=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>u(f.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),i.has(f.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:f.patient_name||f.user_name}),n.jsx("div",{className:"text-sm text-gray-500",children:f.patient_contact_number||f.user_phone})]}),n.jsx("td",{className:"py-4 px-4 text-sm",children:f.doctor_name?`Dr. ${f.doctor_name}`:"Self"}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:m(f.created_at)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="delivered"?"bg-green-100 text-green-700":f.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:f.status})})]}),i.has(f.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Referral Info"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Address:"})," ",f.patient_address||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Doctor Notes:"})," ",f.doctor_notes||"No notes"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Prescribed Medicines"}),n.jsx("div",{className:"space-y-2 text-sm",children:n.jsx("ul",{className:"list-disc list-inside mt-1",children:f.medicines_json?JSON.parse(f.medicines_json).map((h,g)=>n.jsx("li",{children:h},g)):n.jsx("li",{children:"N/A"})})})]})]})})})]},f.id))})]})})})]})]})})},gue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),i=v.useCallback(async()=>{s(!0);const c=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token")||"";try{const u=await Mw.getAllReports(c);r(u||[])}catch(u){console.error("Error fetching reports:",u),e("Failed to fetch admin reports","error")}finally{s(!1)}},[e]);v.useEffect(()=>{i()},[i]);const o=c=>c?new Date(c).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ar,{className:"text-primary",size:24})," Clinical Reports"]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:"All Uploaded Reports"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No clinical reports found."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((c,u)=>n.jsx(Je,{className:"border-2 border-primary/10 hover:border-primary/30 transition-all",children:n.jsxs(Ze,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:n.jsx(Ar,{size:24})}),n.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-bold uppercase ${c.source==="doctor_appointment"?"bg-blue-100 text-blue-700":c.source==="doctor_lab_order"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:c.source.replace(/_/g," ")})]}),n.jsxs("div",{className:"space-y-2 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Wt,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"font-semibold",children:c.patient_name||"Anonymous"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Cr,{size:14}),n.jsx("span",{children:o(c.created_at)})]})]}),n.jsxs("a",{href:c.report_url,target:"_blank",rel:"noreferrer",className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary text-black rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:[n.jsx(LL,{size:16})," View Report"]})]})},`${c.source}-${c.id}-${u}`))})})]})]})})},vue=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(1),u=10,{addToast:m}=Dt(),f=v.useCallback(async()=>{const N=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");if(!N){m("Please login to view leads","error"),a(!1);return}try{a(!0);const _=await fetch(`${we}/admin/lead-management`,{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}});if(!_.ok){if(_.status===401){m("Authentication failed. Please log in again.","error"),a(!1);return}throw new Error(`HTTP error! status: ${_.status}`)}const k=_.headers.get("content-type");if(!k||!k.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),t([]),a(!1);return}const E=await _.text();if(!E||E.trim()===""){console.warn("Empty response body, treating as empty list"),t([]),a(!1);return}let C;try{C=JSON.parse(E)}catch(I){throw console.error("JSON parse error:",I,"Response text:",E),new Error("Invalid JSON response from server")}let D=[];if(Array.isArray(C.data))D=C.data;else if(Array.isArray(C.leads))D=C.leads;else if(Array.isArray(C))D=C;else if(C.success===!1){console.warn("API returned error:",C.message),t([]),a(!1);return}else throw new Error(C.message||"Invalid response format from server");const O=D.map(I=>({id:I.id||0,name:I.full_name||I.name||"Unknown",email:I.email||"",phone:I.phone_number||I.phone||"",address:I.address||"",city:I.city||"",state:I.state||"",pincode:I.pincode||"",created_at:I.created_at||new Date().toISOString(),last_login:I.last_login||I.updated_at||I.created_at||new Date().toISOString()}));t(O)}catch(_){console.error("Error fetching leads:",_);const k=_ instanceof Error?_.message:"Failed to fetch leads";m(k,"error"),t([])}finally{a(!1)}},[m]);v.useEffect(()=>{f()},[f]);const h=e.filter(N=>N.name.toLowerCase().includes(s.toLowerCase())||N.email.toLowerCase().includes(s.toLowerCase())||N.phone.includes(s)||N.city.toLowerCase().includes(s.toLowerCase())),g=Math.ceil(h.length/u),p=(o-1)*u,b=h.slice(p,p+u),y=N=>new Date(N).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Kolkata"}),j=()=>{try{const N=h.map(I=>({"Lead ID":I.id,Name:I.name,Email:I.email,Phone:I.phone,Address:I.address,City:I.city,State:I.state,Pincode:I.pincode,"Registered At":y(I.created_at),"Last Login":y(I.last_login)})),_=Mc.book_new(),k=Mc.json_to_sheet(N),E=[{wch:10},{wch:25},{wch:30},{wch:15},{wch:40},{wch:20},{wch:20},{wch:10},{wch:20},{wch:20}];k["!cols"]=E,Mc.book_append_sheet(_,k,"Leads");const O=`Lead_Management_${new Date().toISOString().split("T")[0]}.xlsx`;KI(_,O),m(`Excel file exported successfully: ${O}`,"success")}catch(N){console.error("Error exporting to Excel:",N),m("Failed to export Excel file","error")}};return n.jsxs(It,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Lead Management"}),n.jsx("p",{className:"text-gray-600",children:"Users who registered but haven't booked any appointments yet."})]}),r?n.jsx(Xc,{}):n.jsxs(Je,{children:[n.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs(wt,{children:["All Leads (",h.length,")"]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(De,{variant:"outline",size:"sm",onClick:f,className:"flex items-center space-x-2 border-2 border-primary text-black font-semibold hover:bg-primary hover:text-white hover:border-primary",children:[n.jsx(Un,{size:16}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(De,{variant:"outline",size:"sm",onClick:j,className:"flex items-center space-x-2 border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary",disabled:h.length===0,children:[n.jsx(G0,{size:16}),n.jsx("span",{children:"Export to Excel"})]}),n.jsx(p6,{searchTerm:s,onSearchChange:i})]})]}),n.jsxs(Ze,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b-2 border-gray-200",children:[n.jsx("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Name"}),n.jsx("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Contact"}),n.jsx("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Location"}),n.jsx("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Registered"}),n.jsx("th",{className:"text-left p-4 font-semibold text-gray-700",children:"Last Login"})]})}),n.jsx("tbody",{children:b.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"No leads found. All registered users have booked appointments!"})}):b.map(N=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:N.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",N.id]})]}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:N.email}),n.jsx("div",{className:"text-sm text-gray-500",children:N.phone})]}),n.jsxs("td",{className:"p-4",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[N.city,", ",N.state]}),n.jsx("div",{className:"text-sm text-gray-500",children:N.pincode})]}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"text-sm text-gray-700",children:y(N.created_at)})}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"text-sm text-gray-700",children:y(N.last_login)})})]},N.id))})]})}),g>1&&n.jsx(h6,{currentPage:o,totalPages:g,startIndex:p,itemsPerPage:u,totalItems:h.length,onPageChange:c})]})]})]})},yue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("pending_approval"),[c,u]=v.useState(new Set),m=v.useCallback(async p=>{s(!0);const b=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const y=await fetch(`${we}/admin/ambulance/providers?status=${p}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch providers");const j=await y.json();r(j.providers||[])}catch(y){console.error("Error fetching providers:",y),e("Failed to fetch providers","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=async(p,b)=>{const y=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{if(!(await fetch(`${we}/admin/ambulance/providers/status`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:p,status:b})})).ok)throw new Error("Failed to update status");e(`Provider ${b==="approved"?"approved":"rejected"} successfully`,"success"),m(i)}catch(j){console.error("Error updating status:",j),e("Failed to update status","error")}},h=p=>{const b=new Set(c);b.has(p)?b.delete(p):b.add(p),u(b)},g=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ch,{className:"text-primary",size:24})," Ambulance Providers"]})}),n.jsx(Xi,{value:i,onValueChange:p=>o(p),children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"pending_approval",children:"Pending Approval"}),n.jsx(hr,{value:"approved",children:"Approved"}),n.jsx(hr,{value:"rejected",children:"Rejected"})]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsx(wt,{children:i==="pending_approval"?"Pending Requests":i==="approved"?"Approved Providers":"Rejected Providers"})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i.replace("_"," ")," providers found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Provider Info"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Ambulance No."}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Registered On"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>h(p.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),c.has(p.id)?"Hide":"Details",c.has(p.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.full_name}),n.jsx("div",{className:"text-sm text-gray-500",children:p.email}),n.jsx("div",{className:"text-sm text-gray-500",children:p.phone_number})]}),n.jsx("td",{className:"py-4 px-4 text-sm font-medium",children:p.ambulance_number}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.status==="approved"?"bg-green-100 text-green-700":p.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:p.status.replace("_"," ")})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:g(p.created_at)})]}),c.has(p.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Provider Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pn,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Address"}),n.jsx("p",{className:"text-sm",children:p.address||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wt,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Contact Info"}),n.jsx("p",{className:"font-medium",children:p.phone_number}),n.jsx("p",{className:"text-sm text-gray-500",children:p.email})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Profile Photo"}),p.profile_photo_url?n.jsx("div",{className:"w-32 h-32 rounded-lg border overflow-hidden",children:n.jsx("img",{src:p.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"})}):n.jsx("p",{className:"text-sm text-gray-500 text-italic",children:"No profile photo uploaded"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Actions"}),p.status==="pending_approval"?n.jsxs("div",{className:"flex gap-4",children:[n.jsxs(De,{className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",onClick:()=>f(p.id,"approved"),children:[n.jsx(Oo,{size:18})," Approve"]}),n.jsxs(De,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>{window.confirm("Are you sure you want to reject this provider?")&&f(p.id,"rejected")},children:[n.jsx(Tt,{size:18})," Reject"]})]}):n.jsxs("div",{className:`text-sm flex items-center gap-2 ${p.status==="approved"?"text-green-600":"text-red-600"}`,children:[p.status==="approved"?n.jsx(Oo,{size:16}):n.jsx(Tt,{size:16}),"Status: ",p.status.replace("_"," ")]})]})]})})})]},p.id))})]})})})]})]})})},bue=()=>{const{addToast:e}=Dt(),[t,r]=v.useState([]),[a,s]=v.useState(!0),[i,o]=v.useState("all"),[c,u]=v.useState(new Set),m=v.useCallback(async p=>{s(!0);const b=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token");try{const y=await fetch(`${we}/admin/ambulance/bookings?status=${p}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch bookings");const j=await y.json();r(j.bookings||[])}catch(y){console.error("Error fetching bookings:",y),e("Failed to fetch bookings","error")}finally{s(!1)}},[e]);v.useEffect(()=>{m(i)},[i,m]);const f=p=>{const b=new Set(c);b.has(p)?b.delete(p):b.add(p),u(b)},h=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",g=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-700";case"accepted":return"bg-blue-100 text-blue-700";case"completed":return"bg-green-100 text-green-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return n.jsx(It,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ch,{className:"text-primary",size:24})," Ambulance Bookings"]})}),n.jsx(Xi,{value:i,onValueChange:p=>o(p),children:n.jsxs(Yi,{children:[n.jsx(hr,{value:"all",children:"All"}),n.jsx(hr,{value:"pending",children:"Pending"}),n.jsx(hr,{value:"accepted",children:"Accepted"}),n.jsx(hr,{value:"completed",children:"Completed"}),n.jsx(hr,{value:"cancelled",children:"Cancelled"})]})}),n.jsxs(Je,{children:[n.jsx(jt,{children:n.jsxs(wt,{children:[i.charAt(0).toUpperCase()+i.slice(1)," Bookings"]})}),n.jsx(Ze,{children:a?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:["No ",i," bookings found."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b text-left text-gray-500 text-sm",children:[n.jsx("th",{className:"py-4 font-medium px-4",children:"Actions"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"ID"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Patient"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Type"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Status"}),n.jsx("th",{className:"py-4 font-medium px-4",children:"Booking Date"})]})}),n.jsx("tbody",{children:t.map(p=>n.jsxs(jr.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs(De,{variant:"outline",size:"sm",onClick:()=>f(p.id),className:"flex items-center gap-1 border-primary text-black",children:[n.jsx(yn,{size:14}),c.has(p.id)?"Hide":"View",c.has(p.id)?n.jsx(Sa,{size:14}):n.jsx(In,{size:14})]})}),n.jsxs("td",{className:"py-4 px-4 font-medium",children:["#",p.id]}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.patient_name}),n.jsx("div",{className:"text-sm text-gray-500",children:p.contact_number})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${p.booking_type==="instant"?"bg-red-50 text-red-600 border border-red-100":"bg-blue-50 text-blue-600 border border-blue-100"}`,children:p.booking_type.toUpperCase()})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(p.status)}`,children:p.status.toUpperCase()})}),n.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:h(p.created_at)})]}),c.has(p.id)&&n.jsx("tr",{className:"bg-gray-50/50",children:n.jsx("td",{colSpan:6,className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Patient & Location"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Wt,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Patient Name"}),n.jsx("p",{className:"font-medium",children:p.patient_name})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(sa,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("p",{className:"font-medium",children:p.contact_number}),p.user_name&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Booked by: ",p.user_name," (",p.user_phone,")"]})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Pn,{className:"text-primary mt-1",size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Pickup Address"}),n.jsx("p",{className:"text-sm",children:p.address})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-2",children:"Emergency Details"}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Details"}),n.jsx("p",{className:"text-sm",children:p.emergency_details})]}),p.additional_notes&&n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Notes"}),n.jsx("p",{className:"text-sm",children:p.additional_notes})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Assigned Provider"}),p.provider_id?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:n.jsx(Cu,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.provider_name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Vehicle: ",p.ambulance_number]})]})]}):n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 text-sm",children:[n.jsx($o,{size:16})," Unassigned"]})]})]})]})})})]},p.id))})]})})})]})]})})},jue=()=>{const[e,t]=v.useState([]),[r,a]=v.useState(!1),[s,i]=v.useState(!1),[o,c]=v.useState(!1),{addToast:u}=Dt(),[m,f]=v.useState(""),[h,g]=v.useState(null),[p,b]=v.useState(""),y=async()=>{a(!0);try{const k=await fetch(`${we}/specialists`);if(k.ok){const E=await k.json();t(E.specialists||[])}else throw new Error("Failed to fetch specialists")}catch(k){console.error(k),u("Failed to load specialists","error")}finally{a(!1)}};v.useEffect(()=>{y()},[]);const j=k=>{if(k.target.files&&k.target.files[0]){const E=k.target.files[0];g(E),b(URL.createObjectURL(E))}},N=async k=>{if(k.preventDefault(),!m||!h){u("Name and Image are required","error");return}c(!0);const E=new FormData;E.append("name",m),E.append("image",h);try{const C=localStorage.getItem("admin_token")||localStorage.getItem("Apricott Care_token"),D=await fetch(`${we}/admin/specialists`,{method:"POST",headers:{},body:E});if(D.ok)u("Specialist added successfully","success"),i(!1),f(""),g(null),b(""),y();else{const O=await D.json();throw new Error(O.error?.message||"Failed to add specialist")}}catch(C){u(C.message,"error")}finally{c(!1)}},_=async k=>{if(confirm("Are you sure you want to delete this specialist?"))try{if((await fetch(`${we}/admin/specialists/${k}`,{method:"DELETE"})).ok)u("Specialist deleted successfully","success"),y();else throw new Error("Failed to delete specialist")}catch(E){u(E.message,"error")}};return n.jsxs(It,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Specialists"}),n.jsx("p",{className:"text-gray-500",children:"Manage doctor specialists"})]}),n.jsxs(De,{onClick:()=>i(!0),children:[n.jsx(ia,{className:"w-4 h-4 mr-2"})," Add Specialist"]})]}),n.jsx(Je,{children:n.jsx(Ze,{className:"p-0",children:r?n.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.length===0?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"No specialists found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 text-left",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Image"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(k=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("img",{src:k.image_url,alt:k.name,className:"w-10 h-10 rounded-full object-cover bg-gray-100",onError:E=>{E.target.src="https://via.placeholder.com/40"}})}),n.jsx("td",{className:"px-6 py-4 font-medium",children:k.name}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsx("button",{onClick:()=>_(k.id),className:"text-red-500 hover:text-red-700 p-2",children:n.jsx(As,{className:"w-4 h-4"})})})]},k.id))})]})})}),s&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Add Specialist"}),n.jsx("button",{onClick:()=>i(!1),children:n.jsx(Tt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:N,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),n.jsx("input",{type:"text",value:m,onChange:k=>f(k.target.value),className:"w-full border rounded-md px-3 py-2",placeholder:"e.g. Cardiologist",required:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),n.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"w-full border rounded-md px-3 py-2",required:!0}),p&&n.jsx("img",{src:p,alt:"Preview",className:"mt-2 h-20 w-20 object-cover rounded-md"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(De,{variant:"outline",type:"button",onClick:()=>i(!1),children:"Cancel"}),n.jsx(De,{type:"submit",disabled:o,children:o?"Adding...":"Add Specialist"})]})]})]})})]})},wue=({children:e,allowedRoles:t=[]})=>{const{user:r,isAuthenticated:a,isLoading:s}=vn();if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const i=localStorage.getItem("Apricott Care_token"),o=localStorage.getItem("Apricott Care_role"),c=i&&!i.startsWith("mock_token_"),u=r?.role||o||"",m=t.length===0||t.includes(u)||o&&t.includes(o);return!a&&!c?n.jsx(hl,{to:"/",replace:!0}):c&&m&&!a&&s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!a&&c&&s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length>0&&!m?(console.log("ProtectedRoute: Role mismatch",{user:r,allowedRole:r?.role,allowedRoles:t,storedRole:o,currentPath:window.location.pathname}),u==="helping_staff"||u==="helping_staff_admin"||o==="helping_staff"?n.jsx(hl,{to:"/admin/helping-staff-panel",replace:!0}):u==="finance_admin"||o==="finance_admin"?n.jsx(hl,{to:"/admin/finance-panel",replace:!0}):n.jsx(hl,{to:"/admin/dashboard",replace:!0})):n.jsx(n.Fragment,{children:e})},_ue=()=>n.jsxs(wN,{children:[n.jsx(ft,{path:"/",element:n.jsx(yC,{})}),n.jsx(ft,{path:"/login",element:n.jsx(yC,{})}),n.jsx(ft,{path:"/admin/login",element:n.jsx(aR,{})}),n.jsx(ft,{path:"/lead-admin/login",element:n.jsx(nue,{})}),n.jsx(ft,{path:"/lead-admin/dashboard",element:n.jsx(iue,{})}),n.jsx(ft,{path:"/helping-staff/login",element:n.jsx(oue,{})}),n.jsx(ft,{path:"/financial-staff/login",element:n.jsx(lue,{})}),n.jsx(ft,{path:"/admin/*",element:n.jsx(wue,{allowedRoles:["admin","helping_staff","helping_staff_admin","finance_admin"],children:n.jsxs(wN,{children:[n.jsx(ft,{path:"/dashboard",element:n.jsx(pte,{})}),n.jsx(ft,{path:"/providers",element:n.jsx(Sre,{})}),n.jsx(ft,{path:"/doctors",element:n.jsx(eue,{})}),n.jsx(ft,{path:"/nurses",element:n.jsx(tue,{})}),n.jsx(ft,{path:"/nurse-bookings",element:n.jsx(rue,{})}),n.jsx(ft,{path:"/ambulance-bookings",element:n.jsx(bue,{})}),n.jsx(ft,{path:"/lab-service-providers",element:n.jsx(due,{})}),n.jsx(ft,{path:"/labs",element:n.jsx(fue,{})}),n.jsx(ft,{path:"/pharmacy-providers",element:n.jsx(uue,{})}),n.jsx(ft,{path:"/specialists",element:n.jsx(jue,{})}),n.jsx(ft,{path:"/ambulance-providers",element:n.jsx(yue,{})}),n.jsx(ft,{path:"/users",element:n.jsx(vde,{})}),n.jsx(ft,{path:"/lead-management",element:n.jsx(vue,{})}),n.jsx(ft,{path:"/appointments",element:n.jsx(hue,{})}),n.jsx(ft,{path:"/lab-referrals",element:n.jsx(pue,{})}),n.jsx(ft,{path:"/pharmacy-referrals",element:n.jsx(xue,{})}),n.jsx(ft,{path:"/all-reports",element:n.jsx(gue,{})}),n.jsx(ft,{path:"/categories/inventory",element:n.jsx(ph,{})}),n.jsx(ft,{path:"/categories/generic",element:n.jsx(ph,{})}),n.jsx(ft,{path:"/categories/branded",element:n.jsx(ph,{})}),n.jsx(ft,{path:"/categories",element:n.jsx(ph,{})}),n.jsx(ft,{path:"/prescriptions",element:n.jsx(Rde,{})}),n.jsx(ft,{path:"/leads",element:n.jsx(Dde,{})}),n.jsx(ft,{path:"/finance-panel",element:n.jsx(Fde,{})}),n.jsx(ft,{path:"/finance",element:n.jsx(Lde,{})}),n.jsx(ft,{path:"/helping-staff-panel/prescriptions",element:n.jsx(Ry,{})}),n.jsx(ft,{path:"/helping-staff-panel/orders",element:n.jsx(Ry,{})}),n.jsx(ft,{path:"/helping-staff-panel",element:n.jsx(Ry,{})}),n.jsx(ft,{path:"/disputes",element:n.jsx(hl,{to:"/admin/helpdesk",replace:!0})}),n.jsx(ft,{path:"/bookings",element:n.jsx(Sde,{})}),n.jsx(ft,{path:"/orders",element:n.jsx(Ade,{})}),n.jsx(ft,{path:"/transactions",element:n.jsx(Wde,{})}),n.jsx(ft,{path:"/coupons/medicine",element:n.jsx(My,{})}),n.jsx(ft,{path:"/coupons/lab-test",element:n.jsx(My,{})}),n.jsx(ft,{path:"/coupons",element:n.jsx(My,{})}),n.jsx(ft,{path:"/helpdesk",element:n.jsx(Gde,{})}),n.jsx(ft,{path:"/push-notifications",element:n.jsx(cue,{})}),n.jsx(ft,{path:"/lab-tests/bookings",element:n.jsx(vh,{})}),n.jsx(ft,{path:"/lab-tests/categories",element:n.jsx(vh,{})}),n.jsx(ft,{path:"/lab-tests/packages",element:n.jsx(vh,{})}),n.jsx(ft,{path:"/lab-tests",element:n.jsx(vh,{})}),n.jsx(ft,{path:"/site-management/blog",element:n.jsx(zy,{})}),n.jsx(ft,{path:"/site-management/banners",element:n.jsx(zy,{})}),n.jsx(ft,{path:"/site-management",element:n.jsx(zy,{})}),n.jsx(ft,{path:"/complaints",element:n.jsx(Tde,{})}),n.jsx(ft,{path:"/bills",element:n.jsx(Xde,{})}),n.jsx(ft,{path:"*",element:n.jsx(hl,{to:"/admin/dashboard",replace:!0})})]})})}),n.jsx(ft,{path:"*",element:n.jsx(hl,{to:"/",replace:!0})})]});function Nue(){return n.jsx(uL,{children:n.jsx(wL,{children:n.jsxs(_L,{children:[" ",n.jsx(_ue,{}),n.jsx(NL,{})]})})})}H8.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(Nue,{})}));
